<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_HIT-Harbin_js_main_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:HIT-Harbin/js/main.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:HIT-Harbin/js/main.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:HIT-Harbin/js/main.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:HIT-Harbin/js/main.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:HIT-Harbin/js/main.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:HIT-Harbin/js/main.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2013.igem.org</H3><P>/* =============================================================================
</P><PRE>*
* Main javascript file
*
* ============================================================================= */
</PRE><P>document.body.className += 'js-enabled'; //test if javascript is enabled
</P><P>$(document).ready(function() {
</P><PRE>   var cache = new Array();
   var isOpera = window.opera ? true : false;
</PRE><PRE>   preloadImages(&quot;&quot;, &quot;&quot; , &quot;&quot;, &quot;&quot;, 
       &quot;&quot;, &quot;&quot;, &quot;&quot;);
</PRE><PRE>   /* ------------------------------------------------------------
    * CUFON REPLACEMENT
    * ------------------------------------------------------------ */
</PRE><PRE>   Cufon.replace('#logo, ul#menu &gt; li &gt; a, ul#menu .pixel-mega-menu h4, '+
       '#content .mainarea h1:not(.nocufon), #content .mainarea h2:not(.nocufon), #content .mainarea h3:not(.nocufon), #content .mainarea h4:not(.nocufon), #content .mainarea h5:not(.nocufon), #content .mainarea h6:not(.nocufon), #footer h6,' +
       '#subheader-bar .site-description h4:not(.nocufon)'
       , {
           hover: true
       });    
</PRE><PRE>   /* ------------------------------------------------------------
    * MAIN MENU INITIALIZATION
    * ------------------------------------------------------------ */
</PRE><PRE>   var animSpeed = 400,
   animType = 1;
</PRE><PRE>   if ( window.PX_ANIMATION_SPEED ) {
       animSpeed = window.PX_ANIMATION_SPEED;
   }
   if ( window.PX_ANIMATION_TYPE ) {
       animType = window.PX_ANIMATION_TYPE;
   }
</PRE><PRE>   $('#menu').pixelMenu({
       moreText: <I>,</I>
       animationSpeed: animSpeed,
       animationType: animType
   });
</PRE><PRE>   $(&quot;#s&quot;).click(function() {
       $(&quot;#s&quot;).val(<I>);</I>
   });
</PRE><PRE>   $(&quot;#s&quot;).focusout(function() {
       if ($(&quot;#s&quot;).val() == <I> ) {</I>
           $(&quot;#s&quot;).val('Search ...');
       }
   });
   
   $(&quot;#com_name&quot;).click(function() {
       $(this).val(<I>);</I>
   });
   $(&quot;#com_name&quot;).focusout(function() {
       if ($(this).val() == <I> ) {</I>
           $(this).val('Name *');
       }
   });
   $(&quot;#com_subject&quot;).click(function() {
       $(this).val(<I>);</I>
   });
   $(&quot;#com_subject&quot;).focusout(function() {
       if ($(this).val() == <I> ) {</I>
           $(this).val('Subject *');
       }
   });
   $(&quot;#com_email&quot;).click(function() {
       $(this).val(<I>);</I>
   });
   $(&quot;#com_email&quot;).focusout(function() {
       if ($(this).val() == <I> ) {</I>
           $(this).val('Email');
       }
   });
   $(&quot;#com_message&quot;).click(function() {
       $(this).val(<I>);</I>
   });
   $(&quot;#com_message&quot;).focusout(function() {
       if ($(this).val() == <I> ) {</I>
           $(this).val('Message *');
       }
   });
   
   
   $(&quot;#contact_name&quot;).click(function() {
       $(this).val(<I>);</I>
   });
   $(&quot;#contact_name&quot;).focusout(function() {
       if ($(this).val() == <I> ) {</I>
           $(this).val('Name *');
       }
   });
   $(&quot;#contact_website&quot;).click(function() {
       $(this).val(<I>);</I>
   });
   $(&quot;#contact_website&quot;).focusout(function() {
       if ($(this).val() == <I> ) {</I>
           $(this).val('Website');
       }
   });
   $(&quot;#contact_email&quot;).click(function() {
       $(this).val(<I>);</I>
   });
   $(&quot;#contact_email&quot;).focusout(function() {
       if ($(this).val() == <I> ) {</I>
           $(this).val('Email *');
       }
   });
   $(&quot;#contact_message&quot;).click(function() {
       $(this).val(<I>);</I>
   });
   $(&quot;#contact_message&quot;).focusout(function() {
       if ($(this).val() == <I> ) {</I>
           $(this).val('Message *');
       }
   });
   
</PRE><PRE>   $('body .preload img').pixelImagePreloader();
</PRE><PRE>   /* ------------------------------------------------------------
    * NIVO SLIDER INIT
    * ------------------------------------------------------------ */
</PRE><PRE>   $('.px-slider.nivoSlider').nivoSlider({
       effect: 'random', // Specify sets like: 'fold,fade,sliceDown'
       slices: 15, // For slice animations
       boxCols: 10, // For box animations
       boxRows: 4, // For box animations
       animSpeed: 500, // Slide transition speed
       pauseTime: 60000, // How long each slide will show
       startSlide: 0, // Set starting Slide (0 index)
       directionNav: true, // Next &amp; Prev navigation
       directionNavHide: false, // Only show on hover
       controlNav: true, // 1,2,3... navigation
       controlNavThumbs: false, // Use thumbnails for Control Nav
       controlNavThumbsFromRel: false, // Use image rel for thumbs
       controlNavThumbsSearch: '.jpg', // Replace this with...
       controlNavThumbsReplace: '_thumb.jpg', // ...this in thumb Image src
       keyboardNav: true, // Use left &amp; right arrows
       pauseOnHover: true, // Stop animation while hovering
       manualAdvance: false, // Force manual transitions
       captionOpacity: 0.8, // Universal caption opacity
       prevText: 'Prev', // Prev directionNav text
       nextText: 'Next' // Next directionNav text
   });
</PRE><PRE>   // WITH THUMBNAILS
</PRE><PRE>   $('.px-slider.nivoSliderThumbs').nivoSlider({
       effect: 'random', // Specify sets like: 'fold,fade,sliceDown'
       slices: 15, // For slice animations
       boxCols: 10, // For box animations
       boxRows: 4, // For box animations
       animSpeed: 500, // Slide transition speed
       pauseTime: 60000, // How long each slide will show
       startSlide: 0, // Set starting Slide (0 index)
       directionNav: false, // Next &amp; Prev navigation
       directionNavHide: false, // Only show on hover
       controlNav: true, // 1,2,3... navigation
       controlNavThumbs: true, // Use thumbnails for Control Nav
       controlNavThumbsFromRel: true, // Use image rel for thumbs
       controlNavThumbsSearch: '.jpg', // Replace this with...
       controlNavThumbsReplace: '_thumb.jpg', // ...this in thumb Image src
       keyboardNav: true, // Use left &amp; right arrows
       pauseOnHover: true, // Stop animation while hovering
       manualAdvance: false, // Force manual transitions
       captionOpacity: 0.8, // Universal caption opacity
       prevText: 'Prev', // Prev directionNav text
       nextText: 'Next' // Next directionNav text
   });
</PRE><PRE>   /* ------------------------------------------------------------
    * ROUNDABOUT SLIDER INIT
    * ------------------------------------------------------------ */
</PRE><PRE>   $('#root .px-slider ul').roundabout({
       minOpacity: 1,
       minScale: 0.1,
       autoplay: true,
       autoplayDuration: 10000
   });
</PRE><PRE>   $('#root ul.gallery.carousel').jcarousel({
       scroll: 1,
       easing: 'easeOutCubic'
   });
</PRE><PRE>   /* ------------------------------------------------------------
    * PRETTYPHOTO INIT
    * ------------------------------------------------------------ */
</PRE><PRE>   $(&quot;a[rel^='prettyPhoto']&quot;).prettyPhoto({
       overlay_gallery: false,
       social_tools: 
   });
</PRE><PRE>   /*
    * IMAGE ROLLOVER EFFECT */
</PRE><PRE>   $('#root a.image-holder, #footer .widget.dribble-shots-widget li a, #root .nivo-controlNav a').hover(
       function() {
           $(this).find('img').stop().animate({
               opacity: 0.7
           }, 300);
       },
       function() {
           $(this).find('img').stop().animate({
               opacity: 1
           }, 300);
       }
       );
</PRE><PRE>   $('#root ul.portfolio li a.image-holder').hover(
       function() {
           $(this).find('.description').stop().animate({
               opacity: 1
           }, 200);
       },
       function() {
           $(this).find('.description').stop().animate({
               opacity: 0
           }, 200);
       }
       );
</PRE><PRE>   $('#root a.image-holder').hover(
       function() {
           var elem = $(this).find('span.image-zoom');
           var h = elem.height();
           elem.css({
               top: - h - 12 + 'px',
               height: '100%',
               display: 'block'
           }).stop().animate({
               top: '0px'
           }, 500, 'easeOutCubic');
       },
       function() {
           var elem = $(this).find('span.image-zoom');
           var h = elem.height();
           elem.stop().animate({
               top: h + 12 + 'px',
               height: '100%'
           }, 500, 'easeInCubic', function() {
               $(this).css({
                   top: '0px',
                   display: 'none'
               });
           });
       }
       );
           
           
   /* ------------------------------------------------------------
    * CONTACT FORM
    * ------------------------------------------------------------ */    
   
   $('#send-email-button').click(function(e) {
       e.preventDefault();
       $.post('email.php', {
           name: $('#contact_name').val(),
           email: $('#contact_email').val(),
           subject: $('#contact_subject').val(),
           message: $('#contact_message').val()
       }, function(data) {
</PRE>
            var response = '<DIV class="alert-box warning"><DIV class="icon"><P>'+ data +'</P></DIV></DIV>';
<PRE>           $('#email-form div.alert-box').remove();
           $('#email-form').prepend(response);
           $('#email-form div.alert-box').hide().fadeIn(500);
       })
       return false;
   });
</PRE><PRE>   /* ------------------------------------------------------------
    * IMAGE PRELOADING
    * ------------------------------------------------------------ */
</PRE><PRE>   function preloadImages() {
       var img;
       var arg = arguments.length;
       for ( i = 0; i &lt; arg ; i++ ) {
           img = document.createElement('img');
           img.src = arguments[i];
           cache.push(img);
       }
   }
</PRE><P>});
</P><P>
/* =============================================================================
</P><PRE>*
* PIXELMENU Plugin Definition - 2011
* Author: Pixelcloth
* Version: 1.3
*
* ============================================================================= */
</PRE><P>(function ($) {
</P><PRE>   // config object
</PRE><PRE>   $.fn.pixelMenu = function(params) {
</PRE><PRE>       var defaults = {
           moreText: <I>,</I>
           animationSpeed: 500,
           animationType: 1,
           delay: 0,
           menuWidth: 940
       };
</PRE><PRE>       var config = $.extend({}, defaults, params);
</PRE><PRE>       /*
            * Element filtering */
</PRE><PRE>       var allMenuElems = $(this).find('li');
       var megaMenuElems = $(this).find('.pixel-mega-menu li');
       var subMenuElems = allMenuElems.not(megaMenuElems);
       var megaSubmenus = $(this).find('.pixel-mega-menu ul.sub-menu');
</PRE><PRE>       /*
            * Adding some extra css styling to point out which menu item has children */
</PRE><PRE>       $(this).find('ul.sub-menu').not(megaSubmenus).each(function() {
</PRE><PRE>           var html = $(this).parent().find('a:first').html();
           if ( html == <I> || html == null ) {</I>
               $(this).parent().find('a:first').append('');
           } else {
               $(this).parent().find('a:first').append('');
           }
           $(this).css('display', 'none');
       });
</PRE><PRE>       /*
        * Megamenu position correction */
</PRE><PRE>       $(this).find('.pixel-mega-menu').each(function(index) {
</PRE><PRE>           var pos = $(this).parent().position();
           var menuW = $(this).parent().parent().width();
           var width = $(this).outerWidth() + 20;
           var posLeft = 960 - menuW + pos.left;
           var diff = config.menuWidth - posLeft;
</PRE><PRE>           if ( width &gt; (diff)  ) {
               var newLeft = width - diff;
</PRE><PRE>               $(this).css({
                   left: - newLeft
               })
           }
       });
</PRE><PRE>       /*
            * Hover action bind */
</PRE><PRE>       subMenuElems.hover(
</PRE><PRE>           function() {
</PRE><PRE>               var selElem = $(this).find('ul.sub-menu:first');
</PRE><PRE>               switch ( config.animationType ) {
                   case 1 :
                       selElem.css({
                           overflow: 'hidden',
                           height: 'auto',
                           display: 'none',
                           filter: 
                       })
                       /*
                       .stop().animate({
                           top: '50px'
                       }, config.animationSpeed);*/
</PRE><PRE>                       .stop().slideDown(config.animationSpeed, function() {
                           $(this).css('overflow', 'visible')
                       });
                       break;
                   case 2 :
                       selElem.css({
                           overflow: 'hidden',
                           height: 'auto',
                           display: 'none',
                           opacity: 1,
                           filter: 
                       }).stop().fadeIn(config.animationSpeed, function() {
                           $(this).css('overflow', 'visible')
                       });
                       break;
                   default:
                       break;
               }
           },
           function() {
               $(this).find('ul.sub-menu').removeAttr('style');
           }
           );
   }
</PRE><P>})(jQuery);
</P><P>/* =============================================================================
</P><PRE>*
* PIXEL IMAGE PRELOADER Plugin Definition - 2011
* Author: Pixelcloth
* Version: 1.0
*
* ============================================================================= */
</PRE><P>(function($) {
</P><PRE>   $.pixelImagePreloader = {
       defaults: {
           animSpeed: 500,
           loops: 20,
           delay: 100
       }
   };
</PRE><PRE>   $.fn.extend({
</PRE><PRE>       pixelImagePreloader: function(config) {
</PRE><PRE>           var config = $.extend($.pixelImagePreloader.defaults, config);
           var images = $(this);
           var tmpImages = images;
           var noItems = images.length;
           var loadedItems = 0;
           var incr = 0;
</PRE><PRE>           var methods = {
</PRE><PRE>               init: function() {
                   images.each(function() {
</PRE>  $(this).parent().prepend('');
<PRE>                       $(this).parent().find('span.image-zoom').css('display', 'none');
                   })
                   methods.checkImages();
               },
</PRE><PRE>               checkImages: function() {
</PRE><PRE>                   incr++;
</PRE><PRE>                   tmpImages.each(function() {
                       if ( this.complete == true ) {
                           loadedItems++;
                           tmpImages = tmpImages.not(this);
                       }
                   });
</PRE><PRE>                   if ( loadedItems == noItems ) {
                       setTimeout(methods.displayImages, 500);
                   } else if ( incr &lt;= config.loops ) {
                       setTimeout(methods.checkImages, 500);
                   }
               },
</PRE><PRE>               displayImages: function() {
</PRE><PRE>                   images.each(function(i) {
</PRE><PRE>                       //                        var delay = 100;
</PRE><PRE>                       var currentImage = $(this);
</PRE><PRE>                       $(this).parent().find('.preloading').delay(i*config.delay).fadeOut(500, function() {
                           $(this).remove();
                       });
</PRE><PRE>                       currentImage.css({
                           visibility: 'visible'
                       }).delay(i*config.delay).fadeIn(500, function() {
                           //                            $(this).parent().find('span.image-zoom').css('display', 'block');
                           });
                   });
               }
           }
</PRE><PRE>           methods.init();
</PRE><PRE>       }
   });
</PRE><P>
})(jQuery);
</P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2013.igem.org/Team:HIT-Harbin/js/main.js">http://2013.igem.org/Team:HIT-Harbin/js/main.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:HIT-Harbin/js/main.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:HIT-Harbin/js/main.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:HIT-Harbin/js/main.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:HIT-Harbin/js/main.js&amp;oldid=152925" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2013.igem.org:Privacy_policy" title="2013.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2013.igem.org:General_disclaimer" title="2013.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>