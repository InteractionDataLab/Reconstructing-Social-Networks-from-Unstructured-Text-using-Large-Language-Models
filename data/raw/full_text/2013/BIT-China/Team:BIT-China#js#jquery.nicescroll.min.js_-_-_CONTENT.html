<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_BIT-China_js_jquery_nicescroll_min_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:BIT-China/js/jquery.nicescroll.min.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:BIT-China/js/jquery.nicescroll.min.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:BIT-China/js/jquery.nicescroll.min.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:BIT-China/js/jquery.nicescroll.min.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:BIT-China/js/jquery.nicescroll.min.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:BIT-China/js/jquery.nicescroll.min.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2013.igem.org</H3><P>(function(e){var r=false,w=false,B=5E3,C=2E3,D=function(){var e=document.getElementsByTagName(&quot;script&quot;),e=e[e.length-1].src.split(&quot;?&quot;)[0];return e.split(&quot;/&quot;).length&gt;0?e.split(&quot;/&quot;).slice(0,-1).join(&quot;/&quot;)+&quot;/&quot;:&quot;&quot;}(),p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||false,q=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||
window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||false,x=false,E=function(){if(x)return x;var e=document.createElement(&quot;DIV&quot;),c={haspointerlock:&quot;pointerLockElement&quot;in document||&quot;mozPointerLockElement&quot;in document||&quot;webkitPointerLockElement&quot;in document};c.isopera=&quot;opera&quot;in window;c.isopera12=c.isopera&amp;&amp;&quot;getUserMedia&quot;in navigator;c.isie=&quot;all&quot;in document&amp;&amp;&quot;attachEvent&quot;in e&amp;&amp;!c.isopera;c.isieold=c.isie&amp;&amp;!(&quot;msInterpolationMode&quot;in e.style);c.isie7=c.isie&amp;&amp;!c.isieold&amp;&amp;(!(&quot;documentMode&quot;in
document)||document.documentMode==7);c.isie8=c.isie&amp;&amp;&quot;documentMode&quot;in document&amp;&amp;document.documentMode==8;c.isie9=c.isie&amp;&amp;&quot;performance&quot;in window&amp;&amp;document.documentMode&gt;=9;c.isie10=c.isie&amp;&amp;&quot;performance&quot;in window&amp;&amp;document.documentMode&gt;=10;c.isie9mobile=/iemobile.9/i.test(navigator.userAgent);if(c.isie9mobile)c.isie9=false;c.isie7mobile=!c.isie9mobile&amp;&amp;c.isie7&amp;&amp;/iemobile/i.test(navigator.userAgent);c.ismozilla=&quot;MozAppearance&quot;in e.style;c.iswebkit=&quot;WebkitAppearance&quot;in e.style;c.ischrome=&quot;chrome&quot;in window;
c.ischrome22=c.ischrome&amp;&amp;c.haspointerlock;c.cantouch=&quot;ontouchstart&quot;in document.documentElement||&quot;ontouchstart&quot;in window;c.hasmstouch=window.navigator.msPointerEnabled||false;c.ismac=/^mac$/i.test(navigator.platform);c.isios=c.cantouch&amp;&amp;/iphone|ipad|ipod/i.test(navigator.platform);c.isios4=c.isios&amp;&amp;!(&quot;seal&quot;in Object);c.isandroid=/android/i.test(navigator.userAgent);c.trstyle=false;c.hastransform=false;c.hastranslate3d=false;c.transitionstyle=false;c.hastransition=false;c.transitionend=false;for(var h=
[&quot;transform&quot;,&quot;msTransform&quot;,&quot;webkitTransform&quot;,&quot;MozTransform&quot;,&quot;OTransform&quot;],i=0;i&lt;h.length;i++)if(typeof e.style[h[i]]!=&quot;undefined&quot;){c.trstyle=h[i];break}c.hastransform=c.trstyle!=false;if(c.hastransform)e.style[c.trstyle]=&quot;translate3d(1px,2px,3px)&quot;,c.hastranslate3d=/translate3d/.test(e.style[c.trstyle]);c.transitionstyle=false;c.prefixstyle=&quot;&quot;;c.transitionend=false;for(var h=&quot;transition,webkitTransition,MozTransition,OTransition,OTransition,msTransition,KhtmlTransition&quot;.split(&quot;,&quot;),b=&quot;,-webkit-,-moz-,-o-,-o,-ms-,-khtml-&quot;.split(&quot;,&quot;),
n=&quot;transitionend,webkitTransitionEnd,transitionend,otransitionend,oTransitionEnd,msTransitionEnd,KhtmlTransitionEnd&quot;.split(&quot;,&quot;),i=0;i&lt;h.length;i++)if(h[i]in e.style){c.transitionstyle=h[i];c.prefixstyle=b[i];c.transitionend=n[i];break}c.hastransition=c.transitionstyle;a:{h=[&quot;-moz-grab&quot;,&quot;-webkit-grab&quot;,&quot;grab&quot;];if(c.ischrome&amp;&amp;!c.ischrome22||c.isie)h=[];for(i=0;i&lt;h.length;i++)if(b=h[i],e.style.cursor=b,e.style.cursor==b){h=b;break a}h=&quot;url(<A href="http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize" class="external free" rel="nofollow">http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize</A>&quot;}c.cursorgrabvalue=
h;c.hasmousecapture=&quot;setCapture&quot;in e;return x=c},F=function(j,c){function h(d,c,g){c=d.css(c);d=parseFloat(c);return isNaN(d)?(d=o[c]||0,g=d==3?g?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1,b.isie8&amp;&amp;d&amp;&amp;(d+=1),g?d:0):d}function i(d,c){var g=0,f=0,e=1;&quot;wheelDeltaY&quot;in d?(e=b.opt.mousescrollstep/48,g=Math.floor(d.wheelDeltaX*e),f=Math.floor(d.wheelDeltaY*e),c&amp;&amp;g==0&amp;&amp;f&amp;&amp;(g=f,f=0)):(e=d.detail?d.detail*-1:d.wheelDelta/40)&amp;&amp;(c?g=Math.floor(e*b.opt.mousescrollstep):f=Math.floor(e*
b.opt.mousescrollstep));g&amp;&amp;(b.scrollmom&amp;&amp;b.scrollmom.stop(),b.lastdeltax+=g,b.synched(&quot;mousewheelx&quot;,function(){var d=b.lastdeltax;b.lastdeltax=0;b.rail.drag||b.doScrollLeftBy(d)}));f&amp;&amp;(b.scrollmom&amp;&amp;b.scrollmom.stop(),b.lastdeltay+=f,b.synched(&quot;mousewheely&quot;,function(){var d=b.lastdeltay;b.lastdeltay=0;b.rail.drag||b.doScrollBy(d)}))}var b=this;this.version=&quot;3.1.4&quot;;this.name=&quot;nicescroll&quot;;this.me=c;this.opt={doc:e(&quot;body&quot;),win:false,zindex:9E3,cursoropacitymin:0,cursoropacitymax:1,cursorcolor:&quot;#000&quot;,
cursorwidth:&quot;5px&quot;,cursorborder:&quot;0px solid #fff&quot;,cursorborderradius:&quot;5px&quot;,scrollspeed:60,mousescrollstep:24,touchbehavior:false,hwacceleration:true,usetransition:true,boxzoom:false,dblclickzoom:true,gesturezoom:true,grabcursorenabled:true,autohidemode:true,background:&quot;&quot;,iframeautoresize:true,cursorminheight:32,preservenativescrolling:true,railoffset:false,bouncescroll:true,spacebarenabled:true,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:true,horizrailenabled:true,railalign:&quot;right&quot;,railvalign:&quot;bottom&quot;,
enabletranslate3d:true,enablemousewheel:true,enablekeyboard:true,smoothscroll:true,sensitiverail:true,enablemouselockapi:true,cursorfixedheight:false};this.opt.snapbackspeed=80;if(j)for(var n in b.opt)typeof j[n]!=&quot;undefined&quot;&amp;&amp;(b.opt[n]=j[n]);this.iddoc=(this.doc=b.opt.doc)&amp;&amp;this.doc[0]?this.doc[0].id||&quot;&quot;:&quot;&quot;;this.ispage=/BODY|HTML/.test(b.opt.win?b.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=b.opt.win!==false;this.win=b.opt.win||(this.ispage?e(window):this.doc);this.docscroll=this.ispage&amp;&amp;
!this.haswrapper?e(window):this.win;this.body=e(&quot;body&quot;);this.iframe=this.isfixed=this.viewport=false;this.isiframe=this.doc[0].nodeName==&quot;IFRAME&quot;&amp;&amp;this.win[0].nodeName==&quot;IFRAME&quot;;this.istextarea=this.win[0].nodeName==&quot;TEXTAREA&quot;;this.forcescreen=false;this.canshowonmouseevent=b.opt.autohidemode!=&quot;scroll&quot;;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=
this.onmousedown=false;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.observer=this.scrollmom=this.scrollrunning=false;do this.id=&quot;ascrail&quot;+C++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.cursorfreezed=this.cursor=this.rail=false;this.visibility=true;this.hidden=this.locked=false;this.cursoractive=true;this.nativescrollingarea=false;this.events=[];this.saved={};this.delaylist={};this.synclist=
{};this.lastdeltay=this.lastdeltax=0;this.detected=E();var f=e.extend({},this.detected);this.ishwscroll=(this.canhwscroll=f.hastransform&amp;&amp;b.opt.hwacceleration)&amp;&amp;b.haswrapper;this.istouchcapable=false;if(f.cantouch&amp;&amp;f.ischrome&amp;&amp;!f.isios&amp;&amp;!f.isandroid)this.istouchcapable=true,f.cantouch=false;if(f.cantouch&amp;&amp;f.ismozilla&amp;&amp;!f.isios)this.istouchcapable=true,f.cantouch=false;if(!b.opt.enablemouselockapi)f.hasmousecapture=false,f.haspointerlock=false;this.delayed=function(d,c,g,f){var e=b.delaylist[d],h=
(new Date).getTime();if(!f&amp;&amp;e&amp;&amp;e.tt)return false;e&amp;&amp;e.tt&amp;&amp;clearTimeout(e.tt);if(e&amp;&amp;e.last+g&gt;h&amp;&amp;!e.tt)b.delaylist[d]={last:h+g,tt:setTimeout(function(){b.delaylist[d].tt=0;c.call()},g)};else if(!e||!e.tt)b.delaylist[d]={last:h,tt:0},setTimeout(function(){c.call()},0)};this.synched=function(d,c){b.synclist[d]=c;(function(){if(!b.onsync)p(function(){b.onsync=false;for(d in b.synclist){var c=b.synclist[d];c&amp;&amp;c.call(b);b.synclist[d]=false}}),b.onsync=true})();return d};this.unsynched=function(d){b.synclist[d]&amp;&amp;
(b.synclist[d]=false)};this.css=function(d,c){for(var g in c)b.saved.css.push([d,g,d.css(g)]),d.css(g,c[g])};this.scrollTop=function(d){return typeof d==&quot;undefined&quot;?b.getScrollTop():b.setScrollTop(d)};this.scrollLeft=function(d){return typeof d==&quot;undefined&quot;?b.getScrollLeft():b.setScrollLeft(d)};BezierClass=function(b,c,g,f,e,h,i){this.st=b;this.ed=c;this.spd=g;this.p1=f||0;this.p2=e||1;this.p3=h||0;this.p4=i||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(b){return 3*
b*b*(1-b)},B3:function(b){return 3*b*(1-b)*(1-b)},B4:function(b){return(1-b)*(1-b)*(1-b)},getNow:function(){var b=1-((new Date).getTime()-this.ts)/this.spd,c=this.B2(b)+this.B3(b)+this.B4(b);return b&lt;0?this.ed:this.st+Math.round(this.df*c)},update:function(b,c){this.st=this.getNow();this.ed=b;this.spd=c;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:&quot;0px&quot;,ty:&quot;0px&quot;};f.hastranslate3d&amp;&amp;f.isios&amp;&amp;this.doc.css(&quot;-webkit-backface-visibility&quot;,
&quot;hidden&quot;);var m=function(){var d=b.doc.css(f.trstyle);return d&amp;&amp;d.substr(0,6)==&quot;matrix&quot;?d.replace(/^.*\((.*)\)$/g,&quot;$1&quot;).replace(/px/g,&quot;&quot;).split(/, +/):false};this.getScrollTop=function(d){if(!d){if(d=m())return d.length==16?-d[13]:-d[5];if(b.timerscroll&amp;&amp;b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y};this.getScrollLeft=function(d){if(!d){if(d=m())return d.length==16?-d[12]:-d[4];if(b.timerscroll&amp;&amp;b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x};
this.notifyScrollEvent=document.createEvent?function(b){var c=document.createEvent(&quot;UIEvents&quot;);c.initUIEvent(&quot;scroll&quot;,false,true,window,1);b.dispatchEvent(c)}:document.fireEvent?function(b){var c=document.createEventObject();b.fireEvent(&quot;onscroll&quot;);c.cancelBubble=true}:function(){};f.hastranslate3d&amp;&amp;b.opt.enabletranslate3d?(this.setScrollTop=function(d,c){b.doc.translate.y=d;b.doc.translate.ty=d*-1+&quot;px&quot;;b.doc.css(f.trstyle,&quot;translate3d(&quot;+b.doc.translate.tx+&quot;,&quot;+b.doc.translate.ty+&quot;,0px)&quot;);c||b.notifyScrollEvent(b.win[0])},
this.setScrollLeft=function(d,c){b.doc.translate.x=d;b.doc.translate.tx=d*-1+&quot;px&quot;;b.doc.css(f.trstyle,&quot;translate3d(&quot;+b.doc.translate.tx+&quot;,&quot;+b.doc.translate.ty+&quot;,0px)&quot;);c||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(d,c){b.doc.translate.y=d;b.doc.translate.ty=d*-1+&quot;px&quot;;b.doc.css(f.trstyle,&quot;translate(&quot;+b.doc.translate.tx+&quot;,&quot;+b.doc.translate.ty+&quot;)&quot;);c||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(d,c){b.doc.translate.x=d;b.doc.translate.tx=d*-1+&quot;px&quot;;b.doc.css(f.trstyle,
&quot;translate(&quot;+b.doc.translate.tx+&quot;,&quot;+b.doc.translate.ty+&quot;)&quot;);c||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(d){return b.docscroll.scrollTop(d)},this.getScrollLeft=function(){return b.docscroll.scrollLeft()},this.setScrollLeft=function(d){return b.docscroll.scrollLeft(d)};this.getTarget=function(b){return!b?false:b.target?b.target:b.srcElement?b.srcElement:false};this.hasParent=function(b,c){if(!b)return false;for(var g=
b.target||b.srcElement||b||false;g&amp;&amp;g.id!=c;)g=g.parentNode||false;return g!==false};var o={thin:1,medium:3,thick:5};this.getOffset=function(){if(b.isfixed)return{top:parseFloat(b.win.css(&quot;top&quot;)),left:parseFloat(b.win.css(&quot;left&quot;))};if(!b.viewport)return b.win.offset();var d=b.win.offset(),c=b.viewport.offset();return{top:d.top-c.top+b.viewport.scrollTop(),left:d.left-c.left+b.viewport.scrollLeft()}};this.updateScrollBar=function(d){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()}),b.railh&amp;&amp;
b.railh.css({width:b.win.innerWidth()});else{var c=b.getOffset(),g=c.top,f=c.left;g+=h(b.win,&quot;border-top-width&quot;,true);b.win.outerWidth();b.win.innerWidth();f+=b.rail.align?b.win.outerWidth()-h(b.win,&quot;border-right-width&quot;)-b.rail.width:h(b.win,&quot;border-left-width&quot;);var e=b.opt.railoffset;e&amp;&amp;(e.top&amp;&amp;(g+=e.top),b.rail.align&amp;&amp;e.left&amp;&amp;(f+=e.left));b.locked||b.rail.css({top:g,left:f,height:d?d.h:b.win.innerHeight()});b.zoom&amp;&amp;b.zoom.css({top:g+1,left:b.rail.align==1?f-20:f+b.rail.width+4});if(b.railh&amp;&amp;!b.locked)g=
c.top,f=c.left,d=b.railh.align?g+h(b.win,&quot;border-top-width&quot;,true)+b.win.innerHeight()-b.railh.height:g+h(b.win,&quot;border-top-width&quot;,true),f+=h(b.win,&quot;border-left-width&quot;),b.railh.css({top:d,left:f,width:b.railh.width})}};this.doRailClick=function(d,c,g){var f;!(b.rail.drag&amp;&amp;b.rail.drag.pt!=1)&amp;&amp;!b.locked&amp;&amp;!b.rail.drag&amp;&amp;(b.cancelScroll(),b.cancelEvent(d),c?(c=g?b.doScrollLeft:b.doScrollTop,f=g?(d.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(d.pageY-b.rail.offset().top-b.cursorheight/2)*
b.scrollratio.y,c(f)):(c=g?b.doScrollLeftBy:b.doScrollBy,f=g?b.scroll.x:b.scroll.y,d=g?d.pageX-b.railh.offset().left:d.pageY-b.rail.offset().top,g=g?b.view.w:b.view.h,f&gt;=d?c(g):c(-g)))};b.hasanimationframe=p;b.hascancelanimationframe=q;b.hasanimationframe?b.hascancelanimationframe||(q=function(){b.cancelAnimationFrame=true}):(p=function(b){return setTimeout(b,16)},q=clearInterval);this.init=function(){b.saved.css=[];if(f.isie7mobile)return true;f.hasmstouch&amp;&amp;b.css(b.ispage?e(&quot;html&quot;):b.win,{&quot;-ms-touch-action&quot;:&quot;none&quot;});
if(!b.ispage||!f.cantouch&amp;&amp;!f.isieold&amp;&amp;!f.isie9mobile){var d=b.docscroll;b.ispage&amp;&amp;(d=b.haswrapper?b.win:b.doc);f.isie9mobile||b.css(d,{&quot;overflow-y&quot;:&quot;hidden&quot;});b.ispage&amp;&amp;f.isie7&amp;&amp;(b.doc[0].nodeName==&quot;BODY&quot;?b.css(e(&quot;html&quot;),{&quot;overflow-y&quot;:&quot;hidden&quot;}):b.doc[0].nodeName==&quot;HTML&quot;&amp;&amp;b.css(e(&quot;body&quot;),{&quot;overflow-y&quot;:&quot;hidden&quot;}));f.isios&amp;&amp;!b.ispage&amp;&amp;!b.haswrapper&amp;&amp;b.css(e(&quot;body&quot;),{&quot;-webkit-overflow-scrolling&quot;:&quot;touch&quot;});var c=e(document.createElement(&quot;div&quot;));c.css({position:&quot;relative&quot;,top:0,&quot;float&quot;:&quot;right&quot;,width:b.opt.cursorwidth,
height:&quot;0px&quot;,&quot;background-color&quot;:b.opt.cursorcolor,border:b.opt.cursorborder,&quot;background-clip&quot;:&quot;padding-box&quot;,&quot;-webkit-border-radius&quot;:b.opt.cursorborderradius,&quot;-moz-border-radius&quot;:b.opt.cursorborderradius,&quot;border-radius&quot;:b.opt.cursorborderradius});c.hborder=parseFloat(c.outerHeight()-c.innerHeight());b.cursor=c;var g=e(document.createElement(&quot;div&quot;));g.attr(&quot;id&quot;,b.id);var h,i,j=[&quot;left&quot;,&quot;right&quot;],y;for(y in j)i=j[y],(h=b.opt.railpadding[i])?g.css(&quot;padding-&quot;+i,h+&quot;px&quot;):b.opt.railpadding[i]=0;g.append(c);
g.width=Math.max(parseFloat(b.opt.cursorwidth),c.outerWidth())+b.opt.railpadding.left+b.opt.railpadding.right;g.css({width:g.width+&quot;px&quot;,zIndex:b.ispage?b.opt.zindex:b.opt.zindex+2,background:b.opt.background});g.visibility=true;g.scrollable=true;g.align=b.opt.railalign==&quot;left&quot;?0:1;b.rail=g;c=b.rail.drag=false;if(b.opt.boxzoom&amp;&amp;!b.ispage&amp;&amp;!f.isieold&amp;&amp;(c=document.createElement(&quot;div&quot;),b.bind(c,&quot;click&quot;,b.doZoom),b.zoom=e(c),b.zoom.css({cursor:&quot;pointer&quot;,&quot;z-index&quot;:b.opt.zindex,backgroundImage:&quot;url(&quot;+D+
&quot;zoomico.png)&quot;,height:18,width:18,backgroundPosition:&quot;0px 0px&quot;}),b.opt.dblclickzoom&amp;&amp;b.bind(b.win,&quot;dblclick&quot;,b.doZoom),f.cantouch&amp;&amp;b.opt.gesturezoom))b.ongesturezoom=function(d){d.scale&gt;1.5&amp;&amp;b.doZoomIn(d);d.scale&lt;0.8&amp;&amp;b.doZoomOut(d);return b.cancelEvent(d)},b.bind(b.win,&quot;gestureend&quot;,b.ongesturezoom);b.railh=false;if(b.opt.horizrailenabled){b.css(d,{&quot;overflow-x&quot;:&quot;hidden&quot;});c=e(document.createElement(&quot;div&quot;));c.css({position:&quot;relative&quot;,top:0,height:b.opt.cursorwidth,width:&quot;0px&quot;,&quot;background-color&quot;:b.opt.cursorcolor,
border:b.opt.cursorborder,&quot;background-clip&quot;:&quot;padding-box&quot;,&quot;-webkit-border-radius&quot;:b.opt.cursorborderradius,&quot;-moz-border-radius&quot;:b.opt.cursorborderradius,&quot;border-radius&quot;:b.opt.cursorborderradius});c.wborder=parseFloat(c.outerWidth()-c.innerWidth());b.cursorh=c;var k=e(document.createElement(&quot;div&quot;));k.attr(&quot;id&quot;,b.id+&quot;-hr&quot;);k.height=1+Math.max(parseFloat(b.opt.cursorwidth),c.outerHeight());k.css({height:k.height+&quot;px&quot;,zIndex:b.ispage?b.opt.zindex:b.opt.zindex+2,background:b.opt.background});k.append(c);
k.visibility=true;k.scrollable=true;k.align=b.opt.railvalign==&quot;top&quot;?0:1;b.railh=k;b.railh.drag=false}if(b.ispage)g.css({position:&quot;fixed&quot;,top:&quot;0px&quot;,height:&quot;100%&quot;}),g.align?g.css({right:&quot;0px&quot;}):g.css({left:&quot;0px&quot;}),b.body.append(g),b.railh&amp;&amp;(k.css({position:&quot;fixed&quot;,left:&quot;0px&quot;,width:&quot;100%&quot;}),k.align?k.css({bottom:&quot;0px&quot;}):k.css({top:&quot;0px&quot;}),b.body.append(k));else{if(b.ishwscroll)b.win.css(&quot;position&quot;)==&quot;static&quot;&amp;&amp;b.css(b.win,{position:&quot;relative&quot;}),d=b.win[0].nodeName==&quot;HTML&quot;?b.body:b.win,b.zoom&amp;&amp;(b.zoom.css({position:&quot;absolute&quot;,
top:1,right:0,&quot;margin-right&quot;:g.width+4}),d.append(b.zoom)),g.css({position:&quot;absolute&quot;,top:0}),g.align?g.css({right:0}):g.css({left:0}),d.append(g),k&amp;&amp;(k.css({position:&quot;absolute&quot;,left:0,bottom:0}),k.align?k.css({bottom:0}):k.css({top:0}),d.append(k));else{b.isfixed=b.win.css(&quot;position&quot;)==&quot;fixed&quot;;d=b.isfixed?&quot;fixed&quot;:&quot;absolute&quot;;if(!b.isfixed)b.viewport=b.getViewport(b.win[0]);if(b.viewport)b.body=b.viewport;g.css({position:d});b.zoom&amp;&amp;b.zoom.css({position:d});b.updateScrollBar();b.body.append(g);b.zoom&amp;&amp;
b.body.append(b.zoom);b.railh&amp;&amp;(k.css({position:d}),b.body.append(k))}f.isios&amp;&amp;b.css(b.win,{&quot;-webkit-tap-highlight-color&quot;:&quot;rgba(0,0,0,0)&quot;,&quot;-webkit-touch-callout&quot;:&quot;none&quot;});f.isie&amp;&amp;b.opt.disableoutline&amp;&amp;b.win.attr(&quot;hideFocus&quot;,&quot;true&quot;);f.iswebkit&amp;&amp;b.opt.disableoutline&amp;&amp;b.win.css({outline:&quot;none&quot;})}if(b.opt.autohidemode===false)b.autohidedom=false,b.rail.css({opacity:b.opt.cursoropacitymax}),b.railh&amp;&amp;b.railh.css({opacity:b.opt.cursoropacitymax});else if(b.opt.autohidemode===true){if(b.autohidedom=e().add(b.rail),
b.railh)b.autohidedom=b.autohidedom.add(b.railh)}else if(b.opt.autohidemode==&quot;scroll&quot;){if(b.autohidedom=e().add(b.rail),b.railh)b.autohidedom=b.autohidedom.add(b.railh)}else if(b.opt.autohidemode==&quot;cursor&quot;){if(b.autohidedom=e().add(b.cursor),b.railh)b.autohidedom=b.autohidedom.add(b.railh.cursor)}else if(b.opt.autohidemode==&quot;hidden&quot;)b.autohidedom=false,b.hide(),b.locked=false;if(f.isie9mobile)b.scrollmom=new z(b),b.onmangotouch=function(){var d=b.getScrollTop(),c=b.getScrollLeft();if(d==b.scrollmom.lastscrolly&amp;&amp;
c==b.scrollmom.lastscrollx)return true;var g=d-b.mangotouch.sy,l=c-b.mangotouch.sx;if(Math.round(Math.sqrt(Math.pow(l,2)+Math.pow(g,2)))!=0){var f=g&lt;0?-1:1,e=l&lt;0?-1:1,h=+new Date;b.mangotouch.lazy&amp;&amp;clearTimeout(b.mangotouch.lazy);if(h-b.mangotouch.tm&gt;80||b.mangotouch.dry!=f||b.mangotouch.drx!=e)b.scrollmom.stop(),b.scrollmom.reset(c,d),b.mangotouch.sy=d,b.mangotouch.ly=d,b.mangotouch.sx=c,b.mangotouch.lx=c,b.mangotouch.dry=f,b.mangotouch.drx=e,b.mangotouch.tm=h;else if(b.scrollmom.stop(),b.scrollmom.update(b.mangotouch.sx-
l,b.mangotouch.sy-g),b.mangotouch.tm=h,g=Math.max(Math.abs(b.mangotouch.ly-d),Math.abs(b.mangotouch.lx-c)),b.mangotouch.ly=d,b.mangotouch.lx=c,g&gt;2)b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=false;b.mangotouch.dry=0;b.mangotouch.drx=0;b.mangotouch.tm=0;b.scrollmom.doMomentum(30)},100)}},g=b.getScrollTop(),k=b.getScrollLeft(),b.mangotouch={sy:g,ly:g,dry:0,sx:k,lx:k,drx:0,lazy:false,tm:0},b.bind(b.docscroll,&quot;scroll&quot;,b.onmangotouch);else{if(f.cantouch||b.istouchcapable||b.opt.touchbehavior||
f.hasmstouch){b.scrollmom=new z(b);b.ontouchstart=function(d){if(d.pointerType&amp;&amp;d.pointerType!=2)return false;if(!b.locked){if(f.hasmstouch)for(var c=d.target?d.target:false;c;){var g=e(c).getNiceScroll();if(g.length&gt;0&amp;&amp;g[0].me==b.me)break;if(g.length&gt;0)return false;if(c.nodeName==&quot;DIV&quot;&amp;&amp;c.id==b.id)break;c=c.parentNode?c.parentNode:false}b.cancelScroll();if((c=b.getTarget(d))&amp;&amp;/INPUT/i.test(c.nodeName)&amp;&amp;/range/i.test(c.type))return b.stopPropagation(d);if(!(&quot;clientX&quot;in d)&amp;&amp;&quot;changedTouches&quot;in d)d.clientX=
d.changedTouches[0].clientX,d.clientY=d.changedTouches[0].clientY;if(b.forcescreen)g=d,d={original:d.original?d.original:d},d.clientX=g.screenX,d.clientY=g.screenY;b.rail.drag={x:d.clientX,y:d.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2};b.opt.touchbehavior&amp;&amp;b.isiframe&amp;&amp;f.isie&amp;&amp;(g=b.win.position(),b.rail.drag.x+=g.left,b.rail.drag.y+=g.top);b.hasmoving=false;b.lastmouseup=false;b.scrollmom.reset(d.clientX,d.clientY);if(!f.cantouch&amp;&amp;!this.istouchcapable&amp;&amp;!f.hasmstouch){if(!c||
!/INPUT|SELECT|TEXTAREA/i.test(c.nodeName))return!b.ispage&amp;&amp;f.hasmousecapture&amp;&amp;c.setCapture(),b.cancelEvent(d);if(/SUBMIT|CANCEL|BUTTON/i.test(e(c).attr(&quot;type&quot;)))pc={tg:c,click:false},b.preventclick=pc}}};b.ontouchend=function(d){if(d.pointerType&amp;&amp;d.pointerType!=2)return false;if(b.rail.drag&amp;&amp;b.rail.drag.pt==2&amp;&amp;(b.scrollmom.doMomentum(),b.rail.drag=false,b.hasmoving&amp;&amp;(b.hasmoving=false,b.lastmouseup=true,b.hideCursor(),f.hasmousecapture&amp;&amp;document.releaseCapture(),!f.cantouch)))return b.cancelEvent(d)};
var n=b.opt.touchbehavior&amp;&amp;b.isiframe&amp;&amp;!f.hasmousecapture;b.ontouchmove=function(d,c){if(d.pointerType&amp;&amp;d.pointerType!=2)return false;if(b.rail.drag&amp;&amp;b.rail.drag.pt==2){if(f.cantouch&amp;&amp;typeof d.original==&quot;undefined&quot;)return true;b.hasmoving=true;if(b.preventclick&amp;&amp;!b.preventclick.click)b.preventclick.click=b.preventclick.tg.onclick||false,b.preventclick.tg.onclick=b.onpreventclick;d=e.extend({original:d},d);if(&quot;changedTouches&quot;in d)d.clientX=d.changedTouches[0].clientX,d.clientY=d.changedTouches[0].clientY;
if(b.forcescreen){var g=d,d={original:d.original?d.original:d};d.clientX=g.screenX;d.clientY=g.screenY}g=ofy=0;if(n&amp;&amp;!c){var l=b.win.position(),g=-l.left;ofy=-l.top}var h=d.clientY+ofy,i=b.rail.drag.st-(h-b.rail.drag.y);if(b.ishwscroll&amp;&amp;b.opt.bouncescroll)i&lt;0?i=Math.round(i/2):i&gt;b.page.maxh&amp;&amp;(i=b.page.maxh+Math.round((i-b.page.maxh)/2));else if(i&lt;0&amp;&amp;(h=i=0),i&gt;b.page.maxh)i=b.page.maxh,h=0;var s=d.clientX+g;if(b.railh&amp;&amp;b.railh.scrollable){var j=b.rail.drag.sl-(s-b.rail.drag.x);if(b.ishwscroll&amp;&amp;b.opt.bouncescroll)j&lt;
0?j=Math.round(j/2):j&gt;b.page.maxw&amp;&amp;(j=b.page.maxw+Math.round((j-b.page.maxw)/2));else if(j&lt;0&amp;&amp;(s=j=0),j&gt;b.page.maxw)j=b.page.maxw,s=0}b.synched(&quot;touchmove&quot;,function(){b.rail.drag&amp;&amp;b.rail.drag.pt==2&amp;&amp;(b.prepareTransition&amp;&amp;b.prepareTransition(0),b.rail.scrollable&amp;&amp;b.setScrollTop(i),b.scrollmom.update(s,h),b.railh&amp;&amp;b.railh.scrollable?(b.setScrollLeft(j),b.showCursor(i,j)):b.showCursor(i),f.isie10&amp;&amp;document.selection.clear())});if(!f.ischrome&amp;&amp;!b.istouchcapable)return b.cancelEvent(d)}}}f.cantouch||b.opt.touchbehavior?
(b.onpreventclick=function(d){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=false,b.cancelEvent(d)},b.onmousedown=b.ontouchstart,b.onmouseup=b.ontouchend,b.onclick=f.isios?false:function(d){return b.lastmouseup?(b.lastmouseup=false,b.cancelEvent(d)):true},b.onmousemove=b.ontouchmove,f.cursorgrabvalue&amp;&amp;(b.css(b.ispage?b.doc:b.win,{cursor:f.cursorgrabvalue}),b.css(b.rail,{cursor:f.cursorgrabvalue}))):(b.onmousedown=function(d,c){if(!(b.rail.drag&amp;&amp;b.rail.drag.pt!=
1)){if(b.locked)return b.cancelEvent(d);b.cancelScroll();b.rail.drag={x:d.clientX,y:d.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:!!c};var g=b.getTarget(d);!b.ispage&amp;&amp;f.hasmousecapture&amp;&amp;g.setCapture();if(b.isiframe&amp;&amp;!f.hasmousecapture)b.saved.csspointerevents=b.doc.css(&quot;pointer-events&quot;),b.css(b.doc,{&quot;pointer-events&quot;:&quot;none&quot;});return b.cancelEvent(d)}},b.onmouseup=function(d){if(b.rail.drag&amp;&amp;(f.hasmousecapture&amp;&amp;document.releaseCapture(),b.isiframe&amp;&amp;!f.hasmousecapture&amp;&amp;b.doc.css(&quot;pointer-events&quot;,b.saved.csspointerevents),
b.rail.drag.pt==1))return b.rail.drag=false,b.cancelEvent(d)},b.onmousemove=function(d){if(b.rail.drag){if(b.rail.drag.pt==1){if(f.ischrome&amp;&amp;d.which==0)return b.onmouseup(d);b.cursorfreezed=true;if(b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(d.clientX-b.rail.drag.x);if(b.scroll.x&lt;0)b.scroll.x=0;var c=b.scrollvaluemaxw;if(b.scroll.x&gt;c)b.scroll.x=c}else{b.scroll.y=b.rail.drag.sy+(d.clientY-b.rail.drag.y);if(b.scroll.y&lt;0)b.scroll.y=0;c=b.scrollvaluemax;if(b.scroll.y&gt;c)b.scroll.y=c}b.synched(&quot;mousemove&quot;,
function(){b.rail.drag&amp;&amp;b.rail.drag.pt==1&amp;&amp;(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x)):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y)))});return b.cancelEvent(d)}}else b.checkarea=true});(f.cantouch||b.opt.touchbehavior)&amp;&amp;b.bind(b.win,&quot;mousedown&quot;,b.onmousedown);f.hasmstouch&amp;&amp;(b.css(b.rail,{&quot;-ms-touch-action&quot;:&quot;none&quot;}),b.css(b.cursor,{&quot;-ms-touch-action&quot;:&quot;none&quot;}),b.bind(b.win,&quot;MSPointerDown&quot;,b.ontouchstart),b.bind(document,&quot;MSPointerUp&quot;,b.ontouchend),b.bind(document,
&quot;MSPointerMove&quot;,b.ontouchmove),b.bind(b.cursor,&quot;MSGestureHold&quot;,function(b){b.preventDefault()}),b.bind(b.cursor,&quot;contextmenu&quot;,function(b){b.preventDefault()}));this.istouchcapable&amp;&amp;(b.bind(b.win,&quot;touchstart&quot;,b.ontouchstart),b.bind(document,&quot;touchend&quot;,b.ontouchend),b.bind(document,&quot;touchcancel&quot;,b.ontouchend),b.bind(document,&quot;touchmove&quot;,b.ontouchmove));b.bind(b.cursor,&quot;mousedown&quot;,b.onmousedown);b.bind(b.cursor,&quot;mouseup&quot;,b.onmouseup);b.railh&amp;&amp;(b.bind(b.cursorh,&quot;mousedown&quot;,function(d){b.onmousedown(d,
true)}),b.bind(b.cursorh,&quot;mouseup&quot;,function(d){if(!(b.rail.drag&amp;&amp;b.rail.drag.pt==2))return b.rail.drag=false,b.hasmoving=false,b.hideCursor(),f.hasmousecapture&amp;&amp;document.releaseCapture(),b.cancelEvent(d)}));b.bind(document,&quot;mouseup&quot;,b.onmouseup);f.hasmousecapture&amp;&amp;b.bind(b.win,&quot;mouseup&quot;,b.onmouseup);b.bind(document,&quot;mousemove&quot;,b.onmousemove);b.onclick&amp;&amp;b.bind(document,&quot;click&quot;,b.onclick);!f.cantouch&amp;&amp;!b.opt.touchbehavior&amp;&amp;(b.jqbind(b.rail,&quot;mouseenter&quot;,function(){b.canshowonmouseevent&amp;&amp;b.showCursor();
b.rail.active=true}),b.jqbind(b.rail,&quot;mouseleave&quot;,function(){b.rail.active=false;b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&amp;&amp;(b.bind(b.rail,&quot;click&quot;,function(d){b.doRailClick(d,false,false)}),b.bind(b.rail,&quot;dblclick&quot;,function(d){b.doRailClick(d,true,false)}),b.bind(b.cursor,&quot;click&quot;,function(d){b.cancelEvent(d)}),b.bind(b.cursor,&quot;dblclick&quot;,function(d){b.cancelEvent(d)})),b.railh&amp;&amp;(b.jqbind(b.railh,&quot;mouseenter&quot;,function(){b.canshowonmouseevent&amp;&amp;b.showCursor();b.rail.active=true}),b.jqbind(b.railh,
&quot;mouseleave&quot;,function(){b.rail.active=false;b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&amp;&amp;(b.bind(b.railh,&quot;click&quot;,function(d){b.doRailClick(d,false,true)}),b.bind(b.railh,&quot;dblclick&quot;,function(d){b.doRailClick(d,true,true)}),b.bind(b.cursorh,&quot;click&quot;,function(d){b.cancelEvent(d)}),b.bind(b.cursorh,&quot;dblclick&quot;,function(d){b.cancelEvent(d)}))),b.zoom&amp;&amp;(b.jqbind(b.zoom,&quot;mouseenter&quot;,function(){b.canshowonmouseevent&amp;&amp;b.showCursor();b.rail.active=true}),b.jqbind(b.zoom,&quot;mouseleave&quot;,function(){b.rail.active=
false;b.rail.drag||b.hideCursor()})));b.opt.enablemousewheel&amp;&amp;(b.isiframe||b.bind(f.isie&amp;&amp;b.ispage?document:b.docscroll,&quot;mousewheel&quot;,b.onmousewheel),b.bind(b.rail,&quot;mousewheel&quot;,b.onmousewheel),b.railh&amp;&amp;b.bind(b.railh,&quot;mousewheel&quot;,b.onmousewheelhr));!b.ispage&amp;&amp;!f.cantouch&amp;&amp;!/HTML|BODY/.test(b.win[0].nodeName)&amp;&amp;(b.win.attr(&quot;tabindex&quot;)||b.win.attr({tabindex:B++}),b.jqbind(b.win,&quot;focus&quot;,function(d){r=b.getTarget(d).id||true;b.hasfocus=true;b.canshowonmouseevent&amp;&amp;b.noticeCursor()}),b.jqbind(b.win,&quot;blur&quot;,
function(){r=false;b.hasfocus=false}),b.jqbind(b.win,&quot;mouseenter&quot;,function(d){w=b.getTarget(d).id||true;b.hasmousefocus=true;b.canshowonmouseevent&amp;&amp;b.noticeCursor()}),b.jqbind(b.win,&quot;mouseleave&quot;,function(){w=false;b.hasmousefocus=false}))}b.onkeypress=function(d){if(b.locked&amp;&amp;b.page.maxh==0)return true;var d=d?d:window.e,c=b.getTarget(d);if(c&amp;&amp;/INPUT|TEXTAREA|SELECT|OPTION/.test(c.nodeName)&amp;&amp;(!c.getAttribute(&quot;type&quot;)&amp;&amp;!c.type||!/submit|button|cancel/i.tp))return true;if(b.hasfocus||b.hasmousefocus&amp;&amp;
!r||b.ispage&amp;&amp;!r&amp;&amp;!w){c=d.keyCode;if(b.locked&amp;&amp;c!=27)return b.cancelEvent(d);var g=d.ctrlKey||false,l=d.shiftKey||false,f=false;switch(c){case 38:case 63233:b.doScrollBy(72);f=true;break;case 40:case 63235:b.doScrollBy(-72);f=true;break;case 37:case 63232:b.railh&amp;&amp;(g?b.doScrollLeft(0):b.doScrollLeftBy(72),f=true);break;case 39:case 63234:b.railh&amp;&amp;(g?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),f=true);break;case 33:case 63276:b.doScrollBy(b.view.h);f=true;break;case 34:case 63277:b.doScrollBy(-b.view.h);
f=true;break;case 36:case 63273:b.railh&amp;&amp;g?b.doScrollPos(0,0):b.doScrollTo(0);f=true;break;case 35:case 63275:b.railh&amp;&amp;g?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh);f=true;break;case 32:b.opt.spacebarenabled&amp;&amp;(l?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),f=true);break;case 27:b.zoomactive&amp;&amp;(b.doZoom(),f=true)}if(f)return b.cancelEvent(d)}};b.opt.enablekeyboard&amp;&amp;b.bind(document,f.isopera&amp;&amp;!f.isopera12?&quot;keypress&quot;:&quot;keydown&quot;,b.onkeypress);b.bind(window,&quot;resize&quot;,b.resize);b.bind(window,
&quot;orientationchange&quot;,b.resize);b.bind(window,&quot;load&quot;,b.resize);if(f.ischrome&amp;&amp;!b.ispage&amp;&amp;!b.haswrapper){var m=b.win.attr(&quot;style&quot;),g=parseFloat(b.win.css(&quot;width&quot;))+1;b.win.css(&quot;width&quot;,g);b.synched(&quot;chromefix&quot;,function(){b.win.attr(&quot;style&quot;,m)})}b.onAttributeChange=function(){b.lazyResize()};if(!b.ispage&amp;&amp;!b.haswrapper)&quot;WebKitMutationObserver&quot;in window?(b.observer=new WebKitMutationObserver(function(d){d.forEach(b.onAttributeChange)}),b.observer.observe(b.win[0],{attributes:true,subtree:false})):(b.bind(b.win,
f.isie&amp;&amp;!f.isie9?&quot;propertychange&quot;:&quot;DOMAttrModified&quot;,b.onAttributeChange),f.isie9&amp;&amp;b.win[0].attachEvent(&quot;onpropertychange&quot;,b.onAttributeChange));!b.ispage&amp;&amp;b.opt.boxzoom&amp;&amp;b.bind(window,&quot;resize&quot;,b.resizeZoom);b.istextarea&amp;&amp;b.bind(b.win,&quot;mouseup&quot;,b.resize);b.resize()}if(this.doc[0].nodeName==&quot;IFRAME&quot;){var A=function(){b.iframexd=false;try{var d=&quot;contentDocument&quot;in this?this.contentDocument:this.contentWindow.document}catch(c){b.iframexd=true,d=false}if(b.iframexd)return&quot;console&quot;in window&amp;&amp;console.log(&quot;NiceScroll error: policy restriced iframe&quot;),
true;b.forcescreen=true;if(b.isiframe)b.iframe={doc:e(d),html:b.doc.contents().find(&quot;html&quot;)[0],body:b.doc.contents().find(&quot;body&quot;)[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=e(b.iframe.body);if(!f.isios&amp;&amp;b.opt.iframeautoresize&amp;&amp;!b.isiframe){b.win.scrollTop(0);b.doc.height(&quot;&quot;);var g=Math.max(d.getElementsByTagName(&quot;html&quot;)[0].scrollHeight,d.body.scrollHeight);b.doc.height(g)}b.resize();
f.isie7&amp;&amp;b.css(e(b.iframe.html),{&quot;overflow-y&quot;:&quot;hidden&quot;});b.css(e(b.iframe.body),{&quot;overflow-y&quot;:&quot;hidden&quot;});&quot;contentWindow&quot;in this?b.bind(this.contentWindow,&quot;scroll&quot;,b.onscroll):b.bind(d,&quot;scroll&quot;,b.onscroll);b.opt.enablemousewheel&amp;&amp;b.bind(d,&quot;mousewheel&quot;,b.onmousewheel);b.opt.enablekeyboard&amp;&amp;b.bind(d,f.isopera?&quot;keypress&quot;:&quot;keydown&quot;,b.onkeypress);if(f.cantouch||b.opt.touchbehavior)b.bind(d,&quot;mousedown&quot;,b.onmousedown),b.bind(d,&quot;mousemove&quot;,function(d){b.onmousemove(d,true)}),f.cursorgrabvalue&amp;&amp;b.css(e(d.body),
{cursor:f.cursorgrabvalue});b.bind(d,&quot;mouseup&quot;,b.onmouseup);b.zoom&amp;&amp;(b.opt.dblclickzoom&amp;&amp;b.bind(d,&quot;dblclick&quot;,b.doZoom),b.ongesturezoom&amp;&amp;b.bind(d,&quot;gestureend&quot;,b.ongesturezoom))};this.doc[0].readyState&amp;&amp;this.doc[0].readyState==&quot;complete&quot;&amp;&amp;setTimeout(function(){A.call(b.doc[0],false)},500);b.bind(this.doc,&quot;load&quot;,A)}};this.showCursor=function(d,c){if(b.cursortimeout)clearTimeout(b.cursortimeout),b.cursortimeout=0;if(b.rail){if(b.autohidedom)b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax}),b.cursoractive=
true;if(typeof d!=&quot;undefined&quot;&amp;&amp;d!==false)b.scroll.y=Math.round(d*1/b.scrollratio.y);if(typeof c!=&quot;undefined&quot;)b.scroll.x=Math.round(c*1/b.scrollratio.x);b.cursor.css({height:b.cursorheight,top:b.scroll.y});if(b.cursorh)!b.rail.align&amp;&amp;b.rail.visibility?b.cursorh.css({width:b.cursorwidth,left:b.scroll.x+b.rail.width}):b.cursorh.css({width:b.cursorwidth,left:b.scroll.x}),b.cursoractive=true;b.zoom&amp;&amp;b.zoom.stop().css({opacity:b.opt.cursoropacitymax})}};this.hideCursor=function(d){if(!b.cursortimeout&amp;&amp;
b.rail&amp;&amp;b.autohidedom)b.cursortimeout=setTimeout(function(){if(!b.rail.active||!b.showonmouseevent)b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),b.zoom&amp;&amp;b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}),b.cursoractive=false;b.cursortimeout=0},d||400)};this.noticeCursor=function(d,c,g){b.showCursor(c,g);b.rail.active||b.hideCursor(d)};this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,
document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css(&quot;paddingLeft&quot;))+parseInt(b.win.css(&quot;paddingRight&quot;)),h:b.doc.outerHeight()+parseInt(b.win.css(&quot;paddingTop&quot;))+parseInt(b.win.css(&quot;paddingBottom&quot;))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}};this.onResize=function(d,c){if(!b.win)return false;if(!b.haswrapper&amp;&amp;!b.ispage)if(b.win.css(&quot;display&quot;)==&quot;none&quot;)return b.visibility&amp;&amp;b.hideRail().hideRailHr(),false;
else!b.hidden&amp;&amp;!b.visibility&amp;&amp;b.showRail().showRailHr();var g=b.page.maxh,f=b.page.maxw,e=b.view.w;b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)};b.page=c?c:b.getContentSize();b.page.maxh=Math.max(0,b.page.h-b.view.h);b.page.maxw=Math.max(0,b.page.w-b.view.w);if(b.page.maxh==g&amp;&amp;b.page.maxw==f&amp;&amp;b.view.w==e)if(b.ispage)return b;else{g=b.win.offset();if(b.lastposition&amp;&amp;(f=b.lastposition,f.top==g.top&amp;&amp;f.left==g.left))return b;
b.lastposition=g}b.page.maxh==0?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail.scrollable=false):b.rail.scrollable=true;b.page.maxw==0?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh.scrollable=false):b.railh.scrollable=true;b.locked=b.page.maxh==0&amp;&amp;b.page.maxw==0;if(b.locked)return b.ispage||b.updateScrollBar(b.view),false;!b.hidden&amp;&amp;!b.visibility?b.showRail().showRailHr():!b.hidden&amp;&amp;
!b.railh.visibility&amp;&amp;b.showRailHr();b.istextarea&amp;&amp;b.win.css(&quot;resize&quot;)&amp;&amp;b.win.css(&quot;resize&quot;)!=&quot;none&quot;&amp;&amp;(b.view.h-=20);b.ispage||b.updateScrollBar(b.view);b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h)));b.cursorheight=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorheight);b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w*(b.view.w/b.page.w)));b.cursorwidth=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,
b.cursorwidth);b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder;if(b.railh)b.railh.width=b.page.maxh&gt;0?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-b.cursorh.wborder;b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax};b.getScrollTop()&gt;b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)),b.cursoractive&amp;&amp;b.noticeCursor());b.scroll.y&amp;&amp;
b.getScrollTop()==0&amp;&amp;b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y));return b};this.resize=function(){b.delayed(&quot;resize&quot;,b.onResize,30);return b};this.lazyResize=function(){b.delayed(&quot;resize&quot;,b.resize,250)};this._bind=function(d,c,g,f){b.events.push({e:d,n:c,f:g,b:f,q:false});d.addEventListener?d.addEventListener(c,g,f||false):d.attachEvent?d.attachEvent(&quot;on&quot;+c,g):d[&quot;on&quot;+c]=g};this.jqbind=function(d,c,g){b.events.push({e:d,n:c,f:g,q:true});e(d).bind(c,g)};this.bind=function(d,c,g,e){var h=&quot;jquery&quot;in
d?d[0]:d;h.addEventListener?(f.cantouch&amp;&amp;/mouseup|mousedown|mousemove/.test(c)&amp;&amp;b._bind(h,c==&quot;mousedown&quot;?&quot;touchstart&quot;:c==&quot;mouseup&quot;?&quot;touchend&quot;:&quot;touchmove&quot;,function(b){if(b.touches){if(b.touches.length&lt;2){var d=b.touches.length?b.touches[0]:b;d.original=b;g.call(this,d)}}else if(b.changedTouches)d=b.changedTouches[0],d.original=b,g.call(this,d)},e||false),b._bind(h,c,g,e||false),c==&quot;mousewheel&quot;&amp;&amp;b._bind(h,&quot;DOMMouseScroll&quot;,g,e||false),f.cantouch&amp;&amp;c==&quot;mouseup&quot;&amp;&amp;b._bind(h,&quot;touchcancel&quot;,g,e||false)):b._bind(h,
c,function(d){if((d=d||window.event||false)&amp;&amp;d.srcElement)d.target=d.srcElement;return g.call(h,d)===false||e===false?b.cancelEvent(d):true})};this._unbind=function(b,c,g,f){b.removeEventListener?b.removeEventListener(c,g,f):b.detachEvent?b.detachEvent(&quot;on&quot;+c,g):b[&quot;on&quot;+c]=false};this.unbindAll=function(){for(var d=0;d&lt;b.events.length;d++){var c=b.events[d];c.q?c.e.unbind(c.n,c.f):b._unbind(c.e,c.n,c.f,c.b)}};this.cancelEvent=function(b){b=b.original?b.original:b?b:window.event||false;if(!b)return false;
b.preventDefault&amp;&amp;b.preventDefault();b.stopPropagation&amp;&amp;b.stopPropagation();b.preventManipulation&amp;&amp;b.preventManipulation();b.cancelBubble=true;b.cancel=true;return b.returnValue=false};this.stopPropagation=function(b){b=b.original?b.original:b?b:window.event||false;if(!b)return false;if(b.stopPropagation)return b.stopPropagation();if(b.cancelBubble)b.cancelBubble=true;return false};this.showRail=function(){if(b.page.maxh!=0&amp;&amp;(b.ispage||b.win.css(&quot;display&quot;)!=&quot;none&quot;))b.visibility=true,b.rail.visibility=
true,b.rail.css(&quot;display&quot;,&quot;block&quot;);return b};this.showRailHr=function(){if(!b.railh)return b;if(b.page.maxw!=0&amp;&amp;(b.ispage||b.win.css(&quot;display&quot;)!=&quot;none&quot;))b.railh.visibility=true,b.railh.css(&quot;display&quot;,&quot;block&quot;);return b};this.hideRail=function(){b.visibility=false;b.rail.visibility=false;b.rail.css(&quot;display&quot;,&quot;none&quot;);return b};this.hideRailHr=function(){if(!b.railh)return b;b.railh.visibility=false;b.railh.css(&quot;display&quot;,&quot;none&quot;);return b};this.show=function(){b.hidden=false;b.locked=false;return b.showRail().showRailHr()};
this.hide=function(){b.hidden=true;b.locked=true;return b.hideRail().hideRailHr()};this.toggle=function(){return b.hidden?b.show():b.hide()};this.remove=function(){b.stop();b.cursortimeout&amp;&amp;clearTimeout(b.cursortimeout);b.doZoomOut();b.unbindAll();b.observer!==false&amp;&amp;b.observer.disconnect();b.events=[];if(b.cursor)b.cursor.remove(),b.cursor=null;if(b.cursorh)b.cursorh.remove(),b.cursorh=null;if(b.rail)b.rail.remove(),b.rail=null;if(b.railh)b.railh.remove(),b.railh=null;if(b.zoom)b.zoom.remove(),b.zoom=
null;for(var d=0;d<B>0)return c;b=b.parentNode?b.parentNode:false}return false};this.onmousewheel=function(d){if(b.locked)return true;if(!b.rail.scrollable)return b.railh&amp;&amp;b.railh.scrollable?b.onmousewheelhr(d):true;if(b.opt.preservenativescrolling&amp;&amp;b.checkarea)b.checkarea=false,b.nativescrollingarea=b.isScrollable(d);if(b.nativescrollingarea)return true;if(b.locked)return b.cancelEvent(d);if(b.rail.drag)return b.cancelEvent(d);i(d,false);return b.cancelEvent(d)};this.onmousewheelhr=
function(d){if(b.locked||!b.railh.scrollable)return true;if(b.opt.preservenativescrolling&amp;&amp;b.checkarea)b.checkarea=false,b.nativescrollingarea=b.isScrollable(d);if(b.nativescrollingarea)return true;if(b.locked)return b.cancelEvent(d);if(b.rail.drag)return b.cancelEvent(d);i(d,true);return b.cancelEvent(d)};this.stop=function(){b.cancelScroll();b.scrollmon&amp;&amp;b.scrollmon.stop();b.cursorfreezed=false;b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.noticeCursor();return b};this.getTransitionSpeed=
function(d){var c=Math.round(b.opt.scrollspeed*10),d=Math.min(c,Math.round(d/20*b.opt.scrollspeed));return d&gt;20?d:0};b.opt.smoothscroll?b.ishwscroll&amp;&amp;f.hastransition&amp;&amp;b.opt.usetransition?(this.prepareTransition=function(d,c){var g=c?d&gt;20?d:0:b.getTransitionSpeed(d),e=g?f.prefixstyle+&quot;transform &quot;+g+&quot;ms ease-out&quot;:&quot;&quot;;if(!b.lasttransitionstyle||b.lasttransitionstyle!=e)b.lasttransitionstyle=e,b.doc.css(f.transitionstyle,e);return g},this.doScrollLeft=function(d,c){var g=b.scrollrunning?b.newscrolly:b.getScrollTop();
b.doScrollPos(d,g,c)},this.doScrollTop=function(c,f){var g=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(g,c,f)},this.doScrollPos=function(c,e,g){var h=b.getScrollTop(),i=b.getScrollLeft();((b.newscrolly-h)*(e-h)&lt;0||(b.newscrollx-i)*(c-i)&lt;0)&amp;&amp;b.cancelScroll();if(b.opt.bouncescroll==false){if(e&lt;0)e=0;else if(e&gt;b.page.maxh)e=b.page.maxh;if(c&lt;0)c=0;else if(c&gt;b.page.maxw)c=b.page.maxw}if(c==b.newscrollx&amp;&amp;e==b.newscrolly)return false;b.newscrolly=e;b.newscrollx=c;b.newscrollspeed=g||false;
if(b.timer)return false;b.timer=setTimeout(function(){var g=b.getScrollTop(),h=b.getScrollLeft(),i,j;i=c-h;j=e-g;i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(j,2)));i=b.prepareTransition(b.newscrollspeed?b.newscrollspeed:i);b.timerscroll&amp;&amp;b.timerscroll.tm&amp;&amp;clearInterval(b.timerscroll.tm);if(i&gt;0){!b.scrollrunning&amp;&amp;b.onscrollstart&amp;&amp;b.onscrollstart.call(b,{type:&quot;scrollstart&quot;,current:{x:h,y:g},request:{x:c,y:e},end:{x:b.newscrollx,y:b.newscrolly},speed:i});if(f.transitionend){if(!b.scrollendtrapped)b.scrollendtrapped=
true,b.bind(b.doc,f.transitionend,b.onScrollEnd,false)}else b.scrollendtrapped&amp;&amp;clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollEnd,i);b.timerscroll={bz:new BezierClass(g,b.newscrolly,i,0,0,0.58,1),bh:new BezierClass(h,b.newscrollx,i,0,0,0.58,1)};if(!b.cursorfreezed)b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop(),b.getScrollLeft())},60)}b.synched(&quot;doScroll-set&quot;,function(){b.timer=0;if(b.scrollendtrapped)b.scrollrunning=true;b.setScrollTop(b.newscrolly);
b.setScrollLeft(b.newscrollx);if(!b.scrollendtrapped)b.onScrollEnd()})},50)},this.cancelScroll=function(){if(!b.scrollendtrapped)return true;var c=b.getScrollTop(),e=b.getScrollLeft();b.scrollrunning=false;f.transitionend||clearTimeout(f.transitionend);b.scrollendtrapped=false;b._unbind(b.doc,f.transitionend,b.onScrollEnd);b.prepareTransition(0);b.setScrollTop(c);b.railh&amp;&amp;b.setScrollLeft(e);b.timerscroll&amp;&amp;b.timerscroll.tm&amp;&amp;clearInterval(b.timerscroll.tm);b.timerscroll=false;b.cursorfreezed=false;
b.showCursor(c,e);return b},this.onScrollEnd=function(){b.scrollendtrapped&amp;&amp;b._unbind(b.doc,f.transitionend,b.onScrollEnd);b.scrollendtrapped=false;b.prepareTransition(0);b.timerscroll&amp;&amp;b.timerscroll.tm&amp;&amp;clearInterval(b.timerscroll.tm);b.timerscroll=false;var c=b.getScrollTop(),e=b.getScrollLeft();b.setScrollTop(c);b.railh&amp;&amp;b.setScrollLeft(e);b.noticeCursor(false,c,e);b.cursorfreezed=false;if(c&lt;0)c=0;else if(c&gt;b.page.maxh)c=b.page.maxh;if(e&lt;0)e=0;else if(e&gt;b.page.maxw)e=b.page.maxw;if(c!=b.newscrolly||
e!=b.newscrollx)return b.doScrollPos(e,c,b.opt.snapbackspeed);b.onscrollend&amp;&amp;b.scrollrunning&amp;&amp;b.onscrollend.call(b,{type:&quot;scrollend&quot;,current:{x:e,y:c},end:{x:b.newscrollx,y:b.newscrolly}});b.scrollrunning=false}):(this.doScrollLeft=function(c){var f=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(c,f)},this.doScrollTop=function(c){var f=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(f,c)},this.doScrollPos=function(c,f){function g(){if(b.cancelAnimationFrame)return true;b.scrollrunning=
true;if(n=1-n)return b.timer=p(g)||1;var c=0,d=sy=b.getScrollTop();if(b.dst.ay){var d=b.bzscroll?b.dst.py+b.bzscroll.getNow()*b.dst.ay:b.newscrolly,f=d-sy;if(f&lt;0&amp;&amp;d&lt;b.newscrolly||f&gt;0&amp;&amp;d&gt;b.newscrolly)d=b.newscrolly;b.setScrollTop(d);d==b.newscrolly&amp;&amp;(c=1)}else c=1;var e=sx=b.getScrollLeft();if(b.dst.ax){e=b.bzscroll?b.dst.px+b.bzscroll.getNow()*b.dst.ax:b.newscrollx;f=e-sx;if(f&lt;0&amp;&amp;e&lt;b.newscrollx||f&gt;0&amp;&amp;e&gt;b.newscrollx)e=b.newscrollx;b.setScrollLeft(e);e==b.newscrollx&amp;&amp;(c+=1)}else c+=1;if(c==2){b.timer=
0;b.cursorfreezed=false;b.bzscroll=false;b.scrollrunning=false;if(d&lt;0)d=0;else if(d&gt;b.page.maxh)d=b.page.maxh;if(e&lt;0)e=0;else if(e&gt;b.page.maxw)e=b.page.maxw;e!=b.newscrollx||d!=b.newscrolly?b.doScrollPos(e,d):b.onscrollend&amp;&amp;b.onscrollend.call(b,{type:&quot;scrollend&quot;,current:{x:sx,y:sy},end:{x:b.newscrollx,y:b.newscrolly}})}else b.timer=p(g)||1}f=typeof f==&quot;undefined&quot;||f===false?b.getScrollTop(true):f;if(b.timer&amp;&amp;b.newscrolly==f&amp;&amp;b.newscrollx==c)return true;b.timer&amp;&amp;q(b.timer);b.timer=0;var e=b.getScrollTop(),
h=b.getScrollLeft();((b.newscrolly-e)*(f-e)&lt;0||(b.newscrollx-h)*(c-h)&lt;0)&amp;&amp;b.cancelScroll();b.newscrolly=f;b.newscrollx=c;if(!b.bouncescroll||!b.rail.visibility)if(b.newscrolly&lt;0)b.newscrolly=0;else if(b.newscrolly&gt;b.page.maxh)b.newscrolly=b.page.maxh;if(!b.bouncescroll||!b.railh.visibility)if(b.newscrollx&lt;0)b.newscrollx=0;else if(b.newscrollx&gt;b.page.maxw)b.newscrollx=b.page.maxw;b.dst={};b.dst.x=c-h;b.dst.y=f-e;b.dst.px=h;b.dst.py=e;var i=Math.round(Math.sqrt(Math.pow(b.dst.x,2)+Math.pow(b.dst.y,
2)));b.dst.ax=b.dst.x/i;b.dst.ay=b.dst.y/i;var j=0,k=i;if(b.dst.x==0)j=e,k=f,b.dst.ay=1,b.dst.py=0;else if(b.dst.y==0)j=h,k=c,b.dst.ax=1,b.dst.px=0;i=b.getTransitionSpeed(i);b.bzscroll=i&gt;0?b.bzscroll?b.bzscroll.update(k,i):new BezierClass(j,k,i,0,1,0,1):false;if(!b.timer){(e==b.page.maxh&amp;&amp;f&gt;=b.page.maxh||h==b.page.maxw&amp;&amp;c&gt;=b.page.maxw)&amp;&amp;b.checkContentSize();var n=1;b.cancelAnimationFrame=false;b.timer=1;b.onscrollstart&amp;&amp;!b.scrollrunning&amp;&amp;b.onscrollstart.call(b,{type:&quot;scrollstart&quot;,current:{x:h,y:e},
request:{x:c,y:f},end:{x:b.newscrollx,y:b.newscrolly},speed:i});g();(e==b.page.maxh&amp;&amp;f&gt;=e||h==b.page.maxw&amp;&amp;c&gt;=h)&amp;&amp;b.checkContentSize();b.noticeCursor()}},this.cancelScroll=function(){b.timer&amp;&amp;q(b.timer);b.timer=0;b.bzscroll=false;b.scrollrunning=false;return b}):(this.doScrollLeft=function(c,f){var g=b.getScrollTop();b.doScrollPos(c,g,f)},this.doScrollTop=function(c,f){var g=b.getScrollLeft();b.doScrollPos(g,c,f)},this.doScrollPos=function(c,f){var g=c&gt;b.page.maxw?b.page.maxw:c;g&lt;0&amp;&amp;(g=0);var e=f&gt;
b.page.maxh?b.page.maxh:f;e&lt;0&amp;&amp;(e=0);b.synched(&quot;scroll&quot;,function(){b.setScrollTop(e);b.setScrollLeft(g)})},this.cancelScroll=function(){});this.doScrollBy=function(c,f){var g=0,g=f?Math.floor((b.scroll.y-c)*b.scrollratio.y):(b.timer?b.newscrolly:b.getScrollTop(true))-c;if(b.bouncescroll){var e=Math.round(b.view.h/2);g&lt;-e?g=-e:g&gt;b.page.maxh+e&amp;&amp;(g=b.page.maxh+e)}b.cursorfreezed=false;py=b.getScrollTop(true);if(g&lt;0&amp;&amp;py&lt;=0)return b.noticeCursor();else if(g&gt;b.page.maxh&amp;&amp;py&gt;=b.page.maxh)return b.checkContentSize(),
b.noticeCursor();b.doScrollTop(g)};this.doScrollLeftBy=function(c,f){var e=0,e=f?Math.floor((b.scroll.x-c)*b.scrollratio.x):(b.timer?b.newscrollx:b.getScrollLeft(true))-c;if(b.bouncescroll){var h=Math.round(b.view.w/2);e&lt;-h?e=-h:e&gt;b.page.maxw+h&amp;&amp;(e=b.page.maxw+h)}b.cursorfreezed=false;px=b.getScrollLeft(true);if(e&lt;0&amp;&amp;px&lt;=0)return b.noticeCursor();else if(e&gt;b.page.maxw&amp;&amp;px&gt;=b.page.maxw)return b.noticeCursor();b.doScrollLeft(e)};this.doScrollTo=function(c,e){e&amp;&amp;Math.round(c*b.scrollratio.y);b.cursorfreezed=
false;b.doScrollTop(c)};this.checkContentSize=function(){var c=b.getContentSize();(c.h!=b.page.h||c.w!=b.page.w)&amp;&amp;b.resize(false,c)};b.onscroll=function(){b.rail.drag||b.cursorfreezed||b.synched(&quot;scroll&quot;,function(){b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));if(b.railh)b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x));b.noticeCursor()})};b.bind(b.docscroll,&quot;scroll&quot;,b.onscroll);this.doZoomIn=function(c){if(!b.zoomactive){b.zoomactive=true;b.zoomrestore={style:{}};var h=&quot;position,top,left,zIndex,backgroundColor,marginTop,marginBottom,marginLeft,marginRight&quot;.split(&quot;,&quot;),
g=b.win[0].style,i;for(i in h){var j=h[i];b.zoomrestore.style[j]=typeof g[j]!=&quot;undefined&quot;?g[j]:&quot;&quot;}b.zoomrestore.style.width=b.win.css(&quot;width&quot;);b.zoomrestore.style.height=b.win.css(&quot;height&quot;);b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()};if(f.isios4)b.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0);b.win.css({position:f.isios4?&quot;absolute&quot;:&quot;fixed&quot;,top:0,left:0,&quot;z-index&quot;:b.opt.zindex+100,margin:&quot;0px&quot;});h=b.win.css(&quot;backgroundColor&quot;);
(h==&quot;&quot;||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(h))&amp;&amp;b.win.css(&quot;backgroundColor&quot;,&quot;#fff&quot;);b.rail.css({&quot;z-index&quot;:b.opt.zindex+110});b.zoom.css({&quot;z-index&quot;:b.opt.zindex+112});b.zoom.css(&quot;backgroundPosition&quot;,&quot;0px -18px&quot;);b.resizeZoom();b.onzoomin&amp;&amp;b.onzoomin.call(b);return b.cancelEvent(c)}};this.doZoomOut=function(c){if(b.zoomactive)return b.zoomactive=false,b.win.css(&quot;margin&quot;,&quot;&quot;),b.win.css(b.zoomrestore.style),f.isios4&amp;&amp;e(window).scrollTop(b.zoomrestore.scrollTop),b.rail.css({&quot;z-index&quot;:b.ispage?
b.opt.zindex:b.opt.zindex+2}),b.zoom.css({&quot;z-index&quot;:b.opt.zindex}),b.zoomrestore=false,b.zoom.css(&quot;backgroundPosition&quot;,&quot;0px 0px&quot;),b.onResize(),b.onzoomout&amp;&amp;b.onzoomout.call(b),b.cancelEvent(c)};this.doZoom=function(c){return b.zoomactive?b.doZoomOut(c):b.doZoomIn(c)};this.resizeZoom=function(){if(b.zoomactive){var c=b.getScrollTop();b.win.css({width:e(window).width()-b.zoomrestore.padding.w+&quot;px&quot;,height:e(window).height()-b.zoomrestore.padding.h+&quot;px&quot;});b.onResize();console.log(c);b.setScrollTop(Math.min(b.page.maxh,
c))}};this.init();e.nicescroll.push(this)},z=function(e){var c=this;this.nc=e;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=false;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return+new Date};this.reset=function(e,i){c.stop();var b=c.time();c.steptime=0;c.lasttime=b;c.speedx=0;c.speedy=0;c.lastx=e;c.lasty=i;c.lastscrollx=-1;c.lastscrolly=-1};this.update=function(e,i){var b=c.time();
c.steptime=b-c.lasttime;c.lasttime=b;var b=i-c.lasty,j=e-c.lastx,f=c.nc.getScrollTop(),m=c.nc.getScrollLeft();f+=b;m+=j;c.snapx=m&lt;0||m&gt;c.nc.page.maxw;c.snapy=f&lt;0||f&gt;c.nc.page.maxh;c.speedx=j;c.speedy=b;c.lastx=e;c.lasty=i};this.stop=function(){c.nc.unsynched(&quot;domomentum2d&quot;);c.timer&amp;&amp;clearTimeout(c.timer);c.timer=0;c.lastscrollx=-1;c.lastscrolly=-1};this.doSnapy=function(e,i){var b=false;if(i&lt;0)i=0,b=true;else if(i&gt;c.nc.page.maxh)i=c.nc.page.maxh,b=true;if(e&lt;0)e=0,b=true;else if(e&gt;c.nc.page.maxw)e=
c.nc.page.maxw,b=true;b&amp;&amp;c.nc.doScrollPos(e,i,c.nc.opt.snapbackspeed)};this.doMomentum=function(e){var i=c.time(),b=e?i+e:c.lasttime,e=c.nc.getScrollLeft(),j=c.nc.getScrollTop(),f=c.nc.page.maxh,m=c.nc.page.maxw;c.speedx=m&gt;0?Math.min(60,c.speedx):0;c.speedy=f&gt;0?Math.min(60,c.speedy):0;b=b&amp;&amp;i-b&lt;=50;if(j&lt;0||j&gt;f||e&lt;0||e&gt;m)b=false;e=c.speedx&amp;&amp;b?c.speedx:false;if(c.speedy&amp;&amp;b&amp;&amp;c.speedy||e){var o=Math.max(16,c.steptime);o&gt;50&amp;&amp;(e=o/50,c.speedx*=e,c.speedy*=e,o=50);c.demulxy=0;c.lastscrollx=c.nc.getScrollLeft();
c.chkx=c.lastscrollx;c.lastscrolly=c.nc.getScrollTop();c.chky=c.lastscrolly;var d=c.lastscrollx,l=c.lastscrolly,g=function(){var b=c.time()-i&gt;600?0.04:0.02;if(c.speedx&amp;&amp;(d=Math.floor(c.lastscrollx-c.speedx*(1-c.demulxy)),c.lastscrollx=d,d&lt;0||d&gt;m))b=0.1;if(c.speedy&amp;&amp;(l=Math.floor(c.lastscrolly-c.speedy*(1-c.demulxy)),c.lastscrolly=l,l&lt;0||l&gt;f))b=0.1;c.demulxy=Math.min(1,c.demulxy+b);c.nc.synched(&quot;domomentum2d&quot;,function(){if(c.speedx)c.nc.getScrollLeft()!=c.chkx&amp;&amp;c.stop(),c.chkx=d,c.nc.setScrollLeft(d);
if(c.speedy)c.nc.getScrollTop()!=c.chky&amp;&amp;c.stop(),c.chky=l,c.nc.setScrollTop(l);c.timer||(c.nc.hideCursor(),c.doSnapy(d,l))});c.demulxy&lt;1?c.timer=setTimeout(g,o):(c.stop(),c.nc.hideCursor(),c.doSnapy(d,l))};g()}else c.doSnapy(c.nc.getScrollLeft(),c.nc.getScrollTop())}},t=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(j){var c=e.data(j,&quot;__nicescroll&quot;)||false;return c&amp;&amp;c.ishwscroll?c.getScrollTop():t.call(j)},set:function(j,c){var h=e.data(j,&quot;__nicescroll&quot;)||false;h&amp;&amp;h.ishwscroll?h.setScrollTop(parseInt(c)):
t.call(j,c);return this}};e.fn.scrollTop=function(j){if(typeof j==&quot;undefined&quot;){var c=this[0]?e.data(this[0],&quot;__nicescroll&quot;)||false:false;return c&amp;&amp;c.ishwscroll?c.getScrollTop():t.call(this)}else return this.each(function(){var c=e.data(this,&quot;__nicescroll&quot;)||false;c&amp;&amp;c.ishwscroll?c.setScrollTop(parseInt(j)):t.call(e(this),j)})};var u=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(j){var c=e.data(j,&quot;__nicescroll&quot;)||false;return c&amp;&amp;c.ishwscroll?c.getScrollLeft():u.call(j)},set:function(j,c){var h=
e.data(j,&quot;__nicescroll&quot;)||false;h&amp;&amp;h.ishwscroll?h.setScrollLeft(parseInt(c)):u.call(j,c);return this}};e.fn.scrollLeft=function(j){if(typeof j==&quot;undefined&quot;){var c=this[0]?e.data(this[0],&quot;__nicescroll&quot;)||false:false;return c&amp;&amp;c.ishwscroll?c.getScrollLeft():u.call(this)}else return this.each(function(){var c=e.data(this,&quot;__nicescroll&quot;)||false;c&amp;&amp;c.ishwscroll?c.setScrollLeft(parseInt(j)):u.call(e(this),j)})};var v=function(j){var c=this;this.length=0;this.name=&quot;nicescrollarray&quot;;this.each=function(e){for(var b=
0;b&lt;c.length;b++)e.call(c[b]);return c};this.push=function(e){c[c.length]=e;c.length++};this.eq=function(e){return c[e]};if(j)for(a=0;a&lt;j.length;a++){var h=e.data(j[a],&quot;__nicescroll&quot;)||false;h&amp;&amp;(this[this.length]=h,this.length++)}return this};(function(e,c,h){for(var i=0;i&lt;c.length;i++)h(e,c[i])})(v.prototype,&quot;show,hide,toggle,onResize,resize,remove,stop,doScrollPos&quot;.split(&quot;,&quot;),function(e,c){e[c]=function(){var e=arguments;return this.each(function(){this[c].apply(this,e)})}});e.fn.getNiceScroll=
function(j){return typeof j==&quot;undefined&quot;?new v(this):e.data(this[j],&quot;__nicescroll&quot;)||false};e.extend(e.expr[&quot;:&quot;],{nicescroll:function(j){return e.data(j,&quot;__nicescroll&quot;)?true:false}});e.fn.niceScroll=function(j,c){typeof c==&quot;undefined&quot;&amp;&amp;typeof j==&quot;object&quot;&amp;&amp;!(&quot;jquery&quot;in j)&amp;&amp;(c=j,j=false);var h=new v;typeof c==&quot;undefined&quot;&amp;&amp;(c={});if(j)c.doc=e(j),c.win=e(this);var i=!(&quot;doc&quot;in c);if(!i&amp;&amp;!(&quot;win&quot;in c))c.win=e(this);this.each(function(){var b=e(this).data(&quot;__nicescroll&quot;)||false;if(!b)c.doc=i?e(this):c.doc,
b=new F(c,e(this)),e(this).data(&quot;__nicescroll&quot;,b);h.push(b)});return h.length==1?h[0]:h};window.NiceScroll={getjQuery:function(){return e}};if(!e.nicescroll)e.nicescroll=new v})(jQuery);</B></P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2013.igem.org/Team:BIT-China/js/jquery.nicescroll.min.js">http://2013.igem.org/Team:BIT-China/js/jquery.nicescroll.min.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:BIT-China/js/jquery.nicescroll.min.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:BIT-China/js/jquery.nicescroll.min.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:BIT-China/js/jquery.nicescroll.min.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:BIT-China/js/jquery.nicescroll.min.js&amp;oldid=56693" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2013.igem.org:Privacy_policy" title="2013.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2013.igem.org:General_disclaimer" title="2013.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>