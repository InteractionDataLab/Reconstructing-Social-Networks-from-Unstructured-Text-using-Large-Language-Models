<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_BIT-China_js_jquery_stellar_min_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:BIT-China/js/jquery.stellar.min.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:BIT-China/js/jquery.stellar.min.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:BIT-China/js/jquery.stellar.min.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:BIT-China/js/jquery.stellar.min.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:BIT-China/js/jquery.stellar.min.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:BIT-China/js/jquery.stellar.min.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2013.igem.org</H3><P>/*! Stellar.js v0.6.2 | Copyright 2013, Mark Dalgleish | <A href="http://markdalgleish.com/projects/stellar.js" class="external free" rel="nofollow">http://markdalgleish.com/projects/stellar.js</A> | <A href="http://markdalgleish.mit-license.org" class="external free" rel="nofollow">http://markdalgleish.mit-license.org</A> */
(function(e,t,n,r){function d(t,n){this.element=t,this.options=e.extend({},s,n),this._defaults=s,this._name=i,this.init()}var i=&quot;stellar&quot;,s={scrollProperty:&quot;scroll&quot;,positionProperty:&quot;position&quot;,horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(e){e.hide()},showElement:function(e){e.show()}},o={scroll:{getLeft:function(e){return e.scrollLeft()},setLeft:function(e,t){e.scrollLeft(t)},getTop:function(e){return e.scrollTop()},setTop:function(e,t){e.scrollTop(t)}},position:{getLeft:function(e){return parseInt(e.css(&quot;left&quot;),10)*-1},getTop:function(e){return parseInt(e.css(&quot;top&quot;),10)*-1}},margin:{getLeft:function(e){return parseInt(e.css(&quot;margin-left&quot;),10)*-1},getTop:function(e){return parseInt(e.css(&quot;margin-top&quot;),10)*-1}},transform:{getLeft:function(e){var t=getComputedStyle(e[0])[f];return t!==&quot;none&quot;?parseInt(t.match(/(-?[0-9]+)/g)[4],10)*-1:0},getTop:function(e){var t=getComputedStyle(e[0])[f];return t!==&quot;none&quot;?parseInt(t.match(/(-?[0-9]+)/g)[5],10)*-1:0}}},u={position:{setLeft:function(e,t){e.css(&quot;left&quot;,t)},setTop:function(e,t){e.css(&quot;top&quot;,t)}},transform:{setPosition:function(e,t,n,r,i){e[0].style[f]=&quot;translate3d(&quot;+(t-n)+&quot;px, &quot;+(r-i)+&quot;px, 0)&quot;}}},a=function(){var t=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,n=e(&quot;script&quot;)[0].style,r=&quot;&quot;,i;for(i in n)if(t.test(i)){r=i.match(t)[0];break}return&quot;WebkitOpacity&quot;in n&amp;&amp;(r=&quot;Webkit&quot;),&quot;KhtmlOpacity&quot;in n&amp;&amp;(r=&quot;Khtml&quot;),function(e){return r+(r.length&gt;0?e.charAt(0).toUpperCase()+e.slice(1):e)}}(),f=a(&quot;transform&quot;),l=e(&quot;&lt;div /&gt;&quot;,{style:&quot;background:#fff&quot;}).css(&quot;background-position-x&quot;)!==r,c=l?function(e,t,n){e.css({&quot;background-position-x&quot;:t,&quot;background-position-y&quot;:n})}:function(e,t,n){e.css(&quot;background-position&quot;,t+&quot; &quot;+n)},h=l?function(e){return[e.css(&quot;background-position-x&quot;),e.css(&quot;background-position-y&quot;)]}:function(e){return e.css(&quot;background-position&quot;).split(&quot; &quot;)},p=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};d.prototype={init:function(){this.options.name=i+&quot;_&quot;+Math.floor(Math.random()*1e9),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),this.options.scrollProperty===&quot;scroll&quot;?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===n.body&amp;&amp;(this.element=t),this.$scrollElement=e(this.element),this.$element=this.element===t?e(&quot;body&quot;):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==r?e(this.options.viewportElement):this.$scrollElement[0]===t||this.options.scrollProperty===&quot;scroll&quot;?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var e=this,t=o[e.options.scrollProperty];this._getScrollLeft=function(){return t.getLeft(e.$scrollElement)},this._getScrollTop=function(){return t.getTop(e.$scrollElement)}},_defineSetters:function(){var t=this,n=o[t.options.scrollProperty],r=u[t.options.positionProperty],i=n.setLeft,s=n.setTop;this._setScrollLeft=typeof i==&quot;function&quot;?function(e){i(t.$scrollElement,e)}:e.noop,this._setScrollTop=typeof s==&quot;function&quot;?function(e){s(t.$scrollElement,e)}:e.noop,this._setPosition=r.setPosition||function(e,n,i,s,o){t.options.horizontalScrolling&amp;&amp;r.setLeft(e,n,i),t.options.verticalScrolling&amp;&amp;r.setTop(e,s,o)}},_handleWindowLoadAndResize:function(){var n=this,r=e(t);n.options.responsive&amp;&amp;r.bind(&quot;load.&quot;+this.name,function(){n.refresh()}),r.bind(&quot;resize.&quot;+this.name,function(){n._detectViewport(),n.options.responsive&amp;&amp;n.refresh()})},refresh:function(n){var r=this,i=r._getScrollLeft(),s=r._getScrollTop();(!n||!n.firstLoad)&amp;&amp;this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),n&amp;&amp;n.firstLoad&amp;&amp;/WebKit/.test(navigator.userAgent)&amp;&amp;e(t).load(function(){var e=r._getScrollLeft(),t=r._getScrollTop();r._setScrollLeft(e+1),r._setScrollTop(t+1),r._setScrollLeft(e),r._setScrollTop(t)}),this._setScrollLeft(i),this._setScrollTop(s)},_detectViewport:function(){var e=this.$viewportElement.offset(),t=e!==null&amp;&amp;e!==r;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=t?e.top:0,this.viewportOffsetLeft=t?e.left:0},_findParticles:function(){var t=this,n=this._getScrollLeft(),i=this._getScrollTop();if(this.particles!==r)for(var s=this.particles.length-1;s&gt;=0;s--)this.particles[s].$element.data(&quot;stellar-elementIsActive&quot;,r);this.particles=[];if(!this.options.parallaxElements)return;this.$element.find(&quot;[data-stellar-ratio]&quot;).each(function(n){var i=e(this),s,o,u,a,f,l,c,h,p,d=0,v=0,m=0,g=0;if(!i.data(&quot;stellar-elementIsActive&quot;))i.data(&quot;stellar-elementIsActive&quot;,this);else if(i.data(&quot;stellar-elementIsActive&quot;)!==this)return;t.options.showElement(i),i.data(&quot;stellar-startingLeft&quot;)?(i.css(&quot;left&quot;,i.data(&quot;stellar-startingLeft&quot;)),i.css(&quot;top&quot;,i.data(&quot;stellar-startingTop&quot;))):(i.data(&quot;stellar-startingLeft&quot;,i.css(&quot;left&quot;)),i.data(&quot;stellar-startingTop&quot;,i.css(&quot;top&quot;))),u=i.position().left,a=i.position().top,f=i.css(&quot;margin-left&quot;)===&quot;auto&quot;?0:parseInt(i.css(&quot;margin-left&quot;),10),l=i.css(&quot;margin-top&quot;)===&quot;auto&quot;?0:parseInt(i.css(&quot;margin-top&quot;),10),h=i.offset().left-f,p=i.offset().top-l,i.parents().each(function(){var t=e(this);if(t.data(&quot;stellar-offset-parent&quot;)===!0)return d=m,v=g,c=t,!1;m+=t.position().left,g+=t.position().top}),s=i.data(&quot;stellar-horizontal-offset&quot;)!==r?i.data(&quot;stellar-horizontal-offset&quot;):c!==r&amp;&amp;c.data(&quot;stellar-horizontal-offset&quot;)!==r?c.data(&quot;stellar-horizontal-offset&quot;):t.horizontalOffset,o=i.data(&quot;stellar-vertical-offset&quot;)!==r?i.data(&quot;stellar-vertical-offset&quot;):c!==r&amp;&amp;c.data(&quot;stellar-vertical-offset&quot;)!==r?c.data(&quot;stellar-vertical-offset&quot;):t.verticalOffset,t.particles.push({$element:i,$offsetParent:c,isFixed:i.css(&quot;position&quot;)===&quot;fixed&quot;,horizontalOffset:s,verticalOffset:o,startingPositionLeft:u,startingPositionTop:a,startingOffsetLeft:h,startingOffsetTop:p,parentOffsetLeft:d,parentOffsetTop:v,stellarRatio:i.data(&quot;stellar-ratio&quot;)!==r?i.data(&quot;stellar-ratio&quot;):1,width:i.outerWidth(!0),height:i.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var t=this,n=this._getScrollLeft(),i=this._getScrollTop(),s;this.backgrounds=[];if(!this.options.parallaxBackgrounds)return;s=this.$element.find(&quot;[data-stellar-background-ratio]&quot;),this.$element.data(&quot;stellar-background-ratio&quot;)&amp;&amp;(s=s.add(this.$element)),s.each(function(){var s=e(this),o=h(s),u,a,f,l,p,d,v,m,g,y=0,b=0,w=0,E=0;if(!s.data(&quot;stellar-backgroundIsActive&quot;))s.data(&quot;stellar-backgroundIsActive&quot;,this);else if(s.data(&quot;stellar-backgroundIsActive&quot;)!==this)return;s.data(&quot;stellar-backgroundStartingLeft&quot;)?c(s,s.data(&quot;stellar-backgroundStartingLeft&quot;),s.data(&quot;stellar-backgroundStartingTop&quot;)):(s.data(&quot;stellar-backgroundStartingLeft&quot;,o[0]),s.data(&quot;stellar-backgroundStartingTop&quot;,o[1])),p=s.css(&quot;margin-left&quot;)===&quot;auto&quot;?0:parseInt(s.css(&quot;margin-left&quot;),10),d=s.css(&quot;margin-top&quot;)===&quot;auto&quot;?0:parseInt(s.css(&quot;margin-top&quot;),10),v=s.offset().left-p-n,m=s.offset().top-d-i,s.parents().each(function(){var t=e(this);if(t.data(&quot;stellar-offset-parent&quot;)===!0)return y=w,b=E,g=t,!1;w+=t.position().left,E+=t.position().top}),u=s.data(&quot;stellar-horizontal-offset&quot;)!==r?s.data(&quot;stellar-horizontal-offset&quot;):g!==r&amp;&amp;g.data(&quot;stellar-horizontal-offset&quot;)!==r?g.data(&quot;stellar-horizontal-offset&quot;):t.horizontalOffset,a=s.data(&quot;stellar-vertical-offset&quot;)!==r?s.data(&quot;stellar-vertical-offset&quot;):g!==r&amp;&amp;g.data(&quot;stellar-vertical-offset&quot;)!==r?g.data(&quot;stellar-vertical-offset&quot;):t.verticalOffset,t.backgrounds.push({$element:s,$offsetParent:g,isFixed:s.css(&quot;background-attachment&quot;)===&quot;fixed&quot;,horizontalOffset:u,verticalOffset:a,startingValueLeft:o[0],startingValueTop:o[1],startingBackgroundPositionLeft:isNaN(parseInt(o[0],10))?0:parseInt(o[0],10),startingBackgroundPositionTop:isNaN(parseInt(o[1],10))?0:parseInt(o[1],10),startingPositionLeft:s.position().left,startingPositionTop:s.position().top,startingOffsetLeft:v,startingOffsetTop:m,parentOffsetLeft:y,parentOffsetTop:b,stellarRatio:s.data(&quot;stellar-background-ratio&quot;)===r?1:s.data(&quot;stellar-background-ratio&quot;)})})},_reset:function(){var e,t,n,r,i;for(i=this.particles.length-1;i&gt;=0;i--)e=this.particles[i],t=e.$element.data(&quot;stellar-startingLeft&quot;),n=e.$element.data(&quot;stellar-startingTop&quot;),this._setPosition(e.$element,t,t,n,n),this.options.showElement(e.$element),e.$element.data(&quot;stellar-startingLeft&quot;,null).data(&quot;stellar-elementIsActive&quot;,null).data(&quot;stellar-backgroundIsActive&quot;,null);for(i=this.backgrounds.length-1;i&gt;=0;i--)r=this.backgrounds[i],r.$element.data(&quot;stellar-backgroundStartingLeft&quot;,null).data(&quot;stellar-backgroundStartingTop&quot;,null),c(r.$element,r.startingValueLeft,r.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind(&quot;resize.&quot;+this.name).unbind(&quot;scroll.&quot;+this.name),this._animationLoop=e.noop,e(t).unbind(&quot;load.&quot;+this.name).unbind(&quot;resize.&quot;+this.name)},_setOffsets:function(){var n=this,r=e(t);r.unbind(&quot;resize.horizontal-&quot;+this.name).unbind(&quot;resize.vertical-&quot;+this.name),typeof this.options.horizontalOffset==&quot;function&quot;?(this.horizontalOffset=this.options.horizontalOffset(),r.bind(&quot;resize.horizontal-&quot;+this.name,function(){n.horizontalOffset=n.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,typeof this.options.verticalOffset==&quot;function&quot;?(this.verticalOffset=this.options.verticalOffset(),r.bind(&quot;resize.vertical-&quot;+this.name,function(){n.verticalOffset=n.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var e=this._getScrollLeft(),t=this._getScrollTop(),n,r,i,s,o,u,a,f=!0,l=!0,h,p,d,v,m;if(this.currentScrollLeft===e&amp;&amp;this.currentScrollTop===t&amp;&amp;this.currentWidth===this.viewportWidth&amp;&amp;this.currentHeight===this.viewportHeight)return;this.currentScrollLeft=e,this.currentScrollTop=t,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight;for(m=this.particles.length-1;m&gt;=0;m--)i=this.particles[m],s=i.isFixed?1:0,this.options.horizontalScrolling?(h=(e+i.horizontalOffset+this.viewportOffsetLeft+i.startingPositionLeft-i.startingOffsetLeft+i.parentOffsetLeft)*-(i.stellarRatio+s-1)+i.startingPositionLeft,d=h-i.startingPositionLeft+i.startingOffsetLeft):(h=i.startingPositionLeft,d=i.startingOffsetLeft),this.options.verticalScrolling?(p=(t+i.verticalOffset+this.viewportOffsetTop+i.startingPositionTop-i.startingOffsetTop+i.parentOffsetTop)*-(i.stellarRatio+s-1)+i.startingPositionTop,v=p-i.startingPositionTop+i.startingOffsetTop):(p=i.startingPositionTop,v=i.startingOffsetTop),this.options.hideDistantElements&amp;&amp;(l=!this.options.horizontalScrolling||d+i.width&gt;(i.isFixed?0:e)&amp;&amp;d&lt;(i.isFixed?0:e)+this.viewportWidth+this.viewportOffsetLeft,f=!this.options.verticalScrolling||v+i.height&gt;(i.isFixed?0:t)&amp;&amp;v&lt;(i.isFixed?0:t)+this.viewportHeight+this.viewportOffsetTop),l&amp;&amp;f?(i.isHidden&amp;&amp;(this.options.showElement(i.$element),i.isHidden=!1),this._setPosition(i.$element,h,i.startingPositionLeft,p,i.startingPositionTop)):i.isHidden||(this.options.hideElement(i.$element),i.isHidden=!0);for(m=this.backgrounds.length-1;m&gt;=0;m--)o=this.backgrounds[m],s=o.isFixed?0:1,u=this.options.horizontalScrolling?(e+o.horizontalOffset-this.viewportOffsetLeft-o.startingOffsetLeft+o.parentOffsetLeft-o.startingBackgroundPositionLeft)*(s-o.stellarRatio)+&quot;px&quot;:o.startingValueLeft,a=this.options.verticalScrolling?(t+o.verticalOffset-this.viewportOffsetTop-o.startingOffsetTop+o.parentOffsetTop-o.startingBackgroundPositionTop)*(s-o.stellarRatio)+&quot;px&quot;:o.startingValueTop,c(o.$element,u,a)},_handleScrollEvent:function(){var e=this,t=!1,n=function(){e._repositionElements(),t=!1},r=function(){t||(p(n),t=!0)};this.$scrollElement.bind(&quot;scroll.&quot;+this.name,r),r()},_startAnimationLoop:function(){var e=this;this._animationLoop=function(){p(e._animationLoop),e._repositionElements()},this._animationLoop()}},e.fn[i]=function(t){var n=arguments;if(t===r||typeof t==&quot;object&quot;)return this.each(function(){e.data(this,&quot;plugin_&quot;+i)||e.data(this,&quot;plugin_&quot;+i,new d(this,t))});if(typeof t==&quot;string&quot;&amp;&amp;t[0]!==&quot;_&quot;&amp;&amp;t!==&quot;init&quot;)return this.each(function(){var r=e.data(this,&quot;plugin_&quot;+i);r instanceof d&amp;&amp;typeof r[t]==&quot;function&quot;&amp;&amp;r[t].apply(r,Array.prototype.slice.call(n,1)),t===&quot;destroy&quot;&amp;&amp;e.data(this,&quot;plugin_&quot;+i,null)})},e[i]=function(n){var r=e(t);return r.stellar.apply(r,Array.prototype.slice.call(arguments,0))},e[i].scrollProperty=o,e[i].positionProperty=u,t.Stellar=d})(jQuery,this,document);
</P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2013.igem.org/Team:BIT-China/js/jquery.stellar.min.js">http://2013.igem.org/Team:BIT-China/js/jquery.stellar.min.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:BIT-China/js/jquery.stellar.min.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:BIT-China/js/jquery.stellar.min.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:BIT-China/js/jquery.stellar.min.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:BIT-China/js/jquery.stellar.min.js&amp;oldid=56694" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2013.igem.org:Privacy_policy" title="2013.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2013.igem.org:General_disclaimer" title="2013.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>