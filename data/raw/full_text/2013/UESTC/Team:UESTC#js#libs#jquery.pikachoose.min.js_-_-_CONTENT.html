<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_UESTC_js_libs_jquery_pikachoose_min_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:UESTC/js/libs/jquery.pikachoose.min.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:UESTC/js/libs/jquery.pikachoose.min.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:UESTC/js/libs/jquery.pikachoose.min.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:UESTC/js/libs/jquery.pikachoose.min.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:UESTC/js/libs/jquery.pikachoose.min.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:UESTC/js/libs/jquery.pikachoose.min.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2013.igem.org</H3><P>/*  03/20/2013
	PikaChoose
	Jquery plugin for photo galleries
</P><PRE>   Copyright (C) 2011 Jeremy Fry
</PRE><PRE>   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.
</PRE><PRE>   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
</PRE><PRE>   You should have received a copy of the GNU General Public License
   along with this program.  If not, see &lt;<A href="http://www.gnu.org/licenses/" class="external free" rel="nofollow">http://www.gnu.org/licenses/</A>&gt;.
</PRE><UL><LI>/
</LI></UL>
(function($){&quot;use strict&quot;;var defaults={autoPlay:true,speed:5000,text:{play:&quot;&quot;,stop:&quot;&quot;,previous:&quot;Previous&quot;,next:&quot;Next&quot;,loading:&quot;Loading&quot;},transition:[1],showCaption:true,IESafe:false,showTooltips:false,carousel:false,carouselVertical:false,animationFinished:null,buildFinished:null,bindsFinished:null,startOn:0,thumbOpacity:0.4,hoverPause:false,animationSpeed:600,fadeThumbsIn:false,carouselOptions:{},thumbChangeEvent:'click.pikachoose',stopOnClick:false,hideThumbnails:false};$.fn.PikaChoose=function(o){return this.each(function(){$(this).data('pikachoose',new $pc(this,o))})};$.PikaChoose=function(e,o){this.options=$.extend({},defaults,o||{});this.list=null;this.image=null;this.anchor=null;this.caption=null;this.imgNav=null;this.imgPlay=null;this.imgPrev=null;this.imgNext=null;this.textNext=null;this.textPrev=null;this.previous=null;this.next=null;this.aniWrap=null;this.aniDiv=null;this.aniImg=null;this.thumbs=null;this.transition=null;this.active=null;this.tooltip=null;this.animating=false;this.stillOut=null;this.counter=null;this.timeOut=null;this.pikaStage=null;if(typeof(this.options.data)!=&quot;undefined&quot;){e=$(&quot;&quot;).addClass(&quot;jcarousel-skin-pika&quot;).appendTo(e);$.each(this.options.data,function(){var tmp=null;if(typeof(this.link)!=&quot;undefined&quot;){tmp=$(&quot;<LI>&lt;a href='&quot;+this.link+&quot;'&gt;&lt;img&gt;&lt;/a&gt;&lt;/li&gt;&quot;).appendTo(e);if(typeof(this.title)!=&quot;undefined&quot;){tmp.find('a').attr('title',this.title)}}else{tmp=$(&quot;</LI><LI>&lt;img&gt;&lt;/li&gt;&quot;).appendTo(e)}if(typeof(this.caption)!=&quot;undefined&quot;){tmp.append(&quot;<SPAN>&quot;+this.caption+&quot;</SPAN>&quot;)}if(typeof(this.thumbnail)!=&quot;undefined&quot;){tmp.find('img').attr('ref',this.image);tmp.find('img').attr('src',this.thumbnail)}else{tmp.find('img').attr('src',this.image)}})}if(e instanceof jQuery||e.nodeName.toUpperCase()=='UL'||e.nodeName.toUpperCase()=='OL'){this.list=$(e);this.build();this.bindEvents()}else{return}var y=0;var x=0;for(var t=0;t&lt;25;t++){var a='';this.aniDiv.append(a);y++;if(y==5){x++;y=0}}};var $pc=$.PikaChoose;$pc.fn=$pc.prototype={pikachoose:'4.5.0'};$.fn.pikachoose=$.fn.PikaChoose;$pc.fn.extend=$pc.extend=$.extend;$pc.fn.extend({build:function(){this.step=0;if(this.options.pikaStage){this.wrap=this.options.pikaStage;this.wrap.addClass('pika-stage')}else{this.wrap=$(&quot;&quot;).insertBefore(this.list)}this.image=$(&quot;&lt;img&gt;&quot;).appendTo(this.wrap);this.imgNav=$(&quot;&quot;).insertAfter(this.image);this.imgPlay=$(&quot;&lt;a&gt;&lt;/a&gt;&quot;).appendTo(this.imgNav);this.counter=$(&quot;&quot;).appendTo(this.imgNav);if(this.options.autoPlay){this.imgPlay.addClass('pause')}else{this.imgPlay.addClass('play')}this.imgPrev=$(&quot;&lt;a class='previous'&gt;&lt;/a&gt;&quot;).insertAfter(this.imgPlay);this.imgNext=$(&quot;&lt;a class='next'&gt;&lt;/a&gt;&quot;).insertAfter(this.imgPrev);this.caption=$(&quot;&quot;).insertAfter(this.imgNav).hide();this.tooltip=$(&quot;&quot;).insertAfter(this.list).hide();this.aniWrap=$(&quot;&quot;).insertAfter(this.caption);this.aniImg=$(&quot;&lt;img&gt;&quot;).appendTo(this.aniWrap).hide();this.aniDiv=$(&quot;&quot;).appendTo(this.aniWrap);this.textNav=$(&quot;&quot;).insertAfter(this.aniWrap);this.textPrev=$(&quot;&lt;a class='previous'&gt;&quot;+this.options.text.previous+&quot;&lt;/a&gt;&quot;).appendTo(this.textNav);this.textNext=$(&quot;&lt;a class='next'&gt;&quot;+this.options.text.next+&quot;&lt;/a&gt;&quot;).appendTo(this.textNav);this.list.addClass('pika-thumbs');this.thumbs=this.list.find('img');this.loader=$(&quot;&quot;).appendTo(this.wrap).hide().html(this.options.text.loading);this.active=this.thumbs.eq(this.options.startOn);this.finishAnimating({'index':this.options.startOn,'source':this.active.attr('ref')||this.active.attr('src'),'caption':this.active.parents('li:first').find('span:first').html(),'clickThrough':this.active.parent().attr('href')||&quot;&quot;,'clickThroughTarget':this.active.parent().attr('target')||&quot;&quot;,'clickThroughTitle':this.active.parent().attr('title')||&quot;&quot;});this.aniDiv.css({position:'relative'});var self=this;this.updateThumbs();if(this.options.fadeThumbsIn){this.list.fadeIn()}if(this.options.hideThumbnails){this.list.hide()}if(this.options.carousel){var carouselDefaults={vertical:this.options.carouselVertical,initCallback:function(carousel){jQuery(carousel.list).find('img').click(function(e,x){if(typeof(x)!=='undefined'&amp;&amp;x.how==&quot;auto&quot;){if(self.options.autoPlay===false){return false}}var clicked=parseInt(jQuery(this).parents('.jcarousel-item').attr('jcarouselindex'),10);var last=(jQuery(this).parents('ul').find('li:last').attr('jcarouselindex')==clicked-1)?true:false;if(!last){clicked=(clicked-2&lt;=0)?0:clicked-2}clicked++;carousel.scroll(clicked)})}};var carouselOptions=$.extend({},carouselDefaults,this.options.carouselOptions||{});this.list.jcarousel(carouselOptions)}if(typeof(this.options.buildFinished)=='function'){this.options.buildFinished(this)}},createThumb:function(ele){var self=ele;var that=this;this.thumbs=this.list.find('img');if(typeof $.data(ele[0],'source')!=='undefined'){return}ele.parents('li:first').wrapInner(&quot;&lt;div class='clip' /&gt;&quot;);self.hide();$.data(ele[0],'clickThrough',self.parent('a').attr('href')||&quot;&quot;);$.data(ele[0],'clickThroughTarget',self.parent('a').attr('target')||&quot;&quot;);$.data(ele[0],'clickThroughTitle',self.parent('a').attr('title')||&quot;&quot;);if(self.parent('a').length&gt;0){self.unwrap()}$.data(ele[0],'caption',self.next('span').html()||&quot;&quot;);self.next('span').remove();$.data(ele[0],'source',self.attr('ref')||self.attr('src'));$.data(ele[0],'imageTitle',self.attr('title')||&quot;&quot;);$.data(ele[0],'imageAlt',self.attr('alt')||&quot;&quot;);$.data(ele[0],'index',this.thumbs.index(ele));$.data(ele[0],'order',self.closest('ul').find('li').index(self.parents('li')));var data=$.data(ele[0]);$('&lt;img /&gt;').bind('load',{data:data},function(){if(typeof(that.options.buildThumbStart)=='function'){that.options.buildThumbStart(that)}var img=$(this);var w=this.width;var h=this.height;if(w===0){w=img.attr(&quot;width&quot;)}if(h===0){h=img.attr(&quot;height&quot;)}var ph=parseInt(self.parents('.clip').css('height').slice(0,-2),10);var pw=parseInt(self.parents('.clip').css('width').slice(0,-2),10);if(pw===0){pw=self.parents('li:first').outerWidth()}if(ph===0){ph=self.parents('li:first').outerHeight()}var rw=pw/w;var rh=ph/h;var ratio;if(rw&lt;rh){self.css({height:'100%'})}else{self.css({width:'100%'})}self.hover(function(e){clearTimeout(that.stillOut);$(this).stop(true,true).fadeTo(250,1);if(!that.options.showTooltips){return}that.tooltip.show().stop(true,true).html(data.caption).animate({top:$(this).parent().position().top,left:$(this).parent().position().left,opacity:1.0},'fast')},function(e){if(!$(this).hasClass(&quot;active&quot;)){$(this).stop(true,true).fadeTo(250,that.options.thumbOpacity);that.stillOut=setTimeout(that.hideTooltip,700)}});if(data.order==that.options.startOn){self.fadeTo(250,1);self.addClass('active');self.parents('li').eq(0).addClass('active')}else{self.fadeTo(250,that.options.thumbOpacity)}if(typeof(that.options.buildThumbFinish)=='function'){that.options.buildThumbFinish(that)}}).attr('src',self.attr('src'))},bindEvents:function(){this.thumbs.bind(this.options.thumbChangeEvent,{self:this},this.imgClick);this.imgNext.bind('click.pikachoose',{self:this},this.nextClick);this.textNext.bind('click.pikachoose',{self:this},this.nextClick);this.imgPrev.bind('click.pikachoose',{self:this},this.prevClick);this.textPrev.bind('click.pikachoose',{self:this},this.prevClick);this.imgPlay.unbind('click.pikachoose').bind('click.pikachoose',{self:this},this.playClick);this.wrap.unbind('mouseenter.pikachoose').bind('mouseenter.pikachoose',{self:this},function(e){e.data.self.imgNav.stop(true,true).fadeTo('slow',1.0);if(e.data.self.options.hoverPause===true){clearTimeout(e.data.self.timeOut)}});this.wrap.unbind('mouseleave.pikachoose').bind('mouseleave.pikachoose',{self:this},function(e){e.data.self.imgNav.stop(true,true).fadeTo('slow',0.0);if(e.data.self.options.autoPlay&amp;&amp;e.data.self.options.hoverPause){e.data.self.timeOut=setTimeout((function(self){return function(){self.nextClick()}})(e.data.self),e.data.self.options.speed)}});this.tooltip.unbind('mouseenter.pikachoose').bind('mouseenter.pikachoose',{self:this},function(e){clearTimeout(e.data.self.stillOut)});this.tooltip.unbind('mouseleave.pikachoose').bind('mouseleave.pikachoose',{self:this},function(e){e.data.self.stillOut=setTimeout(e.data.self.hideTooltip,700)});if(typeof(this.options.bindsFinished)=='function'){this.options.bindsFinished(this)}},hideTooltip:function(e){$(&quot;.pika-tooltip&quot;).animate({opacity:0.01})},imgClick:function(e,x){var self=e.data.self;var data=$.data(this);if(self.animating){return}if(typeof(x)=='undefined'||x.how!=&quot;auto&quot;){if(self.options.autoPlay&amp;&amp;self.options.stopOnClick){self.imgPlay.trigger('click')}else{clearTimeout(self.timeOut)}}else{if(!self.options.autoPlay){return false}}if($(this).attr('src')!==$.data(this).source){self.loader.fadeIn('fast')}self.caption.fadeOut('slow');self.animating=true;self.active.fadeTo(300,self.options.thumbOpacity).removeClass('active');self.active.parents('.active').eq(0).removeClass('active');self.active=$(this);self.active.addClass('active').fadeTo(200,1);self.active.parents('li').eq(0).addClass('active');$('&lt;img /&gt;').bind('load',{self:self,data:data},function(){self.loader.fadeOut('fast');self.aniDiv.css({height:self.image.height(),width:self.image.width()}).show();self.aniDiv.children('div').css({'width':'20%','height':'20%','float':'left'});var n=0;if(self.options.transition[0]==-1){n=Math.floor(Math.random()*7)+1}else{n=self.options.transition[self.step];self.step++;if(self.step&gt;=self.options.transition.length){self.step=0}}if(self.options.IESafe&amp;&amp;$.browser.msie){n=1}self.doAnimation(n,data)}).attr('src',$.data(this).source)},doAnimation:function(n,data){this.aniWrap.css({position:'absolute',top:this.wrap.css('padding-top'),left:this.wrap.css('padding-left'),width:this.wrap.width()});var self=this;self.image.stop(true,false);self.caption.stop().fadeOut();var aWidth=self.aniDiv.children('div').eq(0).width();var aHeight=self.aniDiv.children('div').eq(0).height();var img=new Image();$(img).attr('src',data.source);if(img.height!=self.image.height()||img.width!=self.image.width()){if(n!==0&amp;&amp;n!==1&amp;&amp;n!==7){}}self.aniDiv.css({height:self.image.height(),width:self.image.width()});self.aniDiv.children().each(function(){var div=$(this);var xOffset=Math.floor(div.parent().width()/5)*div.attr('col');var yOffset=Math.floor(div.parent().height()/5)*div.attr('row');div.css({'background':'url('+data.source+') -'+xOffset+'px -'+yOffset+'px','background-size':div.parent().width()+'px '+div.parent().height()+'px','width':'0px','height':'0px','position':'absolute','top':yOffset+'px','left':xOffset+'px','float':'none'})});self.aniDiv.hide();self.aniImg.hide();switch(n){case 0:self.image.stop(true,true).fadeOut(self.options.animationSpeed,function(){self.image.attr('src',data.source).fadeIn(self.options.animationSpeed,function(){self.finishAnimating(data)})});break;case 1:self.aniDiv.hide();self.aniImg.height(self.image.height()).hide().attr('src',data.source);self.wrap.css({height:self.image.height()});$.when(self.image.fadeOut(self.options.animationSpeed),self.aniImg.eq(0).fadeIn(self.options.animationSpeed)).done(function(){self.finishAnimating(data)});break;case 2:self.aniDiv.show().children().hide().each(function(index){var delay=index*30;$(this).css({opacity:0.1}).show().delay(delay).animate({opacity:1,&quot;width&quot;:aWidth,&quot;height&quot;:aHeight},200,'linear',function(){if(self.aniDiv.find(&quot;div&quot;).index(this)==24){self.finishAnimating(data)}})});break;case 3:self.aniDiv.show().children(&quot;div:lt(5)&quot;).hide().each(function(index){var delay=$(this).attr('col')*100;$(this).css({opacity:0.1,&quot;width&quot;:aWidth}).show().delay(delay).animate({opacity:1,&quot;height&quot;:self.image.height()},self.options.animationSpeed,'linear',function(){if(self.aniDiv.find(&quot; div&quot;).index(this)==4){self.finishAnimating(data)}})});break;case 4:self.aniDiv.show().children().hide().each(function(index){if(index&gt;4){return}var delay=$(this).attr('col')*30;var gap=self.gapper($(this),aHeight,aWidth);var speed=self.options.animationSpeed*0.7;$(this).css({opacity:0.1,&quot;height&quot;:&quot;100%&quot;}).show().delay(delay).animate({opacity:1,&quot;width&quot;:gap.width},speed,'linear',function(){if(self.aniDiv.find(&quot; div&quot;).index(this)==4){self.finishAnimating(data)}})});break;case 5:self.aniDiv.show().children().show().each(function(index){var delay=index*Math.floor(Math.random()*5)*7;var gap=self.gapper($(this),aHeight,aWidth);if($(&quot;.animation div&quot;).index(this)==24){delay=700}$(this).css({&quot;height&quot;:gap.height,&quot;width&quot;:gap.width,&quot;opacity&quot;:0.01}).delay(delay).animate({&quot;opacity&quot;:1},self.options.animationSpeed,function(){if(self.aniDiv.find(&quot; div&quot;).index(this)==24){self.finishAnimating(data)}})});break;case 6:self.aniDiv.height(self.image.height()).hide().css({'background':'url('+data.source+') top left no-repeat'});self.aniDiv.children('div').hide();self.aniDiv.css({width:0}).show().animate({width:self.image.width()},self.options.animationSpeed,function(){self.finishAnimating(data);self.aniDiv.css({'background':'transparent'})});break;case 7:self.wrap.css({overflow:'hidden'});self.aniImg.height(self.image.height()).hide().attr('src',data.source);self.aniDiv.hide();self.image.css({position:'relative'}).animate({left:&quot;-&quot;+self.wrap.outerWidth()+&quot;px&quot;});self.aniImg.show();self.aniWrap.css({left:self.wrap.outerWidth()}).show().animate({left:&quot;0px&quot;},self.options.animationSpeed,function(){self.finishAnimating(data)});break}},finishAnimating:function(data){this.animating=false;this.image.attr('src',data.source);this.image.attr('alt',data.imageAlt);this.image.attr('title',data.imageTitle);this.image.css({left:&quot;0&quot;});this.image.show();var self=this;$('&lt;img /&gt;').bind('load',function(){self.aniImg.fadeOut('fast');self.aniDiv.fadeOut('fast')}).attr('src',data.source);var cur=data.index+1;var total=this.thumbs.length;this.counter.html(cur+&quot;/&quot;+total);if(data.clickThrough!==&quot;&quot;){if(this.anchor===null){this.anchor=this.image.wrap(&quot;&lt;a&gt;&quot;).parent()}this.anchor.attr('href',data.clickThrough);this.anchor.attr('title',data.clickThroughTitle);this.anchor.attr('target',data.clickThroughTarget)}else{if(this.image.parent('a').length&gt;0){this.image.unwrap()}this.anchor=null}if(this.options.showCaption&amp;&amp;data.caption!==&quot;&quot;&amp;&amp;data.caption!==null){this.caption.html(data.caption).fadeTo('slow',1)}if(this.options.autoPlay){this.timeOut=setTimeout((function(self){return function(){self.nextClick()}})(this),this.options.speed,this.timeOut)}if(typeof(this.options.animationFinished)=='function'){this.options.animationFinished(this)}},gapper:function(ele,aHeight,aWidth){var gap;if(ele.attr('row')==4){gap=(this.aniDiv.height()-(aHeight*5))+aHeight;aHeight=gap}if(ele.attr('col')==4){gap=(this.aniDiv.width()-(aWidth*5))+aWidth;aWidth=gap}return{height:aHeight,width:aWidth}},nextClick:function(e){var how=&quot;natural&quot;;var self=null;try{self=e.data.self;if(typeof(e.data.self.options.next)=='function'){e.data.self.options.next(this)}}catch(err){self=this;how=&quot;auto&quot;}var next=self.active.parents('li:first').next().find('img');if(next.length===0){next=self.list.find('img').eq(0)}next.trigger('click',{how:how})},prevClick:function(e){if(typeof(e.data.self.options.previous)=='function'){e.data.self.options.previous(this)}var self=e.data.self;var prev=self.active.parents('li:first').prev().find('img');if(prev.length===0){prev=self.list.find('img:last')}prev.trigger('click')},playClick:function(e){var self=e.data.self;self.options.autoPlay=!self.options.autoPlay;self.imgPlay.toggleClass('play').toggleClass('pause');if(self.options.autoPlay){self.nextClick()}},Next:function(){var e={data:{self:this}};this.nextClick(e)},Prev:function(){var e={data:{self:this}};this.prevClick(e)},GoTo:function(v){var e={data:{self:this}};this.list.find('img').eq(v).trigger('click')},Play:function(){if(this.options.autoPlay){return}var e={data:{self:this}};this.playClick(e)},Pause:function(){if(!this.options.autoPlay){return}var e={data:{self:this}};this.playClick(e)},updateThumbs:function(){var self=this;this.thumbs=this.list.find('img');this.thumbs.each(function(){self.createThumb($(this),self)})}})})(jQuery);

<DIV class="printfooter">
Retrieved from &quot;<A href="http://2013.igem.org/Team:UESTC/js/libs/jquery.pikachoose.min.js">http://2013.igem.org/Team:UESTC/js/libs/jquery.pikachoose.min.js</A>&quot;</DIV></LI></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:UESTC/js/libs/jquery.pikachoose.min.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:UESTC/js/libs/jquery.pikachoose.min.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:UESTC/js/libs/jquery.pikachoose.min.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:UESTC/js/libs/jquery.pikachoose.min.js&amp;oldid=75957" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2013.igem.org:Privacy_policy" title="2013.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2013.igem.org:General_disclaimer" title="2013.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>