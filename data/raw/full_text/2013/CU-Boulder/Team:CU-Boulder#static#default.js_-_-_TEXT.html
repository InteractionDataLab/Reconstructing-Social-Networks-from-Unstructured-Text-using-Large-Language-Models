"
Page
Discussion
View source
History
teams
Log in
Â 
Team:CU-Boulder/static/default.js
From 2013.igem.org
(function(c){function b(g,n,k){var f,h,m=g.width,j=g.width,o,q;q=c(g.parentNode);this.element=f=q.append("<canvas class='reflection' style='position:absolute'/>").find(":last")[0];if(!f.getContext&&c.browser.msie){this.element=f=q.append("<img class='reflection' style='position:absolute'/>").find(":last")[0];f.src=g.src;f.style.filter="flipv progid:DXImageTransform.Microsoft.Alpha(opacity="+(k*100)+", style=1, finishOpacity=0, startx=0, starty=0, finishx=0, finishy="+(n/j*100)+")"}else{h=f.getContext("2d");try{c(f).attr({width:m,height:n});h.save();h.translate(0,j-1);h.scale(1,-1);h.drawImage(g,0,0,m,j);h.restore();h.globalCompositeOperation="destination-out";o=h.createLinearGradient(0,0,0,n);o.addColorStop(0,"rgba(255, 255, 255, "+(1-k)+")");o.addColorStop(1,"rgba(255, 255, 255, 1.0)");h.fillStyle=o;h.fillRect(0,0,m,n)}catch(l){return}}c(f).attr({alt:c(g).attr("alt"),title:c(g).attr("title")})}var a=function(f,e){this.orgWidth=f.width;this.orgHeight=f.height;this.image=f;this.reflection=null;this.alt=f.alt;this.title=f.title;this.imageOK=false;this.options=e;this.imageOK=true;if(this.options.reflHeight>0){this.reflection=new b(this.image,this.options.reflHeight,this.options.reflOpacity)}c(this.image).css("position","absolute")};var d=function(h,f,k){var j=[],l=Math.sin,e=Math.cos,g=this;this.controlTimer=0;this.stopped=false;this.container=h;this.xRadius=k.xRadius;this.yRadius=k.yRadius;this.showFrontTextTimer=0;this.autoRotateTimer=0;if(k.xRadius===0){this.xRadius=(c(h).width()/2.3)}if(k.yRadius===0){this.yRadius=(c(h).height()/6)}this.xCentre=k.xPos;this.yCentre=k.yPos;this.frontIndex=0;this.rotation=this.destRotation=Math.PI/2;this.timeDelay=1000/k.FPS;if(k.altBox!==null){c(k.altBox).css("display","block");c(k.titleBox).css("display","block")}c(h).css({position:"relative",overflow:"hidden"});c(k.buttonLeft).css("display","inline");c(k.buttonRight).css("display","inline");c(k.buttonLeft).bind("mouseup",this,function(m){m.data.rotate(-1);return false});c(k.buttonRight).bind("mouseup",this,function(m){m.data.rotate(1);return false});if(k.mouseWheel){c(h).bind("mousewheel",this,function(m,n){m.data.rotate(n);return false})}c(h).bind("mouseover click",this,function(o){clearInterval(o.data.autoRotateTimer);var r=c(o.target).attr("alt");if(r!==undefined&&r!==null){clearTimeout(o.data.showFrontTextTimer);c(k.altBox).html((c(o.target).attr("alt")));c(k.titleBox).html((c(o.target).attr("title")));if(k.bringToFront&&o.type=="click"){var m=c(o.target).data("itemIndex");var n=o.data.frontIndex;var q=(m-n)%f.length;if(Math.abs(q)>f.length/2){q+=(q>0?-f.length:f.length)}o.data.rotate(-q)}}});c(h).bind("mouseout",this,function(n){var m=n.data;clearTimeout(m.showFrontTextTimer);m.showFrontTextTimer=setTimeout(function(){m.showFrontText()},1000);m.autoRotate()});c(h).bind("mousedown",this,function(m){m.data.container.focus();return false});h.onselectstart=function(){return false};this.innerWrapper=c(h).wrapInner('<div style="position:absolute;width:100%;height:100%;"/>').children()[0];this.showFrontText=function(){if(j[this.frontIndex]===undefined){return}c(k.titleBox).html(c(j[this.frontIndex].image).attr("title"));c(k.altBox).html(c(j[this.frontIndex].image).attr("alt"))};this.go=function(){if(this.controlTimer!==0){return}var m=this;this.controlTimer=setTimeout(function(){m.updateAll()},this.timeDelay)};this.stop=function(){clearTimeout(this.controlTimer);this.controlTimer=0};this.rotate=function(m){this.frontIndex-=m;this.frontIndex%=j.length;this.destRotation+=(Math.PI/j.length)*(2*m);this.showFrontText();this.go()};this.autoRotate=function(){if(k.autoRotate!=="no"){var m=(k.autoRotate==="right")?1:-1;this.autoRotateTimer=setInterval(function(){g.rotate(m)},k.autoRotateDelay)}};this.updateAll=function(){var H=k.minScale;var t=(1-H)*0.5;var r,E,q,o,J,G,A;var s=(this.destRotation-this.rotation);var z=Math.abs(s);this.rotation+=s*k.speed;if(z<0.001){this.rotation=this.destRotation}var D=j.length;var n=(Math.PI/D)*2;var I=this.rotation;var v=c.browser.msie;this.innerWrapper.style.display="none";var F;var u="px",B;var m=this;for(var C=0;C<D;C++){G=j[C];A=l(I);J=((A+1)*t)+H;q=this.xCentre+(((e(I)*this.xRadius)-(G.orgWidth*0.5))*J);o=this.yCentre+(((A*this.yRadius))*J);if(G.imageOK){var K=G.image;r=K.width=G.orgWidth*J;E=K.height=G.orgHeight*J;K.style.left=q+u;K.style.top=o+u;K.style.zIndex=""+(J*100)>>0;if(G.reflection!==null){B=k.reflHeight*J;F=G.reflection.element.style;F.left=q+u;F.top=o+E+k.reflGap*J+u;F.width=r+u;if(v){F.filter.finishy=(B/E*100)}else{F.height=B+u}}}I+=n}this.innerWrapper.style.display="block";if(z>=0.001){this.controlTimer=setTimeout(function(){m.updateAll()},this.timeDelay)}else{this.stop()}};this.checkImagesLoaded=function(){var m;for(m=0;m<f.length;m++){if((f[m].width===undefined)||((f[m].complete!==undefined)&&(!f[m].complete))){return}}for(m=0;m<f.length;m++){j.push(new a(f[m],k));c(f[m]).data("itemIndex",m)}clearInterval(this.tt);this.showFrontText();this.autoRotate();this.updateAll()};this.tt=setInterval(function(){g.checkImagesLoaded()},50)};c.fn.CloudCarousel=function(e){this.each(function(){e=c.extend({},{reflHeight:0,reflOpacity:0.5,reflGap:0,minScale:0.5,xPos:0,yPos:0,xRadius:0,yRadius:0,altBox:null,titleBox:null,FPS:30,autoRotate:"no",autoRotateDelay:1500,speed:0.2,mouseWheel:false,bringToFront:false},e);c(this).data("cloudcarousel",new d(this,c(".cloudcarousel",c(this)),e))});return this}})(jQuery);(function(L,m,Y){var M={transition:"elastic",speed:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,inline:false,html:false,iframe:false,fastIframe:true,photo:false,href:false,title:false,rel:false,opacity:0.9,preloading:true,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:false,returnFocus:true,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined},z="colorbox",U="cbox",t=U+"Element",X=U+"_open",e=U+"_load",W=U+"_complete",w=U+"_cleanup",ae=U+"_closed",j=U+"_purge",x=!L.support.opacity&&!L.support.style,ah=x&&!Y.XMLHttpRequest,ac=U+"_IE6",S,ai,aj,d,J,r,b,R,c,ab,P,l,h,q,v,Z,u,T,B,D,ag,ak,n,g,a,y,K,o,F,aa,O,C,N,af="div",ad;function I(al,ao,an){var am=m.createElement(al);if(ao){am.id=U+ao}if(an){am.style.cssText=an}return L(am)}function G(am){var al=c.length,an=(K+am)%al;return(an<0)?al+an:an}function Q(al,am){return Math.round((/%/.test(al)?((am==="x"?ab.width():ab.height())/100):1)*parseInt(al,10))}function E(al){return ag.photo||/\.(gif|png|jpe?g|bmp|ico)((#|\?).*)?$/i.test(al)}function V(){var al;ag=L.extend({},L.data(y,z));for(al in ag){if(L.isFunction(ag[al])&&al.slice(0,2)!=="on"){ag[al]=ag[al].call(y)}}ag.rel=ag.rel||y.rel||"nofollow";ag.href=ag.href||L(y).attr("href");ag.title=ag.title||y.title;if(typeof ag.href==="string"){ag.href=L.trim(ag.href)}}function H(al,am){L.event.trigger(al);if(am){am.call(y)}}function A(){var am,ao=U+"Slideshow_",ap="click."+U,aq,an,al;if(ag.slideshow&&c[1]){aq=function(){Z.text(ag.slideshowStop).unbind(ap).bind(W,function(){if(ag.loop||c[K+1]){am=setTimeout(N.next,ag.slideshowSpeed)}}).bind(e,function(){clearTimeout(am)}).one(ap+" "+w,an);ai.removeClass(ao+"off").addClass(ao+"on");am=setTimeout(N.next,ag.slideshowSpeed)};an=function(){clearTimeout(am);Z.text(ag.slideshowStart).unbind([W,e,w,ap].join(" ")).one(ap,function(){N.next();aq()});ai.removeClass(ao+"on").addClass(ao+"off")};if(ag.slideshowAuto){aq()}else{an()}}else{ai.removeClass(ao+"off "+ao+"on")}}function f(al){if(!O){y=al;V();c=L(y);K=0;if(ag.rel!=="nofollow"){c=L("."+t).filter(function(){var am=L.data(this,z).rel||this.rel;return(am===ag.rel)});K=c.index(y);if(K===-1){c=c.add(y);K=c.length-1}}if(!F){F=aa=true;ai.show();if(ag.returnFocus){L(y).blur().one(ae,function(){L(this).focus()})}S.css({opacity:+ag.opacity,cursor:ag.overlayClose?"pointer":"auto"}).show();ag.w=Q(ag.initialWidth,"x");ag.h=Q(ag.initialHeight,"y");N.position();if(ah){ab.bind("resize."+ac+" scroll."+ac,function(){S.css({width:ab.width(),height:ab.height(),top:ab.scrollTop(),left:ab.scrollLeft()})}).trigger("resize."+ac)}H(X,ag.onOpen);D.add(q).hide();B.html(ag.close).show()}N.load(true)}}function s(){if(!ai&&m.body){ad=false;ab=L(Y);ai=I(af).attr({id:z,"class":x?U+(ah?"IE6":"IE"):""}).hide();S=I(af,"Overlay",ah?"position:absolute":"").hide();aj=I(af,"Wrapper");d=I(af,"Content").append(P=I(af,"LoadedContent","width:0; height:0; overflow:hidden"),h=I(af,"LoadingOverlay").add(I(af,"LoadingGraphic")),q=I(af,"Title"),v=I(af,"Current"),u=I(af,"Next"),T=I(af,"Previous"),Z=I(af,"Slideshow").bind(X,A),B=I(af,"Close"));aj.append(I(af).append(I(af,"TopLeft"),J=I(af,"TopCenter"),I(af,"TopRight")),I(af,false,"clear:left").append(r=I(af,"MiddleLeft"),d,b=I(af,"MiddleRight")),I(af,false,"clear:left").append(I(af,"BottomLeft"),R=I(af,"BottomCenter"),I(af,"BottomRight"))).find("div div").css({"float":"left"});l=I(af,false,"position:absolute; width:9999px; visibility:hidden; display:none");D=u.add(T).add(v).add(Z);L(m.body).append(S,ai.append(aj,l))}}function k(){if(ai){if(!ad){ad=true;ak=J.height()+R.height()+d.outerHeight(true)-d.height();n=r.width()+b.width()+d.outerWidth(true)-d.width();g=P.outerHeight(true);a=P.outerWidth(true);ai.css({"padding-bottom":ak,"padding-right":n});u.click(function(){N.next()});T.click(function(){N.prev()});B.click(function(){N.close()});S.click(function(){if(ag.overlayClose){N.close()}});L(m).bind("keydown."+U,function(am){var al=am.keyCode;if(F&&ag.escKey&&al===27){am.preventDefault();N.close()}if(F&&ag.arrowKey&&c[1]){if(al===37){am.preventDefault();T.click()}else{if(al===39){am.preventDefault();u.click()}}}});L("."+t,m).live("click",function(al){if(!(al.which>1||al.shiftKey||al.altKey||al.metaKey)){al.preventDefault();f(this)}})}return true}return false}if(L.colorbox){return}L(s);N=L.fn[z]=L[z]=function(al,an){var am=this;al=al||{};s();if(k()){if(!am[0]){if(am.selector){return am}am=L("<a/>");al.open=true}if(an){al.onComplete=an}am.each(function(){L.data(this,z,L.extend({},L.data(this,z)||M,al))}).addClass(t);if((L.isFunction(al.open)&&al.open.call(am))||al.open){f(am[0])}}return am};N.position=function(am,al){var ap=0,ao=0,ar=ai.offset(),an=ab.scrollTop(),aq=ab.scrollLeft();ab.unbind("resize."+U);ai.css({top:-90000,left:-90000});if(ag.fixed&&!ah){ar.top-=an;ar.left-=aq;ai.css({position:"fixed"})}else{ap=an;ao=aq;ai.css({position:"absolute"})}if(ag.right!==false){ao+=Math.max(ab.width()-ag.w-a-n-Q(ag.right,"x"),0)}else{if(ag.left!==false){ao+=Q(ag.left,"x")}else{ao+=Math.round(Math.max(ab.width()-ag.w-a-n,0)/2)}}if(ag.bottom!==false){ap+=Math.max(ab.height()-ag.h-g-ak-Q(ag.bottom,"y"),0)}else{if(ag.top!==false){ap+=Q(ag.top,"y")}else{ap+=Math.round(Math.max(ab.height()-ag.h-g-ak,0)/2)}}ai.css({top:ar.top,left:ar.left});am=(ai.width()===ag.w+a&&ai.height()===ag.h+g)?0:am||0;aj[0].style.width=aj[0].style.height="9999px";function at(au){J[0].style.width=R[0].style.width=d[0].style.width=au.style.width;d[0].style.height=r[0].style.height=b[0].style.height=au.style.height}ai.dequeue().animate({width:ag.w+a,height:ag.h+g,top:ap,left:ao},{duration:am,complete:function(){at(this);aa=false;aj[0].style.width=(ag.w+a+n)+"px";aj[0].style.height=(ag.h+g+ak)+"px";if(ag.reposition){setTimeout(function(){ab.bind("resize."+U,N.position)},1)}if(al){al()}},step:function(){at(this)}})};N.resize=function(al){if(F){al=al||{};if(al.width){ag.w=Q(al.width,"x")-a-n}if(al.innerWidth){ag.w=Q(al.innerWidth,"x")}P.css({width:ag.w});if(al.height){ag.h=Q(al.height,"y")-g-ak}if(al.innerHeight){ag.h=Q(al.innerHeight,"y")}if(!al.innerHeight&&!al.height){P.css({height:"auto"});ag.h=P.height()}P.css({height:ag.h});N.position(ag.transition==="none"?0:ag.speed)}};N.prep=function(am){if(!F){return}var ap,an=ag.transition==="none"?0:ag.speed;P.remove();P=I(af,"LoadedContent").append(am);function al(){ag.w=ag.w||P.width();ag.w=ag.mw&&ag.mw<ag.w?ag.mw:ag.w;return ag.w}function ao(){ag.h=ag.h||P.height();ag.h=ag.mh&&ag.mh<ag.h?ag.mh:ag.h;return ag.h}P.hide().appendTo(l.show()).css({width:al(),overflow:ag.scrolling?"auto":"hidden"}).css({height:ao()}).prependTo(d);l.hide();L(o).css({"float":"none"});if(ah){L("select").not(ai.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(w,function(){this.style.visibility="inherit"})}ap=function(){var aA,ax,ay=c.length,av,az="frameBorder",au="allowTransparency",ar,aq,aw;if(!F){return}function at(){if(x){ai[0].style.removeAttribute("filter")}}ar=function(){clearTimeout(C);h.hide();H(W,ag.onComplete)};if(x){if(o){P.fadeIn(100)}}q.html(ag.title).add(P).show();if(ay>1){if(typeof ag.current==="string"){v.html(ag.current.replace("{current}",K+1).replace("{total}",ay)).show()}u[(ag.loop||K<ay-1)?"show":"hide"]().html(ag.next);T[(ag.loop||K)?"show":"hide"]().html(ag.previous);if(ag.slideshow){Z.show()}if(ag.preloading){aA=[G(-1),G(1)];while(ax=c[aA.pop()]){aq=L.data(ax,z).href||ax.href;if(L.isFunction(aq)){aq=aq.call(ax)}if(E(aq)){aw=new Image();aw.src=aq}}}}else{D.hide()}if(ag.iframe){av=I("iframe")[0];if(az in av){av[az]=0}if(au in av){av[au]="true"}av.name=U+(+new Date());if(ag.fastIframe){ar()}else{L(av).one("load",ar)}av.src=ag.href;if(!ag.scrolling){av.scrolling="no"}L(av).addClass(U+"Iframe").appendTo(P).one(j,function(){av.src="//about:blank"})}else{ar()}if(ag.transition==="fade"){ai.fadeTo(an,1,at)}else{at()}};if(ag.transition==="fade"){ai.fadeTo(an,0,function(){N.position(0,ap)})}else{N.position(an,ap)}};N.load=function(an){var am,ao,al=N.prep;aa=true;o=false;y=c[K];if(!an){V()}H(j);H(e,ag.onLoad);ag.h=ag.height?Q(ag.height,"y")-g-ak:ag.innerHeight&&Q(ag.innerHeight,"y");ag.w=ag.width?Q(ag.width,"x")-a-n:ag.innerWidth&&Q(ag.innerWidth,"x");ag.mw=ag.w;ag.mh=ag.h;if(ag.maxWidth){ag.mw=Q(ag.maxWidth,"x")-a-n;ag.mw=ag.w&&ag.w<ag.mw?ag.w:ag.mw}if(ag.maxHeight){ag.mh=Q(ag.maxHeight,"y")-g-ak;ag.mh=ag.h&&ag.h<ag.mh?ag.h:ag.mh}am=ag.href;C=setTimeout(function(){h.show()},100);if(ag.inline){I(af).hide().insertBefore(L(am)[0]).one(j,function(){L(this).replaceWith(P.children())});al(L(am))}else{if(ag.iframe){al(" ")}else{if(ag.html){al(ag.html)}else{if(E(am)){L(o=new Image()).addClass(U+"Photo").error(function(){ag.title=false;al(I(af,"Error").text("This image could not be loaded"))}).load(function(){var ap;o.onload=null;if(ag.scalePhotos){ao=function(){o.height-=o.height*ap;o.width-=o.width*ap};if(ag.mw&&o.width>ag.mw){ap=(o.width-ag.mw)/o.width;ao()}if(ag.mh&&o.height>ag.mh){ap=(o.height-ag.mh)/o.height;ao()}}if(ag.h){o.style.marginTop=Math.max(ag.h-o.height,0)/2+"px"}if(c[1]&&(ag.loop||c[K+1])){o.style.cursor="pointer";o.onclick=function(){N.next()}}if(x){o.style.msInterpolationMode="bicubic"}setTimeout(function(){al(o)},1)});setTimeout(function(){o.src=am},1)}else{if(am){l.load(am,ag.data,function(aq,ap,ar){al(ap==="error"?I(af,"Error").text("Request unsuccessful: "+ar.statusText):L(this).contents())})}}}}}};N.next=function(){if(!aa&&c[1]&&(ag.loop||c[K+1])){K=G(1);N.load()}};N.prev=function(){if(!aa&&c[1]&&(ag.loop||K)){K=G(-1);N.load()}};N.close=function(){if(F&&!O){O=true;F=false;H(w,ag.onCleanup);ab.unbind("."+U+" ."+ac);S.fadeTo(200,0);ai.stop().fadeTo(300,0,function(){ai.add(S).css({opacity:1,cursor:"auto"}).hide();H(j);P.remove();setTimeout(function(){O=false;H(ae,ag.onClosed)},1)})}};N.remove=function(){L([]).add(ai).add(S).remove();ai=null;L("."+t).removeData(z).removeClass(t).die()};N.element=function(){return L(y)};N.settings=M}(jQuery,document,this));(function($,window,document){$.fn.dataTableSettings=[];var _aoSettings=$.fn.dataTableSettings;$.fn.dataTableExt={};var _oExt=$.fn.dataTableExt;_oExt.sVersion="1.7.6";_oExt.sErrMode="alert";_oExt.iApiIndex=0;_oExt.oApi={};_oExt.afnFiltering=[];_oExt.aoFeatures=[];_oExt.ofnSearch={};_oExt.afnSortData=[];_oExt.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripOdd:"odd",sStripEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""};_oExt.oJUIClasses={sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripOdd:"odd",sStripEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot ui-state-default",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"ui-state-default"};_oExt.oPagination={two_button:{fnInit:function(oSettings,nPaging,fnCallbackDraw){var nPrevious,nNext,nPreviousInner,nNextInner;if(!oSettings.bJUI){nPrevious=document.createElement("div");nNext=document.createElement("div")}else{nPrevious=document.createElement("a");nNext=document.createElement("a");nNextInner=document.createElement("span");nNextInner.className=oSettings.oClasses.sPageJUINext;nNext.appendChild(nNextInner);nPreviousInner=document.createElement("span");nPreviousInner.className=oSettings.oClasses.sPageJUIPrev;nPrevious.appendChild(nPreviousInner)}nPrevious.className=oSettings.oClasses.sPagePrevDisabled;nNext.className=oSettings.oClasses.sPageNextDisabled;nPrevious.title=oSettings.oLanguage.oPaginate.sPrevious;nNext.title=oSettings.oLanguage.oPaginate.sNext;nPaging.appendChild(nPrevious);nPaging.appendChild(nNext);$(nPrevious).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"previous")){fnCallbackDraw(oSettings)}});$(nNext).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"next")){fnCallbackDraw(oSettings)}});$(nPrevious).bind("selectstart.DT",function(){return false});$(nNext).bind("selectstart.DT",function(){return false});if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.p=="undefined"){nPaging.setAttribute("id",oSettings.sTableId+"_paginate");nPrevious.setAttribute("id",oSettings.sTableId+"_previous");nNext.setAttribute("id",oSettings.sTableId+"_next")}},fnUpdate:function(oSettings,fnCallbackDraw){if(!oSettings.aanFeatures.p){return}var an=oSettings.aanFeatures.p;for(var i=0,iLen=an.length;i<iLen;i++){if(an[i].childNodes.length!==0){an[i].childNodes[0].className=(oSettings._iDisplayStart===0)?oSettings.oClasses.sPagePrevDisabled:oSettings.oClasses.sPagePrevEnabled;an[i].childNodes[1].className=(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay())?oSettings.oClasses.sPageNextDisabled:oSettings.oClasses.sPageNextEnabled}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(oSettings,nPaging,fnCallbackDraw){var nFirst=document.createElement("span");var nPrevious=document.createElement("span");var nList=document.createElement("span");var nNext=document.createElement("span");var nLast=document.createElement("span");nFirst.innerHTML=oSettings.oLanguage.oPaginate.sFirst;nPrevious.innerHTML=oSettings.oLanguage.oPaginate.sPrevious;nNext.innerHTML=oSettings.oLanguage.oPaginate.sNext;nLast.innerHTML=oSettings.oLanguage.oPaginate.sLast;var oClasses=oSettings.oClasses;nFirst.className=oClasses.sPageButton+" "+oClasses.sPageFirst;nPrevious.className=oClasses.sPageButton+" "+oClasses.sPagePrevious;nNext.className=oClasses.sPageButton+" "+oClasses.sPageNext;nLast.className=oClasses.sPageButton+" "+oClasses.sPageLast;nPaging.appendChild(nFirst);nPaging.appendChild(nPrevious);nPaging.appendChild(nList);nPaging.appendChild(nNext);nPaging.appendChild(nLast);$(nFirst).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"first")){fnCallbackDraw(oSettings)}});$(nPrevious).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"previous")){fnCallbackDraw(oSettings)}});$(nNext).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"next")){fnCallbackDraw(oSettings)}});$(nLast).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"last")){fnCallbackDraw(oSettings)}});$("span",nPaging).bind("mousedown.DT",function(){return false}).bind("selectstart.DT",function(){return false});if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.p=="undefined"){nPaging.setAttribute("id",oSettings.sTableId+"_paginate");nFirst.setAttribute("id",oSettings.sTableId+"_first");nPrevious.setAttribute("id",oSettings.sTableId+"_previous");nNext.setAttribute("id",oSettings.sTableId+"_next");nLast.setAttribute("id",oSettings.sTableId+"_last")}},fnUpdate:function(oSettings,fnCallbackDraw){if(!oSettings.aanFeatures.p){return}var iPageCount=_oExt.oPagination.iFullNumbersShowPages;var iPageCountHalf=Math.floor(iPageCount/2);var iPages=Math.ceil((oSettings.fnRecordsDisplay())/oSettings._iDisplayLength);var iCurrentPage=Math.ceil(oSettings._iDisplayStart/oSettings._iDisplayLength)+1;var sList="";var iStartButton,iEndButton,i,iLen;var oClasses=oSettings.oClasses;if(iPages<iPageCount){iStartButton=1;iEndButton=iPages}else{if(iCurrentPage<=iPageCountHalf){iStartButton=1;iEndButton=iPageCount}else{if(iCurrentPage>=(iPages-iPageCountHalf)){iStartButton=iPages-iPageCount+1;iEndButton=iPages}else{iStartButton=iCurrentPage-Math.ceil(iPageCount/2)+1;iEndButton=iStartButton+iPageCount-1}}}for(i=iStartButton;i<=iEndButton;i++){if(iCurrentPage!=i){sList+=''+i+""}else{sList+=''+i+""}}var an=oSettings.aanFeatures.p;var anButtons,anStatic,nPaginateList;var fnClick=function(){var iTarget=(this.innerHTML*1)-1;oSettings._iDisplayStart=iTarget*oSettings._iDisplayLength;fnCallbackDraw(oSettings);return false};var fnFalse=function(){return false};for(i=0,iLen=an.length;i<iLen;i++){if(an[i].childNodes.length===0){continue}var qjPaginateList=$("span:eq(2)",an[i]);qjPaginateList.html(sList);$("span",qjPaginateList).bind("click.DT",fnClick).bind("mousedown.DT",fnFalse).bind("selectstart.DT",fnFalse);anButtons=an[i].getElementsByTagName("span");anStatic=[anButtons[0],anButtons[1],anButtons[anButtons.length-2],anButtons[anButtons.length-1]];$(anStatic).removeClass(oClasses.sPageButton+" "+oClasses.sPageButtonActive+" "+oClasses.sPageButtonStaticDisabled);if(iCurrentPage==1){anStatic[0].className+=" "+oClasses.sPageButtonStaticDisabled;anStatic[1].className+=" "+oClasses.sPageButtonStaticDisabled}else{anStatic[0].className+=" "+oClasses.sPageButton;anStatic[1].className+=" "+oClasses.sPageButton}if(iPages===0||iCurrentPage==iPages||oSettings._iDisplayLength==-1){anStatic[2].className+=" "+oClasses.sPageButtonStaticDisabled;anStatic[3].className+=" "+oClasses.sPageButtonStaticDisabled}else{anStatic[2].className+=" "+oClasses.sPageButton;anStatic[3].className+=" "+oClasses.sPageButton}}}}};_oExt.oSort={"string-asc":function(a,b){var x=a.toLowerCase();var y=b.toLowerCase();return((x<y)?-1:((x>y)?1:0))},"string-desc":function(a,b){var x=a.toLowerCase();var y=b.toLowerCase();return((x<y)?1:((x>y)?-1:0))},"html-asc":function(a,b){var x=a.replace(/<.*?>/g,"").toLowerCase();var y=b.replace(/<.*?>/g,"").toLowerCase();return((x<y)?-1:((x>y)?1:0))},"html-desc":function(a,b){var x=a.replace(/<.*?>/g,"").toLowerCase();var y=b.replace(/<.*?>/g,"").toLowerCase();return((x<y)?1:((x>y)?-1:0))},"date-asc":function(a,b){var x=Date.parse(a);var y=Date.parse(b);if(isNaN(x)||x===""){x=Date.parse("01/01/1970 00:00:00")}if(isNaN(y)||y===""){y=Date.parse("01/01/1970 00:00:00")}return x-y},"date-desc":function(a,b){var x=Date.parse(a);var y=Date.parse(b);if(isNaN(x)||x===""){x=Date.parse("01/01/1970 00:00:00")}if(isNaN(y)||y===""){y=Date.parse("01/01/1970 00:00:00")}return y-x},"numeric-asc":function(a,b){var x=(a=="-"||a==="")?0:a*1;var y=(b=="-"||b==="")?0:b*1;return x-y},"numeric-desc":function(a,b){var x=(a=="-"||a==="")?0:a*1;var y=(b=="-"||b==="")?0:b*1;return y-x}};_oExt.aTypes=[function(sData){if(sData.length===0){return"numeric"}var sValidFirstChars="0123456789-";var sValidChars="0123456789.";var Char;var bDecimal=false;Char=sData.charAt(0);if(sValidFirstChars.indexOf(Char)==-1){return null}for(var i=1;i<sData.length;i++){Char=sData.charAt(i);if(sValidChars.indexOf(Char)==-1){return null}if(Char=="."){if(bDecimal){return null}bDecimal=true}}return"numeric"},function(sData){var iParse=Date.parse(sData);if((iParse!==null&&!isNaN(iParse))||sData.length===0){return"date"}return null},function(sData){if(sData.indexOf("<")!=-1&&sData.indexOf(">")!=-1){return"html"}return null}];_oExt.fnVersionCheck=function(sVersion){var fnZPad=function(Zpad,count){while(Zpad.length<count){Zpad+="0"}return Zpad};var aThis=_oExt.sVersion.split(".");var aThat=sVersion.split(".");var sThis="",sThat="";for(var i=0,iLen=aThat.length;i<iLen;i++){sThis+=fnZPad(aThis[i],3);sThat+=fnZPad(aThat[i],3)}return parseInt(sThis,10)>=parseInt(sThat,10)};_oExt._oExternConfig={iNextUnique:0};$.fn.dataTable=function(oInit){function classSettings(){this.fnRecordsTotal=function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsTotal,10)}else{return this.aiDisplayMaster.length}};this.fnRecordsDisplay=function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsDisplay,10)}else{return this.aiDisplay.length}};this.fnDisplayEnd=function(){if(this.oFeatures.bServerSide){if(this.oFeatures.bPaginate===false||this._iDisplayLength==-1){return this._iDisplayStart+this.aiDisplay.length}else{return Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay)}}else{return this._iDisplayEnd}};this.oInstance=null;this.sInstance=null;this.oFeatures={bPaginate:true,bLengthChange:true,bFilter:true,bSort:true,bInfo:true,bAutoWidth:true,bProcessing:false,bSortClasses:true,bStateSave:false,bServerSide:false};this.oScroll={sX:"",sXInner:"",sY:"",bCollapse:false,bInfinite:false,iLoadGap:100,iBarWidth:0,bAutoCss:true};this.aanFeatures=[];this.oLanguage={sProcessing:"Processing...",sLengthMenu:"Show _MENU_ entries",sZeroRecords:"No matching records found",sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sSearch:"Search:",sUrl:"",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"},fnInfoCallback:null};this.aoData=[];this.aiDisplay=[];this.aiDisplayMaster=[];this.aoColumns=[];this.iNextId=0;this.asDataSearch=[];this.oPreviousSearch={sSearch:"",bRegex:false,bSmart:true};this.aoPreSearchCols=[];this.aaSorting= 0,"asc",0 ;this.aaSortingFixed=null;this.asStripClasses=[];this.asDestoryStrips=[];this.sDestroyWidth=0;this.fnRowCallback=null;this.fnHeaderCallback=null;this.fnFooterCallback=null;this.aoDrawCallback=[];this.fnInitComplete=null;this.sTableId="";this.nTable=null;this.nTHead=null;this.nTFoot=null;this.nTBody=null;this.nTableWrapper=null;this.bInitialised=false;this.aoOpenRows=[];this.sDom="lfrtip";this.sPaginationType="two_button";this.iCookieDuration=60*60*2;this.sCookiePrefix="SpryMedia_DataTables_";this.fnCookieCallback=null;this.aoStateSave=[];this.aoStateLoad=[];this.oLoadedState=null;this.sAjaxSource=null;this.bAjaxDataGet=true;this.fnServerData=function(url,data,callback){$.ajax({url:url,data:data,success:callback,dataType:"json",cache:false,error:function(xhr,error,thrown){if(error=="parsererror"){alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}})};this.fnFormatNumber=function(iIn){if(iIn<1000){return iIn}else{var s=(iIn+""),a=s.split(""),out="",iLen=s.length;for(var i=0;i<iLen;i++){if(i%3===0&&i!==0){out=","+out}out=a[iLen-i-1]+out}}return out};this.aLengthMenu=[10,25,50,100];this.iDraw=0;this.bDrawing=0;this.iDrawError=-1;this._iDisplayLength=10;this._iDisplayStart=0;this._iDisplayEnd=10;this._iRecordsTotal=0;this._iRecordsDisplay=0;this.bJUI=false;this.oClasses=_oExt.oStdClasses;this.bFiltered=false;this.bSorted=false;this.oInit=null}this.oApi={};this.fnDraw=function(bComplete){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof bComplete!="undefined"&&bComplete===false){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}else{_fnReDraw(oSettings)}};this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(!oSettings.oFeatures.bFilter){return}if(typeof bRegex=="undefined"){bRegex=false}if(typeof bSmart=="undefined"){bSmart=true}if(typeof bShowGlobal=="undefined"){bShowGlobal=true}if(typeof iColumn=="undefined"||iColumn===null){_fnFilterComplete(oSettings,{sSearch:sInput,bRegex:bRegex,bSmart:bSmart},1);if(bShowGlobal&&typeof oSettings.aanFeatures.f!="undefined"){var n=oSettings.aanFeatures.f;for(var i=0,iLen=n.length;i<iLen;i++){$("input",n[i]).val(sInput)}}}else{oSettings.aoPreSearchCols[iColumn].sSearch=sInput;oSettings.aoPreSearchCols[iColumn].bRegex=bRegex;oSettings.aoPreSearchCols[iColumn].bSmart=bSmart;_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)}};this.fnSettings=function(nNode){return _fnSettingsFromNode(this[_oExt.iApiIndex])};this.fnVersionCheck=_oExt.fnVersionCheck;this.fnSort=function(aaSort){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);oSettings.aaSorting=aaSort;_fnSort(oSettings)};this.fnSortListener=function(nNode,iColumn,fnCallback){_fnSortAttachListener(_fnSettingsFromNode(this[_oExt.iApiIndex]),nNode,iColumn,fnCallback)};this.fnAddData=function(mData,bRedraw){if(mData.length===0){return[]}var aiReturn=[];var iTest;var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof mData[0]=="object"){for(var i=0;i<mData.length;i++){iTest=_fnAddData(oSettings,mData[i]);if(iTest==-1){return aiReturn}aiReturn.push(iTest)}}else{iTest=_fnAddData(oSettings,mData);if(iTest==-1){return aiReturn}aiReturn.push(iTest)}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();if(typeof bRedraw=="undefined"||bRedraw){_fnReDraw(oSettings)}return aiReturn};this.fnDeleteRow=function(mTarget,fnCallBack,bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var i,iAODataIndex;iAODataIndex=(typeof mTarget=="object")?_fnNodeToDataIndex(oSettings,mTarget):mTarget;var oData=oSettings.aoData.splice(iAODataIndex,1);var iDisplayIndex=$.inArray(iAODataIndex,oSettings.aiDisplay);oSettings.asDataSearch.splice(iDisplayIndex,1);_fnDeleteIndex(oSettings.aiDisplayMaster,iAODataIndex);_fnDeleteIndex(oSettings.aiDisplay,iAODataIndex);if(typeof fnCallBack=="function"){fnCallBack.call(this,oSettings,oData)}if(oSettings._iDisplayStart>=oSettings.aiDisplay.length){oSettings._iDisplayStart-=oSettings._iDisplayLength;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}if(typeof bRedraw=="undefined"||bRedraw){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}return oData};this.fnClearTable=function(bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnClearTable(oSettings);if(typeof bRedraw=="undefined"||bRedraw){_fnDraw(oSettings)}};this.fnOpen=function(nTr,sHtml,sClass){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);this.fnClose(nTr);var nNewRow=document.createElement("tr");var nNewCell=document.createElement("td");nNewRow.appendChild(nNewCell);nNewCell.className=sClass;nNewCell.colSpan=_fnVisbleColumns(oSettings);nNewCell.innerHTML=sHtml;var nTrs=$("tr",oSettings.nTBody);if($.inArray(nTr,nTrs)!=-1){$(nNewRow).insertAfter(nTr)}oSettings.aoOpenRows.push({nTr:nNewRow,nParent:nTr});return nNewRow};this.fnClose=function(nTr){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);for(var i=0;i<oSettings.aoOpenRows.length;i++){if(oSettings.aoOpenRows[i].nParent==nTr){var nTrParent=oSettings.aoOpenRows[i].nTr.parentNode;if(nTrParent){nTrParent.removeChild(oSettings.aoOpenRows[i].nTr)}oSettings.aoOpenRows.splice(i,1);return 0}}return 1};this.fnGetData=function(mRow){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof mRow!="undefined"){var iRow=(typeof mRow=="object")?_fnNodeToDataIndex(oSettings,mRow):mRow;return((aRowData=oSettings.aoData[iRow])?aRowData._aData:null)}return _fnGetDataMaster(oSettings)};this.fnGetNodes=function(iRow){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof iRow!="undefined"){return((aRowData=oSettings.aoData[iRow])?aRowData.nTr:null)}return _fnGetTrNodes(oSettings)};this.fnGetPosition=function(nNode){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var i;if(nNode.nodeName.toUpperCase()=="TR"){return _fnNodeToDataIndex(oSettings,nNode)}else{if(nNode.nodeName.toUpperCase()=="TD"){var iDataIndex=_fnNodeToDataIndex(oSettings,nNode.parentNode);var iCorrector=0;for(var j=0;j<oSettings.aoColumns.length;j++){if(oSettings.aoColumns[j].bVisible){if(oSettings.aoData[iDataIndex].nTr.getElementsByTagName("td")[j-iCorrector]==nNode){return[iDataIndex,j-iCorrector,j]}}else{iCorrector++}}}}return null};this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var iVisibleColumn;var sDisplay;var iRow=(typeof mRow=="object")?_fnNodeToDataIndex(oSettings,mRow):mRow;if(typeof mData!="object"){sDisplay=mData;oSettings.aoData[iRow]._aData[iColumn]=sDisplay;if(oSettings.aoColumns[iColumn].fnRender!==null){sDisplay=oSettings.aoColumns[iColumn].fnRender({iDataRow:iRow,iDataColumn:iColumn,aData:oSettings.aoData[iRow]._aData,oSettings:oSettings});if(oSettings.aoColumns[iColumn].bUseRendered){oSettings.aoData[iRow]._aData[iColumn]=sDisplay}}iVisibleColumn=_fnColumnIndexToVisible(oSettings,iColumn);if(iVisibleColumn!==null){oSettings.aoData[iRow].nTr.getElementsByTagName("td")[iVisibleColumn].innerHTML=sDisplay}else{oSettings.aoData[iRow]._anHidden[iColumn].innerHTML=sDisplay}}else{if(mData.length!=oSettings.aoColumns.length){_fnLog(oSettings,0,"An array passed to fnUpdate must have the same number of columns as the table in question - in this case "+oSettings.aoColumns.length);return 1}for(var i=0;i<mData.length;i++){sDisplay=mData[i];oSettings.aoData[iRow]._aData[i]=sDisplay;if(oSettings.aoColumns[i].fnRender!==null){sDisplay=oSettings.aoColumns[i].fnRender({iDataRow:iRow,iDataColumn:i,aData:oSettings.aoData[iRow]._aData,oSettings:oSettings});if(oSettings.aoColumns[i].bUseRendered){oSettings.aoData[iRow]._aData[i]=sDisplay}}iVisibleColumn=_fnColumnIndexToVisible(oSettings,i);if(iVisibleColumn!==null){oSettings.aoData[iRow].nTr.getElementsByTagName("td")[iVisibleColumn].innerHTML=sDisplay}else{oSettings.aoData[iRow]._anHidden[i].innerHTML=sDisplay}}}var iDisplayIndex=$.inArray(iRow,oSettings.aiDisplay);oSettings.asDataSearch[iDisplayIndex]=_fnBuildSearchRow(oSettings,oSettings.aoData[iRow]._aData);if(typeof bAction=="undefined"||bAction){_fnAjustColumnSizing(oSettings)}if(typeof bRedraw=="undefined"||bRedraw){_fnReDraw(oSettings)}return 0};this.fnSetColumnVis=function(iCol,bShow,bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var i,iLen;var iColumns=oSettings.aoColumns.length;var nTd,anTds,nCell,anTrs,jqChildren;if(oSettings.aoColumns[iCol].bVisible==bShow){return}var nTrHead=$(">tr",oSettings.nTHead)[0];var nTrFoot=$(">tr",oSettings.nTFoot)[0];var anTheadTh=[];var anTfootTh=[];for(i=0;i<iColumns;i++){anTheadTh.push(oSettings.aoColumns[i].nTh);anTfootTh.push(oSettings.aoColumns[i].nTf)}if(bShow){var iInsert=0;for(i=0;i<iCol;i++){if(oSettings.aoColumns[i].bVisible){iInsert++}}if(iInsert>=_fnVisbleColumns(oSettings)){nTrHead.appendChild(anTheadTh[iCol]);anTrs=$(">tr",oSettings.nTHead);for(i=1,iLen=anTrs.length;i<iLen;i++){anTrs[i].appendChild(oSettings.aoColumns[iCol].anThExtra[i-1])}if(nTrFoot){nTrFoot.appendChild(anTfootTh[iCol]);anTrs=$(">tr",oSettings.nTFoot);for(i=1,iLen=anTrs.length;i<iLen;i++){anTrs[i].appendChild(oSettings.aoColumns[iCol].anTfExtra[i-1])}}for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){nTd=oSettings.aoData[i]._anHidden[iCol];oSettings.aoData[i].nTr.appendChild(nTd)}}else{var iBefore;for(i=iCol;i<iColumns;i++){iBefore=_fnColumnIndexToVisible(oSettings,i);if(iBefore!==null){break}}nTrHead.insertBefore(anTheadTh[iCol],nTrHead.getElementsByTagName("th")[iBefore]);anTrs=$(">tr",oSettings.nTHead);for(i=1,iLen=anTrs.length;i<iLen;i++){jqChildren=$(anTrs[i]).children();anTrs[i].insertBefore(oSettings.aoColumns[iCol].anThExtra[i-1],jqChildren[iBefore])}if(nTrFoot){nTrFoot.insertBefore(anTfootTh[iCol],nTrFoot.getElementsByTagName("th")[iBefore]);anTrs=$(">tr",oSettings.nTFoot);for(i=1,iLen=anTrs.length;i<iLen;i++){jqChildren=$(anTrs[i]).children();anTrs[i].insertBefore(oSettings.aoColumns[iCol].anTfExtra[i-1],jqChildren[iBefore])}}anTds=_fnGetTdNodes(oSettings);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){nTd=oSettings.aoData[i]._anHidden[iCol];oSettings.aoData[i].nTr.insertBefore(nTd,$(">td:eq("+iBefore+")",oSettings.aoData[i].nTr)[0])}}oSettings.aoColumns[iCol].bVisible=true}else{nTrHead.removeChild(anTheadTh[iCol]);for(i=0,iLen=oSettings.aoColumns[iCol].anThExtra.length;i<iLen;i++){nCell=oSettings.aoColumns[iCol].anThExtra[i];nCell.parentNode.removeChild(nCell)}if(nTrFoot){nTrFoot.removeChild(anTfootTh[iCol]);for(i=0,iLen=oSettings.aoColumns[iCol].anTfExtra.length;i<iLen;i++){nCell=oSettings.aoColumns[iCol].anTfExtra[i];nCell.parentNode.removeChild(nCell)}}anTds=_fnGetTdNodes(oSettings);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){nTd=anTds[(i*oSettings.aoColumns.length)+(iCol*1)];oSettings.aoData[i]._anHidden[iCol]=nTd;nTd.parentNode.removeChild(nTd)}oSettings.aoColumns[iCol].bVisible=false}for(i=0,iLen=oSettings.aoOpenRows.length;i<iLen;i++){oSettings.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(oSettings)}if(typeof bRedraw=="undefined"||bRedraw){_fnAjustColumnSizing(oSettings);_fnDraw(oSettings)}_fnSaveState(oSettings)};this.fnPageChange=function(sAction,bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnPageChange(oSettings,sAction);_fnCalculateEnd(oSettings);if(typeof bRedraw=="undefined"||bRedraw){_fnDraw(oSettings)}};this.fnDestroy=function(){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var nOrig=oSettings.nTableWrapper.parentNode;var nBody=oSettings.nTBody;var i,iLen;oSettings.bDestroying=true;$(oSettings.nTableWrapper).find("*").andSelf().unbind(".DT");for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(oSettings.aoColumns[i].bVisible===false){this.fnSetColumnVis(i,true)}}$("tbody>tr>td."+oSettings.oClasses.sRowEmpty,oSettings.nTable).parent().remove();if(oSettings.nTable!=oSettings.nTHead.parentNode){$(">thead",oSettings.nTable).remove();oSettings.nTable.appendChild(oSettings.nTHead)}if(oSettings.nTFoot&&oSettings.nTable!=oSettings.nTFoot.parentNode){$(">tfoot",oSettings.nTable).remove();oSettings.nTable.appendChild(oSettings.nTFoot)}oSettings.nTable.parentNode.removeChild(oSettings.nTable);$(oSettings.nTableWrapper).remove();oSettings.aaSorting=[];oSettings.aaSortingFixed=[];_fnSortingClasses(oSettings);$(_fnGetTrNodes(oSettings)).removeClass(oSettings.asStripClasses.join(" "));if(!oSettings.bJUI){$("th",oSettings.nTHead).removeClass([_oExt.oStdClasses.sSortable,_oExt.oStdClasses.sSortableAsc,_oExt.oStdClasses.sSortableDesc,_oExt.oStdClasses.sSortableNone].join(" "))}else{$("th",oSettings.nTHead).removeClass([_oExt.oStdClasses.sSortable,_oExt.oJUIClasses.sSortableAsc,_oExt.oJUIClasses.sSortableDesc,_oExt.oJUIClasses.sSortableNone].join(" "));$("th span",oSettings.nTHead).remove()}nOrig.appendChild(oSettings.nTable);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){nBody.appendChild(oSettings.aoData[i].nTr)}oSettings.nTable.style.width=_fnStringToCss(oSettings.sDestroyWidth);$(">tr:even",nBody).addClass(oSettings.asDestoryStrips[0]);$(">tr:odd",nBody).addClass(oSettings.asDestoryStrips[1]);for(i=0,iLen=_aoSettings.length;i<iLen;i++){if(_aoSettings[i]==oSettings){_aoSettings.splice(i,1)}}oSettings=null};this.fnAdjustColumnSizing=function(bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnAjustColumnSizing(oSettings);if(typeof bRedraw=="undefined"||bRedraw){this.fnDraw(false)}else{if(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!==""){this.oApi._fnScrollDraw(oSettings)}}};function _fnExternApiFunc(sFunc){return function(){var aArgs=[_fnSettingsFromNode(this[_oExt.iApiIndex])].concat(Array.prototype.slice.call(arguments));return _oExt.oApi[sFunc].apply(this,aArgs)}}for(var sFunc in _oExt.oApi){if(sFunc){this[sFunc]=_fnExternApiFunc(sFunc)}}function _fnInitalise(oSettings){var i,iLen;if(oSettings.bInitialised===false){setTimeout(function(){_fnInitalise(oSettings)},200);return}_fnAddOptionsHtml(oSettings);_fnDrawHead(oSettings);_fnProcessingDisplay(oSettings,true);if(oSettings.oFeatures.bAutoWidth){_fnCalculateColumnWidths(oSettings)}for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(oSettings.aoColumns[i].sWidth!==null){oSettings.aoColumns[i].nTh.style.width=_fnStringToCss(oSettings.aoColumns[i].sWidth)}}if(oSettings.oFeatures.bSort){_fnSort(oSettings)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}if(oSettings.sAjaxSource!==null&&!oSettings.oFeatures.bServerSide){oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,[],function(json){for(i=0;i<json.aaData.length;i++){_fnAddData(oSettings,json.aaData[i])}oSettings.iInitDisplayStart=oSettings._iDisplayStart;if(oSettings.oFeatures.bSort){_fnSort(oSettings)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}_fnProcessingDisplay(oSettings,false);_fnInitComplete(oSettings,json)});return}if(!oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false);_fnInitComplete(oSettings)}}function _fnInitComplete(oSettings,json){oSettings._bInitComplete=true;if(typeof oSettings.fnInitComplete=="function"){if(typeof json!="undefined"){oSettings.fnInitComplete.call(oSettings.oInstance,oSettings,json)}else{oSettings.fnInitComplete.call(oSettings.oInstance,oSettings)}}}function _fnLanguageProcess(oSettings,oLanguage,bInit){_fnMap(oSettings.oLanguage,oLanguage,"sProcessing");_fnMap(oSettings.oLanguage,oLanguage,"sLengthMenu");_fnMap(oSettings.oLanguage,oLanguage,"sEmptyTable");_fnMap(oSettings.oLanguage,oLanguage,"sZeroRecords");_fnMap(oSettings.oLanguage,oLanguage,"sInfo");_fnMap(oSettings.oLanguage,oLanguage,"sInfoEmpty");_fnMap(oSettings.oLanguage,oLanguage,"sInfoFiltered");_fnMap(oSettings.oLanguage,oLanguage,"sInfoPostFix");_fnMap(oSettings.oLanguage,oLanguage,"sSearch");if(typeof oLanguage.oPaginate!="undefined"){_fnMap(oSettings.oLanguage.oPaginate,oLanguage.oPaginate,"sFirst");_fnMap(oSettings.oLanguage.oPaginate,oLanguage.oPaginate,"sPrevious");_fnMap(oSettings.oLanguage.oPaginate,oLanguage.oPaginate,"sNext");_fnMap(oSettings.oLanguage.oPaginate,oLanguage.oPaginate,"sLast")}if(typeof oLanguage.sEmptyTable=="undefined"&&typeof oLanguage.sZeroRecords!="undefined"){_fnMap(oSettings.oLanguage,oLanguage,"sZeroRecords","sEmptyTable")}if(bInit){_fnInitalise(oSettings)}}function _fnAddColumn(oSettings,nTh){oSettings.aoColumns[oSettings.aoColumns.length++]={sType:null,_bAutoType:true,bVisible:true,bSearchable:true,bSortable:true,asSorting:["asc","desc"],sSortingClass:oSettings.oClasses.sSortable,sSortingClassJUI:oSettings.oClasses.sSortJUI,sTitle:nTh?nTh.innerHTML:"",sName:"",sWidth:null,sWidthOrig:null,sClass:null,fnRender:null,bUseRendered:true,iDataSort:oSettings.aoColumns.length-1,sSortDataType:"std",nTh:nTh?nTh:document.createElement("th"),nTf:null,anThExtra:[],anTfExtra:[]};var iCol=oSettings.aoColumns.length-1;var oCol=oSettings.aoColumns[iCol];if(typeof oSettings.aoPreSearchCols[iCol]=="undefined"||oSettings.aoPreSearchCols[iCol]===null){oSettings.aoPreSearchCols[iCol]={sSearch:"",bRegex:false,bSmart:true}}else{if(typeof oSettings.aoPreSearchCols[iCol].bRegex=="undefined"){oSettings.aoPreSearchCols[iCol].bRegex=true}if(typeof oSettings.aoPreSearchCols[iCol].bSmart=="undefined"){oSettings.aoPreSearchCols[iCol].bSmart=true}}_fnColumnOptions(oSettings,iCol,null)}function _fnColumnOptions(oSettings,iCol,oOptions){var oCol=oSettings.aoColumns[iCol];if(typeof oOptions!="undefined"&&oOptions!==null){if(typeof oOptions.sType!="undefined"){oCol.sType=oOptions.sType;oCol._bAutoType=false}_fnMap(oCol,oOptions,"bVisible");_fnMap(oCol,oOptions,"bSearchable");_fnMap(oCol,oOptions,"bSortable");_fnMap(oCol,oOptions,"sTitle");_fnMap(oCol,oOptions,"sName");_fnMap(oCol,oOptions,"sWidth");_fnMap(oCol,oOptions,"sWidth","sWidthOrig");_fnMap(oCol,oOptions,"sClass");_fnMap(oCol,oOptions,"fnRender");_fnMap(oCol,oOptions,"bUseRendered");_fnMap(oCol,oOptions,"iDataSort");_fnMap(oCol,oOptions,"asSorting");_fnMap(oCol,oOptions,"sSortDataType")}if(!oSettings.oFeatures.bSort){oCol.bSortable=false}if(!oCol.bSortable||($.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)==-1)){oCol.sSortingClass=oSettings.oClasses.sSortableNone;oCol.sSortingClassJUI=""}else{if($.inArray("asc",oCol.asSorting)!=-1&&$.inArray("desc",oCol.asSorting)==-1){oCol.sSortingClass=oSettings.oClasses.sSortableAsc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIAscAllowed}else{if($.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)!=-1){oCol.sSortingClass=oSettings.oClasses.sSortableDesc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIDescAllowed}}}}function _fnAddData(oSettings,aDataSupplied){if(aDataSupplied.length!=oSettings.aoColumns.length&&oSettings.iDrawError!=oSettings.iDraw){_fnLog(oSettings,0,"Added data (size "+aDataSupplied.length+") does not match known number of columns ("+oSettings.aoColumns.length+")");oSettings.iDrawError=oSettings.iDraw;return -1}var aData=aDataSupplied.slice();var iThisIndex=oSettings.aoData.length;oSettings.aoData.push({nTr:document.createElement("tr"),_iId:oSettings.iNextId++,_aData:aData,_anHidden:[],_sRowStripe:""});var nTd,sThisType;for(var i=0;i<aData.length;i++){nTd=document.createElement("td");if(aData[i]===null){aData[i]=""}if(typeof oSettings.aoColumns[i].fnRender=="function"){var sRendered=oSettings.aoColumns[i].fnRender({iDataRow:iThisIndex,iDataColumn:i,aData:aData,oSettings:oSettings});nTd.innerHTML=sRendered;if(oSettings.aoColumns[i].bUseRendered){oSettings.aoData[iThisIndex]._aData[i]=sRendered}}else{nTd.innerHTML=aData[i]}if(typeof aData[i]!="string"){aData[i]+=""}aData[i]=$.trim(aData[i]);if(oSettings.aoColumns[i].sClass!==null){nTd.className=oSettings.aoColumns[i].sClass}if(oSettings.aoColumns[i]._bAutoType&&oSettings.aoColumns[i].sType!="string"){sThisType=_fnDetectType(oSettings.aoData[iThisIndex]._aData[i]);if(oSettings.aoColumns[i].sType===null){oSettings.aoColumns[i].sType=sThisType}else{if(oSettings.aoColumns[i].sType!=sThisType){oSettings.aoColumns[i].sType="string"}}}if(oSettings.aoColumns[i].bVisible){oSettings.aoData[iThisIndex].nTr.appendChild(nTd);oSettings.aoData[iThisIndex]._anHidden[i]=null}else{oSettings.aoData[iThisIndex]._anHidden[i]=nTd}}oSettings.aiDisplayMaster.push(iThisIndex);return iThisIndex}function _fnGatherData(oSettings){var iLoop,i,iLen,j,jLen,jInner,nTds,nTrs,nTd,aLocalData,iThisIndex,iRow,iRows,iColumn,iColumns;if(oSettings.sAjaxSource===null){nTrs=oSettings.nTBody.childNodes;for(i=0,iLen=nTrs.length;i<iLen;i++){if(nTrs[i].nodeName.toUpperCase()=="TR"){iThisIndex=oSettings.aoData.length;oSettings.aoData.push({nTr:nTrs[i],_iId:oSettings.iNextId++,_aData:[],_anHidden:[],_sRowStripe:""});oSettings.aiDisplayMaster.push(iThisIndex);aLocalData=oSettings.aoData[iThisIndex]._aData;nTds=nTrs[i].childNodes;jInner=0;for(j=0,jLen=nTds.length;j<jLen;j++){if(nTds[j].nodeName.toUpperCase()=="TD"){aLocalData[jInner]=$.trim(nTds[j].innerHTML);jInner++}}}}}nTrs=_fnGetTrNodes(oSettings);nTds=[];for(i=0,iLen=nTrs.length;i<iLen;i++){for(j=0,jLen=nTrs[i].childNodes.length;j<jLen;j++){nTd=nTrs[i].childNodes[j];if(nTd.nodeName.toUpperCase()=="TD"){nTds.push(nTd)}}}if(nTds.length!=nTrs.length*oSettings.aoColumns.length){_fnLog(oSettings,1,"Unexpected number of TD elements. Expected "+(nTrs.length*oSettings.aoColumns.length)+" and got "+nTds.length+". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination.")}for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumn<iColumns;iColumn++){if(oSettings.aoColumns[iColumn].sTitle===null){oSettings.aoColumns[iColumn].sTitle=oSettings.aoColumns[iColumn].nTh.innerHTML}var bAutoType=oSettings.aoColumns[iColumn]._bAutoType,bRender=typeof oSettings.aoColumns[iColumn].fnRender=="function",bClass=oSettings.aoColumns[iColumn].sClass!==null,bVisible=oSettings.aoColumns[iColumn].bVisible,nCell,sThisType,sRendered;if(bAutoType||bRender||bClass||!bVisible){for(iRow=0,iRows=oSettings.aoData.length;iRow<iRows;iRow++){nCell=nTds[(iRow*iColumns)+iColumn];if(bAutoType){if(oSettings.aoColumns[iColumn].sType!="string"){sThisType=_fnDetectType(oSettings.aoData[iRow]._aData[iColumn]);if(oSettings.aoColumns[iColumn].sType===null){oSettings.aoColumns[iColumn].sType=sThisType}else{if(oSettings.aoColumns[iColumn].sType!=sThisType){oSettings.aoColumns[iColumn].sType="string"}}}}if(bRender){sRendered=oSettings.aoColumns[iColumn].fnRender({iDataRow:iRow,iDataColumn:iColumn,aData:oSettings.aoData[iRow]._aData,oSettings:oSettings});nCell.innerHTML=sRendered;if(oSettings.aoColumns[iColumn].bUseRendered){oSettings.aoData[iRow]._aData[iColumn]=sRendered}}if(bClass){nCell.className+=" "+oSettings.aoColumns[iColumn].sClass}if(!bVisible){oSettings.aoData[iRow]._anHidden[iColumn]=nCell;nCell.parentNode.removeChild(nCell)}else{oSettings.aoData[iRow]._anHidden[iColumn]=null}}}}}function _fnDrawHead(oSettings){var i,nTh,iLen,j,jLen;var anTr=oSettings.nTHead.getElementsByTagName("tr");var iThs=oSettings.nTHead.getElementsByTagName("th").length;var iCorrector=0;var jqChildren;if(iThs!==0){for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;if(oSettings.aoColumns[i].sClass!==null){$(nTh).addClass(oSettings.aoColumns[i].sClass)}for(j=1,jLen=anTr.length;j<jLen;j++){jqChildren=$(anTr[j]).children();oSettings.aoColumns[i].anThExtra.push(jqChildren[i-iCorrector]);if(!oSettings.aoColumns[i].bVisible){anTr[j].removeChild(jqChildren[i-iCorrector])}}if(oSettings.aoColumns[i].bVisible){if(oSettings.aoColumns[i].sTitle!=nTh.innerHTML){nTh.innerHTML=oSettings.aoColumns[i].sTitle}}else{nTh.parentNode.removeChild(nTh);iCorrector++}}}else{var nTr=document.createElement("tr");for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;nTh.innerHTML=oSettings.aoColumns[i].sTitle;if(oSettings.aoColumns[i].sClass!==null){$(nTh).addClass(oSettings.aoColumns[i].sClass)}if(oSettings.aoColumns[i].bVisible){nTr.appendChild(nTh)}}$(oSettings.nTHead).html("")[0].appendChild(nTr)}if(oSettings.bJUI){for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;var nDiv=document.createElement("div");nDiv.className=oSettings.oClasses.sSortJUIWrapper;$(nTh).contents().appendTo(nDiv);nDiv.appendChild(document.createElement("span"));nTh.appendChild(nDiv)}}var fnNoSelect=function(e){this.onselectstart=function(){return false};return false};if(oSettings.oFeatures.bSort){for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bSortable!==false){_fnSortAttachListener(oSettings,oSettings.aoColumns[i].nTh,i);$(oSettings.aoColumns[i].nTh).bind("mousedown.DT",fnNoSelect)}else{$(oSettings.aoColumns[i].nTh).addClass(oSettings.oClasses.sSortableNone)}}}if(oSettings.nTFoot!==null){iCorrector=0;anTr=oSettings.nTFoot.getElementsByTagName("tr");var nTfs=anTr[0].getElementsByTagName("th");for(i=0,iLen=nTfs.length;i<iLen;i++){if(typeof oSettings.aoColumns[i]!="undefined"){oSettings.aoColumns[i].nTf=nTfs[i-iCorrector];if(oSettings.oClasses.sFooterTH!==""){oSettings.aoColumns[i].nTf.className+=" "+oSettings.oClasses.sFooterTH}for(j=1,jLen=anTr.length;j<jLen;j++){jqChildren=$(anTr[j]).children();oSettings.aoColumns[i].anTfExtra.push(jqChildren[i-iCorrector]);if(!oSettings.aoColumns[i].bVisible){anTr[j].removeChild(jqChildren[i-iCorrector])}}if(!oSettings.aoColumns[i].bVisible){nTfs[i-iCorrector].parentNode.removeChild(nTfs[i-iCorrector]);iCorrector++}}}}}function _fnDraw(oSettings){var i,iLen;var anRows=[];var iRowCount=0;var bRowError=false;var iStrips=oSettings.asStripClasses.length;var iOpenRows=oSettings.aoOpenRows.length;oSettings.bDrawing=true;if(typeof oSettings.iInitDisplayStart!="undefined"&&oSettings.iInitDisplayStart!=-1){if(oSettings.oFeatures.bServerSide){oSettings._iDisplayStart=oSettings.iInitDisplayStart}else{oSettings._iDisplayStart=(oSettings.iInitDisplayStart>=oSettings.fnRecordsDisplay())?0:oSettings.iInitDisplayStart}oSettings.iInitDisplayStart=-1;_fnCalculateEnd(oSettings)}if(!oSettings.bDestroying&&oSettings.oFeatures.bServerSide&&!_fnAjaxUpdate(oSettings)){return}else{if(!oSettings.oFeatures.bServerSide){oSettings.iDraw++}}if(oSettings.aiDisplay.length!==0){var iStart=oSettings._iDisplayStart;var iEnd=oSettings._iDisplayEnd;if(oSettings.oFeatures.bServerSide){iStart=0;iEnd=oSettings.aoData.length}for(var j=iStart;j<iEnd;j++){var aoData=oSettings.aoData[oSettings.aiDisplay[j]];var nRow=aoData.nTr;if(iStrips!==0){var sStrip=oSettings.asStripClasses[iRowCount%iStrips];if(aoData._sRowStripe!=sStrip){$(nRow).removeClass(aoData._sRowStripe).addClass(sStrip);aoData._sRowStripe=sStrip}}if(typeof oSettings.fnRowCallback=="function"){nRow=oSettings.fnRowCallback.call(oSettings.oInstance,nRow,oSettings.aoData[oSettings.aiDisplay[j]]._aData,iRowCount,j);if(!nRow&&!bRowError){_fnLog(oSettings,0,"A node was not returned by fnRowCallback");bRowError=true}}anRows.push(nRow);iRowCount++;if(iOpenRows!==0){for(var k=0;k<iOpenRows;k++){if(nRow==oSettings.aoOpenRows[k].nParent){anRows.push(oSettings.aoOpenRows[k].nTr)}}}}}else{anRows[0]=document.createElement("tr");if(typeof oSettings.asStripClasses[0]!="undefined"){anRows[0].className=oSettings.asStripClasses[0]}var nTd=document.createElement("td");nTd.setAttribute("valign","top");nTd.colSpan=_fnVisbleColumns(oSettings);nTd.className=oSettings.oClasses.sRowEmpty;if(typeof oSettings.oLanguage.sEmptyTable!="undefined"&&oSettings.fnRecordsTotal()===0){nTd.innerHTML=oSettings.oLanguage.sEmptyTable}else{nTd.innerHTML=oSettings.oLanguage.sZeroRecords.replace("_MAX_",oSettings.fnFormatNumber(oSettings.fnRecordsTotal()))}anRows[iRowCount].appendChild(nTd)}if(typeof oSettings.fnHeaderCallback=="function"){oSettings.fnHeaderCallback.call(oSettings.oInstance,$(">tr",oSettings.nTHead)[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay)}if(typeof oSettings.fnFooterCallback=="function"){oSettings.fnFooterCallback.call(oSettings.oInstance,$(">tr",oSettings.nTFoot)[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay)}var nAddFrag=document.createDocumentFragment(),nRemoveFrag=document.createDocumentFragment(),nBodyPar,nTrs;if(oSettings.nTBody){nBodyPar=oSettings.nTBody.parentNode;nRemoveFrag.appendChild(oSettings.nTBody);if(!oSettings.oScroll.bInfinite||!oSettings._bInitComplete||oSettings.bSorted||oSettings.bFiltered){nTrs=oSettings.nTBody.childNodes;for(i=nTrs.length-1;i>=0;i--){nTrs[i].parentNode.removeChild(nTrs[i])}}for(i=0,iLen=anRows.length;i<iLen;i++){nAddFrag.appendChild(anRows[i])}oSettings.nTBody.appendChild(nAddFrag);if(nBodyPar!==null){nBodyPar.appendChild(oSettings.nTBody)}}for(i=oSettings.aoDrawCallback.length-1;i>=0;i--){oSettings.aoDrawCallback[i].fn.call(oSettings.oInstance,oSettings)}oSettings.bSorted=false;oSettings.bFiltered=false;oSettings.bDrawing=false;if(oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false);if(typeof oSettings._bInitComplete=="undefined"){_fnInitComplete(oSettings)}}}function _fnReDraw(oSettings){if(oSettings.oFeatures.bSort){_fnSort(oSettings,oSettings.oPreviousSearch)}else{if(oSettings.oFeatures.bFilter){_fnFilterComplete(oSettings,oSettings.oPreviousSearch)}else{_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}}function _fnAjaxUpdate(oSettings){if(oSettings.bAjaxDataGet){_fnProcessingDisplay(oSettings,true);var iColumns=oSettings.aoColumns.length;var aoData=[];var i;oSettings.iDraw++;aoData.push({name:"sEcho",value:oSettings.iDraw});aoData.push({name:"iColumns",value:iColumns});aoData.push({name:"sColumns",value:_fnColumnOrdering(oSettings)});aoData.push({name:"iDisplayStart",value:oSettings._iDisplayStart});aoData.push({name:"iDisplayLength",value:oSettings.oFeatures.bPaginate!==false?oSettings._iDisplayLength:-1});if(oSettings.oFeatures.bFilter!==false){aoData.push({name:"sSearch",value:oSettings.oPreviousSearch.sSearch});aoData.push({name:"bRegex",value:oSettings.oPreviousSearch.bRegex});for(i=0;i<iColumns;i++){aoData.push({name:"sSearch_"+i,value:oSettings.aoPreSearchCols[i].sSearch});aoData.push({name:"bRegex_"+i,value:oSettings.aoPreSearchCols[i].bRegex});aoData.push({name:"bSearchable_"+i,value:oSettings.aoColumns[i].bSearchable})}}if(oSettings.oFeatures.bSort!==false){var iFixed=oSettings.aaSortingFixed!==null?oSettings.aaSortingFixed.length:0;var iUser=oSettings.aaSorting.length;aoData.push({name:"iSortingCols",value:iFixed+iUser});for(i=0;i<iFixed;i++){aoData.push({name:"iSortCol_"+i,value:oSettings.aaSortingFixed[i][0]});aoData.push({name:"sSortDir_"+i,value:oSettings.aaSortingFixed[i][1]})}for(i=0;i<iUser;i++){aoData.push({name:"iSortCol_"+(i+iFixed),value:oSettings.aaSorting[i][0]});aoData.push({name:"sSortDir_"+(i+iFixed),value:oSettings.aaSorting[i][1]})}for(i=0;i<iColumns;i++){aoData.push({name:"bSortable_"+i,value:oSettings.aoColumns[i].bSortable})}}oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){_fnAjaxUpdateDraw(oSettings,json)});return false}else{return true}}function _fnAjaxUpdateDraw(oSettings,json){if(typeof json.sEcho!="undefined"){if(json.sEcho*1<oSettings.iDraw){return}else{oSettings.iDraw=json.sEcho*1}}if(!oSettings.oScroll.bInfinite||(oSettings.oScroll.bInfinite&&(oSettings.bSorted||oSettings.bFiltered))){_fnClearTable(oSettings)}oSettings._iRecordsTotal=json.iTotalRecords;oSettings._iRecordsDisplay=json.iTotalDisplayRecords;var sOrdering=_fnColumnOrdering(oSettings);var bReOrder=(typeof json.sColumns!="undefined"&&sOrdering!==""&&json.sColumns!=sOrdering);if(bReOrder){var aiIndex=_fnReOrderIndex(oSettings,json.sColumns)}for(var i=0,iLen=json.aaData.length;i<iLen;i++){if(bReOrder){var aData=[];for(var j=0,jLen=oSettings.aoColumns.length;j<jLen;j++){aData.push(json.aaData[i][aiIndex[j]])}_fnAddData(oSettings,aData)}else{_fnAddData(oSettings,json.aaData[i])}}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bAjaxDataGet=false;_fnDraw(oSettings);oSettings.bAjaxDataGet=true;_fnProcessingDisplay(oSettings,false)}function _fnAddOptionsHtml(oSettings){var nHolding=document.createElement("div");oSettings.nTable.parentNode.insertBefore(nHolding,oSettings.nTable);oSettings.nTableWrapper=document.createElement("div");oSettings.nTableWrapper.className=oSettings.oClasses.sWrapper;if(oSettings.sTableId!==""){oSettings.nTableWrapper.setAttribute("id",oSettings.sTableId+"_wrapper")}var nInsertNode=oSettings.nTableWrapper;var aDom=oSettings.sDom.split("");var nTmp,iPushFeature,cOption,nNewNode,cNext,sAttr,j;for(var i=0;i<aDom.length;i++){iPushFeature=0;cOption=aDom[i];if(cOption=="<"){nNewNode=document.createElement("div");cNext=aDom[i+1];if(cNext=="'"||cNext=='"'){sAttr="";j=2;while(aDom[i+j]!=cNext){sAttr+=aDom[i+j];j++}if(sAttr=="H"){sAttr="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"}else{if(sAttr=="F"){sAttr="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}}if(sAttr.indexOf(".")!=-1){var aSplit=sAttr.split(".");nNewNode.setAttribute("id",aSplit[0].substr(1,aSplit[0].length-1));nNewNode.className=aSplit[1]}else{if(sAttr.charAt(0)=="#"){nNewNode.setAttribute("id",sAttr.substr(1,sAttr.length-1))}else{nNewNode.className=sAttr}}i+=j}nInsertNode.appendChild(nNewNode);nInsertNode=nNewNode}else{if(cOption==">"){nInsertNode=nInsertNode.parentNode}else{if(cOption=="l"&&oSettings.oFeatures.bPaginate&&oSettings.oFeatures.bLengthChange){nTmp=_fnFeatureHtmlLength(oSettings);iPushFeature=1}else{if(cOption=="f"&&oSettings.oFeatures.bFilter){nTmp=_fnFeatureHtmlFilter(oSettings);iPushFeature=1}else{if(cOption=="r"&&oSettings.oFeatures.bProcessing){nTmp=_fnFeatureHtmlProcessing(oSettings);iPushFeature=1}else{if(cOption=="t"){nTmp=_fnFeatureHtmlTable(oSettings);iPushFeature=1}else{if(cOption=="i"&&oSettings.oFeatures.bInfo){nTmp=_fnFeatureHtmlInfo(oSettings);iPushFeature=1}else{if(cOption=="p"&&oSettings.oFeatures.bPaginate){nTmp=_fnFeatureHtmlPaginate(oSettings);iPushFeature=1}else{if(_oExt.aoFeatures.length!==0){var aoFeatures=_oExt.aoFeatures;for(var k=0,kLen=aoFeatures.length;k<kLen;k++){if(cOption==aoFeatures[k].cFeature){nTmp=aoFeatures[k].fnInit(oSettings);if(nTmp){iPushFeature=1}break}}}}}}}}}}}if(iPushFeature==1&&nTmp!==null){if(typeof oSettings.aanFeatures[cOption]!="object"){oSettings.aanFeatures[cOption]=[]}oSettings.aanFeatures[cOption].push(nTmp);nInsertNode.appendChild(nTmp)}}nHolding.parentNode.replaceChild(oSettings.nTableWrapper,nHolding)}function _fnFeatureHtmlTable(oSettings){if(oSettings.oScroll.sX===""&&oSettings.oScroll.sY===""){return oSettings.nTable}var nScroller=document.createElement("div"),nScrollHead=document.createElement("div"),nScrollHeadInner=document.createElement("div"),nScrollBody=document.createElement("div"),nScrollFoot=document.createElement("div"),nScrollFootInner=document.createElement("div"),nScrollHeadTable=oSettings.nTable.cloneNode(false),nScrollFootTable=oSettings.nTable.cloneNode(false),nThead=oSettings.nTable.getElementsByTagName("thead")[0],nTfoot=oSettings.nTable.getElementsByTagName("tfoot").length===0?null:oSettings.nTable.getElementsByTagName("tfoot")[0],oClasses=(typeof oInit.bJQueryUI!="undefined"&&oInit.bJQueryUI)?_oExt.oJUIClasses:_oExt.oStdClasses;nScrollHead.appendChild(nScrollHeadInner);nScrollFoot.appendChild(nScrollFootInner);nScrollBody.appendChild(oSettings.nTable);nScroller.appendChild(nScrollHead);nScroller.appendChild(nScrollBody);nScrollHeadInner.appendChild(nScrollHeadTable);nScrollHeadTable.appendChild(nThead);if(nTfoot!==null){nScroller.appendChild(nScrollFoot);nScrollFootInner.appendChild(nScrollFootTable);nScrollFootTable.appendChild(nTfoot)}nScroller.className=oClasses.sScrollWrapper;nScrollHead.className=oClasses.sScrollHead;nScrollHeadInner.className=oClasses.sScrollHeadInner;nScrollBody.className=oClasses.sScrollBody;nScrollFoot.className=oClasses.sScrollFoot;nScrollFootInner.className=oClasses.sScrollFootInner;if(oSettings.oScroll.bAutoCss){nScrollHead.style.overflow="hidden";nScrollHead.style.position="relative";nScrollFoot.style.overflow="hidden";nScrollBody.style.overflow="auto"}nScrollHead.style.border="0";nScrollHead.style.width="100%";nScrollFoot.style.border="0";nScrollHeadInner.style.width="150%";nScrollHeadTable.removeAttribute("id");nScrollHeadTable.style.marginLeft="0";oSettings.nTable.style.marginLeft="0";if(nTfoot!==null){nScrollFootTable.removeAttribute("id");nScrollFootTable.style.marginLeft="0"}var nCaptions=$(">caption",oSettings.nTable);for(var i=0,iLen=nCaptions.length;i<iLen;i++){nScrollHeadTable.appendChild(nCaptions[i])}if(oSettings.oScroll.sX!==""){nScrollHead.style.width=_fnStringToCss(oSettings.oScroll.sX);nScrollBody.style.width=_fnStringToCss(oSettings.oScroll.sX);if(nTfoot!==null){nScrollFoot.style.width=_fnStringToCss(oSettings.oScroll.sX)}$(nScrollBody).scroll(function(e){nScrollHead.scrollLeft=this.scrollLeft;if(nTfoot!==null){nScrollFoot.scrollLeft=this.scrollLeft}})}if(oSettings.oScroll.sY!==""){nScrollBody.style.height=_fnStringToCss(oSettings.oScroll.sY)}oSettings.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"});if(oSettings.oScroll.bInfinite){$(nScrollBody).scroll(function(){if(!oSettings.bDrawing){if($(this).scrollTop()+$(this).height()>$(oSettings.nTable).height()-oSettings.oScroll.iLoadGap){if(oSettings.fnDisplayEnd()<oSettings.fnRecordsDisplay()){_fnPageChange(oSettings,"next");_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}}})}oSettings.nScrollHead=nScrollHead;oSettings.nScrollFoot=nScrollFoot;return nScroller}function _fnScrollDraw(o){var nScrollHeadInner=o.nScrollHead.getElementsByTagName("div")[0],nScrollHeadTable=nScrollHeadInner.getElementsByTagName("table")[0],nScrollBody=o.nTable.parentNode,i,iLen,j,jLen,anHeadToSize,anHeadSizers,anFootSizers,anFootToSize,oStyle,iVis,iWidth,aApplied=[],iSanityWidth;var nTheadSize=o.nTable.getElementsByTagName("thead");if(nTheadSize.length>0){o.nTable.removeChild(nTheadSize[0])}if(o.nTFoot!==null){var nTfootSize=o.nTable.getElementsByTagName("tfoot");if(nTfootSize.length>0){o.nTable.removeChild(nTfootSize[0])}}nTheadSize=o.nTHead.cloneNode(true);o.nTable.insertBefore(nTheadSize,o.nTable.childNodes[0]);if(o.nTFoot!==null){nTfootSize=o.nTFoot.cloneNode(true);o.nTable.insertBefore(nTfootSize,o.nTable.childNodes[1])}var nThs=_fnGetUniqueThs(nTheadSize);for(i=0,iLen=nThs.length;i<iLen;i++){iVis=_fnVisibleToColumnIndex(o,i);nThs[i].style.width=o.aoColumns[iVis].sWidth}if(o.nTFoot!==null){_fnApplyToChildren(function(n){n.style.width=""},nTfootSize.getElementsByTagName("tr"))}iSanityWidth=$(o.nTable).outerWidth();if(o.oScroll.sX===""){o.nTable.style.width="100%";if($.browser.msie&&$.browser.version<=7){o.nTable.style.width=_fnStringToCss($(o.nTable).outerWidth()-o.oScroll.iBarWidth)}}else{if(o.oScroll.sXInner!==""){o.nTable.style.width=_fnStringToCss(o.oScroll.sXInner)}else{if(iSanityWidth==$(nScrollBody).width()&&$(nScrollBody).height()<$(o.nTable).height()){o.nTable.style.width=_fnStringToCss(iSanityWidth-o.oScroll.iBarWidth);if($(o.nTable).outerWidth()>iSanityWidth-o.oScroll.iBarWidth){o.nTable.style.width=_fnStringToCss(iSanityWidth)}}else{o.nTable.style.width=_fnStringToCss(iSanityWidth)}}}iSanityWidth=$(o.nTable).outerWidth();anHeadToSize=o.nTHead.getElementsByTagName("tr");anHeadSizers=nTheadSize.getElementsByTagName("tr");_fnApplyToChildren(function(nSizer,nToSize){oStyle=nSizer.style;oStyle.paddingTop="0";oStyle.paddingBottom="0";oStyle.borderTopWidth="0";oStyle.borderBottomWidth="0";oStyle.height=0;iWidth=$(nSizer).width();nToSize.style.width=_fnStringToCss(iWidth);aApplied.push(iWidth)},anHeadSizers,anHeadToSize);$(anHeadSizers).height(0);if(o.nTFoot!==null){anFootSizers=nTfootSize.getElementsByTagName("tr");anFootToSize=o.nTFoot.getElementsByTagName("tr");_fnApplyToChildren(function(nSizer,nToSize){oStyle=nSizer.style;oStyle.paddingTop="0";oStyle.paddingBottom="0";oStyle.borderTopWidth="0";oStyle.borderBottomWidth="0";oStyle.height=0;iWidth=$(nSizer).width();nToSize.style.width=_fnStringToCss(iWidth);aApplied.push(iWidth)},anFootSizers,anFootToSize);$(anFootSizers).height(0)}_fnApplyToChildren(function(nSizer){nSizer.innerHTML="";nSizer.style.width=_fnStringToCss(aApplied.shift())},anHeadSizers);if(o.nTFoot!==null){_fnApplyToChildren(function(nSizer){nSizer.innerHTML="";nSizer.style.width=_fnStringToCss(aApplied.shift())},anFootSizers)}if($(o.nTable).outerWidth()<iSanityWidth){if(o.oScroll.sX===""){_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. It is suggested that you enable x-scrolling or increase the width the table has in which to be drawn")}else{if(o.oScroll.sXInner!==""){_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. It is suggested that you increase the sScrollXInner property to allow it to draw in a larger area, or simply remove that parameter to allow automatic calculation")}}}if(o.oScroll.sY===""){if($.browser.msie&&$.browser.version<=7){nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+o.oScroll.iBarWidth)}}if(o.oScroll.sY!==""&&o.oScroll.bCollapse){nScrollBody.style.height=_fnStringToCss(o.oScroll.sY);var iExtra=(o.oScroll.sX!==""&&o.nTable.offsetWidth>nScrollBody.offsetWidth)?o.oScroll.iBarWidth:0;if(o.nTable.offsetHeight<nScrollBody.offsetHeight){nScrollBody.style.height=_fnStringToCss($(o.nTable).height()+iExtra)}}var iOuterWidth=$(o.nTable).outerWidth();nScrollHeadTable.style.width=_fnStringToCss(iOuterWidth);nScrollHeadInner.style.width=_fnStringToCss(iOuterWidth+o.oScroll.iBarWidth);if(o.nTFoot!==null){var nScrollFootInner=o.nScrollFoot.getElementsByTagName("div")[0],nScrollFootTable=nScrollFootInner.getElementsByTagName("table")[0];nScrollFootInner.style.width=_fnStringToCss(o.nTable.offsetWidth+o.oScroll.iBarWidth);nScrollFootTable.style.width=_fnStringToCss(o.nTable.offsetWidth)}if(o.bSorted||o.bFiltered){nScrollBody.scrollTop=0}}function _fnAjustColumnSizing(oSettings){if(oSettings.oFeatures.bAutoWidth===false){return false}_fnCalculateColumnWidths(oSettings);for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oSettings.aoColumns[i].nTh.style.width=oSettings.aoColumns[i].sWidth}}function _fnFeatureHtmlFilter(oSettings){var nFilter=document.createElement("div");if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.f=="undefined"){nFilter.setAttribute("id",oSettings.sTableId+"_filter")}nFilter.className=oSettings.oClasses.sFilter;var sSpace=oSettings.oLanguage.sSearch===""?"":" ";nFilter.innerHTML=oSettings.oLanguage.sSearch+sSpace+'<input type="text" />';var jqFilter=$("input",nFilter);jqFilter.val(oSettings.oPreviousSearch.sSearch.replace('"',"""));jqFilter.bind("keyup.DT",function(e){var n=oSettings.aanFeatures.f;for(var i=0,iLen=n.length;i<iLen;i++){if(n[i]!=this.parentNode){$("input",n[i]).val(this.value)}}if(this.value!=oSettings.oPreviousSearch.sSearch){_fnFilterComplete(oSettings,{sSearch:this.value,bRegex:oSettings.oPreviousSearch.bRegex,bSmart:oSettings.oPreviousSearch.bSmart})}});jqFilter.bind("keypress.DT",function(e){if(e.keyCode==13){return false}});return nFilter}function _fnFilterComplete(oSettings,oInput,iForce){_fnFilter(oSettings,oInput.sSearch,iForce,oInput.bRegex,oInput.bSmart);for(var i=0;i<oSettings.aoPreSearchCols.length;i++){_fnFilterColumn(oSettings,oSettings.aoPreSearchCols[i].sSearch,i,oSettings.aoPreSearchCols[i].bRegex,oSettings.aoPreSearchCols[i].bSmart)}if(_oExt.afnFiltering.length!==0){_fnFilterCustom(oSettings)}oSettings.bFiltered=true;oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings);_fnBuildSearchArray(oSettings,0)}function _fnFilterCustom(oSettings){var afnFilters=_oExt.afnFiltering;for(var i=0,iLen=afnFilters.length;i<iLen;i++){var iCorrector=0;for(var j=0,jLen=oSettings.aiDisplay.length;j<jLen;j++){var iDisIndex=oSettings.aiDisplay[j-iCorrector];if(!afnFilters[i](oSettings,oSettings.aoData[iDisIndex]._aData,iDisIndex)){oSettings.aiDisplay.splice(j-iCorrector,1);iCorrector++}}}}function _fnFilterColumn(oSettings,sInput,iColumn,bRegex,bSmart){if(sInput===""){return}var iIndexCorrector=0;var rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart);for(var i=oSettings.aiDisplay.length-1;i>=0;i--){var sData=_fnDataToSearch(oSettings.aoData[oSettings.aiDisplay[i]]._aData[iColumn],oSettings.aoColumns[iColumn].sType);if(!rpSearch.test(sData)){oSettings.aiDisplay.splice(i,1);iIndexCorrector++}}}function _fnFilter(oSettings,sInput,iForce,bRegex,bSmart){var i;var rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart);if(typeof iForce=="undefined"||iForce===null){iForce=0}if(_oExt.afnFiltering.length!==0){iForce=1}if(sInput.length<=0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice()}else{if(oSettings.aiDisplay.length==oSettings.aiDisplayMaster.length||oSettings.oPreviousSearch.sSearch.length>sInput.length||iForce==1||sInput.indexOf(oSettings.oPreviousSearch.sSearch)!==0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnBuildSearchArray(oSettings,1);for(i=0;i<oSettings.aiDisplayMaster.length;i++){if(rpSearch.test(oSettings.asDataSearch[i])){oSettings.aiDisplay.push(oSettings.aiDisplayMaster[i])}}}else{var iIndexCorrector=0;for(i=0;i<oSettings.asDataSearch.length;i++){if(!rpSearch.test(oSettings.asDataSearch[i])){oSettings.aiDisplay.splice(i-iIndexCorrector,1);iIndexCorrector++}}}}oSettings.oPreviousSearch.sSearch=sInput;oSettings.oPreviousSearch.bRegex=bRegex;oSettings.oPreviousSearch.bSmart=bSmart}function _fnBuildSearchArray(oSettings,iMaster){oSettings.asDataSearch.splice(0,oSettings.asDataSearch.length);var aArray=(typeof iMaster!="undefined"&&iMaster==1)?oSettings.aiDisplayMaster:oSettings.aiDisplay;for(var i=0,iLen=aArray.length;i<iLen;i++){oSettings.asDataSearch[i]=_fnBuildSearchRow(oSettings,oSettings.aoData[aArray[i]]._aData)}}function _fnBuildSearchRow(oSettings,aData){var sSearch="";var nTmp=document.createElement("div");for(var j=0,jLen=oSettings.aoColumns.length;j<jLen;j++){if(oSettings.aoColumns[j].bSearchable){var sData=aData[j];sSearch+=_fnDataToSearch(sData,oSettings.aoColumns[j].sType)+"  "}}if(sSearch.indexOf("&")!==-1){nTmp.innerHTML=sSearch;sSearch=nTmp.textContent?nTmp.textContent:nTmp.innerText;sSearch=sSearch.replace(/\n/g," ").replace(/\r/g,"")}return sSearch}function _fnFilterCreateSearch(sSearch,bRegex,bSmart){var asSearch,sRegExpString;if(bSmart){asSearch=bRegex?sSearch.split(" "):_fnEscapeRegex(sSearch).split(" ");sRegExpString="^(?=.*?"+asSearch.join(")(?=.*?")+").*$";return new RegExp(sRegExpString,"i")}else{sSearch=bRegex?sSearch:_fnEscapeRegex(sSearch);return new RegExp(sSearch,"i")}}function _fnDataToSearch(sData,sType){if(typeof _oExt.ofnSearch[sType]=="function"){return _oExt.ofnSearch[sType](sData)}else{if(sType=="html"){return sData.replace(/\n/g," ").replace(/<.*?>/g,"")}else{if(typeof sData=="string"){return sData.replace(/\n/g," ")}}}return sData}function _fnSort(oSettings,bApplyClasses){var iDataSort,iDataType,i,iLen,j,jLen,aaSort=[],aiOrig=[],oSort=_oExt.oSort,aoData=oSettings.aoData,aoColumns=oSettings.aoColumns;if(!oSettings.oFeatures.bServerSide&&(oSettings.aaSorting.length!==0||oSettings.aaSortingFixed!==null)){if(oSettings.aaSortingFixed!==null){aaSort=oSettings.aaSortingFixed.concat(oSettings.aaSorting)}else{aaSort=oSettings.aaSorting.slice()}for(i=0;i<aaSort.length;i++){var iColumn=aaSort[i][0];var iVisColumn=_fnColumnIndexToVisible(oSettings,iColumn);var sDataType=oSettings.aoColumns[iColumn].sSortDataType;if(typeof _oExt.afnSortData[sDataType]!="undefined"){var aData=_oExt.afnSortData[sDataType](oSettings,iColumn,iVisColumn);for(j=0,jLen=aoData.length;j<jLen;j++){aoData[j]._aData[iColumn]=aData[j]}}}for(i=0,iLen=oSettings.aiDisplayMaster.length;i<iLen;i++){aiOrig[oSettings.aiDisplayMaster[i]]=i}var iSortLen=aaSort.length;oSettings.aiDisplayMaster.sort(function(a,b){var iTest;for(i=0;i<iSortLen;i++){iDataSort=aoColumns[aaSort[i][0]].iDataSort;iDataType=aoColumns[iDataSort].sType;iTest=oSort[iDataType+"-"+aaSort[i][1]](aoData[a]._aData[iDataSort],aoData[b]._aData[iDataSort]);if(iTest!==0){return iTest}}return oSort["numeric-asc"](aiOrig[a],aiOrig[b])})}if(typeof bApplyClasses=="undefined"||bApplyClasses){_fnSortingClasses(oSettings)}oSettings.bSorted=true;if(oSettings.oFeatures.bFilter){_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}function _fnSortAttachListener(oSettings,nNode,iDataIndex,fnCallback){$(nNode).bind("click.DT",function(e){if(oSettings.aoColumns[iDataIndex].bSortable===false){return}var fnInnerSorting=function(){var iColumn,iNextSort;if(e.shiftKey){var bFound=false;for(var i=0;i<oSettings.aaSorting.length;i++){if(oSettings.aaSorting[i][0]==iDataIndex){bFound=true;iColumn=oSettings.aaSorting[i][0];iNextSort=oSettings.aaSorting[i][2]+1;if(typeof oSettings.aoColumns[iColumn].asSorting[iNextSort]=="undefined"){oSettings.aaSorting.splice(i,1)}else{oSettings.aaSorting[i][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[i][2]=iNextSort}break}}if(bFound===false){oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}}else{if(oSettings.aaSorting.length==1&&oSettings.aaSorting[0][0]==iDataIndex){iColumn=oSettings.aaSorting[0][0];iNextSort=oSettings.aaSorting[0][2]+1;if(typeof oSettings.aoColumns[iColumn].asSorting[iNextSort]=="undefined"){iNextSort=0}oSettings.aaSorting[0][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[0][2]=iNextSort}else{oSettings.aaSorting.splice(0,oSettings.aaSorting.length);oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}}_fnSort(oSettings)};if(!oSettings.oFeatures.bProcessing){fnInnerSorting()}else{_fnProcessingDisplay(oSettings,true);setTimeout(function(){fnInnerSorting();if(!oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false)}},0)}if(typeof fnCallback=="function"){fnCallback(oSettings)}})}function _fnSortingClasses(oSettings){var i,iLen,j,jLen,iFound;var aaSort,sClass;var iColumns=oSettings.aoColumns.length;var oClasses=oSettings.oClasses;for(i=0;i<iColumns;i++){if(oSettings.aoColumns[i].bSortable){$(oSettings.aoColumns[i].nTh).removeClass(oClasses.sSortAsc+" "+oClasses.sSortDesc+" "+oSettings.aoColumns[i].sSortingClass)}}if(oSettings.aaSortingFixed!==null){aaSort=oSettings.aaSortingFixed.concat(oSettings.aaSorting)}else{aaSort=oSettings.aaSorting.slice()}for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bSortable){sClass=oSettings.aoColumns[i].sSortingClass;iFound=-1;for(j=0;j<aaSort.length;j++){if(aaSort[j][0]==i){sClass=(aaSort[j][1]=="asc")?oClasses.sSortAsc:oClasses.sSortDesc;iFound=j;break}}$(oSettings.aoColumns[i].nTh).addClass(sClass);if(oSettings.bJUI){var jqSpan=$("span",oSettings.aoColumns[i].nTh);jqSpan.removeClass(oClasses.sSortJUIAsc+" "+oClasses.sSortJUIDesc+" "+oClasses.sSortJUI+" "+oClasses.sSortJUIAscAllowed+" "+oClasses.sSortJUIDescAllowed);var sSpanClass;if(iFound==-1){sSpanClass=oSettings.aoColumns[i].sSortingClassJUI}else{if(aaSort[iFound][1]=="asc"){sSpanClass=oClasses.sSortJUIAsc}else{sSpanClass=oClasses.sSortJUIDesc}}jqSpan.addClass(sSpanClass)}}else{$(oSettings.aoColumns[i].nTh).addClass(oSettings.aoColumns[i].sSortingClass)}}sClass=oClasses.sSortColumn;if(oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){var nTds=_fnGetTdNodes(oSettings);if(nTds.length>=iColumns){for(i=0;i<iColumns;i++){if(nTds[i].className.indexOf(sClass+"1")!=-1){for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+i].className=$.trim(nTds[(iColumns*j)+i].className.replace(sClass+"1",""))}}else{if(nTds[i].className.indexOf(sClass+"2")!=-1){for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+i].className=$.trim(nTds[(iColumns*j)+i].className.replace(sClass+"2",""))}}else{if(nTds[i].className.indexOf(sClass+"3")!=-1){for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+i].className=$.trim(nTds[(iColumns*j)+i].className.replace(" "+sClass+"3",""))}}}}}}var iClass=1,iTargetCol;for(i=0;i<aaSort.length;i++){iTargetCol=parseInt(aaSort[i][0],10);for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+iTargetCol].className+=" "+sClass+iClass}if(iClass<3){iClass++}}}}function _fnFeatureHtmlPaginate(oSettings){if(oSettings.oScroll.bInfinite){return null}var nPaginate=document.createElement("div");nPaginate.className=oSettings.oClasses.sPaging+oSettings.sPaginationType;_oExt.oPagination[oSettings.sPaginationType].fnInit(oSettings,nPaginate,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)});if(typeof oSettings.aanFeatures.p=="undefined"){oSettings.aoDrawCallback.push({fn:function(oSettings){_oExt.oPagination[oSettings.sPaginationType].fnUpdate(oSettings,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)})},sName:"pagination"})}return nPaginate}function _fnPageChange(oSettings,sAction){var iOldStart=oSettings._iDisplayStart;if(sAction=="first"){oSettings._iDisplayStart=0}else{if(sAction=="previous"){oSettings._iDisplayStart=oSettings._iDisplayLength>=0?oSettings._iDisplayStart-oSettings._iDisplayLength:0;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}else{if(sAction=="next"){if(oSettings._iDisplayLength>=0){if(oSettings._iDisplayStart+oSettings._iDisplayLength<oSettings.fnRecordsDisplay()){oSettings._iDisplayStart+=oSettings._iDisplayLength}}else{oSettings._iDisplayStart=0}}else{if(sAction=="last"){if(oSettings._iDisplayLength>=0){var iPages=parseInt((oSettings.fnRecordsDisplay()-1)/oSettings._iDisplayLength,10)+1;oSettings._iDisplayStart=(iPages-1)*oSettings._iDisplayLength}else{oSettings._iDisplayStart=0}}else{_fnLog(oSettings,0,"Unknown paging action: "+sAction)}}}}return iOldStart!=oSettings._iDisplayStart}function _fnFeatureHtmlInfo(oSettings){var nInfo=document.createElement("div");nInfo.className=oSettings.oClasses.sInfo;if(typeof oSettings.aanFeatures.i=="undefined"){oSettings.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"});if(oSettings.sTableId!==""){nInfo.setAttribute("id",oSettings.sTableId+"_info")}}return nInfo}function _fnUpdateInfo(oSettings){if(!oSettings.oFeatures.bInfo||oSettings.aanFeatures.i.length===0){return}var iStart=oSettings._iDisplayStart+1,iEnd=oSettings.fnDisplayEnd(),iMax=oSettings.fnRecordsTotal(),iTotal=oSettings.fnRecordsDisplay(),sStart=oSettings.fnFormatNumber(iStart),sEnd=oSettings.fnFormatNumber(iEnd),sMax=oSettings.fnFormatNumber(iMax),sTotal=oSettings.fnFormatNumber(iTotal),sOut;if(oSettings.oScroll.bInfinite){sStart=oSettings.fnFormatNumber(1)}if(oSettings.fnRecordsDisplay()===0&&oSettings.fnRecordsDisplay()==oSettings.fnRecordsTotal()){sOut=oSettings.oLanguage.sInfoEmpty+oSettings.oLanguage.sInfoPostFix}else{if(oSettings.fnRecordsDisplay()===0){sOut=oSettings.oLanguage.sInfoEmpty+" "+oSettings.oLanguage.sInfoFiltered.replace("_MAX_",sMax)+oSettings.oLanguage.sInfoPostFix}else{if(oSettings.fnRecordsDisplay()==oSettings.fnRecordsTotal()){sOut=oSettings.oLanguage.sInfo.replace("_START_",sStart).replace("_END_",sEnd).replace("_TOTAL_",sTotal)+oSettings.oLanguage.sInfoPostFix}else{sOut=oSettings.oLanguage.sInfo.replace("_START_",sStart).replace("_END_",sEnd).replace("_TOTAL_",sTotal)+" "+oSettings.oLanguage.sInfoFiltered.replace("_MAX_",oSettings.fnFormatNumber(oSettings.fnRecordsTotal()))+oSettings.oLanguage.sInfoPostFix}}}if(oSettings.oLanguage.fnInfoCallback!==null){sOut=oSettings.oLanguage.fnInfoCallback(oSettings,iStart,iEnd,iMax,iTotal,sOut)}var n=oSettings.aanFeatures.i;for(var i=0,iLen=n.length;i<iLen;i++){$(n[i]).html(sOut)}}function _fnFeatureHtmlLength(oSettings){if(oSettings.oScroll.bInfinite){return null}var sName=(oSettings.sTableId==="")?"":'name="'+oSettings.sTableId+'_length"';var sStdMenu='<select size="1" '+sName+">";var i,iLen;if(oSettings.aLengthMenu.length==2&&typeof oSettings.aLengthMenu[0]=="object"&&typeof oSettings.aLengthMenu[1]=="object"){for(i=0,iLen=oSettings.aLengthMenu[0].length;i<iLen;i++){sStdMenu+='<option value="'+oSettings.aLengthMenu[0][i]+'">'+oSettings.aLengthMenu[1][i]+"</option>"}}else{for(i=0,iLen=oSettings.aLengthMenu.length;i<iLen;i++){sStdMenu+='<option value="'+oSettings.aLengthMenu[i]+'">'+oSettings.aLengthMenu[i]+"</option>"}}sStdMenu+="</select>";var nLength=document.createElement("div");if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.l=="undefined"){nLength.setAttribute("id",oSettings.sTableId+"_length")}nLength.className=oSettings.oClasses.sLength;nLength.innerHTML=oSettings.oLanguage.sLengthMenu.replace("_MENU_",sStdMenu);$('select option[value="'+oSettings._iDisplayLength+'"]',nLength).attr("selected",true);$("select",nLength).bind("change.DT",function(e){var iVal=$(this).val();var n=oSettings.aanFeatures.l;for(i=0,iLen=n.length;i<iLen;i++){if(n[i]!=this.parentNode){$("select",n[i]).val(iVal)}}oSettings._iDisplayLength=parseInt(iVal,10);_fnCalculateEnd(oSettings);if(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()){oSettings._iDisplayStart=oSettings.fnDisplayEnd()-oSettings._iDisplayLength;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}if(oSettings._iDisplayLength==-1){oSettings._iDisplayStart=0}_fnDraw(oSettings)});return nLength}function _fnFeatureHtmlProcessing(oSettings){var nProcessing=document.createElement("div");if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.r=="undefined"){nProcessing.setAttribute("id",oSettings.sTableId+"_processing")}nProcessing.innerHTML=oSettings.oLanguage.sProcessing;nProcessing.className=oSettings.oClasses.sProcessing;oSettings.nTable.parentNode.insertBefore(nProcessing,oSettings.nTable);return nProcessing}function _fnProcessingDisplay(oSettings,bShow){if(oSettings.oFeatures.bProcessing){var an=oSettings.aanFeatures.r;for(var i=0,iLen=an.length;i<iLen;i++){an[i].style.visibility=bShow?"visible":"hidden"}}}function _fnVisibleToColumnIndex(oSettings,iMatch){var iColumn=-1;for(var i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible===true){iColumn++}if(iColumn==iMatch){return i}}return null}function _fnColumnIndexToVisible(oSettings,iMatch){var iVisible=-1;for(var i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible===true){iVisible++}if(i==iMatch){return oSettings.aoColumns[i].bVisible===true?iVisible:null}}return null}function _fnNodeToDataIndex(s,n){var i,iLen;for(i=s._iDisplayStart,iLen=s._iDisplayEnd;i<iLen;i++){if(s.aoData[s.aiDisplay[i]].nTr==n){return s.aiDisplay[i]}}for(i=0,iLen=s.aoData.length;i<iLen;i++){if(s.aoData[i].nTr==n){return i}}return null}function _fnVisbleColumns(oS){var iVis=0;for(var i=0;i<oS.aoColumns.length;i++){if(oS.aoColumns[i].bVisible===true){iVis++}}return iVis}function _fnCalculateEnd(oSettings){if(oSettings.oFeatures.bPaginate===false){oSettings._iDisplayEnd=oSettings.aiDisplay.length}else{if(oSettings._iDisplayStart+oSettings._iDisplayLength>oSettings.aiDisplay.length||oSettings._iDisplayLength==-1){oSettings._iDisplayEnd=oSettings.aiDisplay.length}else{oSettings._iDisplayEnd=oSettings._iDisplayStart+oSettings._iDisplayLength}}}function _fnConvertToWidth(sWidth,nParent){if(!sWidth||sWidth===null||sWidth===""){return 0}if(typeof nParent=="undefined"){nParent=document.getElementsByTagName("body")[0]}var iWidth;var nTmp=document.createElement("div");nTmp.style.width=sWidth;nParent.appendChild(nTmp);iWidth=nTmp.offsetWidth;nParent.removeChild(nTmp);return(iWidth)}function _fnCalculateColumnWidths(oSettings){var iTableWidth=oSettings.nTable.offsetWidth;var iUserInputs=0;var iTmpWidth;var iVisibleColumns=0;var iColums=oSettings.aoColumns.length;var i;var oHeaders=$("th",oSettings.nTHead);for(i=0;i<iColums;i++){if(oSettings.aoColumns[i].bVisible){iVisibleColumns++;if(oSettings.aoColumns[i].sWidth!==null){iTmpWidth=_fnConvertToWidth(oSettings.aoColumns[i].sWidthOrig,oSettings.nTable.parentNode);if(iTmpWidth!==null){oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth)}iUserInputs++}}}if(iColums==oHeaders.length&&iUserInputs===0&&iVisibleColumns==iColums&&oSettings.oScroll.sX===""&&oSettings.oScroll.sY===""){for(i=0;i<oSettings.aoColumns.length;i++){iTmpWidth=$(oHeaders[i]).width();if(iTmpWidth!==null){oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth)}}}else{var nCalcTmp=oSettings.nTable.cloneNode(false),nBody=document.createElement("tbody"),nTr=document.createElement("tr"),nDivSizing;nCalcTmp.removeAttribute("id");nCalcTmp.appendChild(oSettings.nTHead.cloneNode(true));if(oSettings.nTFoot!==null){nCalcTmp.appendChild(oSettings.nTFoot.cloneNode(true));_fnApplyToChildren(function(n){n.style.width=""},nCalcTmp.getElementsByTagName("tr"))}nCalcTmp.appendChild(nBody);nBody.appendChild(nTr);var jqColSizing=$("thead th",nCalcTmp);if(jqColSizing.length===0){jqColSizing=$("tbody tr:eq(0)>td",nCalcTmp)}jqColSizing.each(function(i){this.style.width="";var iIndex=_fnVisibleToColumnIndex(oSettings,i);if(iIndex!==null&&oSettings.aoColumns[iIndex].sWidthOrig!==""){this.style.width=oSettings.aoColumns[iIndex].sWidthOrig}});for(i=0;i<iColums;i++){if(oSettings.aoColumns[i].bVisible){var nTd=_fnGetWidestNode(oSettings,i);if(nTd!==null){nTd=nTd.cloneNode(true);nTr.appendChild(nTd)}}}var nWrapper=oSettings.nTable.parentNode;nWrapper.appendChild(nCalcTmp);if(oSettings.oScroll.sX!==""&&oSettings.oScroll.sXInner!==""){nCalcTmp.style.width=_fnStringToCss(oSettings.oScroll.sXInner)}else{if(oSettings.oScroll.sX!==""){nCalcTmp.style.width="";if($(nCalcTmp).width()<nWrapper.offsetWidth){nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth)}}else{if(oSettings.oScroll.sY!==""){nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth)}}}nCalcTmp.style.visibility="hidden";_fnScrollingWidthAdjust(oSettings,nCalcTmp);var oNodes=$("tbody tr:eq(0)>td",nCalcTmp);if(oNodes.length===0){oNodes=$("thead tr:eq(0)>th",nCalcTmp)}var iIndex,iCorrector=0,iWidth;for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible){iWidth=$(oNodes[iCorrector]).outerWidth();if(iWidth!==null&&iWidth>0){oSettings.aoColumns[i].sWidth=_fnStringToCss(iWidth)}iCorrector++}}oSettings.nTable.style.width=_fnStringToCss($(nCalcTmp).outerWidth());nCalcTmp.parentNode.removeChild(nCalcTmp)}}function _fnScrollingWidthAdjust(oSettings,n){if(oSettings.oScroll.sX===""&&oSettings.oScroll.sY!==""){var iOrigWidth=$(n).width();n.style.width=_fnStringToCss($(n).outerWidth()-oSettings.oScroll.iBarWidth)}else{if(oSettings.oScroll.sX!==""){n.style.width=_fnStringToCss($(n).outerWidth())}}}function _fnGetWidestNode(oSettings,iCol,bFast){if(typeof bFast=="undefined"||bFast){var iMaxLen=_fnGetMaxLenString(oSettings,iCol);var iFastVis=_fnColumnIndexToVisible(oSettings,iCol);if(iMaxLen<0){return null}return oSettings.aoData[iMaxLen].nTr.getElementsByTagName("td")[iFastVis]}var iMax=-1,i,iLen,iMaxIndex=-1,n=document.createElement("div");n.style.visibility="hidden";n.style.position="absolute";document.body.appendChild(n);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){n.innerHTML=oSettings.aoData[i]._aData[iCol];if(n.offsetWidth>iMax){iMax=n.offsetWidth;iMaxIndex=i}}document.body.removeChild(n);if(iMaxIndex>=0){var iVis=_fnColumnIndexToVisible(oSettings,iCol);var nRet=oSettings.aoData[iMaxIndex].nTr.getElementsByTagName("td")[iVis];if(nRet){return nRet}}return null}function _fnGetMaxLenString(oSettings,iCol){var iMax=-1;var iMaxIndex=-1;for(var i=0;i<oSettings.aoData.length;i++){var s=oSettings.aoData[i]._aData[iCol];if(s.length>iMax){iMax=s.length;iMaxIndex=i}}return iMaxIndex}function _fnStringToCss(s){if(s===null){return"0px"}if(typeof s=="number"){if(s<0){return"0px"}return s+"px"}var c=s.charCodeAt(s.length-1);if(c<48||c>57){return s}return s+"px"}function _fnArrayCmp(aArray1,aArray2){if(aArray1.length!=aArray2.length){return 1}for(var i=0;i<aArray1.length;i++){if(aArray1[i]!=aArray2[i]){return 2}}return 0}function _fnDetectType(sData){var aTypes=_oExt.aTypes;var iLen=aTypes.length;for(var i=0;i<iLen;i++){var sType=aTypes[i](sData);if(sType!==null){return sType}}return"string"}function _fnSettingsFromNode(nTable){for(var i=0;i<_aoSettings.length;i++){if(_aoSettings[i].nTable==nTable){return _aoSettings[i]}}return null}function _fnGetDataMaster(oSettings){var aData=[];var iLen=oSettings.aoData.length;for(var i=0;i<iLen;i++){aData.push(oSettings.aoData[i]._aData)}return aData}function _fnGetTrNodes(oSettings){var aNodes=[];var iLen=oSettings.aoData.length;for(var i=0;i<iLen;i++){aNodes.push(oSettings.aoData[i].nTr)}return aNodes}function _fnGetTdNodes(oSettings){var nTrs=_fnGetTrNodes(oSettings);var nTds=[],nTd;var anReturn=[];var iCorrector;var iRow,iRows,iColumn,iColumns;for(iRow=0,iRows=nTrs.length;iRow<iRows;iRow++){nTds=[];for(iColumn=0,iColumns=nTrs[iRow].childNodes.length;iColumn<iColumns;iColumn++){nTd=nTrs[iRow].childNodes[iColumn];if(nTd.nodeName.toUpperCase()=="TD"){nTds.push(nTd)}}iCorrector=0;for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumn<iColumns;iColumn++){if(oSettings.aoColumns[iColumn].bVisible){anReturn.push(nTds[iColumn-iCorrector])}else{anReturn.push(oSettings.aoData[iRow]._anHidden[iColumn]);iCorrector++}}}return anReturn}function _fnEscapeRegex(sVal){var acEscape=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];var reReplace=new RegExp("(\\"+acEscape.join("|\\")+")","g");return sVal.replace(reReplace,"\\$1")}function _fnDeleteIndex(a,iTarget){var iTargetIndex=-1;for(var i=0,iLen=a.length;i<iLen;i++){if(a[i]==iTarget){iTargetIndex=i}else{if(a[i]>iTarget){a[i]--}}}if(iTargetIndex!=-1){a.splice(iTargetIndex,1)}}function _fnReOrderIndex(oSettings,sColumns){var aColumns=sColumns.split(",");var aiReturn=[];for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){for(var j=0;j<iLen;j++){if(oSettings.aoColumns[i].sName==aColumns[j]){aiReturn.push(j);break}}}return aiReturn}function _fnColumnOrdering(oSettings){var sNames="";for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){sNames+=oSettings.aoColumns[i].sName+","}if(sNames.length==iLen){return""}return sNames.slice(0,-1)}function _fnLog(oSettings,iLevel,sMesg){var sAlert=oSettings.sTableId===""?"DataTables warning: "+sMesg:"DataTables warning (table id = '"+oSettings.sTableId+"'): "+sMesg;if(iLevel===0){if(_oExt.sErrMode=="alert"){alert(sAlert)}else{throw sAlert}return}else{if(typeof console!="undefined"&&typeof console.log!="undefined"){console.log(sAlert)}}}function _fnClearTable(oSettings){oSettings.aoData.splice(0,oSettings.aoData.length);oSettings.aiDisplayMaster.splice(0,oSettings.aiDisplayMaster.length);oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnCalculateEnd(oSettings)}function _fnSaveState(oSettings){if(!oSettings.oFeatures.bStateSave||typeof oSettings.bDestroying!="undefined"){return}var i,iLen,sTmp;var sValue="{";sValue+='"iCreate":'+new Date().getTime()+",";sValue+='"iStart":'+oSettings._iDisplayStart+",";sValue+='"iEnd":'+oSettings._iDisplayEnd+",";sValue+='"iLength":'+oSettings._iDisplayLength+",";sValue+='"sFilter":"'+encodeURIComponent(oSettings.oPreviousSearch.sSearch)+'",';sValue+='"sFilterEsc":'+!oSettings.oPreviousSearch.bRegex+",";sValue+='"aaSorting":[ ';for(i=0;i<oSettings.aaSorting.length;i++){sValue+="["+oSettings.aaSorting[i][0]+',"'+oSettings.aaSorting[i][1]+'"],'}sValue=sValue.substring(0,sValue.length-1);sValue+="],";sValue+='"aaSearchCols":[ ';for(i=0;i<oSettings.aoPreSearchCols.length;i++){sValue+='["'+encodeURIComponent(oSettings.aoPreSearchCols[i].sSearch)+'",'+!oSettings.aoPreSearchCols[i].bRegex+"],"}sValue=sValue.substring(0,sValue.length-1);sValue+="],";sValue+='"abVisCols":[ ';for(i=0;i<oSettings.aoColumns.length;i++){sValue+=oSettings.aoColumns[i].bVisible+","}sValue=sValue.substring(0,sValue.length-1);sValue+="]";for(i=0,iLen=oSettings.aoStateSave.length;i<iLen;i++){sTmp=oSettings.aoStateSave[i].fn(oSettings,sValue);if(sTmp!==""){sValue=sTmp}}sValue+="}";_fnCreateCookie(oSettings.sCookiePrefix+oSettings.sInstance,sValue,oSettings.iCookieDuration,oSettings.sCookiePrefix,oSettings.fnCookieCallback)}function _fnLoadState(oSettings,oInit){if(!oSettings.oFeatures.bStateSave){return}var oData,i,iLen;var sData=_fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance);if(sData!==null&&sData!==""){try{oData=(typeof $.parseJSON=="function")?$.parseJSON(sData.replace(/'/g,'"')):eval("("+sData+")")}catch(e){return}for(i=0,iLen=oSettings.aoStateLoad.length;i<iLen;i++){if(!oSettings.aoStateLoad[i].fn(oSettings,oData)){return}}oSettings.oLoadedState=$.extend(true,{},oData);oSettings._iDisplayStart=oData.iStart;oSettings.iInitDisplayStart=oData.iStart;oSettings._iDisplayEnd=oData.iEnd;oSettings._iDisplayLength=oData.iLength;oSettings.oPreviousSearch.sSearch=decodeURIComponent(oData.sFilter);oSettings.aaSorting=oData.aaSorting.slice();oSettings.saved_aaSorting=oData.aaSorting.slice();if(typeof oData.sFilterEsc!="undefined"){oSettings.oPreviousSearch.bRegex=!oData.sFilterEsc}if(typeof oData.aaSearchCols!="undefined"){for(i=0;i<oData.aaSearchCols.length;i++){oSettings.aoPreSearchCols[i]={sSearch:decodeURIComponent(oData.aaSearchCols[i][0]),bRegex:!oData.aaSearchCols[i][1]}}}if(typeof oData.abVisCols!="undefined"){oInit.saved_aoColumns=[];for(i=0;i<oData.abVisCols.length;i++){oInit.saved_aoColumns[i]={};oInit.saved_aoColumns[i].bVisible=oData.abVisCols[i]}}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date();date.setTime(date.getTime()+(iSecs*1000));var aParts=window.location.pathname.split("/");var sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase();var sFullCookie,oData;if(fnCallback!==null){oData=(typeof $.parseJSON=="function")?$.parseJSON(sValue):eval("("+sValue+")");sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")}else{sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/"}var sOldName="",iOldTime=9999999999999;var iLength=_fnReadCookie(sNameFile)!==null?document.cookie.length:sFullCookie.length+document.cookie.length;if(iLength+10>4096){var aCookies=document.cookie.split(";");for(var i=0,iLen=aCookies.length;i<iLen;i++){if(aCookies[i].indexOf(sBaseName)!=-1){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")")}catch(e){continue}if(typeof oData.iCreate!="undefined"&&oData.iCreate<iOldTime){sOldName=aSplitCookie[0];iOldTime=oData.iCreate}}}if(sOldName!==""){document.cookie=sOldName+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(sName){var aParts=window.location.pathname.split("/"),sNameEQ=sName+"_"+aParts[aParts.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",sCookieContents=document.cookie.split(";");for(var i=0;i<sCookieContents.length;i++){var c=sCookieContents[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(sNameEQ)===0){return decodeURIComponent(c.substring(sNameEQ.length,c.length))}}return null}function _fnGetUniqueThs(nThead){var nTrs=nThead.getElementsByTagName("tr");if(nTrs.length==1){return nTrs[0].getElementsByTagName("th")}var aLayout=[],aReturn=[];var ROWSPAN=2,COLSPAN=3,TDELEM=4;var i,j,k,iLen,jLen,iColumnShifted;var fnShiftCol=function(a,i,j){while(typeof a[i][j]!="undefined"){j++}return j};var fnAddRow=function(i){if(typeof aLayout[i]=="undefined"){aLayout[i]=[]}};for(i=0,iLen=nTrs.length;i<iLen;i++){fnAddRow(i);var iColumn=0;var nTds=[];for(j=0,jLen=nTrs[i].childNodes.length;j<jLen;j++){if(nTrs[i].childNodes[j].nodeName.toUpperCase()=="TD"||nTrs[i].childNodes[j].nodeName.toUpperCase()=="TH"){nTds.push(nTrs[i].childNodes[j])}}for(j=0,jLen=nTds.length;j<jLen;j++){var iColspan=nTds[j].getAttribute("colspan")*1;var iRowspan=nTds[j].getAttribute("rowspan")*1;if(!iColspan||iColspan===0||iColspan===1){iColumnShifted=fnShiftCol(aLayout,i,iColumn);aLayout[i][iColumnShifted]=(nTds[j].nodeName.toUpperCase()=="TD")?TDELEM:nTds[j];if(iRowspan||iRowspan===0||iRowspan===1){for(k=1;k<iRowspan;k++){fnAddRow(i+k);aLayout[i+k][iColumnShifted]=ROWSPAN}}iColumn++}else{iColumnShifted=fnShiftCol(aLayout,i,iColumn);for(k=0;k<iColspan;k++){aLayout[i][iColumnShifted+k]=COLSPAN}iColumn+=iColspan}}}for(i=0,iLen=aLayout.length;i<iLen;i++){for(j=0,jLen=aLayout[i].length;j<jLen;j++){if(typeof aLayout[i][j]=="object"&&typeof aReturn[j]=="undefined"){aReturn[j]=aLayout[i][j]}}}return aReturn}function _fnScrollBarWidth(){var inner=document.createElement("p");var style=inner.style;style.width="100%";style.height="200px";var outer=document.createElement("div");style=outer.style;style.position="absolute";style.top="0px";style.left="0px";style.visibility="hidden";style.width="200px";style.height="150px";style.overflow="hidden";outer.appendChild(inner);document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;if(w1==w2){w2=outer.clientWidth}document.body.removeChild(outer);return(w1-w2)}function _fnApplyToChildren(fn,an1,an2){for(var i=0,iLen=an1.length;i<iLen;i++){for(var j=0,jLen=an1[i].childNodes.length;j<jLen;j++){if(an1[i].childNodes[j].nodeType==1){if(typeof an2!="undefined"){fn(an1[i].childNodes[j],an2[i].childNodes[j])}else{fn(an1[i].childNodes[j])}}}}}function _fnMap(oRet,oSrc,sName,sMappedName){if(typeof sMappedName=="undefined"){sMappedName=sName}if(typeof oSrc[sName]!="undefined"){oRet[sMappedName]=oSrc[sName]}}this.oApi._fnExternApiFunc=_fnExternApiFunc;this.oApi._fnInitalise=_fnInitalise;this.oApi._fnLanguageProcess=_fnLanguageProcess;this.oApi._fnAddColumn=_fnAddColumn;this.oApi._fnColumnOptions=_fnColumnOptions;this.oApi._fnAddData=_fnAddData;this.oApi._fnGatherData=_fnGatherData;this.oApi._fnDrawHead=_fnDrawHead;this.oApi._fnDraw=_fnDraw;this.oApi._fnReDraw=_fnReDraw;this.oApi._fnAjaxUpdate=_fnAjaxUpdate;this.oApi._fnAjaxUpdateDraw=_fnAjaxUpdateDraw;this.oApi._fnAddOptionsHtml=_fnAddOptionsHtml;this.oApi._fnFeatureHtmlTable=_fnFeatureHtmlTable;this.oApi._fnScrollDraw=_fnScrollDraw;this.oApi._fnAjustColumnSizing=_fnAjustColumnSizing;this.oApi._fnFeatureHtmlFilter=_fnFeatureHtmlFilter;this.oApi._fnFilterComplete=_fnFilterComplete;this.oApi._fnFilterCustom=_fnFilterCustom;this.oApi._fnFilterColumn=_fnFilterColumn;this.oApi._fnFilter=_fnFilter;this.oApi._fnBuildSearchArray=_fnBuildSearchArray;this.oApi._fnBuildSearchRow=_fnBuildSearchRow;this.oApi._fnFilterCreateSearch=_fnFilterCreateSearch;this.oApi._fnDataToSearch=_fnDataToSearch;this.oApi._fnSort=_fnSort;this.oApi._fnSortAttachListener=_fnSortAttachListener;this.oApi._fnSortingClasses=_fnSortingClasses;this.oApi._fnFeatureHtmlPaginate=_fnFeatureHtmlPaginate;this.oApi._fnPageChange=_fnPageChange;this.oApi._fnFeatureHtmlInfo=_fnFeatureHtmlInfo;this.oApi._fnUpdateInfo=_fnUpdateInfo;this.oApi._fnFeatureHtmlLength=_fnFeatureHtmlLength;this.oApi._fnFeatureHtmlProcessing=_fnFeatureHtmlProcessing;this.oApi._fnProcessingDisplay=_fnProcessingDisplay;this.oApi._fnVisibleToColumnIndex=_fnVisibleToColumnIndex;this.oApi._fnColumnIndexToVisible=_fnColumnIndexToVisible;this.oApi._fnNodeToDataIndex=_fnNodeToDataIndex;this.oApi._fnVisbleColumns=_fnVisbleColumns;this.oApi._fnCalculateEnd=_fnCalculateEnd;this.oApi._fnConvertToWidth=_fnConvertToWidth;this.oApi._fnCalculateColumnWidths=_fnCalculateColumnWidths;this.oApi._fnScrollingWidthAdjust=_fnScrollingWidthAdjust;this.oApi._fnGetWidestNode=_fnGetWidestNode;this.oApi._fnGetMaxLenString=_fnGetMaxLenString;this.oApi._fnStringToCss=_fnStringToCss;this.oApi._fnArrayCmp=_fnArrayCmp;this.oApi._fnDetectType=_fnDetectType;this.oApi._fnSettingsFromNode=_fnSettingsFromNode;this.oApi._fnGetDataMaster=_fnGetDataMaster;this.oApi._fnGetTrNodes=_fnGetTrNodes;this.oApi._fnGetTdNodes=_fnGetTdNodes;this.oApi._fnEscapeRegex=_fnEscapeRegex;this.oApi._fnDeleteIndex=_fnDeleteIndex;this.oApi._fnReOrderIndex=_fnReOrderIndex;this.oApi._fnColumnOrdering=_fnColumnOrdering;this.oApi._fnLog=_fnLog;this.oApi._fnClearTable=_fnClearTable;this.oApi._fnSaveState=_fnSaveState;this.oApi._fnLoadState=_fnLoadState;this.oApi._fnCreateCookie=_fnCreateCookie;this.oApi._fnReadCookie=_fnReadCookie;this.oApi._fnGetUniqueThs=_fnGetUniqueThs;this.oApi._fnScrollBarWidth=_fnScrollBarWidth;this.oApi._fnApplyToChildren=_fnApplyToChildren;this.oApi._fnMap=_fnMap;var _that=this;return this.each(function(){var i=0,iLen,j,jLen,k,kLen;for(i=0,iLen=_aoSettings.length;i<iLen;i++){if(_aoSettings[i].nTable==this){if(typeof oInit=="undefined"||(typeof oInit.bRetrieve!="undefined"&&oInit.bRetrieve===true)){return _aoSettings[i].oInstance}else{if(typeof oInit.bDestroy!="undefined"&&oInit.bDestroy===true){_aoSettings[i].oInstance.fnDestroy();break}else{_fnLog(_aoSettings[i],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).");return}}}if(_aoSettings[i].sTableId!==""&&_aoSettings[i].sTableId==this.getAttribute("id")){_aoSettings.splice(i,1);break}}var oSettings=new classSettings();_aoSettings.push(oSettings);var bInitHandedOff=false;var bUsePassedData=false;var sId=this.getAttribute("id");if(sId!==null){oSettings.sTableId=sId;oSettings.sInstance=sId}else{oSettings.sInstance=_oExt._oExternConfig.iNextUnique++}if(this.nodeName.toLowerCase()!="table"){_fnLog(oSettings,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);return}oSettings.nTable=this;oSettings.oInstance=_that.length==1?_that:$(this).dataTable();oSettings.oApi=_that.oApi;oSettings.sDestroyWidth=$(this).width();if(typeof oInit!="undefined"&&oInit!==null){oSettings.oInit=oInit;_fnMap(oSettings.oFeatures,oInit,"bPaginate");_fnMap(oSettings.oFeatures,oInit,"bLengthChange");_fnMap(oSettings.oFeatures,oInit,"bFilter");_fnMap(oSettings.oFeatures,oInit,"bSort");_fnMap(oSettings.oFeatures,oInit,"bInfo");_fnMap(oSettings.oFeatures,oInit,"bProcessing");_fnMap(oSettings.oFeatures,oInit,"bAutoWidth");_fnMap(oSettings.oFeatures,oInit,"bSortClasses");_fnMap(oSettings.oFeatures,oInit,"bServerSide");_fnMap(oSettings.oScroll,oInit,"sScrollX","sX");_fnMap(oSettings.oScroll,oInit,"sScrollXInner","sXInner");_fnMap(oSettings.oScroll,oInit,"sScrollY","sY");_fnMap(oSettings.oScroll,oInit,"bScrollCollapse","bCollapse");_fnMap(oSettings.oScroll,oInit,"bScrollInfinite","bInfinite");_fnMap(oSettings.oScroll,oInit,"iScrollLoadGap","iLoadGap");_fnMap(oSettings.oScroll,oInit,"bScrollAutoCss","bAutoCss");_fnMap(oSettings,oInit,"asStripClasses");_fnMap(oSettings,oInit,"fnRowCallback");_fnMap(oSettings,oInit,"fnHeaderCallback");_fnMap(oSettings,oInit,"fnFooterCallback");_fnMap(oSettings,oInit,"fnCookieCallback");_fnMap(oSettings,oInit,"fnInitComplete");_fnMap(oSettings,oInit,"fnServerData");_fnMap(oSettings,oInit,"fnFormatNumber");_fnMap(oSettings,oInit,"aaSorting");_fnMap(oSettings,oInit,"aaSortingFixed");_fnMap(oSettings,oInit,"aLengthMenu");_fnMap(oSettings,oInit,"sPaginationType");_fnMap(oSettings,oInit,"sAjaxSource");_fnMap(oSettings,oInit,"iCookieDuration");_fnMap(oSettings,oInit,"sCookiePrefix");_fnMap(oSettings,oInit,"sDom");_fnMap(oSettings,oInit,"oSearch","oPreviousSearch");_fnMap(oSettings,oInit,"aoSearchCols","aoPreSearchCols");_fnMap(oSettings,oInit,"iDisplayLength","_iDisplayLength");_fnMap(oSettings,oInit,"bJQueryUI","bJUI");_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback");if(typeof oInit.fnDrawCallback=="function"){oSettings.aoDrawCallback.push({fn:oInit.fnDrawCallback,sName:"user"})}if(typeof oInit.fnStateSaveCallback=="function"){oSettings.aoStateSave.push({fn:oInit.fnStateSaveCallback,sName:"user"})}if(typeof oInit.fnStateLoadCallback=="function"){oSettings.aoStateLoad.push({fn:oInit.fnStateLoadCallback,sName:"user"})}if(oSettings.oFeatures.bServerSide&&oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){oSettings.aoDrawCallback.push({fn:_fnSortingClasses,sName:"server_side_sort_classes"})}if(typeof oInit.bJQueryUI!="undefined"&&oInit.bJQueryUI){oSettings.oClasses=_oExt.oJUIClasses;if(typeof oInit.sDom=="undefined"){oSettings.sDom='<"H"lfr>t<"F"ip>'}}if(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!==""){oSettings.oScroll.iBarWidth=_fnScrollBarWidth()}if(typeof oInit.iDisplayStart!="undefined"&&typeof oSettings.iInitDisplayStart=="undefined"){oSettings.iInitDisplayStart=oInit.iDisplayStart;oSettings._iDisplayStart=oInit.iDisplayStart}if(typeof oInit.bStateSave!="undefined"){oSettings.oFeatures.bStateSave=oInit.bStateSave;_fnLoadState(oSettings,oInit);oSettings.aoDrawCallback.push({fn:_fnSaveState,sName:"state_save"})}if(typeof oInit.aaData!="undefined"){bUsePassedData=true}if(typeof oInit!="undefined"&&typeof oInit.aoData!="undefined"){oInit.aoColumns=oInit.aoData}if(typeof oInit.oLanguage!="undefined"){if(typeof oInit.oLanguage.sUrl!="undefined"&&oInit.oLanguage.sUrl!==""){oSettings.oLanguage.sUrl=oInit.oLanguage.sUrl;$.getJSON(oSettings.oLanguage.sUrl,null,function(json){_fnLanguageProcess(oSettings,json,true)});bInitHandedOff=true}else{_fnLanguageProcess(oSettings,oInit.oLanguage,false)}}}else{oInit={}}if(typeof oInit.asStripClasses=="undefined"){oSettings.asStripClasses.push(oSettings.oClasses.sStripOdd);oSettings.asStripClasses.push(oSettings.oClasses.sStripEven)}var bStripeRemove=false;var anRows=$(">tbody>tr",this);for(i=0,iLen=oSettings.asStripClasses.length;i<iLen;i++){if(anRows.filter(":lt(2)").hasClass(oSettings.asStripClasses[i])){bStripeRemove=true;break}}if(bStripeRemove){oSettings.asDestoryStrips=["",""];if($(anRows[0]).hasClass(oSettings.oClasses.sStripOdd)){oSettings.asDestoryStrips[0]+=oSettings.oClasses.sStripOdd+" "}if($(anRows[0]).hasClass(oSettings.oClasses.sStripEven)){oSettings.asDestoryStrips[0]+=oSettings.oClasses.sStripEven}if($(anRows[1]).hasClass(oSettings.oClasses.sStripOdd)){oSettings.asDestoryStrips[1]+=oSettings.oClasses.sStripOdd+" "}if($(anRows[1]).hasClass(oSettings.oClasses.sStripEven)){oSettings.asDestoryStrips[1]+=oSettings.oClasses.sStripEven}anRows.removeClass(oSettings.asStripClasses.join(" "))}var nThead=this.getElementsByTagName("thead");var anThs=nThead.length===0?[]:_fnGetUniqueThs(nThead[0]);var aoColumnsInit;if(typeof oInit.aoColumns=="undefined"){aoColumnsInit=[];for(i=0,iLen=anThs.length;i<iLen;i++){aoColumnsInit.push(null)}}else{aoColumnsInit=oInit.aoColumns}for(i=0,iLen=aoColumnsInit.length;i<iLen;i++){if(typeof oInit.saved_aoColumns!="undefined"&&oInit.saved_aoColumns.length==iLen){if(aoColumnsInit[i]===null){aoColumnsInit[i]={}}aoColumnsInit[i].bVisible=oInit.saved_aoColumns[i].bVisible}_fnAddColumn(oSettings,anThs?anThs[i]:null)}if(typeof oInit.aoColumnDefs!="undefined"){for(i=oInit.aoColumnDefs.length-1;i>=0;i--){var aTargets=oInit.aoColumnDefs[i].aTargets;if(!$.isArray(aTargets)){_fnLog(oSettings,1,"aTargets must be an array of targets, not a "+(typeof aTargets))}for(j=0,jLen=aTargets.length;j<jLen;j++){if(typeof aTargets[j]=="number"&&aTargets[j]>=0){while(oSettings.aoColumns.length<=aTargets[j]){_fnAddColumn(oSettings)}_fnColumnOptions(oSettings,aTargets[j],oInit.aoColumnDefs[i])}else{if(typeof aTargets[j]=="number"&&aTargets[j]<0){_fnColumnOptions(oSettings,oSettings.aoColumns.length+aTargets[j],oInit.aoColumnDefs[i])}else{if(typeof aTargets[j]=="string"){for(k=0,kLen=oSettings.aoColumns.length;k<kLen;k++){if(aTargets[j]=="_all"||oSettings.aoColumns[k].nTh.className.indexOf(aTargets[j])!=-1){_fnColumnOptions(oSettings,k,oInit.aoColumnDefs[i])}}}}}}}}if(typeof aoColumnsInit!="undefined"){for(i=0,iLen=aoColumnsInit.length;i<iLen;i++){_fnColumnOptions(oSettings,i,aoColumnsInit[i])}}for(i=0,iLen=oSettings.aaSorting.length;i<iLen;i++){if(oSettings.aaSorting[i][0]>=oSettings.aoColumns.length){oSettings.aaSorting[i][0]=0}var oColumn=oSettings.aoColumns[oSettings.aaSorting[i][0]];if(typeof oSettings.aaSorting[i][2]=="undefined"){oSettings.aaSorting[i][2]=0}if(typeof oInit.aaSorting=="undefined"&&typeof oSettings.saved_aaSorting=="undefined"){oSettings.aaSorting[i][1]=oColumn.asSorting[0]}for(j=0,jLen=oColumn.asSorting.length;j<jLen;j++){if(oSettings.aaSorting[i][1]==oColumn.asSorting[j]){oSettings.aaSorting[i][2]=j;break}}}_fnSortingClasses(oSettings);if(this.getElementsByTagName("thead").length===0){this.appendChild(document.createElement("thead"))}if(this.getElementsByTagName("tbody").length===0){this.appendChild(document.createElement("tbody"))}oSettings.nTHead=this.getElementsByTagName("thead")[0];oSettings.nTBody=this.getElementsByTagName("tbody")[0];if(this.getElementsByTagName("tfoot").length>0){oSettings.nTFoot=this.getElementsByTagName("tfoot")[0]}if(bUsePassedData){for(i=0;i<oInit.aaData.length;i++){_fnAddData(oSettings,oInit.aaData[i])}}else{_fnGatherData(oSettings)}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bInitialised=true;if(bInitHandedOff===false){_fnInitalise(oSettings)}})}})(jQuery,window,document); /*
* jQuery Cycle Plugin (with Transition Definitions) * Examples and documentation at: http://jquery.malsup.com/cycle/ * Copyright (c) 2007-2010 M. Alsup * Version: 2.99 (12-MAR-2011) * Dual licensed under the MIT and GPL licenses. * http://jquery.malsup.com/license.html * Requires: jQuery v1.3.2 or later */
(function(j){var m="2.99";if(j.support==undefined){j.support={opacity:!(j.browser.msie)}}function a(t){j.fn.cycle.debug&&f(t)}function f(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}j.expr[":"].paused=function(s){return s.cyclePause};j.fn.cycle=function(t,s){var u={s:this.selector,c:this.context};if(this.length===0&&t!="stop"){if(!j.isReady&&u.s){f("DOM not ready, queuing slideshow");j(function(){j(u.s,u.c).cycle(t,s)});return this}f("terminating; zero elements found by selector"+(j.isReady?"":" (DOM not ready)"));return this}return this.each(function(){var y=n(this,t,s);if(y===false){return}y.updateActivePagerLink=y.updateActivePagerLink||j.fn.cycle.updateActivePagerLink;if(this.cycleTimeout){clearTimeout(this.cycleTimeout)}this.cycleTimeout=this.cyclePause=0;var z=j(this);var A=y.slideExpr?j(y.slideExpr,this):z.children();var w=A.get();if(w.length<2){f("terminating; too few slides: "+w.length);return}var v=l(z,A,w,y,u);if(v===false){return}var x=v.continuous?10:h(w[v.currSlide],w[v.nextSlide],v,!v.backwards);if(x){x+=(v.delay||0);if(x<10){x=10}a("first timeout: "+x);this.cycleTimeout=setTimeout(function(){e(w,v,0,!y.backwards)},x)}})};function n(s,v,t){if(s.cycleStop==undefined){s.cycleStop=0}if(v===undefined||v===null){v={}}if(v.constructor==String){switch(v){case"destroy":case"stop":var x=j(s).data("cycle.opts");if(!x){return false}s.cycleStop++;if(s.cycleTimeout){clearTimeout(s.cycleTimeout)}s.cycleTimeout=0;j(s).removeData("cycle.opts");if(v=="destroy"){r(x)}return false;case"toggle":s.cyclePause=(s.cyclePause===1)?0:1;w(s.cyclePause,t,s);return false;case"pause":s.cyclePause=1;return false;case"resume":s.cyclePause=0;w(false,t,s);return false;case"prev":case"next":var x=j(s).data("cycle.opts");if(!x){f('options not found, "prev/next" ignored');return false}j.fn.cycle[v](x);return false;default:v={fx:v}}return v}else{if(v.constructor==Number){var u=v;v=j(s).data("cycle.opts");if(!v){f("options not found, can not advance slide");return false}if(u<0||u>=v.elements.length){f("invalid slide index: "+u);return false}v.nextSlide=u;if(s.cycleTimeout){clearTimeout(s.cycleTimeout);s.cycleTimeout=0}if(typeof t=="string"){v.oneTimeFx=t}e(v.elements,v,1,u>=v.currSlide);return false}}return v;function w(z,A,y){if(!z&&A===true){var B=j(y).data("cycle.opts");if(!B){f("options not found, can not resume");return false}if(y.cycleTimeout){clearTimeout(y.cycleTimeout);y.cycleTimeout=0}e(B.elements,B,1,!B.backwards)}}}function b(s,t){if(!j.support.opacity&&t.cleartype&&s.style.filter){try{s.style.removeAttribute("filter")}catch(u){}}}function r(s){if(s.next){j(s.next).unbind(s.prevNextEvent)}if(s.prev){j(s.prev).unbind(s.prevNextEvent)}if(s.pager||s.pagerAnchorBuilder){j.each(s.pagerAnchors||[],function(){this.unbind().remove()})}s.pagerAnchors=null;if(s.destroy){s.destroy(s)}}function l(A,M,x,v,G){var E=j.extend({},j.fn.cycle.defaults,v||{},j.metadata?A.metadata():j.meta?A.data():{});if(E.autostop){E.countdown=E.autostopCount||x.length}var t=A[0];A.data("cycle.opts",E);E.$cont=A;E.stopCount=t.cycleStop;E.elements=x;E.before=E.before?[E.before]:[];E.after=E.after?[E.after]:[];if(!j.support.opacity&&E.cleartype){E.after.push(function(){b(this,E)})}if(E.continuous){E.after.push(function(){e(x,E,0,!E.backwards)})}o(E);if(!j.support.opacity&&E.cleartype&&!E.cleartypeNoBg){g(M)}if(A.css("position")=="static"){A.css("position","relative")}if(E.width){A.width(E.width)}if(E.height&&E.height!="auto"){A.height(E.height)}if(E.startingSlide){E.startingSlide=parseInt(E.startingSlide)}else{if(E.backwards){E.startingSlide=x.length-1}}if(E.random){E.randomMap=[];for(var K=0;K<x.length;K++){E.randomMap.push(K)}E.randomMap.sort(function(O,w){return Math.random()-0.5});E.randomIndex=1;E.startingSlide=E.randomMap[1]}else{if(E.startingSlide>=x.length){E.startingSlide=0}}E.currSlide=E.startingSlide||0;var z=E.startingSlide;M.css({position:"absolute",top:0,left:0}).hide().each(function(w){var O;if(E.backwards){O=z?w<=z?x.length+(w-z):z-w:x.length-w}else{O=z?w>=z?x.length-(w-z):z-w:x.length-w}j(this).css("z-index",O)});j(x[z]).css("opacity",1).show();b(x[z],E);if(E.fit&&E.width){M.width(E.width)}if(E.fit&&E.height&&E.height!="auto"){M.height(E.height)}var F=E.containerResize&&!A.innerHeight();if(F){var y=0,D=0;for(var I=0;I<x.length;I++){var s=j(x[I]),N=s[0],C=s.outerWidth(),L=s.outerHeight();if(!C){C=N.offsetWidth||N.width||s.attr("width")}if(!L){L=N.offsetHeight||N.height||s.attr("height")}y=C>y?C:y;D=L>D?L:D}if(y>0&&D>0){A.css({width:y+"px",height:D+"px"})}}if(E.pause){A.hover(function(){this.cyclePause++},function(){this.cyclePause--})}if(c(E)===false){return false}var u=false;v.requeueAttempts=v.requeueAttempts||0;M.each(function(){var Q=j(this);this.cycleH=(E.fit&&E.height)?E.height:(Q.height()||this.offsetHeight||this.height||Q.attr("height")||0);this.cycleW=(E.fit&&E.width)?E.width:(Q.width()||this.offsetWidth||this.width||Q.attr("width")||0);if(Q.is("img")){var O=(j.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete);var R=(j.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete);var P=(j.browser.opera&&((this.cycleW==42&&this.cycleH==19)||(this.cycleW==37&&this.cycleH==17))&&!this.complete);var w=(this.cycleH==0&&this.cycleW==0&&!this.complete);if(O||R||P||w){if(G.s&&E.requeueOnImageNotLoaded&&++v.requeueAttempts<100){f(v.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){j(G.s,G.c).cycle(v)},E.requeueTimeout);u=true;return false}else{f("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}}return true});if(u){return false}E.cssBefore=E.cssBefore||{};E.cssAfter=E.cssAfter||{};E.cssFirst=E.cssFirst||{};E.animIn=E.animIn||{};E.animOut=E.animOut||{};M.not(":eq("+z+")").css(E.cssBefore);j(M[z]).css(E.cssFirst);if(E.timeout){E.timeout=parseInt(E.timeout);if(E.speed.constructor==String){E.speed=j.fx.speeds[E.speed]||parseInt(E.speed)}if(!E.sync){E.speed=E.speed/2}var H=E.fx=="none"?0:E.fx=="shuffle"?500:250;while((E.timeout-E.speed)<H){E.timeout+=E.speed}}if(E.easing){E.easeIn=E.easeOut=E.easing}if(!E.speedIn){E.speedIn=E.speed}if(!E.speedOut){E.speedOut=E.speed}E.slideCount=x.length;E.currSlide=E.lastSlide=z;if(E.random){if(++E.randomIndex==x.length){E.randomIndex=0}E.nextSlide=E.randomMap[E.randomIndex]}else{if(E.backwards){E.nextSlide=E.startingSlide==0?(x.length-1):E.startingSlide-1}else{E.nextSlide=E.startingSlide>=(x.length-1)?0:E.startingSlide+1}}if(!E.multiFx){var J=j.fn.cycle.transitions[E.fx];if(j.isFunction(J)){J(A,M,E)}else{if(E.fx!="custom"&&!E.multiFx){f("unknown transition: "+E.fx,"; slideshow terminating");return false}}}var B=M[z];if(E.before.length){E.before[0].apply(B,[B,B,E,true])}if(E.after.length){E.after[0].apply(B,[B,B,E,true])}if(E.next){j(E.next).bind(E.prevNextEvent,function(){return q(E,1)})}if(E.prev){j(E.prev).bind(E.prevNextEvent,function(){return q(E,0)})}if(E.pager||E.pagerAnchorBuilder){d(x,E)}k(E,x);return E}function o(s){s.original={before:[],after:[]};s.original.cssBefore=j.extend({},s.cssBefore);s.original.cssAfter=j.extend({},s.cssAfter);s.original.animIn=j.extend({},s.animIn);s.original.animOut=j.extend({},s.animOut);j.each(s.before,function(){s.original.before.push(this)});j.each(s.after,function(){s.original.after.push(this)})}function c(y){var w,u,t=j.fn.cycle.transitions;if(y.fx.indexOf(",")>0){y.multiFx=true;y.fxs=y.fx.replace(/\s*/g,"").split(",");for(w=0;w<y.fxs.length;w++){var x=y.fxs[w];u=t[x];if(!u||!t.hasOwnProperty(x)||!j.isFunction(u)){f("discarding unknown transition: ",x);y.fxs.splice(w,1);w--}}if(!y.fxs.length){f("No valid transitions named; slideshow terminating.");return false}}else{if(y.fx=="all"){y.multiFx=true;y.fxs=[];for(p in t){u=t[p];if(t.hasOwnProperty(p)&&j.isFunction(u)){y.fxs.push(p)}}}}if(y.multiFx&&y.randomizeEffects){var v=Math.floor(Math.random()*20)+30;for(w=0;w<v;w++){var s=Math.floor(Math.random()*y.fxs.length);y.fxs.push(y.fxs.splice(s,1)[0])}a("randomized fx sequence: ",y.fxs)}return true}function k(t,s){t.addSlide=function(v,w){var u=j(v),x=u[0];if(!t.autostopCount){t.countdown++}s[w?"unshift":"push"](x);if(t.els){t.els[w?"unshift":"push"](x)}t.slideCount=s.length;u.css("position","absolute");u[w?"prependTo":"appendTo"](t.$cont);if(w){t.currSlide++;t.nextSlide++}if(!j.support.opacity&&t.cleartype&&!t.cleartypeNoBg){g(u)}if(t.fit&&t.width){u.width(t.width)}if(t.fit&&t.height&&t.height!="auto"){u.height(t.height)}x.cycleH=(t.fit&&t.height)?t.height:u.height();x.cycleW=(t.fit&&t.width)?t.width:u.width();u.css(t.cssBefore);if(t.pager||t.pagerAnchorBuilder){j.fn.cycle.createPagerAnchor(s.length-1,x,j(t.pager),s,t)}if(j.isFunction(t.onAddSlide)){t.onAddSlide(u)}else{u.hide()}}}j.fn.cycle.resetState=function(t,s){s=s||t.fx;t.before=[];t.after=[];t.cssBefore=j.extend({},t.original.cssBefore);t.cssAfter=j.extend({},t.original.cssAfter);t.animIn=j.extend({},t.original.animIn);t.animOut=j.extend({},t.original.animOut);t.fxFn=null;j.each(t.original.before,function(){t.before.push(this)});j.each(t.original.after,function(){t.after.push(this)});var u=j.fn.cycle.transitions[s];if(j.isFunction(u)){u(t.$cont,j(t.elements),t)}};function e(z,s,y,B){if(y&&s.busy&&s.manualTrump){a("manualTrump in go(), stopping active transition");j(z).stop(true,true);s.busy=0}if(s.busy){a("transition active, ignoring new tx request");return}var w=s.$cont[0],D=z[s.currSlide],C=z[s.nextSlide];if(w.cycleStop!=s.stopCount||w.cycleTimeout===0&&!y){return}if(!y&&!w.cyclePause&&!s.bounce&&((s.autostop&&(--s.countdown<=0))||(s.nowrap&&!s.random&&s.nextSlide
=s.fxs.length){s.lastFx=0}x=s.fxs[s.lastFx];s.currFx=x}if(s.oneTimeFx){x=s.oneTimeFx;s.oneTimeFx=null}j.fn.cycle.resetState(s,x);if(s.before.length){j.each(s.before,function(E,F){if(w.cycleStop!=s.stopCount){return}F.apply(C,[D,C,s,B])})}var u=function(){s.busy=0;j.each(s.after,function(E,F){if(w.cycleStop!=s.stopCount){return}F.apply(C,[D,C,s,B])})};a("tx firing("+x+"); currSlide: "+s.currSlide+"; nextSlide: "+s.nextSlide);s.busy=1;if(s.fxFn){s.fxFn(D,C,s,u,B,y&&s.fastOnEvent)}else{if(j.isFunction(j.fn.cycle[s.fx])){j.fn.cycle[s.fx](D,C,s,u,B,y&&s.fastOnEvent)}else{j.fn.cycle.custom(D,C,s,u,B,y&&s.fastOnEvent)}}}if(A||s.nextSlide==s.currSlide){s.lastSlide=s.currSlide;if(s.random){s.currSlide=s.nextSlide;if(++s.randomIndex==z.length){s.randomIndex=0}s.nextSlide=s.randomMap[s.randomIndex];if(s.nextSlide==s.currSlide){s.nextSlide=(s.currSlide==s.slideCount-1)?0:s.currSlide+1}}else{if(s.backwards){var v=(s.nextSlide-1)<0;if(v&&s.bounce){s.backwards=!s.backwards;s.nextSlide=1;s.currSlide=0}else{s.nextSlide=v?(z.length-1):s.nextSlide-1;s.currSlide=v?0:s.nextSlide+1}}else{var v=(s.nextSlide+1)==z.length;if(v&&s.bounce){s.backwards=!s.backwards;s.nextSlide=z.length-2;s.currSlide=z.length-1}else{s.nextSlide=v?0:s.nextSlide+1;s.currSlide=v?z.length-1:s.nextSlide-1}}}}if(A&&s.pager){s.updateActivePagerLink(s.pager,s.currSlide,s.activePagerClass)}var t=0;if(s.timeout&&!s.continuous){t=h(z[s.currSlide],z[s.nextSlide],s,B)}else{if(s.continuous&&w.cyclePause){t=10}}if(t>0){w.cycleTimeout=setTimeout(function(){e(z,s,0,!s.backwards)},t)}}j.fn.cycle.updateActivePagerLink=function(s,u,t){j(s).each(function(){j(this).children().removeClass(t).eq(u).addClass(t)})};function h(x,v,w,u){if(w.timeoutFn){var s=w.timeoutFn.call(x,x,v,w,u);while(w.fx!="none"&&(s-w.speed)<250){s+=w.speed}a("calculated timeout: "+s+"; speed: "+w.speed);if(s!==false){return s}}return w.timeout}j.fn.cycle.next=function(s){q(s,1)};j.fn.cycle.prev=function(s){q(s,0)};function q(v,u){var y=u?1:-1;var t=v.elements;var x=v.$cont[0],w=x.cycleTimeout;if(w){clearTimeout(w);x.cycleTimeout=0}if(v.random&&y<0){v.randomIndex--;if(--v.randomIndex==-2){v.randomIndex=t.length-2}else{if(v.randomIndex==-1){v.randomIndex=t.length-1}}v.nextSlide=v.randomMap[v.randomIndex]}else{if(v.random){v.nextSlide=v.randomMap[v.randomIndex]}else{v.nextSlide=v.currSlide+y;if(v.nextSlide<0){if(v.nowrap){return false}v.nextSlide=t.length-1}else{if(v.nextSlide>=t.length){if(v.nowrap){return false}v.nextSlide=0}}}}var s=v.onPrevNextEvent||v.prevNextClick;if(j.isFunction(s)){s(y>0,v.nextSlide,t[v.nextSlide])}e(t,v,1,u);return false}function d(t,u){var s=j(u.pager);j.each(t,function(v,w){j.fn.cycle.createPagerAnchor(v,w,s,t,u)});u.updateActivePagerLink(u.pager,u.startingSlide,u.activePagerClass)}j.fn.cycle.createPagerAnchor=function(w,x,u,v,y){var t;if(j.isFunction(y.pagerAnchorBuilder)){t=y.pagerAnchorBuilder(w,x);a("pagerAnchorBuilder("+w+", el) returned: "+t)}else{t='<a href="#">'+(w+1)+"</a>"}if(!t){return}var z=j(t);if(z.parents("body").length===0){var s=[];if(u.length>1){u.each(function(){var A=z.clone(true);j(this).append(A);s.push(A[0])});z=j(s)}else{z.appendTo(u)}}y.pagerAnchors=y.pagerAnchors||[];y.pagerAnchors.push(z);z.bind(y.pagerEvent,function(D){D.preventDefault();y.nextSlide=w;var C=y.$cont[0],B=C.cycleTimeout;if(B){clearTimeout(B);C.cycleTimeout=0}var A=y.onPagerEvent||y.pagerClick;if(j.isFunction(A)){A(y.nextSlide,v[y.nextSlide])}e(v,y,1,y.currSlide<w)});if(!/^click/.test(y.pagerEvent)&&!y.allowPagerClickBubble){z.bind("click.cycle",function(){return false})}if(y.pauseOnPagerHover){z.hover(function(){y.$cont[0].cyclePause++},function(){y.$cont[0].cyclePause--})}};j.fn.cycle.hopsFromLast=function(v,u){var t,s=v.lastSlide,w=v.currSlide;if(u){t=w>s?w-s:v.slideCount-s}else{t=w<s?s-w:s+v.slideCount-w}return t};function g(u){a("applying clearType background-color hack");function t(v){v=parseInt(v).toString(16);return v.length<2?"0"+v:v}function s(y){for(;y&&y.nodeName.toLowerCase()!="html";y=y.parentNode){var w=j.css(y,"background-color");if(w&&w.indexOf("rgb")>=0){var x=w.match(/\d+/g);return"#"+t(x[0])+t(x[1])+t(x[2])}if(w&&w!="transparent"){return w}}return"#ffffff"}u.each(function(){j(this).css("background-color",s(this))})}j.fn.cycle.commonReset=function(y,v,x,t,u,s){j(x.elements).not(y).hide();if(typeof x.cssBefore.opacity=="undefined"){x.cssBefore.opacity=1}x.cssBefore.display="block";if(x.slideResize&&t!==false&&v.cycleW>0){x.cssBefore.width=v.cycleW}if(x.slideResize&&u!==false&&v.cycleH>0){x.cssBefore.height=v.cycleH}x.cssAfter=x.cssAfter||{};x.cssAfter.display="none";j(y).css("zIndex",x.slideCount+(s===true?1:0));j(v).css("zIndex",x.slideCount+(s===true?0:1))};j.fn.cycle.custom=function(E,y,s,v,x,t){var D=j(E),z=j(y);var u=s.speedIn,C=s.speedOut,w=s.easeIn,B=s.easeOut;z.css(s.cssBefore);if(t){if(typeof t=="number"){u=C=t}else{u=C=1}w=B=null}var A=function(){z.animate(s.animIn,u,w,function(){v()})};D.animate(s.animOut,C,B,function(){D.css(s.cssAfter);if(!s.sync){A()}});if(s.sync){A()}};j.fn.cycle.transitions={fade:function(t,u,s){u.not(":eq("+s.currSlide+")").css("opacity",0);s.before.push(function(x,v,w){j.fn.cycle.commonReset(x,v,w);w.cssBefore.opacity=0});s.animIn={opacity:1};s.animOut={opacity:0};s.cssBefore={top:0,left:0}}};j.fn.cycle.ver=function(){return m};j.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:false,animIn:null,animOut:null,autostop:0,autostopCount:0,backwards:false,before:null,cleartype:!j.support.opacity,cleartypeNoBg:false,containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:true,next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:true,requeueTimeout:250,rev:0,shuffle:null,slideExpr:null,slideResize:1,speed:1000,speedIn:null,speedOut:null,startingSlide:0,sync:1,timeout:4000,timeoutFn:null,updateActivePagerLink:null}})(jQuery); /*
* jQuery Cycle Plugin Transition Definitions * This script is a plugin for the jQuery Cycle Plugin * Examples and documentation at: http://malsup.com/jquery/cycle/ * Copyright (c) 2007-2010 M. Alsup * Version:  2.73 * Dual licensed under the MIT and GPL licenses: * http://www.opensource.org/licenses/mit-license.php * http://www.gnu.org/licenses/gpl.html */
(function(a){a.fn.cycle.transitions.none=function(c,d,b){b.fxFn=function(g,e,f,h){a(e).show();a(g).hide();h()}};a.fn.cycle.transitions.fadeout=function(c,d,b){d.not(":eq("+b.currSlide+")").css({display:"block",opacity:1});b.before.push(function(l,j,k,f,g,e){a(l).css("zIndex",k.slideCount+(!e===true?1:0));a(j).css("zIndex",k.slideCount+(!e===true?0:1))});b.animIn.opacity=1;b.animOut.opacity=0;b.cssBefore.opacity=1;b.cssBefore.display="block";b.cssAfter.zIndex=0};a.fn.cycle.transitions.scrollUp=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.height();c.cssBefore.top=b;c.cssBefore.left=0;c.cssFirst.top=0;c.animIn.top=0;c.animOut.top=-b};a.fn.cycle.transitions.scrollDown=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.height();c.cssFirst.top=0;c.cssBefore.top=-b;c.cssBefore.left=0;c.animIn.top=0;c.animOut.top=b};a.fn.cycle.transitions.scrollLeft=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.width();c.cssFirst.left=0;c.cssBefore.left=b;c.cssBefore.top=0;c.animIn.left=0;c.animOut.left=0-b};a.fn.cycle.transitions.scrollRight=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.width();c.cssFirst.left=0;c.cssBefore.left=-b;c.cssBefore.top=0;c.animIn.left=0;c.animOut.left=b};a.fn.cycle.transitions.scrollHorz=function(c,d,b){c.css("overflow","hidden").width();b.before.push(function(h,f,g,e){if(g.rev){e=!e}a.fn.cycle.commonReset(h,f,g);g.cssBefore.left=e?(f.cycleW-1):(1-f.cycleW);g.animOut.left=e?-h.cycleW:h.cycleW});b.cssFirst.left=0;b.cssBefore.top=0;b.animIn.left=0;b.animOut.top=0};a.fn.cycle.transitions.scrollVert=function(c,d,b){c.css("overflow","hidden");b.before.push(function(h,f,g,e){if(g.rev){e=!e}a.fn.cycle.commonReset(h,f,g);g.cssBefore.top=e?(1-f.cycleH):(f.cycleH-1);g.animOut.top=e?h.cycleH:-h.cycleH});b.cssFirst.top=0;b.cssBefore.left=0;b.animIn.top=0;b.animOut.left=0};a.fn.cycle.transitions.slideX=function(c,d,b){b.before.push(function(g,e,f){a(f.elements).not(g).hide();a.fn.cycle.commonReset(g,e,f,false,true);f.animIn.width=e.cycleW});b.cssBefore.left=0;b.cssBefore.top=0;b.cssBefore.width=0;b.animIn.width="show";b.animOut.width=0};a.fn.cycle.transitions.slideY=function(c,d,b){b.before.push(function(g,e,f){a(f.elements).not(g).hide();a.fn.cycle.commonReset(g,e,f,true,false);f.animIn.height=e.cycleH});b.cssBefore.left=0;b.cssBefore.top=0;b.cssBefore.height=0;b.animIn.height="show";b.animOut.height=0};a.fn.cycle.transitions.shuffle=function(e,f,d){var c,b=e.css("overflow","visible").width();f.css({left:0,top:0});d.before.push(function(j,g,h){a.fn.cycle.commonReset(j,g,h,true,true,true)});if(!d.speedAdjusted){d.speed=d.speed/2;d.speedAdjusted=true}d.random=0;d.shuffle=d.shuffle||{left:-b,top:15};d.els=[];for(c=0;c<f.length;c++){d.els.push(f[c])}for(c=0;c<d.currSlide;c++){d.els.push(d.els.shift())}d.fxFn=function(n,k,m,g,j){if(m.rev){j=!j}var h=j?a(n):a(k);a(k).css(m.cssBefore);var l=m.slideCount;h.animate(m.shuffle,m.speedIn,m.easeIn,function(){var q=a.fn.cycle.hopsFromLast(m,j);for(var r=0;r<q;r++){j?m.els.push(m.els.shift()):m.els.unshift(m.els.pop())}if(j){for(var s=0,o=m.els.length;s<o;s++){a(m.els[s]).css("z-index",o-s+l)}}else{var t=a(n).css("z-index");h.css("z-index",parseInt(t)+1+l)}h.animate({left:0,top:0},m.speedOut,m.easeOut,function(){a(j?this:n).hide();if(g){g()}})})};a.extend(d.cssBefore,{display:"block",opacity:1,top:0,left:0})};a.fn.cycle.transitions.turnUp=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.cssBefore.top=e.cycleH;f.animIn.height=e.cycleH;f.animOut.width=e.cycleW});b.cssFirst.top=0;b.cssBefore.left=0;b.cssBefore.height=0;b.animIn.top=0;b.animOut.height=0};a.fn.cycle.transitions.turnDown=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.animIn.height=e.cycleH;f.animOut.top=g.cycleH});b.cssFirst.top=0;b.cssBefore.left=0;b.cssBefore.top=0;b.cssBefore.height=0;b.animOut.height=0};a.fn.cycle.transitions.turnLeft=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.cssBefore.left=e.cycleW;f.animIn.width=e.cycleW});b.cssBefore.top=0;b.cssBefore.width=0;b.animIn.left=0;b.animOut.width=0};a.fn.cycle.transitions.turnRight=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.animIn.width=e.cycleW;f.animOut.left=g.cycleW});a.extend(b.cssBefore,{top:0,left:0,width:0});b.animIn.left=0;b.animOut.width=0};a.fn.cycle.transitions.zoom=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,false,true);f.cssBefore.top=e.cycleH/2;f.cssBefore.left=e.cycleW/2;a.extend(f.animIn,{top:0,left:0,width:e.cycleW,height:e.cycleH});a.extend(f.animOut,{width:0,height:0,top:g.cycleH/2,left:g.cycleW/2})});b.cssFirst.top=0;b.cssFirst.left=0;b.cssBefore.width=0;b.cssBefore.height=0};a.fn.cycle.transitions.fadeZoom=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,false);f.cssBefore.left=e.cycleW/2;f.cssBefore.top=e.cycleH/2;a.extend(f.animIn,{top:0,left:0,width:e.cycleW,height:e.cycleH})});b.cssBefore.width=0;b.cssBefore.height=0;b.animOut.opacity=0};a.fn.cycle.transitions.blindX=function(d,e,c){var b=d.css("overflow","hidden").width();c.before.push(function(h,f,g){a.fn.cycle.commonReset(h,f,g);g.animIn.width=f.cycleW;g.animOut.left=h.cycleW});c.cssBefore.left=b;c.cssBefore.top=0;c.animIn.left=0;c.animOut.left=b};a.fn.cycle.transitions.blindY=function(d,e,c){var b=d.css("overflow","hidden").height();c.before.push(function(h,f,g){a.fn.cycle.commonReset(h,f,g);g.animIn.height=f.cycleH;g.animOut.top=h.cycleH});c.cssBefore.top=b;c.cssBefore.left=0;c.animIn.top=0;c.animOut.top=b};a.fn.cycle.transitions.blindZ=function(e,f,d){var c=e.css("overflow","hidden").height();var b=e.width();d.before.push(function(j,g,h){a.fn.cycle.commonReset(j,g,h);h.animIn.height=g.cycleH;h.animOut.top=j.cycleH});d.cssBefore.top=c;d.cssBefore.left=b;d.animIn.top=0;d.animIn.left=0;d.animOut.top=c;d.animOut.left=b};a.fn.cycle.transitions.growX=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.cssBefore.left=this.cycleW/2;f.animIn.left=0;f.animIn.width=this.cycleW;f.animOut.left=0});b.cssBefore.top=0;b.cssBefore.width=0};a.fn.cycle.transitions.growY=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.cssBefore.top=this.cycleH/2;f.animIn.top=0;f.animIn.height=this.cycleH;f.animOut.top=0});b.cssBefore.height=0;b.cssBefore.left=0};a.fn.cycle.transitions.curtainX=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true,true);f.cssBefore.left=e.cycleW/2;f.animIn.left=0;f.animIn.width=this.cycleW;f.animOut.left=g.cycleW/2;f.animOut.width=0});b.cssBefore.top=0;b.cssBefore.width=0};a.fn.cycle.transitions.curtainY=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false,true);f.cssBefore.top=e.cycleH/2;f.animIn.top=0;f.animIn.height=e.cycleH;f.animOut.top=g.cycleH/2;f.animOut.height=0});b.cssBefore.height=0;b.cssBefore.left=0};a.fn.cycle.transitions.cover=function(f,g,e){var j=e.direction||"left";var b=f.css("overflow","hidden").width();var c=f.height();e.before.push(function(k,d,h){a.fn.cycle.commonReset(k,d,h);if(j=="right"){h.cssBefore.left=-b}else{if(j=="up"){h.cssBefore.top=c}else{if(j=="down"){h.cssBefore.top=-c}else{h.cssBefore.left=b}}}});e.animIn.left=0;e.animIn.top=0;e.cssBefore.top=0;e.cssBefore.left=0};a.fn.cycle.transitions.uncover=function(f,g,e){var j=e.direction||"left";var b=f.css("overflow","hidden").width();var c=f.height();e.before.push(function(k,d,h){a.fn.cycle.commonReset(k,d,h,true,true,true);if(j=="right"){h.animOut.left=b}else{if(j=="up"){h.animOut.top=-c}else{if(j=="down"){h.animOut.top=c}else{h.animOut.left=-b}}}});e.animIn.left=0;e.animIn.top=0;e.cssBefore.top=0;e.cssBefore.left=0};a.fn.cycle.transitions.toss=function(e,f,d){var b=e.css("overflow","visible").width();var c=e.height();d.before.push(function(j,g,h){a.fn.cycle.commonReset(j,g,h,true,true,true);if(!h.animOut.left&&!h.animOut.top){a.extend(h.animOut,{left:b*2,top:-c/2,opacity:0})}else{h.animOut.opacity=0}});d.cssBefore.left=0;d.cssBefore.top=0;d.animIn.left=0};a.fn.cycle.transitions.wipe=function(u,n,e){var s=u.css("overflow","hidden").width();var k=u.height();e.cssBefore=e.cssBefore||{};var g;if(e.clip){if(/l2r/.test(e.clip)){g="rect(0px 0px "+k+"px 0px)"}else{if(/r2l/.test(e.clip)){g="rect(0px "+s+"px "+k+"px "+s+"px)"}else{if(/t2b/.test(e.clip)){g="rect(0px "+s+"px 0px 0px)"}else{if(/b2t/.test(e.clip)){g="rect("+k+"px "+s+"px "+k+"px 0px)"}else{if(/zoom/.test(e.clip)){var q=parseInt(k/2);var f=parseInt(s/2);g="rect("+q+"px "+f+"px "+q+"px "+f+"px)"}}}}}}e.cssBefore.clip=e.cssBefore.clip||g||"rect(0px 0px 0px 0px)";var m=e.cssBefore.clip.match(/(\d+)/g);var v=parseInt(m[0]),c=parseInt(m[1]),o=parseInt(m[2]),j=parseInt(m[3]);e.before.push(function(x,h,t){if(x==h){return}var d=a(x),b=a(h);a.fn.cycle.commonReset(x,h,t,true,true,false);t.cssAfter.display="block";var r=1,l=parseInt((t.speedIn/13))-1;(function w(){var z=v?v-parseInt(r*(v/l)):0;var A=j?j-parseInt(r*(j/l)):0;var B=o<k?o+parseInt(r*((k-o)/l||1)):k;var y=c<s?c+parseInt(r*((s-c)/l||1)):s;b.css({clip:"rect("+z+"px "+y+"px "+B+"px "+A+"px)"});(r++<=l)?setTimeout(w,13):d.css("display","none")})()});a.extend(e.cssBefore,{display:"block",opacity:1,top:0,left:0});e.animIn={left:0};e.animOut={left:0}}})(jQuery);(function(e,a){Math.precision=function(j,h){if(h===undefined){h=0}return Math.round(j*Math.pow(10,h))/Math.pow(10,h)};var d=function(A,k){var o=this,j=A.find("img:first"),G=0,F=100,z=100,E=0,D=100,w=100,t=0,q=0,n,r,v=new Array(),l=function(y){for(var x=0;x<v.length;x++){v[x].call(o,o,y)}},I=function(x){var y=A.offset();n={l:y.left|0,t:y.top|0};clearTimeout(r);r=setTimeout(function(){B.call(o,x)},0);e(document).bind("mousemove",h).bind("mouseup",C);x.preventDefault()},h=function(x){clearTimeout(r);r=setTimeout(function(){B.call(o,x)},0);x.stopPropagation();x.preventDefault();return false},C=function(x){e(document).unbind("mouseup",C).unbind("mousemove",h);x.stopPropagation();x.preventDefault();return false},B=function(N){var L=N.pageX-n.l,x=N.pageY-n.t,M=A.w,y=A.h;if(L<0){L=0}else{if(L>M){L=M}}if(x<0){x=0}else{if(x>y){x=y}}K.call(o,"xy",{x:((L/M)*z)+G,y:((x/y)*w)+E})},s=function(){var M=0,x=0,O=A.w,L=A.h,N=j.w,y=j.h;setTimeout(function(){if(z>0){if(t==F){M=O}else{M=((t/z)*O)|0}}if(w>0){if(q==D){x=L}else{x=((q/w)*L)|0}}if(N>=O){M=(O>>1)-(N>>1)}else{M-=N>>1}if(y>=L){x=(L>>1)-(y>>1)}else{x-=y>>1}j.css({left:M+"px",top:x+"px"})},0)},K=function(x,L,y){var P=L!==undefined;if(!P){if(x===undefined||x==null){x="xy"}switch(x.toLowerCase()){case"x":return t;case"y":return q;case"xy":default:return{x:t,y:q}}}if(y!=null&&y==o){return}var O=false,N,M;if(x==null){x="xy"}switch(x.toLowerCase()){case"x":N=L&&(L.x&&L.x|0||L|0)||0;break;case"y":M=L&&(L.y&&L.y|0||L|0)||0;break;case"xy":default:N=L&&L.x&&L.x|0||0;M=L&&L.y&&L.y|0||0;break}if(N!=null){if(N<G){N=G}else{if(N>F){N=F}}if(t!=N){t=N;O=true}}if(M!=null){if(M<E){M=E}else{if(M>D){M=D}}if(q!=M){q=M;O=true}}O&&l.call(o,y||o)},u=function(x,M){var Q=M!==undefined;if(!Q){if(x===undefined||x==null){x="all"}switch(x.toLowerCase()){case"minx":return G;case"maxx":return F;case"rangex":return{minX:G,maxX:F,rangeX:z};case"miny":return E;case"maxy":return D;case"rangey":return{minY:E,maxY:D,rangeY:w};case"all":default:return{minX:G,maxX:F,rangeX:z,minY:E,maxY:D,rangeY:w}}}var P=false,O,L,N,y;if(x==null){x="all"}switch(x.toLowerCase()){case"minx":O=M&&(M.minX&&M.minX|0||M|0)||0;break;case"maxx":L=M&&(M.maxX&&M.maxX|0||M|0)||0;break;case"rangex":O=M&&M.minX&&M.minX|0||0;L=M&&M.maxX&&M.maxX|0||0;break;case"miny":N=M&&(M.minY&&M.minY|0||M|0)||0;break;case"maxy":y=M&&(M.maxY&&M.maxY|0||M|0)||0;break;case"rangey":N=M&&M.minY&&M.minY|0||0;y=M&&M.maxY&&M.maxY|0||0;break;case"all":default:O=M&&M.minX&&M.minX|0||0;L=M&&M.maxX&&M.maxX|0||0;N=M&&M.minY&&M.minY|0||0;y=M&&M.maxY&&M.maxY|0||0;break}if(O!=null&&G!=O){G=O;z=F-G}if(L!=null&&F!=L){F=L;z=F-G}if(N!=null&&E!=N){E=N;w=D-E}if(y!=null&&D!=y){D=y;w=D-E}},J=function(x){if(e.isFunction(x)){v.push(x)}},m=function(y){if(!e.isFunction(y)){return}var x;while((x=e.inArray(y,v))!=-1){v.splice(x,1)}},H=function(){e(document).unbind("mouseup",C).unbind("mousemove",h);A.unbind("mousedown",I);A=null;j=null;v=null};e.extend(true,o,{val:K,range:u,bind:J,unbind:m,destroy:H});j.src=k.arrow&&k.arrow.image;j.w=k.arrow&&k.arrow.width||j.width();j.h=k.arrow&&k.arrow.height||j.height();A.w=k.map&&k.map.width||A.width();A.h=k.map&&k.map.height||A.height();A.bind("mousedown",I);J.call(o,s)},b=function(v,A,k,z){var r=this,l=v.find("td.Text input"),s=l.eq(3),w=l.eq(4),h=l.eq(5),o=l.length>7?l.eq(6):null,n=l.eq(0),q=l.eq(1),y=l.eq(2),t=l.eq(l.length>7?7:6),C=l.length>7?l.eq(8):null,D=function(F){if(F.target.value==""&&F.target!=t.get(0)&&(k!=null&&F.target!=k.get(0)||k==null)){return}if(!u(F)){return F}switch(F.target){case s.get(0):switch(F.keyCode){case 38:s.val(j.call(r,(s.val()<<0)+1,0,255));A.val("r",s.val(),F.target);return false;case 40:s.val(j.call(r,(s.val()<<0)-1,0,255));A.val("r",s.val(),F.target);return false}break;case w.get(0):switch(F.keyCode){case 38:w.val(j.call(r,(w.val()<<0)+1,0,255));A.val("g",w.val(),F.target);return false;case 40:w.val(j.call(r,(w.val()<<0)-1,0,255));A.val("g",w.val(),F.target);return false}break;case h.get(0):switch(F.keyCode){case 38:h.val(j.call(r,(h.val()<<0)+1,0,255));A.val("b",h.val(),F.target);return false;case 40:h.val(j.call(r,(h.val()<<0)-1,0,255));A.val("b",h.val(),F.target);return false}break;case o&&o.get(0):switch(F.keyCode){case 38:o.val(j.call(r,parseFloat(o.val())+1,0,100));A.val("a",Math.precision((o.val()*255)/100,z),F.target);return false;case 40:o.val(j.call(r,parseFloat(o.val())-1,0,100));A.val("a",Math.precision((o.val()*255)/100,z),F.target);return false}break;case n.get(0):switch(F.keyCode){case 38:n.val(j.call(r,(n.val()<<0)+1,0,360));A.val("h",n.val(),F.target);return false;case 40:n.val(j.call(r,(n.val()<<0)-1,0,360));A.val("h",n.val(),F.target);return false}break;case q.get(0):switch(F.keyCode){case 38:q.val(j.call(r,(q.val()<<0)+1,0,100));A.val("s",q.val(),F.target);return false;case 40:q.val(j.call(r,(q.val()<<0)-1,0,100));A.val("s",q.val(),F.target);return false}break;case y.get(0):switch(F.keyCode){case 38:y.val(j.call(r,(y.val()<<0)+1,0,100));A.val("v",y.val(),F.target);return false;case 40:y.val(j.call(r,(y.val()<<0)-1,0,100));A.val("v",y.val(),F.target);return false}break}},x=function(F){if(F.target.value==""&&F.target!=t.get(0)&&(k!=null&&F.target!=k.get(0)||k==null)){return}if(!u(F)){return F}switch(F.target){case s.get(0):s.val(j.call(r,s.val(),0,255));A.val("r",s.val(),F.target);break;case w.get(0):w.val(j.call(r,w.val(),0,255));A.val("g",w.val(),F.target);break;case h.get(0):h.val(j.call(r,h.val(),0,255));A.val("b",h.val(),F.target);break;case o&&o.get(0):o.val(j.call(r,o.val(),0,100));A.val("a",Math.precision((o.val()*255)/100,z),F.target);break;case n.get(0):n.val(j.call(r,n.val(),0,360));A.val("h",n.val(),F.target);break;case q.get(0):q.val(j.call(r,q.val(),0,100));A.val("s",q.val(),F.target);break;case y.get(0):y.val(j.call(r,y.val(),0,100));A.val("v",y.val(),F.target);break;case t.get(0):t.val(t.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,6));k&&k.val(t.val());A.val("hex",t.val()!=""?t.val():null,F.target);break;case k&&k.get(0):k.val(k.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,6));t.val(k.val());A.val("hex",k.val()!=""?k.val():null,F.target);break;case C&&C.get(0):C.val(C.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,2));A.val("a",C.val()!=null?parseInt(C.val(),16):null,F.target);break}},B=function(F){if(A.val()!=null){switch(F.target){case s.get(0):s.val(A.val("r"));break;case w.get(0):w.val(A.val("g"));break;case h.get(0):h.val(A.val("b"));break;case o&&o.get(0):o.val(Math.precision((A.val("a")*100)/255,z));break;case n.get(0):n.val(A.val("h"));break;case q.get(0):q.val(A.val("s"));break;case y.get(0):y.val(A.val("v"));break;case t.get(0):case k&&k.get(0):t.val(A.val("hex"));k&&k.val(A.val("hex"));break;case C&&C.get(0):C.val(A.val("ahex").substring(6));break}}},u=function(F){switch(F.keyCode){case 9:case 16:case 29:case 37:case 39:return false;case"c".charCodeAt():case"v".charCodeAt():if(F.ctrlKey){return false}}return true},j=function(H,G,F){if(H==""||isNaN(H)){return G}if(H>F){return F}if(H<G){return G}return H},m=function(H,F){var G=H.val("all");if(F!=s.get(0)){s.val(G!=null?G.r:"")}if(F!=w.get(0)){w.val(G!=null?G.g:"")}if(F!=h.get(0)){h.val(G!=null?G.b:"")}if(o&&F!=o.get(0)){o.val(G!=null?Math.precision((G.a*100)/255,z):"")}if(F!=n.get(0)){n.val(G!=null?G.h:"")}if(F!=q.get(0)){q.val(G!=null?G.s:"")}if(F!=y.get(0)){y.val(G!=null?G.v:"")}if(F!=t.get(0)&&(k&&F!=k.get(0)||!k)){t.val(G!=null?G.hex:"")}if(k&&F!=k.get(0)&&F!=t.get(0)){k.val(G!=null?G.hex:"")}if(C&&F!=C.get(0)){C.val(G!=null?G.ahex.substring(6):"")}},E=function(){s.add(w).add(h).add(o).add(n).add(q).add(y).add(t).add(k).add(C).unbind("keyup",x).unbind("blur",B);s.add(w).add(h).add(o).add(n).add(q).add(y).unbind("keydown",D);A.unbind(m);s=null;w=null;h=null;o=null;n=null;q=null;y=null;t=null;C=null};e.extend(true,r,{destroy:E});s.add(w).add(h).add(o).add(n).add(q).add(y).add(t).add(k).add(C).bind("keyup",x).bind("blur",B);s.add(w).add(h).add(o).add(n).add(q).add(y).bind("keydown",D);A.bind(m)};e.jPicker={List:[],Color:function(A){var t=this,j,o,u,w,n,B,y,k=new Array(),m=function(r){for(var h=0;h<k.length;h++){k[h].call(t,t,r)}},l=function(h,H,r){var G=H!==undefined;if(!G){if(h===undefined||h==null||h==""){h="all"}if(j==null){return null}switch(h.toLowerCase()){case"ahex":return g.rgbaToHex({r:j,g:o,b:u,a:w});case"hex":return l("ahex").substring(0,6);case"all":return{r:j,g:o,b:u,a:w,h:n,s:B,v:y,hex:l.call(t,"hex"),ahex:l.call(t,"ahex")};default:var E={};for(var C=0;C<h.length;C++){switch(h.charAt(C)){case"r":if(h.length==1){E=j}else{E.r=j}break;case"g":if(h.length==1){E=o}else{E.g=o}break;case"b":if(h.length==1){E=u}else{E.b=u}break;case"a":if(h.length==1){E=w}else{E.a=w}break;case"h":if(h.length==1){E=n}else{E.h=n}break;case"s":if(h.length==1){E=B}else{E.s=B}break;case"v":if(h.length==1){E=y}else{E.v=y}break}}return E=={}?l.call(t,"all"):E;break}}if(r!=null&&r==t){return}var v=false;if(h==null){h=""}if(H==null){if(j!=null){j=null;v=true}if(o!=null){o=null;v=true}if(u!=null){u=null;v=true}if(w!=null){w=null;v=true}if(n!=null){n=null;v=true}if(B!=null){B=null;v=true}if(y!=null){y=null;v=true}v&&m.call(t,r||t);return}switch(h.toLowerCase()){case"ahex":case"hex":var E=g.hexToRgba(H&&(H.ahex||H.hex)||H||"00000000");l.call(t,"rgba",{r:E.r,g:E.g,b:E.b,a:h=="ahex"?E.a:w!=null?w:255},r);break;default:if(H&&(H.ahex!=null||H.hex!=null)){l.call(t,"ahex",H.ahex||H.hex||"00000000",r);return}var s={},F=false,D=false;if(H.r!==undefined&&!h.indexOf("r")==-1){h+="r"}if(H.g!==undefined&&!h.indexOf("g")==-1){h+="g"}if(H.b!==undefined&&!h.indexOf("b")==-1){h+="b"}if(H.a!==undefined&&!h.indexOf("a")==-1){h+="a"}if(H.h!==undefined&&!h.indexOf("h")==-1){h+="h"}if(H.s!==undefined&&!h.indexOf("s")==-1){h+="s"}if(H.v!==undefined&&!h.indexOf("v")==-1){h+="v"}for(var C=0;C<h.length;C++){switch(h.charAt(C)){case"r":if(D){continue}F=true;s.r=H&&H.r&&H.r|0||H&&H|0||0;if(s.r<0){s.r=0}else{if(s.r>255){s.r=255}}if(j!=s.r){j=s.r;v=true}break;case"g":if(D){continue}F=true;s.g=H&&H.g&&H.g|0||H&&H|0||0;if(s.g<0){s.g=0}else{if(s.g>255){s.g=255}}if(o!=s.g){o=s.g;v=true}break;case"b":if(D){continue}F=true;s.b=H&&H.b&&H.b|0||H&&H|0||0;if(s.b<0){s.b=0}else{if(s.b>255){s.b=255}}if(u!=s.b){u=s.b;v=true}break;case"a":s.a=H&&H.a!=null?H.a|0:H!=null?H|0:255;if(s.a<0){s.a=0}else{if(s.a>255){s.a=255}}if(w!=s.a){w=s.a;v=true}break;case"h":if(F){continue}D=true;s.h=H&&H.h&&H.h|0||H&&H|0||0;if(s.h<0){s.h=0}else{if(s.h>360){s.h=360}}if(n!=s.h){n=s.h;v=true}break;case"s":if(F){continue}D=true;s.s=H&&H.s!=null?H.s|0:H!=null?H|0:100;if(s.s<0){s.s=0}else{if(s.s>100){s.s=100}}if(B!=s.s){B=s.s;v=true}break;case"v":if(F){continue}D=true;s.v=H&&H.v!=null?H.v|0:H!=null?H|0:100;if(s.v<0){s.v=0}else{if(s.v>100){s.v=100}}if(y!=s.v){y=s.v;v=true}break}}if(v){if(F){j=j||0;o=o||0;u=u||0;var E=g.rgbToHsv({r:j,g:o,b:u});n=E.h;B=E.s;y=E.v}else{if(D){n=n||0;B=B!=null?B:100;y=y!=null?y:100;var E=g.hsvToRgb({h:n,s:B,v:y});j=E.r;o=E.g;u=E.b}}w=w!=null?w:255;m.call(t,r||t)}break}},q=function(h){if(e.isFunction(h)){k.push(h)}},z=function(r){if(!e.isFunction(r)){return}var h;while((h=e.inArray(r,k))!=-1){k.splice(h,1)}},x=function(){k=null};e.extend(true,t,{val:l,bind:q,unbind:z,destroy:x});if(A){if(A.ahex!=null){l("ahex",A)}else{if(A.hex!=null){l((A.a!=null?"a":"")+"hex",A.a!=null?{ahex:A.hex+g.intToHex(A.a)}:A)}else{if(A.r!=null&&A.g!=null&&A.b!=null){l("rgb"+(A.a!=null?"a":""),A)}else{if(A.h!=null&&A.s!=null&&A.v!=null){l("hsv"+(A.a!=null?"a":""),A)}}}}}},ColorMethods:{hexToRgba:function(m){m=this.validateHex(m);if(m==""){return{r:null,g:null,b:null,a:null}}var l="00",k="00",h="00",j="255";if(m.length==6){m+="ff"}if(m.length>6){l=m.substring(0,2);k=m.substring(2,4);h=m.substring(4,6);j=m.substring(6,m.length)}else{if(m.length>4){l=m.substring(4,m.length);m=m.substring(0,4)}if(m.length>2){k=m.substring(2,m.length);m=m.substring(0,2)}if(m.length>0){h=m.substring(0,m.length)}}return{r:this.hexToInt(l),g:this.hexToInt(k),b:this.hexToInt(h),a:this.hexToInt(j)}},validateHex:function(h){h=h.toLowerCase().replace(/[^a-f0-9]/g,"");if(h.length>8){h=h.substring(0,8)}return h},rgbaToHex:function(h){return this.intToHex(h.r)+this.intToHex(h.g)+this.intToHex(h.b)+this.intToHex(h.a)},intToHex:function(j){var h=(j|0).toString(16);if(h.length==1){h=("0"+h)}return h.toLowerCase()},hexToInt:function(h){return parseInt(h,16)},rgbToHsv:function(l){var o=l.r/255,n=l.g/255,j=l.b/255,k={h:0,s:0,v:0},m=0,h=0,q;if(o>=n&&o>=j){h=o;m=n>j?j:n}else{if(n>=j&&n>=o){h=n;m=o>j?j:o}else{h=j;m=n>o?o:n}}k.v=h;k.s=h?(h-m)/h:0;if(!k.s){k.h=0}else{q=h-m;if(o==h){k.h=(n-j)/q}else{if(n==h){k.h=2+(j-o)/q}else{k.h=4+(o-n)/q}}k.h=parseInt(k.h*60);if(k.h<0){k.h+=360}}k.s=(k.s*100)|0;k.v=(k.v*100)|0;return k},hsvToRgb:function(n){var r={r:0,g:0,b:0,a:100},m=n.h,x=n.s,u=n.v;if(x==0){if(u==0){r.r=r.g=r.b=0}else{r.r=r.g=r.b=(u*255/100)|0}}else{if(m==360){m=0}m/=60;x=x/100;u=u/100;var l=m|0,o=m-l,k=u*(1-x),j=u*(1-(x*o)),w=u*(1-(x*(1-o)));switch(l){case 0:r.r=u;r.g=w;r.b=k;break;case 1:r.r=j;r.g=u;r.b=k;break;case 2:r.r=k;r.g=u;r.b=w;break;case 3:r.r=k;r.g=j;r.b=u;break;case 4:r.r=w;r.g=k;r.b=u;break;case 5:r.r=u;r.g=k;r.b=j;break}r.r=(r.r*255)|0;r.g=(r.g*255)|0;r.b=(r.b*255)|0}return r}}};var f=e.jPicker.Color,c=e.jPicker.List,g=e.jPicker.ColorMethods;e.fn.jPicker=function(j){var h=arguments;return this.each(function(){var x=this,aw=e.extend(true,{},e.fn.jPicker.defaults,j);if(e(x).get(0).nodeName.toLowerCase()=="input"){e.extend(true,aw,{window:{bindToInput:true,expandable:true,input:e(x)}});if(e(x).val()==""){aw.color.active=new f({hex:null});aw.color.current=new f({hex:null})}else{if(g.validateHex(e(x).val())){aw.color.active=new f({hex:e(x).val(),a:aw.color.active.val("a")});aw.color.current=new f({hex:e(x).val(),a:aw.color.active.val("a")})}}}if(aw.window.expandable){e(x).after('Â Â Â Â ')}else{aw.window.liveUpdate=false}var R=parseFloat(navigator.appVersion.split("MSIE")[1])<7&&document.body.filters,S=null,l=null,t=null,av=null,au=null,at=null,Q=null,P=null,O=null,N=null,M=null,L=null,E=null,V=null,ax=null,K=null,J=null,an=null,aj=null,F=null,ao=null,ai=null,Y=null,ac=null,ar=null,s=null,D=null,v=null,ah=function(aC){var aE=H.active,aF=n.clientPath,aB=aE.val("hex"),aD,aA;aw.color.mode=aC;switch(aC){case"h":setTimeout(function(){z.call(x,l,"transparent");y.call(x,av,0);Z.call(x,av,100);y.call(x,au,260);Z.call(x,au,100);z.call(x,t,"transparent");y.call(x,Q,0);Z.call(x,Q,100);y.call(x,P,260);Z.call(x,P,100);y.call(x,O,260);Z.call(x,O,100);y.call(x,N,260);Z.call(x,N,100);y.call(x,L,260);Z.call(x,L,100)},0);E.range("all",{minX:0,maxX:100,minY:0,maxY:100});V.range("rangeY",{minY:0,maxY:360});if(aE.val("ahex")==null){break}E.val("xy",{x:aE.val("s"),y:100-aE.val("v")},E);V.val("y",360-aE.val("h"),V);break;case"s":setTimeout(function(){z.call(x,l,"transparent");y.call(x,av,-260);y.call(x,au,-520);y.call(x,Q,-260);y.call(x,P,-520);y.call(x,L,260);Z.call(x,L,100)},0);E.range("all",{minX:0,maxX:360,minY:0,maxY:100});V.range("rangeY",{minY:0,maxY:100});if(aE.val("ahex")==null){break}E.val("xy",{x:aE.val("h"),y:100-aE.val("v")},E);V.val("y",100-aE.val("s"),V);break;case"v":setTimeout(function(){z.call(x,l,"000000");y.call(x,av,-780);y.call(x,au,260);z.call(x,t,aB);y.call(x,Q,-520);y.call(x,P,260);Z.call(x,P,100);y.call(x,L,260);Z.call(x,L,100)},0);E.range("all",{minX:0,maxX:360,minY:0,maxY:100});V.range("rangeY",{minY:0,maxY:100});if(aE.val("ahex")==null){break}E.val("xy",{x:aE.val("h"),y:100-aE.val("s")},E);V.val("y",100-aE.val("v"),V);break;case"r":aD=-1040;aA=-780;E.range("all",{minX:0,maxX:255,minY:0,maxY:255});V.range("rangeY",{minY:0,maxY:255});if(aE.val("ahex")==null){break}E.val("xy",{x:aE.val("b"),y:255-aE.val("g")},E);V.val("y",255-aE.val("r"),V);break;case"g":aD=-1560;aA=-1820;E.range("all",{minX:0,maxX:255,minY:0,maxY:255});V.range("rangeY",{minY:0,maxY:255});if(aE.val("ahex")==null){break}E.val("xy",{x:aE.val("b"),y:255-aE.val("r")},E);V.val("y",255-aE.val("g"),V);break;case"b":aD=-2080;aA=-2860;E.range("all",{minX:0,maxX:255,minY:0,maxY:255});V.range("rangeY",{minY:0,maxY:255});if(aE.val("ahex")==null){break}E.val("xy",{x:aE.val("r"),y:255-aE.val("g")},E);V.val("y",255-aE.val("b"),V);break;case"a":setTimeout(function(){z.call(x,l,"transparent");y.call(x,av,-260);y.call(x,au,-520);y.call(x,Q,260);y.call(x,P,260);Z.call(x,P,100);y.call(x,L,0);Z.call(x,L,100)},0);E.range("all",{minX:0,maxX:360,minY:0,maxY:100});V.range("rangeY",{minY:0,maxY:255});if(aE.val("ahex")==null){break}E.val("xy",{x:aE.val("h"),y:100-aE.val("v")},E);V.val("y",255-aE.val("a"),V);break;default:throw ("Invalid Mode");break}switch(aC){case"h":break;case"s":case"v":case"a":setTimeout(function(){Z.call(x,av,100);Z.call(x,Q,100);y.call(x,O,260);Z.call(x,O,100);y.call(x,N,260);Z.call(x,N,100)},0);break;case"r":case"g":case"b":setTimeout(function(){z.call(x,l,"transparent");z.call(x,t,"transparent");Z.call(x,Q,100);Z.call(x,av,100);y.call(x,av,aD);y.call(x,au,aD-260);y.call(x,Q,aA-780);y.call(x,P,aA-520);y.call(x,O,aA);y.call(x,N,aA-260);y.call(x,L,260);Z.call(x,L,100)},0);break}if(aE.val("ahex")==null){return}ak.call(x,aE)},ak=function(aB,aA){if(aA==null||(aA!=V&&aA!=E)){w.call(x,aB,aA)}setTimeout(function(){az.call(x,aB);am.call(x,aB);X.call(x,aB)},0)},A=function(aB,aA){var aD=H.active;if(aA!=E&&aD.val()==null){return}var aC=aB.val("all");switch(aw.color.mode){case"h":aD.val("sv",{s:aC.x,v:100-aC.y},aA);break;case"s":case"a":aD.val("hv",{h:aC.x,v:100-aC.y},aA);break;case"v":aD.val("hs",{h:aC.x,s:100-aC.y},aA);break;case"r":aD.val("gb",{g:255-aC.y,b:aC.x},aA);break;case"g":aD.val("rb",{r:255-aC.y,b:aC.x},aA);break;case"b":aD.val("rg",{r:aC.x,g:255-aC.y},aA);break}},ad=function(aB,aA){var aC=H.active;if(aA!=V&&aC.val()==null){return}switch(aw.color.mode){case"h":aC.val("h",{h:360-aB.val("y")},aA);break;case"s":aC.val("s",{s:100-aB.val("y")},aA);break;case"v":aC.val("v",{v:100-aB.val("y")},aA);break;case"r":aC.val("r",{r:255-aB.val("y")},aA);break;case"g":aC.val("g",{g:255-aB.val("y")},aA);break;case"b":aC.val("b",{b:255-aB.val("y")},aA);break;case"a":aC.val("a",255-aB.val("y"),aA);break}},w=function(aD,aA){if(aA!=E){switch(aw.color.mode){case"h":var aI=aD.val("sv");E.val("xy",{x:aI!=null?aI.s:100,y:100-(aI!=null?aI.v:100)},aA);break;case"s":case"a":var aC=aD.val("hv");E.val("xy",{x:aC&&aC.h||0,y:100-(aC!=null?aC.v:100)},aA);break;case"v":var aF=aD.val("hs");E.val("xy",{x:aF&&aF.h||0,y:100-(aF!=null?aF.s:100)},aA);break;case"r":var aB=aD.val("bg");E.val("xy",{x:aB&&aB.b||0,y:255-(aB&&aB.g||0)},aA);break;case"g":var aJ=aD.val("br");E.val("xy",{x:aJ&&aJ.b||0,y:255-(aJ&&aJ.r||0)},aA);break;case"b":var aH=aD.val("rg");E.val("xy",{x:aH&&aH.r||0,y:255-(aH&&aH.g||0)},aA);break}}if(aA!=V){switch(aw.color.mode){case"h":V.val("y",360-(aD.val("h")||0),aA);break;case"s":var aK=aD.val("s");V.val("y",100-(aK!=null?aK:100),aA);break;case"v":var aG=aD.val("v");V.val("y",100-(aG!=null?aG:100),aA);break;case"r":V.val("y",255-(aD.val("r")||0),aA);break;case"g":V.val("y",255-(aD.val("g")||0),aA);break;case"b":V.val("y",255-(aD.val("b")||0),aA);break;case"a":var aE=aD.val("a");V.val("y",255-(aE!=null?aE:255),aA);break}}},az=function(aB){try{var aA=aB.val("all");F.css({backgroundColor:aA&&"#"+aA.hex||"transparent"});Z.call(x,F,aA&&Math.precision((aA.a*100)/255,4)||0)}catch(aC){}},am=function(aD){switch(aw.color.mode){case"h":z.call(x,l,new f({h:aD.val("h")||0,s:100,v:100}).val("hex"));break;case"s":case"a":var aC=aD.val("s");Z.call(x,au,100-(aC!=null?aC:100));break;case"v":var aB=aD.val("v");Z.call(x,av,aB!=null?aB:100);break;case"r":Z.call(x,au,Math.precision((aD.val("r")||0)/255*100,4));break;case"g":Z.call(x,au,Math.precision((aD.val("g")||0)/255*100,4));break;case"b":Z.call(x,au,Math.precision((aD.val("b")||0)/255*100));break}var aA=aD.val("a");Z.call(x,at,Math.precision(((255-(aA||0))*100)/255,4))},X=function(aG){switch(aw.color.mode){case"h":var aI=aG.val("a");Z.call(x,M,Math.precision(((255-(aI||0))*100)/255,4));break;case"s":var aB=aG.val("hva"),aC=new f({h:aB&&aB.h||0,s:100,v:aB!=null?aB.v:100});z.call(x,t,aC.val("hex"));Z.call(x,P,100-(aB!=null?aB.v:100));Z.call(x,M,Math.precision(((255-(aB&&aB.a||0))*100)/255,4));break;case"v":var aD=aG.val("hsa"),aF=new f({h:aD&&aD.h||0,s:aD!=null?aD.s:100,v:100});z.call(x,t,aF.val("hex"));Z.call(x,M,Math.precision(((255-(aD&&aD.a||0))*100)/255,4));break;case"r":case"g":case"b":var aE=0,aH=0,aA=aG.val("rgba");if(aw.color.mode=="r"){aE=aA&&aA.b||0;aH=aA&&aA.g||0}else{if(aw.color.mode=="g"){aE=aA&&aA.b||0;aH=aA&&aA.r||0}else{if(aw.color.mode=="b"){aE=aA&&aA.r||0;aH=aA&&aA.g||0}}}var aJ=aH>aE?aE:aH;Z.call(x,P,aE>aH?Math.precision(((aE-aH)/(255-aH))*100,4):0);Z.call(x,O,aH>aE?Math.precision(((aH-aE)/(255-aE))*100,4):0);Z.call(x,N,Math.precision((aJ/255)*100,4));Z.call(x,M,Math.precision(((255-(aA&&aA.a||0))*100)/255,4));break;case"a":var aI=aG.val("a");z.call(x,t,aG.val("hex")||"000000");Z.call(x,M,aI!=null?0:100);Z.call(x,L,aI!=null?100:0);break}},z=function(aA,aB){aA.css({backgroundColor:aB&&aB.length==6&&"#"+aB||"transparent"})},u=function(aA,aB){if(R&&(aB.indexOf("AlphaBar.png")!=-1||aB.indexOf("Bars.png")!=-1||aB.indexOf("Maps.png")!=-1)){aA.attr("pngSrc",aB);aA.css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+aB+"', sizingMethod='scale')"})}else{aA.css({backgroundImage:"url('"+aB+"')"})}},y=function(aA,aB){aA.css({top:aB+"px"})},Z=function(aB,aA){aB.css({visibility:aA>0?"visible":"hidden"});if(aA>0&&aA<100){if(R){var aC=aB.attr("pngSrc");if(aC!=null&&(aC.indexOf("AlphaBar.png")!=-1||aC.indexOf("Bars.png")!=-1||aC.indexOf("Maps.png")!=-1)){aB.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+aC+"', sizingMethod='scale') progid:DXImageTransform.Microsoft.Alpha(opacity="+aA+")"})}else{aB.css({opacity:Math.precision(aA/100,4)})}}else{aB.css({opacity:Math.precision(aA/100,4)})}}else{if(aA==0||aA==100){if(R){var aC=aB.attr("pngSrc");if(aC!=null&&(aC.indexOf("AlphaBar.png")!=-1||aC.indexOf("Bars.png")!=-1||aC.indexOf("Maps.png")!=-1)){aB.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+aC+"', sizingMethod='scale')"})}else{aB.css({opacity:""})}}else{aB.css({opacity:""})}}}},C=function(){H.active.val("ahex",H.current.val("ahex"))},U=function(){H.current.val("ahex",H.active.val("ahex"))},B=function(aA){e(this).parents("tbody:first").find('input:radio[value!="'+aA.target.value+'"]').removeAttr("checked");ah.call(x,aA.target.value)},aa=function(){C.call(x)},r=function(){C.call(x);aw.window.expandable&&ap.call(x);e.isFunction(ay)&&ay.call(x,H.active,Y)},m=function(){U.call(x);aw.window.expandable&&ap.call(x);e.isFunction(af)&&af.call(x,H.active,ai)},ag=function(){W.call(x)},aq=function(aC,aA){var aB=aC.val("hex");ao.css({backgroundColor:aB&&"#"+aB||"transparent"});Z.call(x,ao,Math.precision(((aC.val("a")||0)*100)/255,4))},I=function(aD,aA){var aC=aD.val("hex");var aB=aD.val("va");ar.css({backgroundColor:aC&&"#"+aC||"transparent"});Z.call(x,s,Math.precision(((255-(aB&&aB.a||0))*100)/255,4));if(aw.window.bindToInput&&aw.window.updateInputColor){aw.window.input.css({backgroundColor:aC&&"#"+aC||"transparent",color:aB==null||aB.v>75?"#000000":"#ffffff"})}},T=function(aC){var aA=aw.window.element,aB=aw.window.page;K=parseInt(S.css("left"));J=parseInt(S.css("top"));an=aC.pageX;aj=aC.pageY;e(document).bind("mousemove",k).bind("mouseup",q);aC.preventDefault()},k=function(aA){S.css({left:K-(an-aA.pageX)+"px",top:J-(aj-aA.pageY)+"px"});if(aw.window.expandable&&!e.support.boxModel){S.prev().css({left:S.css("left"),top:S.css("top")})}aA.stopPropagation();aA.preventDefault();return false},q=function(aA){e(document).unbind("mousemove",k).unbind("mouseup",q);aA.stopPropagation();aA.preventDefault();return false},G=function(aA){aA.preventDefault();aA.stopPropagation();H.active.val("ahex",e(this).attr("title")||null,aA.target);return false},af=e.isFunction(h[1])&&h[1]||null,ae=e.isFunction(h[2])&&h[2]||null,ay=e.isFunction(h[3])&&h[3]||null,W=function(){H.current.val("ahex",H.active.val("ahex"));var aA=function(){if(!aw.window.expandable||e.support.boxModel){return}var aB=S.find("table:first");S.before("<iframe/>");S.prev().css({width:aB.width(),height:S.height(),opacity:0,position:"absolute",left:S.css("left"),top:S.css("top")})};if(aw.window.expandable){e(document.body).children("div.jPicker.Container").css({zIndex:10});S.css({zIndex:20})}switch(aw.window.effects.type){case"fade":S.fadeIn(aw.window.effects.speed.show,aA);break;case"slide":S.slideDown(aw.window.effects.speed.show,aA);break;case"show":default:S.show(aw.window.effects.speed.show,aA);break}},ap=function(){var aA=function(){if(aw.window.expandable){S.css({zIndex:10})}if(!aw.window.expandable||e.support.boxModel){return}S.prev().remove()};switch(aw.window.effects.type){case"fade":S.fadeOut(aw.window.effects.speed.hide,aA);break;case"slide":S.slideUp(aw.window.effects.speed.hide,aA);break;case"show":default:S.hide(aw.window.effects.speed.hide,aA);break}},o=function(){var aH=aw.window,aA=aH.expandable?e(x).next().find(".Container:first"):null;S=aH.expandable?e("<div/>"):e(x);S.addClass("jPicker Container");if(aH.expandable){S.hide()}S.get(0).onselectstart=function(aO){if(aO.target.nodeName.toLowerCase()!=="input"){return false}};var aK=H.active.val("all");if(aH.alphaPrecision<0){aH.alphaPrecision=0}else{if(aH.alphaPrecision>2){aH.alphaPrecision=2}}var aL='
<tbody>'+(aH.expandable?'
Â 
':"")+'
'+(aH.title||ab.text.title)+'
Â Â Â <img src="'+n.clientPath+n.colorMap.arrow.file+'" class="Arrow"/>
Â Â Â Â Â Â <img src="'+n.clientPath+n.colorBar.arrow.file+'" class="Arrow"/>
'+ab.text.newColor+'
Â Â 
'+ab.text.currentColor+'
<input type="button" class="Ok" value="'+ab.text.ok+'" title="'+ab.tooltips.buttons.ok+'"/><input type="button" class="Cancel" value="'+ab.text.cancel+'" title="'+ab.tooltips.buttons.cancel+'"/>
Â 
<label title="'+ab.tooltips.hue.radio+'"><input type="radio" value="h"'+(aw.color.mode=="h"?' checked="checked"':"")+'/>H:</label>
<input type="text" maxlength="3" value="'+(aK!=null?aK.h:"")+'" title="'+ab.tooltips.hue.textbox+'"/>Â Â°
<label title="'+ab.tooltips.saturation.radio+'"><input type="radio" value="s"'+(aw.color.mode=="s"?' checked="checked"':"")+'/>S:</label>
<input type="text" maxlength="3" value="'+(aK!=null?aK.s:"")+'" title="'+ab.tooltips.saturation.textbox+'"/>Â %
<label title="'+ab.tooltips.value.radio+'"><input type="radio" value="v"'+(aw.color.mode=="v"?' checked="checked"':"")+'/>V:</label>
<input type="text" maxlength="3" value="'+(aK!=null?aK.v:"")+'" title="'+ab.tooltips.value.textbox+'"/>Â %
<label title="'+ab.tooltips.red.radio+'"><input type="radio" value="r"'+(aw.color.mode=="r"?' checked="checked"':"")+'/>R:</label>
<input type="text" maxlength="3" value="'+(aK!=null?aK.r:"")+'" title="'+ab.tooltips.red.textbox+'"/>
<label title="'+ab.tooltips.green.radio+'"><input type="radio" value="g"'+(aw.color.mode=="g"?' checked="checked"':"")+'/>G:</label>
<input type="text" maxlength="3" value="'+(aK!=null?aK.g:"")+'" title="'+ab.tooltips.green.textbox+'"/>
<label title="'+ab.tooltips.blue.radio+'"><input type="radio" value="b"'+(aw.color.mode=="b"?' checked="checked"':"")+'/>B:</label>
<input type="text" maxlength="3" value="'+(aK!=null?aK.b:"")+'" title="'+ab.tooltips.blue.textbox+'"/>
'+(aH.alphaSupport?'<label title="'+ab.tooltips.alpha.radio+'"><input type="radio" value="a"'+(aw.color.mode=="a"?' checked="checked"':"")+"/>A:</label>":"Â ")+'
'+(aH.alphaSupport?'<input type="text" maxlength="'+(3+aH.alphaPrecision)+'" value="'+(aK!=null?Math.precision((aK.a*100)/255,aH.alphaPrecision):"")+'" title="'+ab.tooltips.alpha.textbox+'"/>Â %':"Â ")+'
<label title="'+ab.tooltips.hex.textbox+'">#:<input type="text" maxlength="6" class="Hex" value="'+(aK!=null?aK.hex:"")+'"/></label>'+(aH.alphaSupport?'<input type="text" maxlength="2" class="AHex" value="'+(aK!=null?aK.ahex.substring(6):"")+'" title="'+ab.tooltips.hex.alpha+'"/>
':"Â ")+"
</tbody>
";if(aH.expandable){S.html(aL);if(e(document.body).children("div.jPicker.Container").length==0){e(document.body).prepend(S)}else{e(document.body).children("div.jPicker.Container:last").after(S)}S.mousedown(function(){e(document.body).children("div.jPicker.Container").css({zIndex:10});S.css({zIndex:20})});S.css({left:aH.position.x=="left"?(aA.offset().left-530-(aH.position.y=="center"?25:0))+"px":aH.position.x=="center"?(aA.offset().left-260)+"px":aH.position.x=="right"?(aA.offset().left-10+(aH.position.y=="center"?25:0))+"px":aH.position.x=="screenCenter"?((e(document).width()>>1)-260)+"px":(aA.offset().left+parseInt(aH.position.x))+"px",position:"absolute",top:aH.position.y=="top"?(aA.offset().top-312)+"px":aH.position.y=="center"?(aA.offset().top-156)+"px":aH.position.y=="bottom"?(aA.offset().top+25)+"px":(aA.offset().top+parseInt(aH.position.y))+"px"})}else{S=e(x);S.html(aL)}var aE=S.find("tbody:first");l=aE.find("div.Map:first");t=aE.find("div.Bar:first");var aM=l.find("span"),aJ=t.find("span");av=aM.filter(".Map1:first");au=aM.filter(".Map2:first");at=aM.filter(".Map3:first");Q=aJ.filter(".Map1:first");P=aJ.filter(".Map2:first");O=aJ.filter(".Map3:first");N=aJ.filter(".Map4:first");M=aJ.filter(".Map5:first");L=aJ.filter(".Map6:first");E=new d(l,{map:{width:n.colorMap.width,height:n.colorMap.height},arrow:{image:n.clientPath+n.colorMap.arrow.file,width:n.colorMap.arrow.width,height:n.colorMap.arrow.height}});E.bind(A);V=new d(t,{map:{width:n.colorBar.width,height:n.colorBar.height},arrow:{image:n.clientPath+n.colorBar.arrow.file,width:n.colorBar.arrow.width,height:n.colorBar.arrow.height}});V.bind(ad);ax=new b(aE,H.active,aH.expandable&&aH.bindToInput?aH.input:null,aH.alphaPrecision);var aC=aK!=null?aK.hex:null,aI=aE.find(".Preview"),aG=aE.find(".Button");F=aI.find(".Active:first").css({backgroundColor:aC&&"#"+aC||"transparent"});ao=aI.find(".Current:first").css({backgroundColor:aC&&"#"+aC||"transparent"}).bind("click",aa);Z.call(x,ao,Math.precision(H.current.val("a")*100)/255,4);ai=aG.find(".Ok:first").bind("click",m);Y=aG.find(".Cancel:first").bind("click",r);ac=aG.find(".Grid:first");setTimeout(function(){u.call(x,av,n.clientPath+"Maps.png");u.call(x,au,n.clientPath+"Maps.png");u.call(x,at,n.clientPath+"map-opacity.png");u.call(x,Q,n.clientPath+"Bars.png");u.call(x,P,n.clientPath+"Bars.png");u.call(x,O,n.clientPath+"Bars.png");u.call(x,N,n.clientPath+"Bars.png");u.call(x,M,n.clientPath+"bar-opacity.png");u.call(x,L,n.clientPath+"AlphaBar.png");u.call(x,aI.find("div:first"),n.clientPath+"preview-opacity.png")},0);aE.find("td.Radio input").bind("click",B);if(H.quickList&&H.quickList.length>0){var aF="";for(i=0;i<H.quickList.length;i++){if((typeof(H.quickList[i])).toString().toLowerCase()=="string"){H.quickList[i]=new f({hex:H.quickList[i]})}var aD=H.quickList[i].val("a");var aN=H.quickList[i].val("ahex");if(!aH.alphaSupport&&aN){aN=aN.substring(0,6)+"ff"}var aB=H.quickList[i].val("hex");aF+='<span class="QuickColor"'+(aN&&' title="#'+aN+'"'||"")+' style="background-color:'+(aB&&"#"+aB||"")+";"+(aB?"":"background-image:url("+n.clientPath+"NoColor.png)")+(aH.alphaSupport&&aD&&aD<255?";opacity:"+Math.precision(aD/255,4)+";filter:Alpha(opacity="+Math.precision(aD/2.55,4)+")":"")+'">Â </span>'}u.call(x,ac,n.clientPath+"bar-opacity.png");ac.html(aF);ac.find(".QuickColor").click(G)}ah.call(x,aw.color.mode);H.active.bind(ak);e.isFunction(ae)&&H.active.bind(ae);H.current.bind(aq);if(aH.expandable){x.icon=aA.parents(".Icon:first");ar=x.icon.find(".Color:first").css({backgroundColor:aC&&"#"+aC||"transparent"});s=x.icon.find(".Alpha:first");u.call(x,s,n.clientPath+"bar-opacity.png");Z.call(x,s,Math.precision(((255-(aK!=null?aK.a:0))*100)/255,4));D=x.icon.find(".Image:first").css({backgroundImage:"url('"+n.clientPath+n.picker.file+"')"}).bind("click",ag);if(aH.bindToInput&&aH.updateInputColor){aH.input.css({backgroundColor:aC&&"#"+aC||"transparent",color:aK==null||aK.v>75?"#000000":"#ffffff"})}v=aE.find(".Move:first").bind("mousedown",T);H.active.bind(I)}else{W.call(x)}},al=function(){S.find("td.Radio input").unbind("click",B);ao.unbind("click",aa);Y.unbind("click",r);ai.unbind("click",m);if(aw.window.expandable){D.unbind("click",ag);v.unbind("mousedown",T);x.icon=null}S.find(".QuickColor").unbind("click",G);l=null;t=null;av=null;au=null;at=null;Q=null;P=null;O=null;N=null;M=null;L=null;E.destroy();E=null;V.destroy();V=null;ax.destroy();ax=null;F=null;ao=null;ai=null;Y=null;ac=null;af=null;ay=null;ae=null;S.html("");for(i=0;i<c.length;i++){if(c[i]==x){c.splice(i,1)}}},n=aw.images,ab=aw.localization,H={active:(typeof(aw.color.active)).toString().toLowerCase()=="string"?new f({ahex:!aw.window.alphaSupport&&aw.color.active?aw.color.active.substring(0,6)+"ff":aw.color.active}):new f({ahex:!aw.window.alphaSupport&&aw.color.active.val("ahex")?aw.color.active.val("ahex").substring(0,6)+"ff":aw.color.active.val("ahex")}),current:(typeof(aw.color.active)).toString().toLowerCase()=="string"?new f({ahex:!aw.window.alphaSupport&&aw.color.active?aw.color.active.substring(0,6)+"ff":aw.color.active}):new f({ahex:!aw.window.alphaSupport&&aw.color.active.val("ahex")?aw.color.active.val("ahex").substring(0,6)+"ff":aw.color.active.val("ahex")}),quickList:aw.color.quickList};e.extend(true,x,{commitCallback:af,liveCallback:ae,cancelCallback:ay,color:H,show:W,hide:ap,destroy:al});c.push(x);setTimeout(function(){o.call(x)},0)})};e.fn.jPicker.defaults={window:{title:null,effects:{type:"slide",speed:{show:"slow",hide:"fast"}},position:{x:"screenCenter",y:"top"},expandable:false,liveUpdate:true,alphaSupport:false,alphaPrecision:0,updateInputColor:true},color:{mode:"h",active:new f({ahex:"#ffcc00ff"}),quickList:[new f({h:360,s:33,v:100}),new f({h:360,s:66,v:100}),new f({h:360,s:100,v:100}),new f({h:360,s:100,v:75}),new f({h:360,s:100,v:50}),new f({h:180,s:0,v:100}),new f({h:30,s:33,v:100}),new f({h:30,s:66,v:100}),new f({h:30,s:100,v:100}),new f({h:30,s:100,v:75}),new f({h:30,s:100,v:50}),new f({h:180,s:0,v:90}),new f({h:60,s:33,v:100}),new f({h:60,s:66,v:100}),new f({h:60,s:100,v:100}),new f({h:60,s:100,v:75}),new f({h:60,s:100,v:50}),new f({h:180,s:0,v:80}),new f({h:90,s:33,v:100}),new f({h:90,s:66,v:100}),new f({h:90,s:100,v:100}),new f({h:90,s:100,v:75}),new f({h:90,s:100,v:50}),new f({h:180,s:0,v:70}),new f({h:120,s:33,v:100}),new f({h:120,s:66,v:100}),new f({h:120,s:100,v:100}),new f({h:120,s:100,v:75}),new f({h:120,s:100,v:50}),new f({h:180,s:0,v:60}),new f({h:150,s:33,v:100}),new f({h:150,s:66,v:100}),new f({h:150,s:100,v:100}),new f({h:150,s:100,v:75}),new f({h:150,s:100,v:50}),new f({h:180,s:0,v:50}),new f({h:180,s:33,v:100}),new f({h:180,s:66,v:100}),new f({h:180,s:100,v:100}),new f({h:180,s:100,v:75}),new f({h:180,s:100,v:50}),new f({h:180,s:0,v:40}),new f({h:210,s:33,v:100}),new f({h:210,s:66,v:100}),new f({h:210,s:100,v:100}),new f({h:210,s:100,v:75}),new f({h:210,s:100,v:50}),new f({h:180,s:0,v:30}),new f({h:240,s:33,v:100}),new f({h:240,s:66,v:100}),new f({h:240,s:100,v:100}),new f({h:240,s:100,v:75}),new f({h:240,s:100,v:50}),new f({h:180,s:0,v:20}),new f({h:270,s:33,v:100}),new f({h:270,s:66,v:100}),new f({h:270,s:100,v:100}),new f({h:270,s:100,v:75}),new f({h:270,s:100,v:50}),new f({h:180,s:0,v:10}),new f({h:300,s:33,v:100}),new f({h:300,s:66,v:100}),new f({h:300,s:100,v:100}),new f({h:300,s:100,v:75}),new f({h:300,s:100,v:50}),new f({h:180,s:0,v:0}),new f({h:330,s:33,v:100}),new f({h:330,s:66,v:100}),new f({h:330,s:100,v:100}),new f({h:330,s:100,v:75}),new f({h:330,s:100,v:50}),new f()]},images:{clientPath:"/jPicker/images/",colorMap:{width:256,height:256,arrow:{file:"mappoint.gif",width:15,height:15}},colorBar:{width:20,height:256,arrow:{file:"rangearrows.gif",width:20,height:7}},picker:{file:"picker.gif",width:25,height:24}},localization:{text:{title:"Drag Markers To Pick A Color",newColor:"new",currentColor:"current",ok:"OK",cancel:"Cancel"},tooltips:{colors:{newColor:"New Color - Press âOKâ To Commit",currentColor:"Click To Revert To Original Color"},buttons:{ok:"Commit To This Color Selection",cancel:"Cancel And Revert To Original Color"},hue:{radio:"Set To âHueâ Color Mode",textbox:"Enter A âHueâ Value (0-360Â°)"},saturation:{radio:"Set To âSaturationâ Color Mode",textbox:"Enter A âSaturationâ Value (0-100%)"},value:{radio:"Set To âValueâ Color Mode",textbox:"Enter A âValueâ Value (0-100%)"},red:{radio:"Set To âRedâ Color Mode",textbox:"Enter A âRedâ Value (0-255)"},green:{radio:"Set To âGreenâ Color Mode",textbox:"Enter A âGreenâ Value (0-255)"},blue:{radio:"Set To âBlueâ Color Mode",textbox:"Enter A âBlueâ Value (0-255)"},alpha:{radio:"Set To âAlphaâ Color Mode",textbox:"Enter A âAlphaâ Value (0-100)"},hex:{textbox:"Enter A âHexâ Color Value (#000000-#ffffff)",alpha:"Enter A âAlphaâ Value (#00-#ff)"}}}}})(jQuery,"1.1.6");
/*
* jCarousel - Riding carousels with jQuery * http://sorgalla.com/jcarousel/ * * Copyright (c) 2006 Jan Sorgalla ( http://sorgalla.com ) * Dual licensed under the MIT ( http://www.opensource.org/licenses/mit-license.php ) * and GPL ( http://www.opensource.org/licenses/gpl-license.php ) licenses. * * Built on top of the jQuery library * http://jquery.com * * Inspired by the "Carousel Component" by Bill Scott * http://billwscott.com/carousel/ */
(function(c){var d={vertical:false,rtl:false,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,buttonNextHTML:"
",buttonPrevHTML:"
",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},b=false;c(window).bind("load.jcarousel",function(){b=true});c.jcarousel=function(l,g){this.options=c.extend({},d,g||{});this.locked=false;this.autoStopped=false;this.container=null;this.clip=null;this.list=null;this.buttonNext=null;this.buttonPrev=null;this.buttonNextState=null;this.buttonPrevState=null;if(!g||g.rtl===undefined){this.options.rtl=(c(l).attr("dir")||c("html").attr("dir")||"").toLowerCase()=="rtl"}this.wh=!this.options.vertical?"width":"height";this.lt=!this.options.vertical?(this.options.rtl?"right":"left"):"top";var r="",n=l.className.split(" ");for(var k=0;k<n.length;k++){if(n[k].indexOf("jcarousel-skin")!=-1){c(l).removeClass(n[k]);r=n[k];break}}if(l.nodeName.toUpperCase()=="UL"||l.nodeName.toUpperCase()=="OL"){this.list=c(l);this.container=this.list.parent();if(this.container.hasClass("jcarousel-clip")){if(!this.container.parent().hasClass("jcarousel-container")){this.container=this.container.wrap("
")}this.container=this.container.parent()}else{if(!this.container.hasClass("jcarousel-container")){this.container=this.list.wrap("
").parent()}}}else{this.container=c(l);this.list=this.container.find("ul,ol").eq(0)}if(r!==""&&this.container.parent()[0].className.indexOf("jcarousel-skin")==-1){this.container.wrap('
')}this.clip=this.list.parent();if(!this.clip.length||!this.clip.hasClass("jcarousel-clip")){this.clip=this.list.wrap("
").parent()}this.buttonNext=c(".jcarousel-next",this.container);if(this.buttonNext.size()===0&&this.options.buttonNextHTML!==null){this.buttonNext=this.clip.after(this.options.buttonNextHTML).next()}this.buttonNext.addClass(this.className("jcarousel-next"));this.buttonPrev=c(".jcarousel-prev",this.container);if(this.buttonPrev.size()===0&&this.options.buttonPrevHTML!==null){this.buttonPrev=this.clip.after(this.options.buttonPrevHTML).next()}this.buttonPrev.addClass(this.className("jcarousel-prev"));this.clip.addClass(this.className("jcarousel-clip")).css({overflow:"hidden",position:"relative"});this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css((this.options.rtl?"right":"left"),0);this.container.addClass(this.className("jcarousel-container")).css({position:"relative"});if(!this.options.vertical&&this.options.rtl){this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl")}var m=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null;var q=this.list.children("li");var s=this;if(q.size()>0){var f=0,h=this.options.offset;q.each(function(){s.format(this,h++);f+=s.dimension(this,m)});this.list.css(this.wh,(f+100)+"px");if(!g||g.size===undefined){this.options.size=q.size()}}this.container.css("display","block");this.buttonNext.css("display","block");this.buttonPrev.css("display","block");this.funcNext=function(){s.next()};this.funcPrev=function(){s.prev()};this.funcResize=function(){s.reload()};if(this.options.initCallback!==null){this.options.initCallback(this,"init")}if(!b&&c.browser.safari){this.buttons(false,false);c(window).bind("load.jcarousel",function(){s.setup()})}else{this.setup()}};var a=c.jcarousel;a.fn=a.prototype={jcarousel:"0.2.7"};a.fn.extend=a.extend=c.extend;a.fn.extend({setup:function(){this.first=null;this.last=null;this.prevFirst=null;this.prevLast=null;this.animating=false;this.timer=null;this.tail=null;this.inTail=false;if(this.locked){return}this.list.css(this.lt,this.pos(this.options.offset)+"px");var e=this.pos(this.options.start,true);this.prevFirst=this.prevLast=null;this.animate(e,false);c(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize)},reset:function(){this.list.empty();this.list.css(this.lt,"0px");this.list.css(this.wh,"10px");if(this.options.initCallback!==null){this.options.initCallback(this,"reset")}this.setup()},reload:function(){if(this.tail!==null&&this.inTail){this.list.css(this.lt,a.intval(this.list.css(this.lt))+this.tail)}this.tail=null;this.inTail=false;if(this.options.reloadCallback!==null){this.options.reloadCallback(this)}if(this.options.visible!==null){var g=this;var h=Math.ceil(this.clipping()/this.options.visible),f=0,e=0;this.list.children("li").each(function(j){f+=g.dimension(this,h);if(j+1<g.first){e=f}});this.list.css(this.wh,f+"px");this.list.css(this.lt,-e+"px")}this.scroll(this.first,false)},lock:function(){this.locked=true;this.buttons()},unlock:function(){this.locked=false;this.buttons()},size:function(e){if(e!==undefined){this.options.size=e;if(!this.locked){this.buttons()}}return this.options.size},has:function(g,h){if(h===undefined||!h){h=g}if(this.options.size!==null&&h>this.options.size){h=this.options.size}for(var f=g;f<=h;f++){var k=this.get(f);if(!k.length||k.hasClass("jcarousel-item-placeholder")){return false}}return true},get:function(e){return c(".jcarousel-item-"+e,this.list)},add:function(l,r){var m=this.get(l),h=0,g=c(r);if(m.length===0){var q,k=a.intval(l);m=this.create(l);while(true){q=this.get(--k);if(k<=0||q.length){if(k<=0){this.list.prepend(m)}else{q.after(m)}break}}}else{h=this.dimension(m)}if(g.get(0).nodeName.toUpperCase()=="LI"){m.replaceWith(g);m=g}else{m.empty().append(r)}this.format(m.removeClass(this.className("jcarousel-item-placeholder")),l);var o=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null;var f=this.dimension(m,o)-h;if(l>0&&l<this.first){this.list.css(this.lt,a.intval(this.list.css(this.lt))-f+"px")}this.list.css(this.wh,a.intval(this.list.css(this.wh))+f+"px");return m},remove:function(f){var g=this.get(f);if(!g.length||(f>=this.first&&f<=this.last)){return}var h=this.dimension(g);if(f<this.first){this.list.css(this.lt,a.intval(this.list.css(this.lt))+h+"px")}g.remove();this.list.css(this.wh,a.intval(this.list.css(this.wh))-h+"px")},next:function(){if(this.tail!==null&&!this.inTail){this.scrollTail(false)}else{this.scroll(((this.options.wrap=="both"||this.options.wrap=="last")&&this.options.size!==null&&this.last==this.options.size)?1:this.first+this.options.scroll)}},prev:function(){if(this.tail!==null&&this.inTail){this.scrollTail(true)}else{this.scroll(((this.options.wrap=="both"||this.options.wrap=="first")&&this.options.size!==null&&this.first==1)?this.options.size:this.first-this.options.scroll)}},scrollTail:function(e){if(this.locked||this.animating||!this.tail){return}this.pauseAuto();var f=a.intval(this.list.css(this.lt));f=!e?f-this.tail:f+this.tail;this.inTail=!e;this.prevFirst=this.first;this.prevLast=this.last;this.animate(f)},scroll:function(f,e){if(this.locked||this.animating){return}this.pauseAuto();this.animate(this.pos(f),e)},pos:function(C,k){var n=a.intval(this.list.css(this.lt));if(this.locked||this.animating){return n}if(this.options.wrap!="circular"){C=C<1?1:(this.options.size&&C>this.options.size?this.options.size:C)}var z=this.first>C;var E=this.options.wrap!="circular"&&this.first<=1?1:this.first;var H=z?this.get(E):this.get(this.last);var B=z?E:E-1;var F=null,A=0,w=false,G=0,D;while(z?--B>=C:++B<C){F=this.get(B);w=!F.length;if(F.length===0){F=this.create(B).addClass(this.className("jcarousel-item-placeholder"));H[z?"before":"after"](F);if(this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(B<=0||B>this.options.size)){D=this.get(this.index(B));if(D.length){F=this.add(B,D.clone(true))}}}H=F;G=this.dimension(F);if(w){A+=G}if(this.first!==null&&(this.options.wrap=="circular"||(B>=1&&(this.options.size===null||B<=this.options.size)))){n=z?n+G:n-G}}var s=this.clipping(),u=[],h=0,t=0;H=this.get(C-1);B=C;while(++h){F=this.get(B);w=!F.length;if(F.length===0){F=this.create(B).addClass(this.className("jcarousel-item-placeholder"));if(H.length===0){this.list.prepend(F)}else{H[z?"before":"after"](F)}if(this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(B<=0||B>this.options.size)){D=this.get(this.index(B));if(D.length){F=this.add(B,D.clone(true))}}}H=F;G=this.dimension(F);if(G===0){throw new Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...")}if(this.options.wrap!="circular"&&this.options.size!==null&&B>this.options.size){u.push(F)}else{if(w){A+=G}}t+=G;if(t>=s){break}B++}for(var r=0;r0){this.list.css(this.wh,this.dimension(this.list)+A+"px");if(z){n-=A;this.list.css(this.lt,a.intval(this.list.css(this.lt))-A+"px")}}var q=C+h-1;if(this.options.wrap!="circular"&&this.options.size&&q>this.options.size){q=this.options.size}if(B>q){h=0;B=q;t=0;while(++h){F=this.get(B--);if(!F.length){break}t+=this.dimension(F);if(t>=s){break}}}var o=q-h+1;if(this.options.wrap!="circular"&&o<1){o=1}if(this.inTail&&z){n+=this.tail;this.inTail=false}this.tail=null;if(this.options.wrap!="circular"&&q==this.options.size&&(q-h+1)>=1){var y=a.margin(this.get(q),!this.options.vertical?"marginRight":"marginBottom");if((t-y)>s){this.tail=t-s-y}}if(k&&C===this.options.size&&this.tail){n-=this.tail;this.inTail=true}while(C-->o){n+=this.dimension(this.get(C))}this.prevFirst=this.first;this.prevLast=this.last;this.first=o;this.last=q;return n},animate:function(h,e){if(this.locked||this.animating){return}this.animating=true;var f=this;var g=function(){f.animating=false;if(h===0){f.list.css(f.lt,0)}if(!f.autoStopped&&(f.options.wrap=="circular"||f.options.wrap=="both"||f.options.wrap=="last"||f.options.size===null||f.last<f.options.size||(f.last==f.options.size&&f.tail!==null&&!f.inTail))){f.startAuto()}f.buttons();f.notify("onAfterAnimation");if(f.options.wrap=="circular"&&f.options.size!==null){for(var k=f.prevFirst;k<=f.prevLast;k++){if(k!==null&&!(k>=f.first&&k<=f.last)&&(k<1||k>f.options.size)){f.remove(k)}}}};this.notify("onBeforeAnimation");if(!this.options.animation||e===false){this.list.css(this.lt,h+"px");g()}else{var j=!this.options.vertical?(this.options.rtl?{right:h}:{left:h}):{top:h};this.list.animate(j,this.options.animation,this.options.easing,g)}},startAuto:function(f){if(f!==undefined){this.options.auto=f}if(this.options.auto===0){return this.stopAuto()}if(this.timer!==null){return}this.autoStopped=false;var e=this;this.timer=window.setTimeout(function(){e.next()},this.options.auto*1000)},stopAuto:function(){this.pauseAuto();this.autoStopped=true},pauseAuto:function(){if(this.timer===null){return}window.clearTimeout(this.timer);this.timer=null},buttons:function(g,f){if(g==null){g=!this.locked&&this.options.size!==0&&((this.options.wrap&&this.options.wrap!="first")||this.options.size===null||this.last<this.options.size);if(!this.locked&&(!this.options.wrap||this.options.wrap=="first")&&this.options.size!==null&&this.last>=this.options.size){g=this.tail!==null&&!this.inTail}}if(f==null){f=!this.locked&&this.options.size!==0&&((this.options.wrap&&this.options.wrap!="last")||this.first>1);if(!this.locked&&(!this.options.wrap||this.options.wrap=="last")&&this.options.size!==null&&this.first==1){f=this.tail!==null&&this.inTail}}var e=this;if(this.buttonNext.size()>0){this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext);if(g){this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext)}this.buttonNext[g?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",g?false:true);if(this.options.buttonNextCallback!==null&&this.buttonNext.data("jcarouselstate")!=g){this.buttonNext.each(function(){e.options.buttonNextCallback(e,this,g)}).data("jcarouselstate",g)}}else{if(this.options.buttonNextCallback!==null&&this.buttonNextState!=g){this.options.buttonNextCallback(e,null,g)}}if(this.buttonPrev.size()>0){this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev);if(f){this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev)}this.buttonPrev[f?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",f?false:true);if(this.options.buttonPrevCallback!==null&&this.buttonPrev.data("jcarouselstate")!=f){this.buttonPrev.each(function(){e.options.buttonPrevCallback(e,this,f)}).data("jcarouselstate",f)}}else{if(this.options.buttonPrevCallback!==null&&this.buttonPrevState!=f){this.options.buttonPrevCallback(e,null,f)}}this.buttonNextState=g;this.buttonPrevState=f},notify:function(e){var f=this.prevFirst===null?"init":(this.prevFirst<this.first?"next":"prev");this.callback("itemLoadCallback",e,f);if(this.prevFirst!==this.first){this.callback("itemFirstInCallback",e,f,this.first);this.callback("itemFirstOutCallback",e,f,this.prevFirst)}if(this.prevLast!==this.last){this.callback("itemLastInCallback",e,f,this.last);this.callback("itemLastOutCallback",e,f,this.prevLast)}this.callback("itemVisibleInCallback",e,f,this.first,this.last,this.prevFirst,this.prevLast);this.callback("itemVisibleOutCallback",e,f,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(j,m,e,k,h,g,f){if(this.options[j]==null||(typeof this.options[j]!="object"&&m!="onAfterAnimation")){return}var n=typeof this.options[j]=="object"?this.options[j][m]:this.options[j];if(!c.isFunction(n)){return}var o=this;if(k===undefined){n(o,e,m)}else{if(h===undefined){this.get(k).each(function(){n(o,this,k,e,m)})}else{var q=function(r){o.get(r).each(function(){n(o,this,r,e,m)})};for(var l=k;l<=h;l++){if(l!==null&&!(l>=g&&l<=f)){q(l)}}}}},create:function(e){return this.format("
</li>",e)},format:function(k,h){k=c(k);var g=k.get(0).className.split(" ");for(var f=0;f<g.length;f++){if(g[f].indexOf("jcarousel-")!=-1){k.removeClass(g[f])}}k.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+h)).css({"float":(this.options.rtl?"right":"left"),"list-style":"none"}).attr("jcarouselindex",h);return k},className:function(e){return e+" "+e+(!this.options.vertical?"-horizontal":"-vertical")},dimension:function(j,k){var h=j.jquery!==undefined?j[0]:j;var g=!this.options.vertical?(h.offsetWidth||a.intval(this.options.itemFallbackDimension))+a.margin(h,"marginLeft")+a.margin(h,"marginRight"):(h.offsetHeight||a.intval(this.options.itemFallbackDimension))+a.margin(h,"marginTop")+a.margin(h,"marginBottom");if(k==null||g==k){return g}var f=!this.options.vertical?k-a.margin(h,"marginLeft")-a.margin(h,"marginRight"):k-a.margin(h,"marginTop")-a.margin(h,"marginBottom");c(h).css(this.wh,f+"px");return this.dimension(h)},clipping:function(){returnÂ !this.options.vertical?this.clip[0].offsetWidth-a.intval(this.clip.css("borderLeftWidth"))-a.intval(this.clip.css("borderRightWidth")):this.clip[0].offsetHeight-a.intval(this.clip.css("borderTopWidth"))-a.intval(this.clip.css("borderBottomWidth"))},index:function(e,f){if(f==null){f=this.options.size}return Math.round((((e-1)/f)-Math.floor((e-1)/f))*f)+1}});a.extend({defaults:function(e){return c.extend(d,e||{})},margin:function(k,j){if(!k){return 0}var h=k.jquery!==undefined?k[0]:k;if(j=="marginRight"&&c.browser.safari){var g={display:"block","float":"none",width:"auto"},f,l;c.swap(h,g,function(){f=h.offsetWidth});g.marginRight=0;c.swap(h,g,function(){l=h.offsetWidth});return l-f}return a.intval(c.css(h,j))},intval:function(e){e=parseInt(e,10);return isNaN(e)?0:e}});c.fn.jcarousel=function(g){if(typeof g=="string"){var e=c(this).data("jcarousel"),f=Array.prototype.slice.call(arguments,1);return e[g].apply(e,f)}else{return this.each(function(){c(this).data("jcarousel",new a(this,g))})}}})(jQuery);
/* Copyright (c) 2010 Brandon Aaron ( http://brandonaaron.net )
* Licensed under the MIT License (LICENSE.txt). * * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers. * Thanks to: Mathias Bank( http://www.mathias-bank.de ) for a scope bug fix. * Thanks to: Seamus Leahy for adding deltaX and deltaY * * Version: 3.0.4 *  * Requires: 1.2.2+ */
(function(c){var a=["DOMMouseScroll","mousewheel"];c.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=a.length;d;){this.addEventListener(a[--d],b,false)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var d=a.length;d;){this.removeEventListener(a[--d],b,false)}}else{this.onmousewheel=null}}};c.fn.extend({mousewheel:function(d){return d?this.bind("mousewheel",d):this.trigger("mousewheel")},unmousewheel:function(d){return this.unbind("mousewheel",d)}});function b(j){var g=j||window.event,f=[].slice.call(arguments,1),k=0,h=true,e=0,d=0;j=c.event.fix(g);j.type="mousewheel";if(j.wheelDelta){k=j.wheelDelta/120}if(j.detail){k=-j.detail/3}d=k;if(g.axis!==undefined&&g.axis===g.HORIZONTAL_AXIS){d=0;e=-1*k}if(g.wheelDeltaY!==undefined){d=g.wheelDeltaY/120}if(g.wheelDeltaX!==undefined){e=-1*g.wheelDeltaX/120}f.unshift(j,k,e,d);return c.event.handle.apply(this,f)}})(jQuery);function select_option(a,b){for(var c=0;c<a.options.length;c++){if(c==b){a.options[c].selected=true}else{a.options[c].selected=false}}}function jumpTo(b){var e=b.value;var a=new String(window.location);var d=a.search("#");if(d!=-1){var a=a.slice(0,d)}var c=a+"#"+e;select_option(b,0);window.location=c}function loadRecord(a,c,b){var d=a.value;$(""+c+"").load(""+b+d+"")}(function(b){var a={getOptionValue:function(e,d,c){if(b.isFunction(e)){e=e.call(d,c)}return e},getCategory:function(){return this.nodeName},getAction:function(c){return c.type},getLabel:function(){var c=b(this);if(c.is("a")){return c.attr("href")}else{if(c.is("input")){return c.val()}else{if(c.attr("id")){return c.attr("id")}else{return c.text()}}}}};b.expr[":"].external=function(c){return(c.host&&c.host!==location.host)===true};b.fn.trackEvent=function(c){var d={eventType:"click",once:true,category:a.getCategory,action:a.getAction,label:a.getLabel,value:1};if(c){b.extend(d,c)}this.each(function(f){var e=function(j){var h=a.getOptionValue(d.category,this,j);var l=a.getOptionValue(d.action,this,j);var g=a.getOptionValue(d.label,this,j);var k=a.getOptionValue(d.value,this,j);pageTracker._trackEvent(h,l,g,k)};if(d.once){b(this).one(d.eventType,e)}else{b(this).bind(d.eventType,e)}});return this}})(jQuery);
Retrieved from " http://2013.igem.org/Team:CU-Boulder/static/default.js "
Recent changes
What links here
Related changes
Special pages
My preferences
Printable version
Permanent link
Privacy policy
Disclaimers
