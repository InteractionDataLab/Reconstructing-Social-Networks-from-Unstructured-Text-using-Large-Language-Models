<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Evry_Paris-Saclay_Template_Script skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Evry Paris-Saclay/Template:Script</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>(function(){        
</P><PRE>   //New version        
   //var img = document.getElementById(&quot;goldMedal&quot;);
</PRE><PRE>   var Color = function(r, g, b){
       this.r = r;
       this.g = g;
       this.b = b;
       
       this.toString = function(){
           return this.r + &quot;, &quot; + this.g + &quot;, &quot; + this.b;
       }
   };
   
   var jaune = new Color(96, 233, 3);
   var bleu = new Color(15, 255, 255);
   var vert = new Color(54, 255, 175);
   var blanc = new Color(255, 255, 255);
   var rouge = new Color(227, 18, 21);
       
   var genericColors = [jaune, bleu, vert, blanc];
   
   var maxOpacity = 2,
       pasOpacity = 0.005,
       sphSize = 34, sphGap = 72;   
   
   var canvas = document.getElementById('canvas');
   var context = canvas.getContext('2d');
   var alphabet = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];
   
   //Test taille de fenetre
   if(window.innerWidth &gt;= 1900) {        
       sphSize = 50;
       sphGap = 105;
       //img.style.marginTop = &quot;760px&quot;;
       //img.style.marginLeft = &quot;70px&quot;;
   } else if(window.innerWidth &gt;= 800 &amp;&amp; window.innerWidth &lt; 1900) {   
       sphSize = 34;
       sphGap = 72;
       canvas.width = 1080;
       canvas.height = 720;
       /*img.style.marginTop = &quot;-420px&quot;;
       img.style.marginLeft = &quot;960px&quot;;
       img.style.height = &quot;90px&quot;;
       img.style.width = &quot;90px&quot;;*/
   } else {
       sphSize = 15;
       sphGap = 35;
       canvas.width = 420;
       canvas.height = 300;
       /*img.style.marginTop = &quot;-420px&quot;;
       img.style.marginLeft = &quot;960px&quot;;
       img.style.height = &quot;90px&quot;;
       img.style.width = &quot;90px&quot;;*/
   }
</PRE><P>console.log(sphSize+ ' ' + sphGap + ' ' + window.innerWidth);
</P><PRE>   var Circle = function(indiceX, indiceY){
       this.indiceX = indiceX;
       this.indiceY = indiceY;
       this.x = (sphSize + (indiceX * sphGap));
       this.y = (sphSize + (indiceY * sphGap));
       this.color = genericColors[3];
       this.active = &quot;false&quot;;
       this.opacity = 0;
       
       this.activate = function(){
           if(this.active === &quot;false&quot;){
               var rand1 = Math.floor((Math.random() * 12));
               var rand2 = Math.floor((Math.random() * 8));
               var rand3 = Math.floor((Math.random() * 12)) + Math.floor((Math.random() * 8) + 1); 
               
               this.active = &quot;true&quot;;  
               
               if(rand1 === this.indiceX &amp;&amp; rand2 === this.indiceY &amp;&amp; rand3 === (this.indiceX + this.indiceY)){
                   this.color = rouge; // genericColors[Math.floor((Math.random() * (genericColors.length - 1)) + 1)];    
               } else {
                   this.color = genericColors[3]; 
                   this.active = &quot;false&quot;;
               }         
           } 
       };
       
       this.changeColor = function(){
           if(this.opacity &gt;= maxOpacity &amp;&amp; this.active === &quot;false&quot;){
               this.color = blanc; //genericColors[Math.floor((Math.random() * 3) + 1)];
           }
       };
   };
   
   var circles = [];
   
   var cpt = 0;
   
   //Cr√©ation des cercles
   for(var i = 0; i &lt; 12; i++){
       for(var j = 0; j &lt; 8; j++){
           var c =  new Circle(i,j);
           
           circles[cpt] = c;
           cpt++;
       }
   }
   
   function activate(){
       for(var i = 0; i &lt; circles.length; i++){
           circles[i].activate();
       }
   }
   
   var fontSize = 60;
   
   context.font = &quot;bold &quot; + fontSize + &quot;px 'Barlow Semi Condensed'&quot;;
   
   var title = document.getElementById('canvas').getAttribute('name');
   var posXTitle = ((sphSize + (12 * sphGap)) / 2) - (context.measureText(title).width/2), 
       posYtitle = ((sphSize + (8 * sphGap)) / 2);
   
   function drawText() {        
       context.fillStyle = &quot;white&quot;;
       context.fillText(title, posXTitle, posYtitle);
   }
   
   function draw(){
       context.clearRect(0, 0, canvas.width, canvas.height);
       
       for(var i = 0; i &lt; circles.length; i++) {            
           context.beginPath();
           context.lineWidth = '2';
           context.arc(circles[i].x, circles[i].y, sphSize, 0, 2 * Math.PI);
           
           circles[i].activate();
           
           var opacity = circles[i].opacity;
           
           if(circles[i].opacity &gt;= maxOpacity){
                   circles[i].active = &quot;false&quot;;
                   circles[i].opacity = 0;
                   circles[i].changeColor(); 
           }
           
           if(circles[i].active === &quot;true&quot;){                
               if(circles[i].opacity &gt; 1){
                   opacity = 2 - circles[i].opacity;
               }
</PRE><PRE>               circles[i].opacity += pasOpacity;
               context.fillStyle = &quot;rgba(&quot; + circles[i].color.toString() + &quot;, &quot; + opacity + &quot;)&quot;;   
               context.fill(); 
           } else {
               context.fillStyle = &quot;rgba(&quot; + circles[i].color.toString() + &quot;, &quot; + opacity + &quot;)&quot;;
           } 
       
           context.stroke();        
       }  
       
           drawText();  
   }
   
   activate();
   draw();
   
   var activateIntervalID = window.setInterval(activate, 500);
   var drawIntervalID = window.setInterval(draw, 20);
</PRE><P>})();
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>