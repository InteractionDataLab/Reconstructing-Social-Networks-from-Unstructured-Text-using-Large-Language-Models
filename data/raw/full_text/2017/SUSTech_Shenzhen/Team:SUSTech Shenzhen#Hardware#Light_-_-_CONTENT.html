<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_SUSTech_Shenzhen_Hardware_Light skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:SUSTech Shenzhen/Hardware/Light</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P><TITLE>Team SUSTC-Shenzhen</TITLE></P><DIV class="container"><NAV class="navbar navbar-default navbar-fixed-top" role="navigation" id="index-nav-main"><DIV class="container"><DIV class="navbar-header"><BUTTON type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"><SPAN class="sr-only">Toggle navigation</SPAN></BUTTON></DIV><DIV class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><UL class="nav navbar-nav"><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen"><SPAN>Home</SPAN></A></LI><LI class=" dropdown"><A href="#" data-toggle="dropdown"><SPAN>View</SPAN></A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Description">Description</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Safety">Safety</A></LI></UL><LI class="dropdown"><A href="#" data-toggle="dropdown"><SPAN>Project</SPAN></A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Design">Design</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Demonstrate">Demonstrate</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Results">Results</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Notebook">Notebook</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Experiments">Experiments</A></LI><LI class="dropdown"><A href="#" data-toggle="dropdown"><SPAN>Model</SPAN></A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Model">Model</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Chemical Diffusion Model">Chemical Diffusion</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Worms_Locomotion Model">Worms Locomotion</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Genetic Probability Model">Genetic Probability</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Neuron Network Model">Neuron Network</A></LI><LI class="dropdown"><A href="#" data-toggle="dropdown"><SPAN>Hardware</SPAN></A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Hardware">Overview</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Hardware/Light">Light Modulator</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Hardware/Microfluidics">Microfluidics</A></LI><LI class="dropdown"><A href="#" data-toggle="dropdown"><SPAN>Contribution</SPAN></A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Parts">Parts</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Contribution">Characterization</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Improve">Improvement</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/InterLab">InterLab</A></LI><LI class="dropdown"><A href="#" data-toggle="dropdown"><SPAN>Human Practice</SPAN></A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Human_Practices">Overview</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/HP/Silver">HP Silver</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/HP/Gold_Integrated">Gold_Integrated</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Collaborations">Collaborations</A></LI><LI class=" dropdown"><A href="#" data-toggle="dropdown"><SPAN>Team</SPAN></A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Team">Members</A></LI><LI><A href="https://2017.igem.org/Team:SUSTech_Shenzhen/Attributions">Attribution</A></LI></DIV></DIV></NAV></DIV><DIV class="bs-docs-header"><DIV class="container"><DIV class="row"><DIV class="col-xs-10"><H1>

Playing with Light in Space &amp; Time

        </H1><P>

Let there be light!

        </P></DIV></DIV></DIV></DIV><DIV id="main-content" class="container"><DIV class="col-md-3" id="document-sidebar"><DIV id="toc" class="toc"><DIV id="toctitle"><H2>Contents</H2></DIV><UL><LI class="toclevel-1 tocsection-1"><A href="#Forming_Pattern_with_Light"><SPAN class="tocnumber">1</SPAN><SPAN class="toctext">Forming Pattern with Light</SPAN></A></LI><LI class="toclevel-2 tocsection-2"><A href="#Optical_System"><SPAN class="tocnumber">1.1</SPAN><SPAN class="toctext">Optical System</SPAN></A></LI><LI class="toclevel-2 tocsection-3"><A href="#System_Integration"><SPAN class="tocnumber">1.2</SPAN><SPAN class="toctext">System Integration</SPAN></A></LI><LI class="toclevel-2 tocsection-4"><A href="#Software_Tool"><SPAN class="tocnumber">1.3</SPAN><SPAN class="toctext">Software Tool</SPAN></A></LI></UL><LI class="toclevel-1 tocsection-5"><A href="#Generating_Rhythm_with_Light"><SPAN class="tocnumber">2</SPAN><SPAN class="toctext">Generating Rhythm with Light</SPAN></A></LI><LI class="toclevel-1 tocsection-6"><A href="#Playing_worm_with_Light"><SPAN class="tocnumber">3</SPAN><SPAN class="toctext">Playing worm with Light</SPAN></A></LI><LI class="toclevel-1 tocsection-7"><A href="#Bill"><SPAN class="tocnumber">4</SPAN><SPAN class="toctext">Bill</SPAN></A></LI><LI class="toclevel-1 tocsection-8"><A href="#References"><SPAN class="tocnumber">5</SPAN><SPAN class="toctext">References</SPAN></A></LI></DIV></DIV><DIV class="col-md-9" id="document-body" style=""><P>
Multiple optic devices are designed for the various experimental requirements, such as stimulating neuron of <I>Caenorhabditis elegans</I>, training <I>C. elegans</I> and inducing <I>C. elegans</I> to move in a certain direction. They can regulate output temporally and spatially in an <B>elegant</B> and <B>efficient</B> way.
</P><H1><SPAN class="mw-headline" id="Forming_Pattern_with_Light">Forming Pattern with Light</SPAN></H1><P><B>Biology background in our project</B>: We need to use 395nm light to activate Calcium indicator GEM-GECO for neural activity imaging. For the independent excitation of neurons (AWA and AWB) in <I>C. elegans</I>, channelrhodopsins CoChR and Chrimson are activated by blue light and red light respectively <SUP id="cite_ref-1" class="reference"><A href="#cite_note-1">[1]</A></SUP>.   Due to these proteins' selectivity to the wavelength of stimulating light, we need to &quot;purify&quot; the light from the projector. 
</P><DIV class="row"><DIV class="col-md-8 col-md-offset-2"><DIV class="thumbnail"><DIV class="caption"><B>Fig.1 A) Schematic of fluorescence microscope. B) The proteins' spectra in our system</B></DIV></DIV></DIV></DIV>
Fluorescence microscope plays an important role in our experiment, because we need to use specific lights to stimulate worms. The Zeiss Company creates a perfect visual animation to show how the fluorescence microscope works, and you can find it on their <A rel="nofollow" class="external text" href="http://zeiss-campus.magnet.fsu.edu/tutorials/basics/axioobserver/indexflash.html">webpage</A>. However, typical fluorescence microscopes can only uniformly illuminate the specimen ( <I>C. elegans</I>) with the same light within entire visual field. Thus, we modify a consumer projector to a new  light source, which can illuminate specimens <B>locally</B>, <B>in multi-color</B>, <B> in multi-points</B> and <B>dynamically</B>. The Projector Light Source also has a short response time and high light intensity, which will be an effective and promising  tool for synthetic biology studies.
<DIV class="row"><DIV class="col-md-8 col-md-offset-2"><DIV class="caption"><B>Fig.1 Playing a video clip with the modulator and observe the fluorescence :)</B></DIV></DIV></DIV><H2><SPAN class="mw-headline" id="Optical_System">Optical System</SPAN></H2><P>GEM-GECO is activated by 395nm light from <A rel="nofollow" class="external text" href="https://micro-manager.org/wiki/LumencorSpectraLumencor">LumencorSpectra LED Illuminator</A>.
</P><P>We use a <A rel="nofollow" class="external text" href="http://www.epson.com.cn/products/projectors/239/CB-X03/">EPSON CB-X03</A> LCD projector as the red &amp; blue light sources for CoChR &amp; Chrimson. The projector's 3 LCDs(red, green and blue channel) functions as 1024*768 electronic shutters in each channel. Projector's super high pressure mercury lamp functions as a high-intensity light source[Fig. 2]. 
</P><DIV class="row"><DIV class="col-md-12"><DIV class="thumbnail pull-right-sm"><DIV class="caption"><B>Fig. 2 The projector structure</B>. A)Parts of projector: Super high pressure mercury lamp, 3LCDs, original lens. B) Light path inside projector</DIV></DIV></DIV></DIV><P>
Firstly, we need to &quot;purify&quot; the light wavelengths of projector. Although the original filter can separate white light into red light and blue light, the bandwidth of red light or blue light is not narrow as what our optical sensory proteins(CoChR &amp; Chrimson) require . We install additional red filter <A rel="nofollow" class="external text" href="https://www.chroma.com/products/parts/et630-20x">Chroma ET630/20X</A> and blue filter <A rel="nofollow" class="external text" href="https://www.chroma.com/products/parts/et480-20x">Chroma ET480/20X</A> outside 3LCDs. (Fig. 3B)
According to the principle of fluorescence microscope, corresponding Di-Mirror <A rel="nofollow" class="external text" href="https://www.chroma.com/products/parts/89402bs">89402bs</A> and emission filter <A rel="nofollow" class="external text" href="https://www.chroma.com/products/parts/89402m">89402m</A> are installed inside the microscope filter wheel(Fig. 3C). You can see all filters we use in our project (Fig. 3).
</P><DIV class="row"><DIV class="col-md-12"><DIV class="thumbnail pull-right-sm"><DIV class="caption">Fig. 3  A) The spectrum of filters and mirrors that are used in our system. B) Filter ET630/20X for Chrimson, and Filter ET480/20x for CoChR. Both these are installed outside 3LCDs. C) Di-mirror and emission filter are installed inside microscope</DIV></DIV></DIV></DIV><DIV class="thumbnail pull-right-sm"><DIV class="caption">Fig.4 Play movie on hand.</DIV></DIV>
Secondly, the imaging scale of projector should be shrinked. Becausing of using 395nm light, red light and blue light at the same time, they are combined by a device, called double LH Adapter(it contains a semi-transparent mirror). The double LH Adapter is connected to microscope. (Fig. 5) However, based on the optical principle of microscope, the light should focus on the plane of Double LH adapter. To project the whole image (from projector) to microscope, it should be about 5cm*5cm on plane. The focus distance of <A rel="nofollow" class="external text" href="http://www.ebay.ph/itm/141444870051">Dukane 3 inch/2.5</A> (we used to replace the original lens) is 3 inches(75mm).  Every pixel in the LCD is considered as a single point light source. According to the formula below:<SPAN class="katex-block"> \frac{1}{f_{len}}=\frac{1}{D_{len-LCDs}}+\frac{1}{d_{len-adapter}} </SPAN> to estimate position of the lens. Lens helps us to shrink the projector's image to microscope(Fig. 5). Finally, we can control every pixel of image on specimen from computer controlled projector.  
<H2><SPAN class="mw-headline" id="System_Integration">System Integration</SPAN></H2><P>We need to install a new lens on projector with adjustable component, and fix all device with microscope stably. 
</P><P>Lens Holder and Connection Tube are design(<A rel="nofollow" class="external text" href="https://static.igem.org/mediawiki/2017/3/34/T--SUSTech_Shenzhen--Hardware_Light_TubeHolder.zip">Solidworks Documents</A>) by CNC and 3D-Print(Fig. 6). 
</P><DIV class="row"><DIV class="col-md-8 col-md-offset-2"><DIV class="thumbnail"><DIV class="caption"><B>Fig. 5 Apparatus to merge projector and microscope.</B> Tube Lens Holder is used to hold new lens.</DIV></DIV></DIV></DIV><DIV class="row"><DIV class="col-md-8 col-md-offset-2"><DIV class="thumbnail"><DIV class="caption"><B>Fig.6 The design of lens holder and connection tube.</B> The position of lens can be adjusted in thread.</DIV></DIV></DIV></DIV><P>To build dark environment, we also build a dark room with cloth(Fig. 7). 
</P><DIV class="row"><DIV class="col-md-8 col-md-offset-2"><DIV class="thumbnail"><DIV class="caption"><B>Fig. 7 Projector holder and cloth to make dark environment</B></DIV></DIV></DIV></DIV><H2><SPAN class="mw-headline" id="Software_Tool">Software Tool</SPAN></H2><DIV class="thumbnail pull-right-sm"><DIV class="caption"><B>Fig.8 Use Libreoffice for excitation.</B></DIV></DIV>
To control the ouput of light source, a software is required. However, a very easy method is using a slide(<A rel="nofollow" class="external text" href="https://static.igem.org/mediawiki/2017/f/f1/T--SUSTech_Shenzhen--slidestimulation.zip">Demo Slide</A>), such as <A rel="nofollow" class="external text" href="https://www.libreoffice.org/en">LibreOffice</A>(Test on 5.4.2.2.0+ in Arch Linux) or Microsoft Office. The image and time pattern  is configured in slide, including color, intensity and pulse time etc.
<P>We also develop a more <B>powerful</B> and <B>hackable</B> open source software suite called <B><I>ColorMapping</I></B> to track and activate multiple <I>C. elegans</I> or cell independently in one view. User can modify multi color, intensity, time and locations of light alternately in GUI. Everyone is welcome to join us to develop <I>ColorMapping</I>  in <A rel="nofollow" class="external text" href="https://github.com/JiangXL/ColorMapping">GitHub</A>, which still is developing. <I>ColorMapping</I>, contains camera part, projector part, user&amp;calculation part. It is coded by Python 2 Language, and third-party packages, PyGraph, PyQt5 and <A rel="nofollow" class="external text" href="http://lima.blissgarden.org/camera/andor3/doc/index.html?highlight=andor3">Lima(Library for Image Acquisition)</A>. <I>ColorMapping</I> tests on Arch Linux.
</P><DIV class="thumbnail pull-right-sm"><DIV class="caption"><B>Fig. 9 Help from Andor Company</B></DIV></DIV>
To drive Andor Zyla (5.2), we apply Andor SDK3 from Andor Company firstly. All data are matrix during data transfer and calculation. Camera image lives in user interface. In camera part, exposure time and other parameters can be adjusted.
<P>
An important algorithm is how to project a special area in special color. The key is coordinate system transformation between camera view(2560*2160) and projector(1024*768). To simplify the question, only the left projector edge and 4 ROIs(region of interesting) are drew. Every point(X_{projector}, y_projector) in the image will be generated from following formula(Fig. 10). 
<SPAN class="katex-block"> \left[\begin{matrix}x_{projector}\\y_{projector}\end{matrix}\right]= {\frac{1024}{L}}(\left[\begin{matrix}x_1\\y_1\end{matrix}\right]-\left[\begin{matrix}x_0\\y_0\end{matrix}\right]) </SPAN></P><P>In <I>ROIs Setting</I>, every ROI can define the color(Blue or Red) and intensity(0~255). 4 ROIs can move by mouse in real time, so the projector can response immediately. Generated image is showed a full-screen window in another extended desktop. Projector just show on extended desktop. 
</P><DIV class="row"><DIV class="col-md-12"><DIV class="thumbnail pull-right-sm"><DIV class="caption"><B>Fig. 10 The design's flowchart of <I>ColorMapping</I></B>. Image display in user interface from camera by Lima with Andor SDK3. User can track worm with some parameter. Then software generate image and project into microscope from projector. Finally, camera captures these pattern.</DIV></DIV></DIV></DIV><H1><SPAN class="mw-headline" id="Generating_Rhythm_with_Light">Generating Rhythm with Light</SPAN></H1><DIV class="thumbnail pull-right-sm"><DIV class="caption">Fig. 10 Demo</DIV></DIV><P><B>Biology background:</B> To reduce the phototoxicity during train <I>C. elegans</I>, pulse of light is required rather than constant light<SUP id="cite_ref-2" class="reference"><A href="#cite_note-2">[2]</A></SUP>.
</P><P>A simple and effective device output pulse of a certain wavelength of light. Arduino (A popular single-board microcontrollers) connect a servo, which is fixed in the shutter on mercury lamp by a 3D-print connector. When the servo motor rotates the shutter, on time and off time of the pulse is custom by Arduino . Wavelength of light is changed by replacing filter before beam expander(Fig. 12). 
</P><DIV class="row"><DIV class="col-md-8 col-md-offset-2"><DIV class="thumbnail"><DIV class="caption"><B>Fig. 11 The PCB of Arduino modulate Mercury Lamp.</B> Arduino's power is USB, and connect a servo motor to rotate the shutter.</DIV></DIV></DIV></DIV><DIV class="row"><DIV class="col-md-12"><DIV class="thumbnail pull-right-sm"><DIV class="caption"><B>Fig. 12 Overview of Arduino modulate Mercury lamp</B>(A) Arduino transfer the pulse command to servo. (B)The interview of Mercury Lamp. The servo fix at the original bottom. Optical fiber connect to beam expander. (C) The beam expander with filter connect to stereoscope</DIV></DIV></DIV></DIV><P>The 3D-print connector and Arduino code can download <A rel="nofollow" class="external text" href="https://static.igem.org/mediawiki/2017/1/10/T--SUSTech_Shenzhen--ModulateMercuryLamp.zip">here</A>. The result  can be found in <A rel="nofollow" class="external text" href="https://2017.igem.org/Team:SUSTech_Shenzhen/Results/Behavior">behavior result part.</A></P><H1><SPAN class="mw-headline" id="Playing_worm_with_Light">Playing worm with Light</SPAN></H1><P>Because <I>C. elegans</I> expresses channelrhodopsins CoChR, <I>C. elegans</I> can move following the red light point in plate. We use optical fiber, boards and mercury lamp to build it.
</P><DIV class="row"><DIV class="col-md-8 col-md-offset-2"><DIV class="thumbnail"><DIV class="caption">'Fig. 13 How to build the light source with optical fiber and board'</DIV></DIV></DIV></DIV>.
You can found the result in <A rel="nofollow" class="external text" href="https://2017.igem.org/Team:SUSTech_Shenzhen/Results#Behavioral_Experiments">behavioral experiments part</A><H1><SPAN class="mw-headline" id="Bill">Bill</SPAN></H1><P>Here are detail bill.
</P><DIV class="table-responsive" style="width:70%;overflow:inherit"><TABLE class="table table-bordered table-striped"><TBODY><TR><TH> Parts</TH><TH>Unit</TH><TH>COST/unit (CNY)</TH><TH>COST (CNY)</TH></TR><TR><TD> EPSON</TD><TD>1</TD><TD>3960</TD><TD>3960</TD></TR><TR><TD> CNC Components</TD><TD>1</TD><TD>600</TD><TD>600</TD></TR><TR><TD> Precise 3D-print Component </TD><TD>1</TD><TD>213.22</TD><TD>213.22</TD></TR><TR><TD> Optical plate</TD><TD>1</TD><TD>230</TD><TD>230</TD></TR><TR><TD> Lifting columns(GCM-2211) </TD><TD>3</TD><TD>210</TD><TD>630</TD></TR><TR><TD> Arduino nano v3.0</TD><TD>1</TD><TD>13.50</TD><TD>13.50</TD></TR><TR><TD> Tower-Pro Servo</TD><TD>1</TD><TD>8</TD><TD>8</TD></TR><TR><TD> Filter 89402bs</TD><TD>1</TD><TD>3159.45</TD><TD>3159.45</TD></TR><TR><TD> Filter ET480/20X </TD><TD>1</TD><TD>2161.73</TD><TD>2161.73</TD></TR><TR><TD> Filter ET630/20X </TD><TD>1</TD><TD>2161.73</TD><TD>2161.73</TD></TR><TR><TD> Emission Filter 89402 </TD><TD>1</TD><TD>2161.73</TD><TD>2161.73</TD></TR><TR><TD>TOTAL (CNY)</TD><TD>15299.36</TD></TR><TR><TD>TOTAL (USD)</TD><TD>2312.62</TD></TR></TBODY></TABLE></DIV><H1><SPAN class="mw-headline" id="References">References</SPAN></H1><OL class="references"><LI id="cite_note-1"><SPAN class="mw-cite-backlink"><A href="#cite_ref-1">↑</A></SPAN><SPAN class="reference-text">Lisa C. Schild and Dominique A. Glauser , Dual Color Neural Activation and Behavior Control with Chrimson and CoChR in Caenorhabditis elegans,  2015, GENETICS.</SPAN></LI><LI id="cite_note-2"><SPAN class="mw-cite-backlink"><A href="#cite_ref-2">↑</A></SPAN><SPAN class="reference-text">Venkatachalam, V., &amp; Cohen, A. E. (2014). Imaging GFP-Based Reporters in Neurons with Multiwavelength Optogenetic Control. Biophysical Journal, 107(7), 1554–1563. <A rel="nofollow" class="external free" href="http://doi.org/10.1016/j.bpj.2014.08.020">http://doi.org/10.1016/j.bpj.2014.08.020</A></SPAN></LI></OL></DIV></DIV><FOOTER class="footer bs-docs-footer col-md-12" role="contentinfo"><DIV class="container"><P>Made by  from the elegans.Inc in SUSTech_Shenzhen.</P><P>Licensed under <A href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</A>.</P><UL class="bs-docs-footer-links muted"><LI>©2017 SUSTech_Shenzhen</LI></UL></DIV></FOOTER></DIV></DIV></DIV></DIV></DIV></BODY></HTML>