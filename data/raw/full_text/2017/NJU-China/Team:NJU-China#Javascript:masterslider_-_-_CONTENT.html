<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_NJU-China_Javascript_masterslider skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:NJU-China/Javascript:masterslider</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>/*! 
</P><PRE>* Master Slider – Responsive Touch Swipe Slider
* Copyright © 2015 All Rights Reserved. 
*
* @author Averta [www.averta.net]
* @version 2.16.3
* @date Dec 2015
*/
</PRE>
window.averta={},function($){function getVendorPrefix(){if(&quot;result&quot;in arguments.callee)return arguments.callee.result;var regex=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,someScript=document.getElementsByTagName(&quot;script&quot;)[0];for(var prop in someScript.style)if(regex.test(prop))return arguments.callee.result=prop.match(regex)[0];return arguments.callee.result=&quot;WebkitOpacity&quot;in someScript.style?&quot;Webkit&quot;:&quot;KhtmlOpacity&quot;in someScript.style?&quot;Khtml&quot;:&quot;&quot;}function checkStyleValue(prop){var b=document.body||document.documentElement,s=b.style,p=prop;if(&quot;string&quot;==typeof s[p])return!0;v=[&quot;Moz&quot;,&quot;Webkit&quot;,&quot;Khtml&quot;,&quot;O&quot;,&quot;ms&quot;],p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i&lt;v.length;i++)if(&quot;string&quot;==typeof s[v[i]+p])return!0;return!1}function supportsTransitions(){return checkStyleValue(&quot;transition&quot;)}function supportsTransforms(){return checkStyleValue(&quot;transform&quot;)}function supports3DTransforms(){if(!supportsTransforms())return!1;var has3d,el=document.createElement(&quot;i&quot;),transforms={WebkitTransform:&quot;-webkit-transform&quot;,OTransform:&quot;-o-transform&quot;,MSTransform:&quot;-ms-transform&quot;,msTransform:&quot;-ms-transform&quot;,MozTransform:&quot;-moz-transform&quot;,Transform:&quot;transform&quot;,transform:&quot;transform&quot;};el.style.display=&quot;block&quot;,document.body.insertBefore(el,null);for(var t in transforms)void 0!==el.style[t]&amp;&amp;(el.style[t]=&quot;translate3d(1px,1px,1px)&quot;,has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]));return document.body.removeChild(el),null!=has3d&amp;&amp;has3d.length&gt;0&amp;&amp;&quot;none&quot;!==has3d}window[&quot;package&quot;]=function(name){window[name]||(window[name]={})};var extend=function(target,object){for(var key in object)target[key]=object[key]};Function.prototype.extend=function(superclass){&quot;function&quot;==typeof superclass.prototype.constructor?(extend(this.prototype,superclass.prototype),this.prototype.constructor=this):(this.prototype.extend(superclass),this.prototype.constructor=this)};var trans={Moz:&quot;-moz-&quot;,Webkit:&quot;-webkit-&quot;,Khtml:&quot;-khtml-&quot;,O:&quot;-o-&quot;,ms:&quot;-ms-&quot;,Icab:&quot;-icab-&quot;};window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch=&quot;ontouchstart&quot;in document,$(document).ready(function(){window._jcsspfx=getVendorPrefix(),window._csspfx=trans[window._jcsspfx],window._cssanim=supportsTransitions(),window._css3d=supports3DTransforms(),window._css2d=supportsTransforms()}),window.parseQueryString=function(url){var queryString={};return url.replace(new RegExp(&quot;([^?=&amp;]+)(=([^&amp;]*))?&quot;,&quot;g&quot;),function($0,$1,$2,$3){queryString[$1]=$3}),queryString};var fps60=50/3;if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,fps60)}}()),window.getComputedStyle||(window.getComputedStyle=function(el){return this.el=el,this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;return&quot;float&quot;==prop&amp;&amp;(prop=&quot;styleFloat&quot;),re.test(prop)&amp;&amp;(prop=prop.replace(re,function(){return arguments[2].toUpperCase()})),el.currentStyle[prop]?el.currentStyle[prop]:null},el.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length&gt;&gt;&gt;0,from=Number(arguments[1])||0;for(from=0&gt;from?Math.ceil(from):Math.floor(from),0&gt;from&amp;&amp;(from+=len);len&gt;from;from++)if(from in this&amp;&amp;this[from]===elt)return from;return-1}),window.isMSIE=function(version){if(!$.browser.msie)return!1;if(!version)return!0;var ieVer=$.browser.version.slice(0,$.browser.version.indexOf(&quot;.&quot;));return&quot;string&quot;==typeof version?eval(-1!==version.indexOf(&quot;&lt;&quot;)||-1!==version.indexOf(&quot;&gt;&quot;)?ieVer+version:version+&quot;==&quot;+ieVer):version==ieVer},$.removeDataAttrs=function($target,exclude){var i,attrName,dataAttrsToDelete=[],dataAttrs=$target[0].attributes,dataAttrsLen=dataAttrs.length;for(exclude=exclude||[],i=0;dataAttrsLen&gt;i;i++)attrName=dataAttrs[i].name,&quot;data-&quot;===attrName.substring(0,5)&amp;&amp;-1===exclude.indexOf(attrName)&amp;&amp;dataAttrsToDelete.push(dataAttrs[i].name);$.each(dataAttrsToDelete,function(index,attrName){$target.removeAttr(attrName)})},jQuery){$.jqLoadFix=function(){if(this.complete){var that=this;setTimeout(function(){$(that).load()},1)}},jQuery.uaMatch=jQuery.uaMatch||function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf(&quot;compatible&quot;)&lt;0&amp;&amp;/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||&quot;&quot;,version:match[2]||&quot;0&quot;}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&amp;&amp;(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&amp;&amp;(browser.safari=!0);var isIE11=!!navigator.userAgent.match(/Trident\/7\./);isIE11&amp;&amp;(browser.msie=&quot;true&quot;,delete browser.mozilla),jQuery.browser=browser,$.fn.preloadImg=function(src,_event){return this.each(function(){var $this=$(this),self=this,img=new Image;img.onload=function(event){null==event&amp;&amp;(event={}),$this.attr(&quot;src&quot;,src),event.width=img.width,event.height=img.height,$this.data(&quot;width&quot;,img.width),$this.data(&quot;height&quot;,img.height),setTimeout(function(){_event.call(self,event)},50),img=null},img.src=src}),this}}}(jQuery),function(){&quot;use strict&quot;;averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(_proto){var instance=new averta.EventDispatcher;for(var key in instance)&quot;constructor&quot;!=key&amp;&amp;(_proto[key]=averta.EventDispatcher.prototype[key])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(event,listener,ref){this.listeners[event]||(this.listeners[event]=[]),this.listeners[event].push({listener:listener,ref:ref})},removeEventListener:function(event,listener,ref){if(this.listeners[event]){for(var i=0;i&lt;this.listeners[event].length;++i)listener===this.listeners[event][i].listener&amp;&amp;ref===this.listeners[event][i].ref&amp;&amp;this.listeners[event].splice(i--,1);0===this.listeners[event].length&amp;&amp;(this.listeners[event]=null)}},dispatchEvent:function(event){if(event.target=this,this.listeners[event.type])for(var i=0,l=this.listeners[event.type].length;l&gt;i;++i)this.listeners[event.type][i].listener.call(this.listeners[event.type][i].ref,event)}}}(),function($){&quot;use strict&quot;;var isTouch=&quot;ontouchstart&quot;in document,isPointer=window.navigator.pointerEnabled,isMSPoiner=!isPointer&amp;&amp;window.navigator.msPointerEnabled,usePointer=isPointer||isMSPoiner,ev_start=(isPointer?&quot;pointerdown &quot;:&quot;&quot;)+(isMSPoiner?&quot;MSPointerDown &quot;:&quot;&quot;)+(isTouch?&quot;touchstart &quot;:&quot;&quot;)+&quot;mousedown&quot;,ev_move=(isPointer?&quot;pointermove &quot;:&quot;&quot;)+(isMSPoiner?&quot;MSPointerMove &quot;:&quot;&quot;)+(isTouch?&quot;touchmove &quot;:&quot;&quot;)+&quot;mousemove&quot;,ev_end=(isPointer?&quot;pointerup &quot;:&quot;&quot;)+(isMSPoiner?&quot;MSPointerUp &quot;:&quot;&quot;)+(isTouch?&quot;touchend &quot;:&quot;&quot;)+&quot;mouseup&quot;,ev_cancel=(isPointer?&quot;pointercancel &quot;:&quot;&quot;)+(isMSPoiner?&quot;MSPointerCancel &quot;:&quot;&quot;)+&quot;touchcancel&quot;;averta.TouchSwipe=function($element){this.$element=$element,this.enabled=!0,$element.bind(ev_start,{target:this},this.__touchStart),$element[0].swipe=this,this.onSwipe=null,this.swipeType=&quot;horizontal&quot;,this.noSwipeSelector=&quot;input, textarea, button, .no-swipe, .ms-no-swipe&quot;,this.lastStatus={}};var p=averta.TouchSwipe.prototype;p.getDirection=function(new_x,new_y){switch(this.swipeType){case&quot;horizontal&quot;:return new_x&lt;=this.start_x?&quot;left&quot;:&quot;right&quot;;case&quot;vertical&quot;:return new_y&lt;=this.start_y?&quot;up&quot;:&quot;down&quot;;case&quot;all&quot;:return Math.abs(new_x-this.start_x)&gt;Math.abs(new_y-this.start_y)?new_x&lt;=this.start_x?&quot;left&quot;:&quot;right&quot;:new_y&lt;=this.start_y?&quot;up&quot;:&quot;down&quot;}},p.priventDefultEvent=function(new_x,new_y){var dx=Math.abs(new_x-this.start_x),dy=Math.abs(new_y-this.start_y),horiz=dx&gt;dy;return&quot;horizontal&quot;===this.swipeType&amp;&amp;horiz||&quot;vertical&quot;===this.swipeType&amp;&amp;!horiz},p.createStatusObject=function(evt){var temp_x,temp_y,status_data={};return temp_x=this.lastStatus.distanceX||0,temp_y=this.lastStatus.distanceY||0,status_data.distanceX=evt.pageX-this.start_x,status_data.distanceY=evt.pageY-this.start_y,status_data.moveX=status_data.distanceX-temp_x,status_data.moveY=status_data.distanceY-temp_y,status_data.distance=parseInt(Math.sqrt(Math.pow(status_data.distanceX,2)+Math.pow(status_data.distanceY,2))),status_data.duration=(new Date).getTime()-this.start_time,status_data.direction=this.getDirection(evt.pageX,evt.pageY),status_data},p.__reset=function(event,jqevt){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime();var point=this.__getPoint(event,jqevt);this.start_x=point.pageX,this.start_y=point.pageY},p.__touchStart=function(event){var swipe=event.data.target,jqevt=event;if(swipe.enabled&amp;&amp;!($(event.target).closest(swipe.noSwipeSelector,swipe.$element).length&gt;0)){if(event=event.originalEvent,usePointer&amp;&amp;$(this).css(&quot;-ms-touch-action&quot;,&quot;horizontal&quot;===swipe.swipeType?&quot;pan-y&quot;:&quot;pan-x&quot;),!swipe.onSwipe)return void $.error(&quot;Swipe listener is undefined&quot;);if(!(swipe.touchStarted||isTouch&amp;&amp;swipe.start_time&amp;&amp;&quot;mousedown&quot;===event.type&amp;&amp;(new Date).getTime()-swipe.start_time&lt;600)){var point=swipe.__getPoint(event,jqevt);swipe.start_x=point.pageX,swipe.start_y=point.pageY,swipe.start_time=(new Date).getTime(),$(document).bind(ev_end,{target:swipe},swipe.__touchEnd).bind(ev_move,{target:swipe},swipe.__touchMove).bind(ev_cancel,{target:swipe},swipe.__touchCancel);var status=swipe.createStatusObject(point);status.phase=&quot;start&quot;,swipe.onSwipe.call(null,status),isTouch||jqevt.preventDefault(),swipe.lastStatus=status,swipe.touchStarted=!0}}},p.__touchMove=function(event){var swipe=event.data.target,jqevt=event;if(event=event.originalEvent,swipe.touchStarted){clearTimeout(swipe.timo),swipe.timo=setTimeout(function(){swipe.__reset(event,jqevt)},60);var point=swipe.__getPoint(event,jqevt),status=swipe.createStatusObject(point);swipe.priventDefultEvent(point.pageX,point.pageY)&amp;&amp;jqevt.preventDefault(),status.phase=&quot;move&quot;,swipe.lastStatus=status,swipe.onSwipe.call(null,status)}},p.__touchEnd=function(event){var swipe=event.data.target,jqevt=event;event=event.originalEvent,clearTimeout(swipe.timo);var status=swipe.lastStatus;isTouch||jqevt.preventDefault(),status.phase=&quot;end&quot;,swipe.touchStarted=!1,swipe.priventEvt=null,$(document).unbind(ev_end,swipe.__touchEnd).unbind(ev_move,swipe.__touchMove).unbind(ev_cancel,swipe.__touchCancel),status.speed=status.distance/status.duration,swipe.onSwipe.call(null,status)},p.__touchCancel=function(event){var swipe=event.data.target;swipe.__touchEnd(event)},p.__getPoint=function(event,jqEvent){return isTouch&amp;&amp;-1===event.type.indexOf(&quot;mouse&quot;)?event.touches[0]:usePointer?event:jqEvent},p.enable=function(){this.enabled||(this.enabled=!0)},p.disable=function(){this.enabled&amp;&amp;(this.enabled=!1)}}(jQuery),function(){&quot;use strict&quot;;averta.Ticker=function(){};var st=averta.Ticker,list=[],len=0,__stopped=!0;st.add=function(listener,ref){return list.push([listener,ref]),1===list.length&amp;&amp;st.start(),len=list.length},st.remove=function(listener,ref){for(var i=0,l=list.length;l&gt;i;++i)list[i]&amp;&amp;list[i][0]===listener&amp;&amp;list[i][1]===ref&amp;&amp;list.splice(i,1);len=list.length,0===len&amp;&amp;st.stop()},st.start=function(){__stopped&amp;&amp;(__stopped=!1,__tick())},st.stop=function(){__stopped=!0};var __tick=function(){if(!st.__stopped){for(var item,i=0;i!==len;i++)item=list[i],item[0].call(item[1]);requestAnimationFrame(__tick)}}}(),function(){&quot;use strict&quot;;Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(delay,autoStart){this.delay=delay,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,autoStart&amp;&amp;this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime&lt;this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&amp;&amp;this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){&quot;use strict&quot;;window.CSSTween=function(element,duration,delay,ease){this.$element=element,this.duration=duration||1e3,this.delay=delay||0,this.ease=ease||&quot;linear&quot;};var p=CSSTween.prototype;p.to=function(callback,target){return this.to_cb=callback,this.to_cb_target=target,this},p.from=function(callback,target){return this.fr_cb=callback,this.fr_cb_target=target,this},p.onComplete=function(callback,target){return this.oc_fb=callback,this.oc_fb_target=target,this},p.chain=function(csstween){return this.chained_tween=csstween,this},p.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},p.start=function(){var element=this.$element[0];clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&amp;&amp;(element.style[window._jcsspfx+&quot;TransitionDuration&quot;]=&quot;0ms&quot;,this.fr_cb.call(this.fr_cb_target));var that=this;return this.onTransComplete=function(){that.fresh&amp;&amp;(that.reset(),element.style[window._jcsspfx+&quot;TransitionDuration&quot;]=&quot;&quot;,element.style[window._jcsspfx+&quot;TransitionProperty&quot;]=&quot;&quot;,element.style[window._jcsspfx+&quot;TransitionTimingFunction&quot;]=&quot;&quot;,element.style[window._jcsspfx+&quot;TransitionDelay&quot;]=&quot;&quot;,that.fresh=!1,that.chained_tween&amp;&amp;that.chained_tween.start(),that.oc_fb&amp;&amp;that.oc_fb.call(that.oc_fb_target))},this.start_to=setTimeout(function(){that.$element&amp;&amp;(element.style[window._jcsspfx+&quot;TransitionDuration&quot;]=that.duration+&quot;ms&quot;,element.style[window._jcsspfx+&quot;TransitionProperty&quot;]=that.transProperty||&quot;all&quot;,element.style[window._jcsspfx+&quot;TransitionDelay&quot;]=that.delay&gt;0?that.delay+&quot;ms&quot;:&quot;&quot;,element.style[window._jcsspfx+&quot;TransitionTimingFunction&quot;]=that.ease,that.to_cb&amp;&amp;that.to_cb.call(that.to_cb_target),that.end_to=setTimeout(function(){that.onTransComplete()},that.duration+(that.delay||0)))},100),this}}(),function(){&quot;use strict&quot;;function transPos(element,properties){if(void 0!==properties.x||void 0!==properties.y)if(_cssanim){var trans=window._jcsspfx+&quot;Transform&quot;;void 0!==properties.x&amp;&amp;(properties[trans]=(properties[trans]||&quot;&quot;)+&quot; translateX(&quot;+properties.x+&quot;px)&quot;,delete properties.x),void 0!==properties.y&amp;&amp;(properties[trans]=(properties[trans]||&quot;&quot;)+&quot; translateY(&quot;+properties.y+&quot;px)&quot;,delete properties.y)}else{if(void 0!==properties.x){var posx=&quot;auto&quot;!==element.css(&quot;right&quot;)?&quot;right&quot;:&quot;left&quot;;properties[posx]=properties.x+&quot;px&quot;,delete properties.x}if(void 0!==properties.y){var posy=&quot;auto&quot;!==element.css(&quot;bottom&quot;)?&quot;bottom&quot;:&quot;top&quot;;properties[posy]=properties.y+&quot;px&quot;,delete properties.y}}return properties}var _cssanim=null;window.CTween={},CTween.setPos=function(element,pos){element.css(transPos(element,pos))},CTween.animate=function(element,duration,properties,options){if(null==_cssanim&amp;&amp;(_cssanim=window._cssanim),options=options||{},transPos(element,properties),_cssanim){var tween=new CSSTween(element,duration,options.delay,EaseDic[options.ease]);return options.transProperty&amp;&amp;(tween.transProperty=options.transProperty),tween.to(function(){element.css(properties)}),options.complete&amp;&amp;tween.onComplete(options.complete,options.target),tween.start(),tween.stop=tween.reset,tween}var onCl;return options.delay&amp;&amp;element.delay(options.delay),options.complete&amp;&amp;(onCl=function(){options.complete.call(options.target)}),element.stop(!0).animate(properties,duration,options.ease||&quot;linear&quot;,onCl),element},CTween.fadeOut=function(target,duration,remove){var options={};remove===!0?options.complete=function(){target.remove()}:2===remove&amp;&amp;(options.complete=function(){target.css(&quot;display&quot;,&quot;none&quot;)}),CTween.animate(target,duration||1e3,{opacity:0},options)},CTween.fadeIn=function(target,duration,reset){reset!==!1&amp;&amp;target.css(&quot;opacity&quot;,0).css(&quot;display&quot;,&quot;&quot;),CTween.animate(target,duration||1e3,{opacity:1})}}(),function(){window.EaseDic={linear:&quot;linear&quot;,ease:&quot;ease&quot;,easeIn:&quot;ease-in&quot;,easeOut:&quot;ease-out&quot;,easeInOut:&quot;ease-in-out&quot;,easeInCubic:&quot;cubic-bezier(.55,.055,.675,.19)&quot;,easeOutCubic:&quot;cubic-bezier(.215,.61,.355,1)&quot;,easeInOutCubic:&quot;cubic-bezier(.645,.045,.355,1)&quot;,easeInCirc:&quot;cubic-bezier(.6,.04,.98,.335)&quot;,easeOutCirc:&quot;cubic-bezier(.075,.82,.165,1)&quot;,easeInOutCirc:&quot;cubic-bezier(.785,.135,.15,.86)&quot;,easeInExpo:&quot;cubic-bezier(.95,.05,.795,.035)&quot;,easeOutExpo:&quot;cubic-bezier(.19,1,.22,1)&quot;,easeInOutExpo:&quot;cubic-bezier(1,0,0,1)&quot;,easeInQuad:&quot;cubic-bezier(.55,.085,.68,.53)&quot;,easeOutQuad:&quot;cubic-bezier(.25,.46,.45,.94)&quot;,easeInOutQuad:&quot;cubic-bezier(.455,.03,.515,.955)&quot;,easeInQuart:&quot;cubic-bezier(.895,.03,.685,.22)&quot;,easeOutQuart:&quot;cubic-bezier(.165,.84,.44,1)&quot;,easeInOutQuart:&quot;cubic-bezier(.77,0,.175,1)&quot;,easeInQuint:&quot;cubic-bezier(.755,.05,.855,.06)&quot;,easeOutQuint:&quot;cubic-bezier(.23,1,.32,1)&quot;,easeInOutQuint:&quot;cubic-bezier(.86,0,.07,1)&quot;,easeInSine:&quot;cubic-bezier(.47,0,.745,.715)&quot;,easeOutSine:&quot;cubic-bezier(.39,.575,.565,1)&quot;,easeInOutSine:&quot;cubic-bezier(.445,.05,.55,.95)&quot;,easeInBack:&quot;cubic-bezier(.6,-.28,.735,.045)&quot;,easeOutBack:&quot;cubic-bezier(.175, .885,.32,1.275)&quot;,easeInOutBack:&quot;cubic-bezier(.68,-.55,.265,1.55)&quot;}}(),function(){&quot;use strict&quot;;window.MSAligner=function(type,$container,$img){this.$container=$container,this.$img=$img,this.type=type||&quot;stretch&quot;,this.widthOnly=!1,this.heightOnly=!1};var p=MSAligner.prototype;p.init=function(w,h){switch(this.baseWidth=w,this.baseHeight=h,this.imgRatio=w/h,this.imgRatio2=h/w,this.type){case&quot;tile&quot;:this.$container.css(&quot;background-image&quot;,&quot;url(&quot;+this.$img.attr(&quot;src&quot;)+&quot;)&quot;),this.$img.remove();break;case&quot;center&quot;:this.$container.css(&quot;background-image&quot;,&quot;url(&quot;+this.$img.attr(&quot;src&quot;)+&quot;)&quot;),this.$container.css({backgroundPosition:&quot;center center&quot;,backgroundRepeat:&quot;no-repeat&quot;}),this.$img.remove();break;case&quot;stretch&quot;:this.$img.css({width:&quot;100%&quot;,height:&quot;100%&quot;});break;case&quot;fill&quot;:case&quot;fit&quot;:this.needAlign=!0,this.align()}},p.align=function(){if(this.needAlign){var cont_w=this.$container.width(),cont_h=this.$container.height(),contRatio=cont_w/cont_h;&quot;fill&quot;==this.type?this.imgRatio&lt;contRatio?(this.$img.width(cont_w),this.$img.height(cont_w*this.imgRatio2)):(this.$img.height(cont_h),this.$img.width(cont_h*this.imgRatio)):&quot;fit&quot;==this.type&amp;&amp;(this.imgRatio&lt;contRatio?(this.$img.height(cont_h),this.$img.width(cont_h*this.imgRatio)):(this.$img.width(cont_w),this.$img.height(cont_w*this.imgRatio2))),this.setMargin()}},p.setMargin=function(){var cont_w=this.$container.width(),cont_h=this.$container.height();this.$img.css(&quot;margin-top&quot;,(cont_h-this.$img[0].offsetHeight)/2+&quot;px&quot;),this.$img.css(&quot;margin-left&quot;,(cont_w-this.$img[0].offsetWidth)/2+&quot;px&quot;)}}(),function(){&quot;use strict&quot;;var _options={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},Controller=function(min,max,options){if(null===max||null===min)throw new Error(&quot;Max and Min values are required.&quot;);this.options=options||{};for(var key in _options)key in this.options||(this.options[key]=_options[key]);this._max_value=max,this._min_value=min,this.value=min,this.end_loc=min,this.current_snap=this.getSnapNum(min),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},p=Controller.prototype;p.changeTo=function(value,animate,speed,snap_num,dispatch){if(this.stopped=!1,this._internalStop(),value=this._checkLimits(value),speed=Math.abs(speed||0),this.options.snapping&amp;&amp;(snap_num=snap_num||this.getSnapNum(value),dispatch!==!1&amp;&amp;this._callsnapChange(snap_num),this.current_snap=snap_num),animate){this.animating=!0;var self=this,active_id=++self.__animID,amplitude=value-self.value,timeStep=0,targetPosition=value,animFrict=1-self.options.friction,timeconst=animFrict+(speed-20)*animFrict*1.3/self.options.maxSpeed,tick=function(){if(active_id===self.__animID){var dis=value-self.value;if(!(Math.abs(dis)&gt;self.options.minValidDist&amp;&amp;self.animating))return self.animating&amp;&amp;(self.value=value,self._callrenderer()),self.animating=!1,active_id!==self.__animID&amp;&amp;(self.__animID=-1),void self._callonComplete(&quot;anim&quot;);window.requestAnimationFrame(tick),self.value=targetPosition-amplitude*Math.exp(-++timeStep*timeconst),self._callrenderer()}};return void tick()}this.value=value,this._callrenderer()},p.drag=function(move){this.start_drag&amp;&amp;(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=move,!this.options.endless&amp;&amp;(this.value&gt;this._max_value||this.value&lt;0)?this.options.bouncing?(this.__isout=!0,this.value+=.6*move):this.value=this.value&gt;this._max_value?this._max_value:0:!this.options.endless&amp;&amp;this.options.bouncing&amp;&amp;(this.__isout=!1),this._callrenderer()},p.push=function(speed){if(this.stopped=!1,this.options.snapping&amp;&amp;Math.abs(speed)&lt;=this.options.snappingMinSpeed)return void this.cancel();if(this.__speed=speed,this.__startSpeed=speed,this.end_loc=this._calculateEnd(),this.options.snapping){var snap_loc=this.getSnapNum(this.value),end_snap=this.getSnapNum(this.end_loc);if(this.options.paging)return snap_loc=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void(speed&gt;0?this.gotoSnap(snap_loc+1,!0,speed):this.gotoSnap(snap_loc-1,!0,speed));if(snap_loc===end_snap)return void this.cancel();this._callsnapChange(end_snap),this.current_snap=end_snap}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc&gt;this._min_value&amp;&amp;this.end_loc&lt;this._max_value,this.options.snapping&amp;&amp;this.__needsSnap&amp;&amp;(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},p.bounce=function(speed){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=speed,this.__startSpeed=speed,this.end_loc=this._calculateEnd(),this._startDecelaration())},p.stop=function(){this.stopped=!0,this._internalStop()},p.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&amp;&amp;this.gotoSnap(this.getSnapNum(this.value),!0)},p.renderCallback=function(listener,ref){this.__renderHook={fun:listener,ref:ref}},p.snappingCallback=function(listener,ref){this.__snapHook={fun:listener,ref:ref}},p.snapCompleteCallback=function(listener,ref){this.__compHook={fun:listener,ref:ref}},p.getSnapNum=function(value){return Math.floor((value+this.options.snapsize/2)/this.options.snapsize)},p.nextSnap=function(){this._internalStop();var curr_snap=this.getSnapNum(this.value);!this.options.endless&amp;&amp;(curr_snap+1)*this.options.snapsize&gt;this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(curr_snap+1,!0)},p.prevSnap=function(){this._internalStop();var curr_snap=this.getSnapNum(this.value);!this.options.endless&amp;&amp;(curr_snap-1)*this.options.snapsize&lt;this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(curr_snap-1,!0)},p.gotoSnap=function(snap_num,animate,speed){this.changeTo(snap_num*this.options.snapsize,animate,speed,snap_num)},p.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},p._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},p._calculateExtraMove=function(value){var m=value%this.options.snapsize;return m&lt;this.options.snapsize/2?-m:this.options.snapsize-m},p._calculateEnd=function(step){for(var temp_speed=this.__speed,temp_value=this.value,i=0;Math.abs(temp_speed)&gt;this.options.minValidDist;)temp_value+=temp_speed,temp_speed*=this.options.friction,i++;return step?i:temp_value},p._checkLimits=function(value){return this.options.endless?value:value&lt;this._min_value?this._min_value:value&gt;this._max_value?this._max_value:value},p._callrenderer=function(){this.__renderHook&amp;&amp;this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},p._callsnapChange=function(targetSnap){this.__snapHook&amp;&amp;targetSnap!==this.current_snap&amp;&amp;this.__snapHook.fun.call(this.__snapHook.ref,this,targetSnap,targetSnap-this.current_snap)},p._callonComplete=function(type){this.__compHook&amp;&amp;!this.stopped&amp;&amp;this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,type)},p._computeDeceleration=function(){if(this.options.snapping&amp;&amp;this.__needsSnap){var xtr_move=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+xtr_move-this.__extrStep,this.__extrStep=xtr_move}else this.value+=this.__speed;if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value&lt;=this._min_value?(this.value=this._min_value,this.__speed=0):this.value&gt;=this._max_value&amp;&amp;(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&amp;&amp;this.options.bouncing){var out_value=0;this.value&lt;this._min_value?out_value=this._min_value-this.value:this.value&gt;this._max_value&amp;&amp;(out_value=this._max_value-this.value),this.__isout=Math.abs(out_value)&gt;=this.options.minValidDist,this.__isout&amp;&amp;(this.__speed*out_value&lt;=0?this.__speed+=out_value*this.options.outFriction:this.__speed=out_value*this.options.outAcceleration)}},p._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var self=this,tick=function(){self._deceleration&amp;&amp;(self._computeDeceleration(),Math.abs(self.__speed)&gt;self.options.minValidDist||self.__isout?window.requestAnimationFrame(tick):(self._deceleration=!1,self.__isout=!1,self.value=self.__needsSnap&amp;&amp;self.options.snapping&amp;&amp;!self.options.paging?self._checkLimits(self.end_loc+self.__extraMove):Math.round(self.value),self._callrenderer(),self._callonComplete(&quot;decel&quot;)))};tick()}},window.Controller=Controller}(),function(window,document,$){window.MSLayerController=function(slide){this.slide=slide,this.slider=slide.slider,this.layers=[],this.layersCount=0,this.preloadCount=0,this.$layers=$(&quot;&quot;).addClass(&quot;ms-slide-layers&quot;),this.$staticLayers=$(&quot;&quot;).addClass(&quot;ms-static-layers&quot;),this.$fixedLayers=$(&quot;&quot;).addClass(&quot;ms-fixed-layers&quot;),this.$animLayers=$(&quot;&quot;).addClass(&quot;ms-anim-layers&quot;)};var p=MSLayerController.prototype;p.addLayer=function(layer){switch(layer.slide=this.slide,layer.controller=this,layer.$element.data(&quot;position&quot;)){case&quot;static&quot;:this.hasStaticLayer=!0,layer.$element.appendTo(this.$staticLayers);break;case&quot;fixed&quot;:this.hasFixedLayer=!0,layer.$element.appendTo(this.$fixedLayers);break;default:layer.$element.appendTo(this.$animLayers)}layer.create(),this.layers.push(layer),this.layersCount++,layer.parallax&amp;&amp;(this.hasParallaxLayer=!0),layer.needPreload&amp;&amp;this.preloadCount++},p.create=function(){this.slide.$element.append(this.$layers),this.$layers.append(this.$animLayers),this.hasStaticLayer&amp;&amp;this.$layers.append(this.$staticLayers),&quot;center&quot;==this.slider.options.layersMode&amp;&amp;(this.$layers.css(&quot;max-width&quot;,this.slider.options.width+&quot;px&quot;),this.hasFixedLayer&amp;&amp;this.$fixedLayers.css(&quot;max-width&quot;,this.slider.options.width+&quot;px&quot;))},p.loadLayers=function(callback){if(this._onReadyCallback=callback,0===this.preloadCount)return void this._onlayersReady();for(var i=0;i!==this.layersCount;++i)this.layers[i].needPreload&amp;&amp;this.layers[i].loadImage()},p.prepareToShow=function(){this.hasParallaxLayer&amp;&amp;this._enableParallaxEffect(),this.hasFixedLayer&amp;&amp;this.$fixedLayers.prependTo(this.slide.view.$element)},p.showLayers=function(){this.layersHideTween&amp;&amp;this.layersHideTween.stop(!0),this.fixedLayersHideTween&amp;&amp;this.fixedLayersHideTween.stop(!0),this._resetLayers(),this.$animLayers.css(&quot;opacity&quot;,&quot;&quot;).css(&quot;display&quot;,&quot;&quot;),this.hasFixedLayer&amp;&amp;this.$fixedLayers.css(&quot;opacity&quot;,&quot;&quot;).css(&quot;display&quot;,&quot;&quot;),this.ready&amp;&amp;(this._initLayers(),this._locateLayers(),this._startLayers())},p.hideLayers=function(){if(this.slide.selected||this.slider.options.instantStartLayers){var that=this;that.layersHideTween=CTween.animate(this.$animLayers,500,{opacity:0},{complete:function(){that._resetLayers()}}),this.hasFixedLayer&amp;&amp;(this.fixedLayersHideTween=CTween.animate(this.$fixedLayers,500,{opacity:0},{complete:function(){that.$fixedLayers.detach()}})),this.hasParallaxLayer&amp;&amp;this._disableParallaxEffect()}},p.animHideLayers=function(){if(this.ready)for(var i=0;i!==this.layersCount;++i)this.layers[i].hide()},p.setSize=function(width,height,hard){if(this.ready&amp;&amp;(this.slide.selected||this.hasStaticLayer)&amp;&amp;(hard&amp;&amp;this._initLayers(!0),this._locateLayers(!this.slide.selected)),this.slider.options.autoHeight&amp;&amp;this.updateHeight(),&quot;center&quot;==this.slider.options.layersMode){var left=Math.max(0,(width-this.slider.options.width)/2)+&quot;px&quot;;this.$layers[0].style.left=left,this.$fixedLayers[0].style.left=left}},p.updateHeight=function(){var h=this.slide.getHeight()+&quot;px&quot;;this.$layers[0].style.height=h,this.$fixedLayers[0].style.height=h},p._onlayersReady=function(){this.ready=!0,this.hasStaticLayer&amp;&amp;!this.slide.isSleeping&amp;&amp;this._initLayers(!1,!0),this._onReadyCallback.call(this.slide)},p.onSlideSleep=function(){},p.onSlideWakeup=function(){this.hasStaticLayer&amp;&amp;this.ready&amp;&amp;this._initLayers(!1,!0)},p.destroy=function(){this.slide.selected&amp;&amp;this.hasParallaxLayer&amp;&amp;this._disableParallaxEffect();for(var i=0;i&lt;this.layersCount;++i)this.layers[i].$element.stop(!0).remove();this.$layers.remove(),this.$staticLayers.remove(),this.$fixedLayers.remove(),this.$animLayers.remove()},p._startLayers=function(){for(var i=0;i!==this.layersCount;++i)this.layers[i].start()},p._initLayers=function(force,onlyStatics){if(!(this.init&amp;&amp;!force||this.slider.init_safemode)){this.init=onlyStatics!==!0;var i=0;if(onlyStatics&amp;&amp;!this.staticsInit)for(this.staticsInit=!0;i!==this.layersCount;++i)this.layers[i].staticLayer&amp;&amp;this.layers[i].init();else if(this.staticsInit&amp;&amp;!force)for(;i!==this.layersCount;++i)this.layers[i].staticLayer||this.layers[i].init();else for(;i!==this.layersCount;++i)this.layers[i].init()}},p._locateLayers=function(onlyStatics){var i=0;if(onlyStatics)for(;i!==this.layersCount;++i)this.layers[i].staticLayer&amp;&amp;this.layers[i].locate();else for(;i!==this.layersCount;++i)this.layers[i].locate()},p._resetLayers=function(){this.$animLayers.css(&quot;display&quot;,&quot;none&quot;).css(&quot;opacity&quot;,1);for(var i=0;i!==this.layersCount;++i)this.layers[i].reset()},p._applyParallax=function(x,y,fast){for(var i=0;i!==this.layersCount;++i)null!=this.layers[i].parallax&amp;&amp;this.layers[i].moveParallax(x,y,fast)},p._enableParallaxEffect=function(){&quot;swipe&quot;===this.slider.options.parallaxMode?this.slide.view.addEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.on(&quot;mousemove&quot;,{that:this},this._mouseParallaxMove).on(&quot;mouseleave&quot;,{that:this},this._resetParalax)},p._disableParallaxEffect=function(){&quot;swipe&quot;===this.slider.options.parallaxMode?this.slide.view.removeEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.off(&quot;mousemove&quot;,this._mouseParallaxMove).off(&quot;mouseleave&quot;,this._resetParalax)},p._resetParalax=function(e){var that=e.data.that;that._applyParallax(0,0)},p._mouseParallaxMove=function(e){var that=e.data.that,os=that.slide.$element.offset(),slider=that.slider;if(&quot;mouse:y-only&quot;!==slider.options.parallaxMode)var x=e.pageX-os.left-that.slide.__width/2;else var x=0;if(&quot;mouse:x-only&quot;!==slider.options.parallaxMode)var y=e.pageY-os.top-that.slide.__height/2;else var y=0;that._applyParallax(-x,-y)},p._swipeParallaxMove=function(){var value=this.slide.position-this.slide.view.__contPos;&quot;v&quot;===this.slider.options.dir?this._applyParallax(0,value,!0):this._applyParallax(value,0,!0)}}(window,document,jQuery),function($){window.MSLayerEffects={};var installed,_fade={opacity:0};MSLayerEffects.setup=function(){if(!installed){installed=!0;var st=MSLayerEffects,transform_css=window._jcsspfx+&quot;Transform&quot;,transform_orig_css=window._jcsspfx+&quot;TransformOrigin&quot;,o=$.browser.opera;_2d=window._css2d&amp;&amp;window._cssanim&amp;&amp;!o,st.defaultValues={left:0,top:0,opacity:isMSIE(&quot;&lt;=9&quot;)?1:&quot;&quot;,right:0,bottom:0},st.defaultValues[transform_css]=&quot;&quot;,st.rf=1,st.presetEffParams={random:&quot;30|300&quot;,&quot;long&quot;:300,&quot;short&quot;:30,&quot;false&quot;:!1,&quot;true&quot;:!0,tl:&quot;top left&quot;,bl:&quot;bottom left&quot;,tr:&quot;top right&quot;,br:&quot;bottom right&quot;,rt:&quot;top right&quot;,lb:&quot;bottom left&quot;,lt:&quot;top left&quot;,rb:&quot;bottom right&quot;,t:&quot;top&quot;,b:&quot;bottom&quot;,r:&quot;right&quot;,l:&quot;left&quot;,c:&quot;center&quot;},st.fade=function(){return _fade},st.left=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=&quot;translateX(&quot;+-dist*st.rf+&quot;px)&quot;,r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.left=-dist*st.rf+&quot;px&quot;,r},st.right=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=&quot;translateX(&quot;+dist*st.rf+&quot;px)&quot;,r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.left=dist*st.rf+&quot;px&quot;,r
},st.top=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=&quot;translateY(&quot;+-dist*st.rf+&quot;px)&quot;,r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.top=-dist*st.rf+&quot;px&quot;,r},st.bottom=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=&quot;translateY(&quot;+dist*st.rf+&quot;px)&quot;,r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.top=dist*st.rf+&quot;px&quot;,r},st.from=_2d?function(leftdis,topdis,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=&quot;translateX(&quot;+leftdis*st.rf+&quot;px) translateY(&quot;+topdis*st.rf+&quot;px)&quot;,r}:function(leftdis,topdis,fade){var r=fade===!1?{}:{opacity:0};return r.top=topdis*st.rf+&quot;px&quot;,r.left=leftdis*st.rf+&quot;px&quot;,r},st.rotate=_2d?function(deg,orig){var r={opacity:0};return r[transform_css]=&quot; rotate(&quot;+deg+&quot;deg)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotateleft=_2d?function(deg,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]+=&quot; rotate(&quot;+deg+&quot;deg)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.left(dist,fade)},st.rotateright=_2d?function(deg,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]+=&quot; rotate(&quot;+deg+&quot;deg)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.right(dist,fade)},st.rotatetop=_2d?function(deg,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]+=&quot; rotate(&quot;+deg+&quot;deg)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.top(dist,fade)},st.rotatebottom=_2d?function(deg,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]+=&quot; rotate(&quot;+deg+&quot;deg)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.bottom(dist,fade)},st.rotatefrom=_2d?function(deg,leftdis,topdis,orig,fade){var r=st.from(leftdis,topdis,fade);return r[transform_css]+=&quot; rotate(&quot;+deg+&quot;deg)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(deg,leftdis,topdis,orig,fade){return st.from(leftdis,topdis,fade)},st.skewleft=_2d?function(deg,dist,fade){var r=st.left(dist,fade);return r[transform_css]+=&quot; skewX(&quot;+deg+&quot;deg)&quot;,r}:function(deg,dist,fade){return st.left(dist,fade)},st.skewright=_2d?function(deg,dist,fade){var r=st.right(dist,fade);return r[transform_css]+=&quot; skewX(&quot;+-deg+&quot;deg)&quot;,r}:function(deg,dist,fade){return st.right(dist,fade)},st.skewtop=_2d?function(deg,dist,fade){var r=st.top(dist,fade);return r[transform_css]+=&quot; skewY(&quot;+deg+&quot;deg)&quot;,r}:function(deg,dist,fade){return st.top(dist,fade)},st.skewbottom=_2d?function(deg,dist,fade){var r=st.bottom(dist,fade);return r[transform_css]+=&quot; skewY(&quot;+-deg+&quot;deg)&quot;,r}:function(deg,dist,fade){return st.bottom(dist,fade)},st.scale=_2d?function(x,y,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=&quot; scaleX(&quot;+x+&quot;) scaleY(&quot;+y+&quot;)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,orig,fade){return fade===!1?{}:{opacity:0}},st.scaleleft=_2d?function(x,y,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]=&quot; scaleX(&quot;+x+&quot;) scaleY(&quot;+y+&quot;)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.left(dist,fade)},st.scaleright=_2d?function(x,y,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]=&quot; scaleX(&quot;+x+&quot;) scaleY(&quot;+y+&quot;)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.right(dist,fade)},st.scaletop=_2d?function(x,y,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]=&quot; scaleX(&quot;+x+&quot;) scaleY(&quot;+y+&quot;)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.top(dist,fade)},st.scalebottom=_2d?function(x,y,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]=&quot; scaleX(&quot;+x+&quot;) scaleY(&quot;+y+&quot;)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.bottom(dist,fade)},st.scalefrom=_2d?function(x,y,leftdis,topdis,orig,fade){var r=st.from(leftdis,topdis,fade);return r[transform_css]+=&quot; scaleX(&quot;+x+&quot;) scaleY(&quot;+y+&quot;)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,leftdis,topdis,orig,fade){return st.from(leftdis,topdis,fade)},st.rotatescale=_2d?function(deg,x,y,orig,fade){var r=st.scale(x,y,orig,fade);return r[transform_css]+=&quot; rotate(&quot;+deg+&quot;deg)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(deg,x,y,orig,fade){return st.scale(x,y,orig,fade)},st.front=window._css3d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=&quot;perspective(2000px) translate3d(0 , 0 ,&quot;+dist+&quot;px ) rotate(0.001deg)&quot;,r}:function(){return _fade},st.back=window._css3d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=&quot;perspective(2000px) translate3d(0 , 0 ,&quot;+-dist+&quot;px ) rotate(0.001deg)&quot;,r}:function(){return _fade},st.rotatefront=window._css3d?function(deg,dist,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=&quot;perspective(2000px) translate3d(0 , 0 ,&quot;+dist+&quot;px ) rotate(&quot;+(deg||.001)+&quot;deg)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotateback=window._css3d?function(deg,dist,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=&quot;perspective(2000px) translate3d(0 , 0 ,&quot;+-dist+&quot;px ) rotate(&quot;+(deg||.001)+&quot;deg)&quot;,orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotate3dleft=window._css3d?function(x,y,z,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]+=(x?&quot; rotateX(&quot;+x+&quot;deg)&quot;:&quot; &quot;)+(y?&quot; rotateY(&quot;+y+&quot;deg)&quot;:&quot;&quot;)+(z?&quot; rotateZ(&quot;+z+&quot;deg)&quot;:&quot;&quot;),orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.left(dist,fade)},st.rotate3dright=window._css3d?function(x,y,z,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]+=(x?&quot; rotateX(&quot;+x+&quot;deg)&quot;:&quot; &quot;)+(y?&quot; rotateY(&quot;+y+&quot;deg)&quot;:&quot;&quot;)+(z?&quot; rotateZ(&quot;+z+&quot;deg)&quot;:&quot;&quot;),orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.right(dist,fade)},st.rotate3dtop=window._css3d?function(x,y,z,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]+=(x?&quot; rotateX(&quot;+x+&quot;deg)&quot;:&quot; &quot;)+(y?&quot; rotateY(&quot;+y+&quot;deg)&quot;:&quot;&quot;)+(z?&quot; rotateZ(&quot;+z+&quot;deg)&quot;:&quot;&quot;),orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.top(dist,fade)},st.rotate3dbottom=window._css3d?function(x,y,z,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]+=(x?&quot; rotateX(&quot;+x+&quot;deg)&quot;:&quot; &quot;)+(y?&quot; rotateY(&quot;+y+&quot;deg)&quot;:&quot;&quot;)+(z?&quot; rotateZ(&quot;+z+&quot;deg)&quot;:&quot;&quot;),orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.bottom(dist,fade)},st.rotate3dfront=window._css3d?function(x,y,z,dist,orig,fade){var r=st.front(dist,fade);return r[transform_css]+=(x?&quot; rotateX(&quot;+x+&quot;deg)&quot;:&quot; &quot;)+(y?&quot; rotateY(&quot;+y+&quot;deg)&quot;:&quot;&quot;)+(z?&quot; rotateZ(&quot;+z+&quot;deg)&quot;:&quot;&quot;),orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.front(dist,fade)},st.rotate3dback=window._css3d?function(x,y,z,dist,orig,fade){var r=st.back(dist,fade);return r[transform_css]+=(x?&quot; rotateX(&quot;+x+&quot;deg)&quot;:&quot; &quot;)+(y?&quot; rotateY(&quot;+y+&quot;deg)&quot;:&quot;&quot;)+(z?&quot; rotateZ(&quot;+z+&quot;deg)&quot;:&quot;&quot;),orig&amp;&amp;(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.back(dist,fade)},st.t=window._css3d?function(fade,tx,ty,tz,r,rx,ry,rz,scx,scy,skx,sky,ox,oy,oz){var _r=fade===!1?{}:{opacity:0},transform=&quot;perspective(2000px) &quot;;&quot;n&quot;!==tx&amp;&amp;(transform+=&quot;translateX(&quot;+tx*st.rf+&quot;px) &quot;),&quot;n&quot;!==ty&amp;&amp;(transform+=&quot;translateY(&quot;+ty*st.rf+&quot;px) &quot;),&quot;n&quot;!==tz&amp;&amp;(transform+=&quot;translateZ(&quot;+tz*st.rf+&quot;px) &quot;),&quot;n&quot;!==r&amp;&amp;(transform+=&quot;rotate(&quot;+r+&quot;deg) &quot;),&quot;n&quot;!==rx&amp;&amp;(transform+=&quot;rotateX(&quot;+rx+&quot;deg) &quot;),&quot;n&quot;!==ry&amp;&amp;(transform+=&quot;rotateY(&quot;+ry+&quot;deg) &quot;),&quot;n&quot;!==rz&amp;&amp;(transform+=&quot;rotateZ(&quot;+rz+&quot;deg) &quot;),&quot;n&quot;!==skx&amp;&amp;(transform+=&quot;skewX(&quot;+skx+&quot;deg) &quot;),&quot;n&quot;!==sky&amp;&amp;(transform+=&quot;skewY(&quot;+sky+&quot;deg) &quot;),&quot;n&quot;!==scx&amp;&amp;(transform+=&quot;scaleX(&quot;+scx+&quot;) &quot;),&quot;n&quot;!==scy&amp;&amp;(transform+=&quot;scaleY(&quot;+scy+&quot;)&quot;),_r[transform_css]=transform;var trans_origin=&quot;&quot;;return trans_origin+=&quot;n&quot;!==ox?ox+&quot;% &quot;:&quot;50% &quot;,trans_origin+=&quot;n&quot;!==oy?oy+&quot;% &quot;:&quot;50% &quot;,trans_origin+=&quot;n&quot;!==oz?oz+&quot;px&quot;:&quot;&quot;,_r[transform_orig_css]=trans_origin,_r}:function(fade,tx,ty,tz,r){var r=fade===!1?{}:{opacity:0};return&quot;n&quot;!==tx&amp;&amp;(r.left=tx*st.rf+&quot;px&quot;),&quot;n&quot;!==ty&amp;&amp;(r.top=ty*st.rf+&quot;px&quot;),r}}}}(jQuery),function($){window.MSLayerElement=function(){this.start_anim={name:&quot;fade&quot;,duration:1e3,ease:&quot;linear&quot;,delay:0},this.end_anim={duration:1e3,ease:&quot;linear&quot;},this.type=&quot;text&quot;,this.resizable=!0,this.minWidth=-1,this.isVisible=!0,this.__cssConfig=[&quot;margin-top&quot;,&quot;padding-top&quot;,&quot;margin-bottom&quot;,&quot;padding-left&quot;,&quot;margin-right&quot;,&quot;padding-right&quot;,&quot;margin-left&quot;,&quot;padding-bottom&quot;,&quot;font-size&quot;,&quot;line-height&quot;,&quot;width&quot;,&quot;left&quot;,&quot;right&quot;,&quot;top&quot;,&quot;bottom&quot;],this.baseStyle={}};var p=MSLayerElement.prototype;p.setStartAnim=function(anim){$.extend(this.start_anim,anim),$.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css(&quot;visibility&quot;,&quot;hidden&quot;)},p.setEndAnim=function(anim){$.extend(this.end_anim,anim)},p.create=function(){if(this.$element.css(&quot;display&quot;,&quot;none&quot;),this.resizable=this.$element.data(&quot;resize&quot;)!==!1,this.fixed=this.$element.data(&quot;fixed&quot;)===!0,void 0!==this.$element.data(&quot;widthlimit&quot;)&amp;&amp;(this.minWidth=this.$element.data(&quot;widthlimit&quot;)),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&amp;&amp;(this.autoHide=!0),this.staticLayer=&quot;static&quot;===this.$element.data(&quot;position&quot;),this.fixedLayer=&quot;fixed&quot;===this.$element.data(&quot;position&quot;),this.layersCont=this.controller.$layers,this.staticLayer&amp;&amp;this.$element.css(&quot;display&quot;,&quot;&quot;).css(&quot;visibility&quot;,&quot;&quot;),void 0!==this.$element.data(&quot;action&quot;)){var slideController=this.slide.slider.slideController;this.$element.on(&quot;click&quot;,function(event){slideController.runAction($(this).data(&quot;action&quot;)),event.preventDefault()}).addClass(&quot;ms-action-layer&quot;)}$.extend(this.end_anim,this._parseEff(this.end_anim.name)),this.slider=this.slide.slider;var layerOrigin=this.layerOrigin=this.$element.data(&quot;origin&quot;);if(layerOrigin){var vOrigin=layerOrigin.charAt(0),hOrigin=layerOrigin.charAt(1),offsetX=this.$element.data(&quot;offset-x&quot;),offsetY=this.$element.data(&quot;offset-y&quot;);switch(void 0===offsetY&amp;&amp;(offsetY=0),vOrigin){case&quot;t&quot;:this.$element[0].style.top=offsetY+&quot;px&quot;;break;case&quot;b&quot;:this.$element[0].style.bottom=offsetY+&quot;px&quot;;break;case&quot;m&quot;:this.$element[0].style.top=offsetY+&quot;px&quot;,this.middleAlign=!0}switch(void 0===offsetX&amp;&amp;(offsetX=0),hOrigin){case&quot;l&quot;:this.$element[0].style.left=offsetX+&quot;px&quot;;break;case&quot;r&quot;:this.$element[0].style.right=offsetX+&quot;px&quot;;break;case&quot;c&quot;:this.$element[0].style.left=offsetX+&quot;px&quot;,this.centerAlign=!0}}this.parallax=this.$element.data(&quot;parallax&quot;),null!=this.parallax&amp;&amp;(this.parallax/=100,this.$parallaxElement=$(&quot;&quot;).addClass(&quot;ms-parallax-layer&quot;),this.link?(this.link.wrap(this.$parallaxElement),this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._lastParaX=0,this._lastParaY=0,this._paraX=0,this._paraY=0,this.alignedToBot=this.layerOrigin&amp;&amp;-1!==this.layerOrigin.indexOf(&quot;b&quot;),this.alignedToBot&amp;&amp;this.$parallaxElement.css(&quot;bottom&quot;,0),this.parallaxRender=window._css3d?this._parallaxCSS3DRenderer:window._css2d?this._parallaxCSS2DRenderer:this._parallax2DRenderer,&quot;swipe&quot;!==this.slider.options.parallaxMode&amp;&amp;averta.Ticker.add(this.parallaxRender,this)),$.removeDataAttrs(this.$element,[&quot;data-src&quot;])},p.init=function(){this.initialized=!0;var value;this.$element.css(&quot;visibility&quot;,&quot;&quot;);for(var i=0,l=this.__cssConfig.length;l&gt;i;i++){var key=this.__cssConfig[i];&quot;text&quot;===this.type&amp;&amp;&quot;width&quot;===key?value=this.$element[0].style.width:(value=this.$element.css(key),&quot;width&quot;!==key&amp;&amp;&quot;height&quot;!==key||&quot;0px&quot;!==value||(value=this.$element.data(key)+&quot;px&quot;)),&quot;auto&quot;!=value&amp;&amp;&quot;&quot;!=value&amp;&amp;&quot;normal&quot;!=value&amp;&amp;(this.baseStyle[key]=parseInt(value))}this.middleAlign&amp;&amp;(this.baseHeight=this.$element.outerHeight(!1)),this.centerAlign&amp;&amp;(this.baseWidth=this.$element.outerWidth(!1))},p.locate=function(){if(this.slide.ready){var factor,isPosition,width=parseFloat(this.layersCont.css(&quot;width&quot;)),height=parseFloat(this.layersCont.css(&quot;height&quot;));!this.staticLayer&amp;&amp;&quot;none&quot;===this.$element.css(&quot;display&quot;)&amp;&amp;this.isVisible&amp;&amp;this.$element.css(&quot;display&quot;,&quot;&quot;).css(&quot;visibility&quot;,&quot;hidden&quot;),factor=this.resizeFactor=width/this.slide.slider.options.width;for(var key in this.baseStyle)isPosition=&quot;top&quot;===key||&quot;left&quot;===key||&quot;bottom&quot;===key||&quot;right&quot;===key,factor=this.fixed&amp;&amp;isPosition?1:this.resizeFactor,(this.resizable||isPosition)&amp;&amp;(&quot;top&quot;===key&amp;&amp;this.middleAlign?(this.$element[0].style.top=&quot;0px&quot;,this.baseHeight=this.$element.outerHeight(!1),this.$element[0].style.top=this.baseStyle.top*factor+(height-this.baseHeight)/2+&quot;px&quot;):&quot;left&quot;===key&amp;&amp;this.centerAlign?(this.$element[0].style.left=&quot;0px&quot;,this.baseWidth=this.$element.outerWidth(!1),this.$element[0].style.left=this.baseStyle.left*factor+(width-this.baseWidth)/2+&quot;px&quot;):this.$element.css(key,this.baseStyle[key]*factor+&quot;px&quot;));this.visible(this.minWidth&lt;width)}},p.start=function(){if(!this.isShowing&amp;&amp;!this.staticLayer){this.isShowing=!0;var key,base;MSLayerEffects.rf=this.resizeFactor;var effect_css=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),start_css_eff={};for(key in effect_css)this._checkPosKey(key,effect_css)||(null!=MSLayerEffects.defaultValues[key]&amp;&amp;(start_css_eff[key]=MSLayerEffects.defaultValues[key]),key in this.baseStyle&amp;&amp;(base=this.baseStyle[key],this.middleAlign&amp;&amp;&quot;top&quot;===key&amp;&amp;(base+=(parseInt(this.layersCont.height())-this.$element.outerHeight(!1))/2),this.centerAlign&amp;&amp;&quot;left&quot;===key&amp;&amp;(base+=(parseInt(this.layersCont.width())-this.$element.outerWidth(!1))/2),effect_css[key]=base+parseFloat(effect_css[key])+&quot;px&quot;,start_css_eff[key]=base+&quot;px&quot;),this.$element.css(key,effect_css[key]));var that=this;clearTimeout(this.to),this.to=setTimeout(function(){that.$element.css(&quot;visibility&quot;,&quot;&quot;),that._playAnimation(that.start_anim,start_css_eff)},that.start_anim.delay||.01),this.clTo=setTimeout(function(){that.show_cl=!0},(this.start_anim.delay||.01)+this.start_anim.duration),this.autoHide&amp;&amp;(clearTimeout(this.hto),this.hto=setTimeout(function(){that.hide()},that.end_anim.time))}},p.hide=function(){if(!this.staticLayer){this.isShowing=!1;var effect_css=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in effect_css)this._checkPosKey(key,effect_css)||(key===window._jcsspfx+&quot;TransformOrigin&quot;&amp;&amp;this.$element.css(key,effect_css[key]),key in this.baseStyle&amp;&amp;(effect_css[key]=this.baseStyle[key]+parseFloat(effect_css[key])+&quot;px&quot;));this._playAnimation(this.end_anim,effect_css),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.clTo)}},p.reset=function(){this.staticLayer||(this.isShowing=!1,this.$element[0].style.display=&quot;none&quot;,this.$element.css(&quot;opacity&quot;,&quot;&quot;),this.$element[0].style.transitionDuration=&quot;&quot;,this.show_tween&amp;&amp;this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto))},p.destroy=function(){this.reset(),this.$element.remove()},p.visible=function(value){this.isVisible!=value&amp;&amp;(this.isVisible=value,this.$element.css(&quot;display&quot;,value?&quot;&quot;:&quot;none&quot;))},p.moveParallax=function(x,y,fast){this._paraX=x,this._paraY=y,fast&amp;&amp;(this._lastParaX=x,this._lastParaY=y,this.parallaxRender())},p._playAnimation=function(animation,css){var options={};animation.ease&amp;&amp;(options.ease=animation.ease),options.transProperty=window._csspfx+&quot;transform,opacity&quot;,this.show_tween=CTween.animate(this.$element,animation.duration,css,options)},p._randomParam=function(value){var min=Number(value.slice(0,value.indexOf(&quot;|&quot;))),max=Number(value.slice(value.indexOf(&quot;|&quot;)+1));return min+Math.random()*(max-min)},p._parseEff=function(eff_name){var eff_params=[];if(-1!==eff_name.indexOf(&quot;(&quot;)){var value,temp=eff_name.slice(0,eff_name.indexOf(&quot;(&quot;)).toLowerCase();eff_params=eff_name.slice(eff_name.indexOf(&quot;(&quot;)+1,-1).replace(/\&quot;|\'|\s/g,&quot;&quot;).split(&quot;,&quot;),eff_name=temp;for(var i=0,l=eff_params.length;l&gt;i;++i)value=eff_params[i],value in MSLayerEffects.presetEffParams&amp;&amp;(value=MSLayerEffects.presetEffParams[value]),eff_params[i]=value}return{eff_name:eff_name,eff_params:eff_params}},p._parseEffParams=function(params){for(var eff_params=[],i=0,l=params.length;l&gt;i;++i){var value=params[i];&quot;string&quot;==typeof value&amp;&amp;-1!==value.indexOf(&quot;|&quot;)&amp;&amp;(value=this._randomParam(value)),eff_params[i]=value}return eff_params},p._checkPosKey=function(key,style){return&quot;left&quot;===key&amp;&amp;!(key in this.baseStyle)&amp;&amp;&quot;right&quot;in this.baseStyle?(style.right=-parseInt(style.left)+&quot;px&quot;,delete style.left,!0):&quot;top&quot;===key&amp;&amp;!(key in this.baseStyle)&amp;&amp;&quot;bottom&quot;in this.baseStyle?(style.bottom=-parseInt(style.top)+&quot;px&quot;,delete style.top,!0):!1},p._parallaxCalc=function(){var x_def=this._paraX-this._lastParaX,y_def=this._paraY-this._lastParaY;this._lastParaX+=x_def/12,this._lastParaY+=y_def/12,Math.abs(x_def)&lt;.019&amp;&amp;(this._lastParaX=this._paraX),Math.abs(y_def)&lt;.019&amp;&amp;(this._lastParaY=this._paraY)},p._parallaxCSS3DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateX(&quot;+this._lastParaX*this.parallax+&quot;px) translateY(&quot;+this._lastParaY*this.parallax+&quot;px) translateZ(0)&quot;},p._parallaxCSS2DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateX(&quot;+this._lastParaX*this.parallax+&quot;px) translateY(&quot;+this._lastParaY*this.parallax+&quot;px)&quot;},p._parallax2DRenderer=function(){this._parallaxCalc(),this.alignedToBot?this.$parallaxElement[0].style.bottom=this._lastParaY*this.parallax+&quot;px&quot;:this.$parallaxElement[0].style.top=this._lastParaY*this.parallax+&quot;px&quot;,this.$parallaxElement[0].style.left=this._lastParaX*this.parallax+&quot;px&quot;}}(jQuery),function($){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=[&quot;width&quot;,&quot;height&quot;,&quot;margin-top&quot;,&quot;padding-top&quot;,&quot;margin-bottom&quot;,&quot;padding-left&quot;,&quot;margin-right&quot;,&quot;padding-right&quot;,&quot;margin-left&quot;,&quot;padding-bottom&quot;,&quot;left&quot;,&quot;right&quot;,&quot;top&quot;,&quot;bottom&quot;],this.type=&quot;image&quot;},MSImageLayerElement.extend(MSLayerElement);var p=MSImageLayerElement.prototype,_super=MSLayerElement.prototype;p.create=function(){if(this.link){var p=this.$element.parent();p.append(this.link),this.link.append(this.$element),this.link.removeClass(&quot;ms-layer&quot;),this.$element.addClass(&quot;ms-layer&quot;),p=null}if(_super.create.call(this),void 0!=this.$element.data(&quot;src&quot;))this.img_src=this.$element.data(&quot;src&quot;),this.$element.removeAttr(&quot;data-src&quot;);else{var that=this;this.$element.on(&quot;load&quot;,function(){that.controller.preloadCount--,0===that.controller.preloadCount&amp;&amp;that.controller._onlayersReady()}).each($.jqLoadFix)}$.browser.msie&amp;&amp;this.$element.on(&quot;dragstart&quot;,function(event){event.preventDefault()})},p.loadImage=function(){var that=this;this.$element.preloadImg(this.img_src,function(){that.controller.preloadCount--,0===that.controller.preloadCount&amp;&amp;that.controller._onlayersReady()})}}(jQuery),function($){window.MSVideoLayerElement=function(){MSLayerElement.call(this),this.__cssConfig.push(&quot;height&quot;),this.type=&quot;video&quot;},MSVideoLayerElement.extend(MSLayerElement);var p=MSVideoLayerElement.prototype,_super=MSLayerElement.prototype;p.__playVideo=function(){this.img&amp;&amp;CTween.fadeOut(this.img,500,2),CTween.fadeOut(this.video_btn,500,2),this.video_frame.attr(&quot;src&quot;,&quot;about:blank&quot;).css(&quot;display&quot;,&quot;block&quot;),-1==this.video_url.indexOf(&quot;?&quot;)&amp;&amp;(this.video_url+=&quot;?&quot;),this.video_frame.attr(&quot;src&quot;,this.video_url+&quot;&amp;autoplay=1&quot;)},p.start=function(){_super.start.call(this),this.$element.data(&quot;autoplay&quot;)&amp;&amp;this.__playVideo()},p.reset=function(){return _super.reset.call(this),(this.needPreload||this.$element.data(&quot;btn&quot;))&amp;&amp;(this.video_btn.css(&quot;opacity&quot;,1).css(&quot;display&quot;,&quot;block&quot;),this.video_frame.attr(&quot;src&quot;,&quot;about:blank&quot;).css(&quot;display&quot;,&quot;none&quot;)),this.needPreload?void this.img.css(&quot;opacity&quot;,1).css(&quot;display&quot;,&quot;block&quot;):void this.video_frame.attr(&quot;src&quot;,this.video_url)},p.create=function(){_super.create.call(this),this.video_frame=this.$element.find(&quot;iframe&quot;).css({width:&quot;100%&quot;,height:&quot;100%&quot;}),this.video_url=this.video_frame.attr(&quot;src&quot;);var has_img=0!=this.$element.has(&quot;img&quot;).length;if(has_img||this.$element.data(&quot;btn&quot;)){this.video_frame.attr(&quot;src&quot;,&quot;about:blank&quot;).css(&quot;display&quot;,&quot;none&quot;);var that=this;if(this.video_btn=$(&quot;&quot;).appendTo(this.$element).addClass(&quot;ms-video-btn&quot;).click(function(){that.__playVideo()}),has_img){if(this.needPreload=!0,this.img=this.$element.find(&quot;img:first&quot;).addClass(&quot;ms-video-img&quot;),void 0!==this.img.data(&quot;src&quot;))this.img_src=this.img.data(&quot;src&quot;),this.img.removeAttr(&quot;data-src&quot;);else{var that=this;this.img.attr(&quot;src&quot;,this.img_src).on(&quot;load&quot;,function(){that.controller.preloadCount--,0===that.controller.preloadCount&amp;&amp;that.controller._onlayersReady()}).each($.jqLoadFix)}$.browser.msie&amp;&amp;this.img.on(&quot;dragstart&quot;,function(event){event.preventDefault()})}}},p.loadImage=function(){var that=this;this.img.preloadImg(this.img_src,function(){that.controller.preloadCount--,0===that.controller.preloadCount&amp;&amp;that.controller._onlayersReady()})}}(jQuery),function($){&quot;use strict&quot;;window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=[&quot;margin-top&quot;,&quot;padding-top&quot;,&quot;margin-bottom&quot;,&quot;padding-left&quot;,&quot;margin-right&quot;,&quot;padding-right&quot;,&quot;margin-left&quot;,&quot;padding-bottom&quot;,&quot;left&quot;,&quot;right&quot;,&quot;top&quot;,&quot;bottom&quot;],this.ease=&quot;Expo&quot;,this.hide_start=!0,this.type=&quot;hotspot&quot;},MSHotspotLayer.extend(MSLayerElement);var p=MSHotspotLayer.prototype,_super=MSLayerElement.prototype;p._showTT=function(){this.show_cl&amp;&amp;(clearTimeout(this.hto),this._tween&amp;&amp;this._tween.stop(!0),this.hide_start&amp;&amp;(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:&quot;block&quot;}),this._tween=CTween.animate(this.tt,900,this.to,{ease:&quot;easeOut&quot;+this.ease}),this.hide_start=!1))},p._hideTT=function(){if(this.show_cl){this._tween&amp;&amp;this._tween.stop(!0);var that=this;clearTimeout(this.hto),this.hto=setTimeout(function(){that.hide_start=!0,that._tween=CTween.animate(that.tt,900,that.from,{ease:&quot;easeOut&quot;+that.ease,complete:function(){that.tt.css(&quot;display&quot;,&quot;none&quot;)}})},200)}},p._updateClassName=function(name){this._lastClass&amp;&amp;this.tt.removeClass(this._lastClass),this.tt.addClass(name),this._lastClass=name},p._alignPolicy=function(){{var w=(this.tt.outerHeight(!1),Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css(&quot;max-width&quot;)))),ww=window.innerWidth;window.innerHeight}switch(this.align){case&quot;top&quot;:if(this.base_t&lt;0)return&quot;bottom&quot;;break;case&quot;right&quot;:if(this.base_l+w&gt;ww||this.base_t&lt;0)return&quot;bottom&quot;;break;case&quot;left&quot;:if(this.base_l&lt;0||this.base_t&lt;0)return&quot;bottom&quot;}return null},p._locateTT=function(){var os=this.$element.offset(),os2=this.slide.slider.$element.offset(),dist=50,space=15;this.pos_x=os.left-os2.left-this.slide.slider.$element.scrollLeft(),this.pos_y=os.top-os2.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName(&quot;ms-tooltip-&quot;+this.align),this.tt_arrow.css(&quot;margin-left&quot;,&quot;&quot;);var arrow_w=15,arrow_h=15;switch(this.align){case&quot;top&quot;:var w=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css(&quot;max-width&quot;)));this.base_t=this.pos_y-this.tt.outerHeight(!1)-arrow_h-space,this.base_l=this.pos_x-w/2,this.base_l+w&gt;window.innerWidth&amp;&amp;(this.tt_arrow.css(&quot;margin-left&quot;,-arrow_w/2+this.base_l+w-window.innerWidth+&quot;px&quot;),this.base_l=window.innerWidth-w),this.base_l&lt;0&amp;&amp;(this.base_l=0,this.tt_arrow.css(&quot;margin-left&quot;,-arrow_w/2+this.pos_x-this.tt.outerWidth(!1)/2+&quot;px&quot;)),window._css3d?(this.from[window._jcsspfx+&quot;Transform&quot;]=&quot;translateY(-&quot;+dist+&quot;px)&quot;,this.to[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;):(this.from.top=this.base_t-dist+&quot;px&quot;,this.to.top=this.base_t+&quot;px&quot;);break;case&quot;bottom&quot;:var w=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css(&quot;max-width&quot;)));this.base_t=this.pos_y+arrow_h+space,this.base_l=this.pos_x-w/2,this.base_l+w&gt;window.innerWidth&amp;&amp;(this.tt_arrow.css(&quot;margin-left&quot;,-arrow_w/2+this.base_l+w-window.innerWidth+&quot;px&quot;),this.base_l=window.innerWidth-w),this.base_l&lt;0&amp;&amp;(this.base_l=0,this.tt_arrow.css(&quot;margin-left&quot;,-arrow_w/2+this.pos_x-this.tt.outerWidth(!1)/2+&quot;px&quot;)),window._css3d?(this.from[window._jcsspfx+&quot;Transform&quot;]=&quot;translateY(&quot;+dist+&quot;px)&quot;,this.to[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;):(this.from.top=this.base_t+dist+&quot;px&quot;,this.to.top=this.base_t+&quot;px&quot;);break;case&quot;right&quot;:this.base_l=this.pos_x+arrow_w+space,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+&quot;Transform&quot;]=&quot;translateX(&quot;+dist+&quot;px)&quot;,this.to[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;):(this.from.left=this.base_l+dist+&quot;px&quot;,this.to.left=this.base_l+&quot;px&quot;);break;case&quot;left&quot;:this.base_l=this.pos_x-arrow_w-this.tt.outerWidth(!1)-space,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+&quot;Transform&quot;]=&quot;translateX(-&quot;+dist+&quot;px)&quot;,this.to[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;):(this.from.left=this.base_l-dist+&quot;px&quot;,this.to.left=this.base_l+&quot;px&quot;)}var policyAlign=this._alignPolicy();return null!==policyAlign?(this.align=policyAlign,void this._locateTT()):(this.tt.css(&quot;top&quot;,parseInt(this.base_t)+&quot;px&quot;).css(&quot;left&quot;,parseInt(this.base_l)+&quot;px&quot;),void this.tt.css(this.from))},p.start=function(){_super.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css(&quot;display&quot;,&quot;none&quot;)},p.reset=function(){_super.reset.call(this),this.tt.detach()},p.create=function(){var that=this;this._orgAlign=this.align=void 0!==this.$element.data(&quot;align&quot;)?this.$element.data(&quot;align&quot;):&quot;top&quot;,this.data=this.$element.html(),this.$element.html(&quot;&quot;).on(&quot;mouseenter&quot;,function(){that._showTT()}).on(&quot;mouseleave&quot;,function(){that._hideTT()}),this.point=$('').addClass(&quot;ms-tooltip-point&quot;).appendTo(this.$element);var link=this.$element.data(&quot;link&quot;),target=this.$element.data(&quot;target&quot;);link&amp;&amp;this.point.on(&quot;click&quot;,function(){window.open(link,target||&quot;_self&quot;)}),this.tt=$(&quot;&quot;).addClass(&quot;ms-tooltip&quot;).css(&quot;display&quot;,&quot;hidden&quot;).css(&quot;opacity&quot;,0),void 0!==this.$element.data(&quot;width&quot;)&amp;&amp;this.tt.css(&quot;width&quot;,this.$element.data(&quot;width&quot;)).css(&quot;max-width&quot;,this.$element.data(&quot;width&quot;)),this.tt_arrow=$(&quot;&quot;).addClass(&quot;ms-tooltip-arrow&quot;).appendTo(this.tt),this._updateClassName(&quot;ms-tooltip-&quot;+this.align),this.ttcont=$(&quot;&quot;).addClass(&quot;ms-tooltip-cont&quot;).html(this.data).appendTo(this.tt),this.$element.data(&quot;stay-hover&quot;)===!0&amp;&amp;this.tt.on(&quot;mouseenter&quot;,function(){that.hide_start||(clearTimeout(that.hto),that._tween.stop(!0),that._showTT())}).on(&quot;mouseleave&quot;,function(){that._hideTT()}),_super.create.call(this)}}(jQuery),function(){window.MSButtonLayer=function(){MSLayerElement.call(this),this.type=&quot;button&quot;},MSButtonLayer.extend(MSLayerElement);var p=MSButtonLayer.prototype,_super=MSLayerElement.prototype,positionKies=[&quot;top&quot;,&quot;left&quot;,&quot;bottom&quot;,&quot;right&quot;];p.create=function(){_super.create.call(this),this.$element.wrap('').css(&quot;position&quot;,&quot;relative&quot;),this.$container=this.$element.parent()},p.locate=function(){_super.locate.call(this);for(var key,tempValue,i=0;4&gt;i;i++)key=positionKies[i],key in this.baseStyle&amp;&amp;(tempValue=this.$element.css(key),this.$element.css(key,&quot;&quot;),this.$container.css(key,tempValue));this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}}(jQuery),window.MSSliderEvent=function(type){this.type=type},MSSliderEvent.CHANGE_START=&quot;ms_changestart&quot;,MSSliderEvent.CHANGE_END=&quot;ms_changeend&quot;,MSSliderEvent.WAITING=&quot;ms_waiting&quot;,MSSliderEvent.AUTOPLAY_CHANGE=&quot;ms_autoplaychange&quot;,MSSliderEvent.VIDEO_PLAY=&quot;ms_videoPlay&quot;,MSSliderEvent.VIDEO_CLOSE=&quot;ms_videoclose&quot;,MSSliderEvent.INIT=&quot;ms_init&quot;,MSSliderEvent.HARD_UPDATE=&quot;ms_hard_update&quot;,MSSliderEvent.RESIZE=&quot;ms_resize&quot;,MSSliderEvent.RESERVED_SPACE_CHANGE=&quot;ms_rsc&quot;,MSSliderEvent.DESTROY=&quot;ms_destroy&quot;,function(window,document,$){&quot;use strict&quot;;window.MSSlide=function(){this.$element=null,this.$loading=$(&quot;&quot;).addClass(&quot;ms-slide-loading&quot;),this.view=null,this.index=-1,this.__width=0,this.__height=0,this.fillMode=&quot;fill&quot;,this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.isSleeping=!0,this.moz=$.browser.mozilla};var p=MSSlide.prototype;p.onSwipeStart=function(){this.link&amp;&amp;(this.linkdis=!0),this.video&amp;&amp;(this.videodis=!0)},p.onSwipeMove=function(e){var move=Math.max(Math.abs(e.data.distanceX),Math.abs(e.data.distanceY));this.swipeMoved=move&gt;4},p.onSwipeCancel=function(){return this.swipeMoved?void(this.swipeMoved=!1):(this.link&amp;&amp;(this.linkdis=!1),void(this.video&amp;&amp;(this.videodis=!1)))},p.setupLayerController=function(){this.hasLayers=!0,this.layerController=new MSLayerController(this)},p.assetsLoaded=function(){this.ready=!0,this.slider.api._startTimer(),(this.selected||this.pselected&amp;&amp;this.slider.options.instantStartLayers)&amp;&amp;(this.hasLayers&amp;&amp;this.layerController.showLayers(),this.vinit&amp;&amp;(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setupBG(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||&quot;all&quot;===this.slider.options.preload)&amp;&amp;this.index&lt;this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():&quot;all&quot;===this.slider.options.preload&amp;&amp;this.index===this.view.slideList.length-1&amp;&amp;this.slider._removeLoading()},p.setBG=function(img){this.hasBG=!0;var that=this;this.$imgcont=$(&quot;&quot;).addClass(&quot;ms-slide-bgcont&quot;),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=$(img).css(&quot;visibility&quot;,&quot;hidden&quot;),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(that.fillMode,that.$imgcont,that.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,that.slider.options.autoHeight&amp;&amp;(that.pselected||that.selected)&amp;&amp;that.slider.setHeight(that.slider.options.height),void 0!==this.$bg_img.data(&quot;src&quot;)?(this.bg_src=this.$bg_img.data(&quot;src&quot;),this.$bg_img.removeAttr(&quot;data-src&quot;)):this.$bg_img.one(&quot;load&quot;,function(event){that._onBGLoad(event)}).each($.jqLoadFix)},p.setupBG=function(){!this.initBG&amp;&amp;this.bgLoaded&amp;&amp;(this.initBG=!0,this.$bg_img.css(&quot;visibility&quot;,&quot;&quot;),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&amp;&amp;this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&amp;&amp;(this.pselected||this.selected)&amp;&amp;this.slider.setHeight(this.getHeight()))},p.loadImages=function(){if(!this.ls){if(this.ls=!0,this.bgvideo&amp;&amp;this.bgvideo.load(),this.hasBG&amp;&amp;this.bg_src){var that=this;this.$bg_img.preloadImg(this.bg_src,function(event){that._onBGLoad(event)})}this.hasLayers&amp;&amp;this.layerController.loadLayers(this._onLayersLoad),this.hasBG||this.hasLayers||this.assetsLoaded()}},p._onLayersLoad=function(){this.layersLoaded=!0,(!this.hasBG||this.bgLoaded)&amp;&amp;this.assetsLoaded()},p._onBGLoad=function(event){this.bgNatrualWidth=event.width,this.bgNatrualHeight=event.height,this.bgLoaded=!0,$.browser.msie&amp;&amp;this.$bg_img.on(&quot;dragstart&quot;,function(event){event.preventDefault()}),(!this.hasLayers||this.layerController.ready)&amp;&amp;this.assetsLoaded()},p.setBGVideo=function($video){if($video[0].play){if(window._mobile)return void $video.remove();this.bgvideo=$video[0];var that=this;$video.addClass(&quot;ms-slide-bgvideo&quot;),$video.data(&quot;loop&quot;)!==!1&amp;&amp;this.bgvideo.addEventListener(&quot;ended&quot;,function(){that.bgvideo.play()}),$video.data(&quot;mute&quot;)!==!1&amp;&amp;(this.bgvideo.muted=!0),$video.data(&quot;autopause&quot;)===!0&amp;&amp;(this.autoPauseBgVid=!0),this.bgvideo_fillmode=$video.data(&quot;fill-mode&quot;)||&quot;fill&quot;,&quot;none&quot;!==this.bgvideo_fillmode&amp;&amp;(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,$video),this.bgvideo.addEventListener(&quot;loadedmetadata&quot;,function(){that.vinit||(that.vinit=!0,that.video_aspect=that.bgVideoAligner.baseHeight/that.bgVideoAligner.baseWidth,that.bgVideoAligner.init(that.bgvideo.videoWidth,that.bgvideo.videoHeight),that._alignBGVideo(),CTween.fadeIn($(that.bgvideo),200),that.selected&amp;&amp;that.bgvideo.play())})),$video.css(&quot;opacity&quot;,0),this.$bgvideocont=$(&quot;&quot;).addClass(&quot;ms-slide-bgvideocont&quot;).append($video),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},p._alignBGVideo=function(){this.bgvideo_fillmode&amp;&amp;&quot;none&quot;!==this.bgvideo_fillmode&amp;&amp;this.bgVideoAligner.align()},p.setSize=function(width,height,hard){this.__width=width,this.slider.options.autoHeight&amp;&amp;(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,height=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(height)):(this.ratio=width/this.slider.options.width,height=this.slider.options.height*this.ratio)),this.__height=height,this.$element.width(width).height(height),this.hasBG&amp;&amp;this.bgLoaded&amp;&amp;this.bgAligner.align(),this._alignBGVideo(),this.hasLayers&amp;&amp;this.layerController.setSize(width,height,hard)
},p.getHeight=function(){return this.hasBG&amp;&amp;this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},p.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css(&quot;display&quot;,&quot;&quot;),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css(&quot;display&quot;,&quot;block&quot;).attr(&quot;src&quot;,this.video+&quot;&amp;autoplay=1&quot;),this.view.$element.addClass(&quot;ms-def-cursor&quot;),this.moz&amp;&amp;this.view.$element.css(&quot;perspective&quot;,&quot;none&quot;),this.view.swipeControl&amp;&amp;this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},p.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&amp;&amp;this.slider.api.resume();var that=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){that.vcbtn.css(&quot;display&quot;,&quot;none&quot;)}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){that.vframe.attr(&quot;src&quot;,&quot;about:blank&quot;).css(&quot;display&quot;,&quot;none&quot;)}}),this.moz&amp;&amp;this.view.$element.css(&quot;perspective&quot;,&quot;&quot;),this.view.swipeControl&amp;&amp;this.view.swipeControl.enable(),this.view.$element.removeClass(&quot;ms-def-cursor&quot;),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},p.create=function(){var that=this;this.hasLayers&amp;&amp;this.layerController.create(),this.link&amp;&amp;this.link.addClass(&quot;ms-slide-link&quot;).html(&quot;&quot;).click(function(e){that.linkdis&amp;&amp;e.preventDefault()}),this.video&amp;&amp;(-1===this.video.indexOf(&quot;?&quot;)&amp;&amp;(this.video+=&quot;?&quot;),this.vframe=$(&quot;&lt;iframe&gt;&lt;/iframe&gt;&quot;).addClass(&quot;ms-slide-video&quot;).css({width:&quot;100%&quot;,height:&quot;100%&quot;,display:&quot;none&quot;}).attr(&quot;src&quot;,&quot;about:blank&quot;).attr(&quot;allowfullscreen&quot;,&quot;true&quot;).appendTo(this.$element),this.vpbtn=$(&quot;&quot;).addClass(&quot;ms-slide-vpbtn&quot;).click(function(){that.__playVideo()}).appendTo(this.$element),this.vcbtn=$(&quot;&quot;).addClass(&quot;ms-slide-vcbtn&quot;).click(function(){that.__closeVideo()}).appendTo(this.$element).css(&quot;display&quot;,&quot;none&quot;),window._touch&amp;&amp;this.vcbtn.removeClass(&quot;ms-slide-vcbtn&quot;).addClass(&quot;ms-slide-vcbtn-mobile&quot;).append('<DIV class="ms-vcbtn-txt">Close video</DIV>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&amp;&amp;this.hasBG&amp;&amp;(this.$imgcont.css(&quot;height&quot;,&quot;100%&quot;),(&quot;center&quot;===this.fillMode||&quot;stretch&quot;===this.fillMode)&amp;&amp;(this.fillMode=&quot;fill&quot;)),this.slider.options.autoHeight&amp;&amp;this.$element.addClass(&quot;ms-slide-auto-height&quot;),this.sleep(!0)},p.destroy=function(){this.hasLayers&amp;&amp;(this.layerController.destroy(),this.layerController=null),this.$element.remove(),this.$element=null},p.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&amp;&amp;(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this),this.linkdis=!1,this.swipeMoved=!1),this.loadImages(),this.hasLayers&amp;&amp;this.layerController.prepareToShow(),this.ready&amp;&amp;(this.bgvideo&amp;&amp;this.bgvideo.play(),this.hasLayers&amp;&amp;this.slider.options.instantStartLayers&amp;&amp;this.layerController.showLayers()),this.moz&amp;&amp;this.$element.css(&quot;margin-top&quot;,&quot;&quot;))},p.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass(&quot;ms-sl-selected&quot;),this.hasLayers&amp;&amp;(this.slider.options.autoHeight&amp;&amp;this.layerController.updateHeight(),this.slider.options.instantStartLayers||this.layerController.showLayers()),this.ready&amp;&amp;this.bgvideo&amp;&amp;this.bgvideo.play(),this.videoAutoPlay&amp;&amp;(this.videodis=!1,this.vpbtn.trigger(&quot;click&quot;)))},p.unselect=function(){this.pselected=!1,this.moz&amp;&amp;this.$element.css(&quot;margin-top&quot;,&quot;0.1px&quot;),(this.link||this.video)&amp;&amp;(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&amp;&amp;(this.bgvideo.pause(),!this.autoPauseBgVid&amp;&amp;this.vinit&amp;&amp;(this.bgvideo.currentTime=0)),this.hasLayers&amp;&amp;this.layerController.hideLayers(),this.selected&amp;&amp;(this.selected=!1,this.$element.removeClass(&quot;ms-sl-selected&quot;),this.video&amp;&amp;this.vplayed&amp;&amp;(this.__closeVideo(),this.roc=!1))},p.sleep=function(force){(!this.isSleeping||force)&amp;&amp;(this.isSleeping=!0,this.autoAppend&amp;&amp;this.$element.detach(),this.hasLayers&amp;&amp;this.layerController.onSlideSleep())},p.wakeup=function(){this.isSleeping&amp;&amp;(this.isSleeping=!1,this.autoAppend&amp;&amp;this.view.$slideCont.append(this.$element),this.moz&amp;&amp;this.$element.css(&quot;margin-top&quot;,&quot;0.1px&quot;),this.setupBG(),this.hasBG&amp;&amp;this.bgAligner.align(),this.hasLayers&amp;&amp;this.layerController.onSlideWakeup())}}(window,document,jQuery),function($){&quot;use strict&quot;;var SliderViewList={};window.MSSlideController=function(slider){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=slider,this.so=slider.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(name,_class){if(name in SliderViewList)throw new Error(name+&quot;, is already registered.&quot;);SliderViewList[name]=_class},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(name,_class){if(name in MSSlideController.SliderControlList)throw new Error(name+&quot;, is already registered.&quot;);MSSlideController.SliderControlList[name]=_class};var p=MSSlideController.prototype;p.setupView=function(){var that=this;this.resize_listener=function(){that.__resize()};var viewOptions={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&amp;&amp;$.extend(viewOptions,this.so.viewOptions),this.so.autoHeight&amp;&amp;(this.so.heightLimit=!1);var viewClass=SliderViewList[this.slider.options.view]||MSBasicView;if(!viewClass._3dreq||window._css3d&amp;&amp;!$.browser.msie||(viewClass=viewClass._fallback||MSBasicView),this.view=new viewClass(viewOptions),this.so.overPause){var that=this;this.slider.$element.mouseenter(function(){that.is_over=!0,that._stopTimer()}).mouseleave(function(){that.is_over=!1,that._startTimer()})}},p.onChangeStart=function(){this.change_started=!0,this.currentSlide&amp;&amp;this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&amp;&amp;this.currentSlide.index===this.slider.slides.length-1&amp;&amp;(this.pause(),this.skipTimer()),this.so.autoHeight&amp;&amp;this.slider.setHeight(this.currentSlide.getHeight()),this.so.deepLink&amp;&amp;this.__updateWindowHash(),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},p.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload&gt;1){var loc,i,slide,l=this.so.preload-1;for(i=1;l&gt;=i;++i){if(loc=this.view.index+i,loc&gt;=this.view.slideList.length){if(!this.so.loop){i=l;continue}loc-=this.view.slideList.length}slide=this.view.slideList[loc],slide&amp;&amp;slide.loadImages()}for(l&gt;this.view.slideList.length/2&amp;&amp;(l=Math.floor(this.view.slideList.length/2)),i=1;l&gt;=i;++i){if(loc=this.view.index-i,0&gt;loc){if(!this.so.loop){i=l;continue}loc=this.view.slideList.length+loc}slide=this.view.slideList[loc],slide&amp;&amp;slide.loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},p.onSwipeStart=function(){this.skipTimer()},p.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},p.onTimer=function(){if(this._timer.getTime()&gt;=1e3*this.view.currentSlide.delay&amp;&amp;(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&amp;&amp;!this.hideCalled&amp;&amp;1e3*this.view.currentSlide.delay-this._timer.getTime()&lt;=300){var currentSlide=this.view.currentSlide;currentSlide.hasLayers&amp;&amp;currentSlide.layerController.animHideLayers(),this.hideCalled=!0}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},p._stopTimer=function(){this._timer&amp;&amp;this._timer.stop()},p._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},p.__appendSlides=function(){var slide,loc,i=0,l=this.view.slideList.length-1;for(i;l&gt;i;++i)slide=this.view.slideList[i],slide.detached||(slide.$element.detach(),slide.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),l=3,i=1;l&gt;=i;++i){if(loc=this.view.index+i,loc&gt;=this.view.slideList.length){if(!this.so.loop){i=l;continue}loc-=this.view.slideList.length}slide=this.view.slideList[loc],slide.detached=!1,this.view.appendSlide(slide)}for(l&gt;this.view.slideList.length/2&amp;&amp;(l=Math.floor(this.view.slideList.length/2)),i=1;l&gt;=i;++i){if(loc=this.view.index-i,0&gt;loc){if(!this.so.loop){i=l;continue}loc=this.view.slideList.length+loc}slide=this.view.slideList[loc],slide.detached=!1,this.view.appendSlide(slide)}},p.__resize=function(hard){this.created&amp;&amp;(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,hard),this.view.setSize(this.width,this.currentSlide.getHeight(),hard)):this.view.setSize(this.width,Math.max(this.so.minHeight,this.so.heightLimit?Math.min(this.height,this.so.height):this.height),hard),this.slider.$controlsCont&amp;&amp;this.so.centerControls&amp;&amp;this.so.fullwidth&amp;&amp;this.view.$element.css(&quot;left&quot;,Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+&quot;px&quot;),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},p.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},p.__updateWindowHash=function(){var hash=window.location.hash,dl=this.so.deepLink,dlt=this.so.deepLinkType,eq=&quot;path&quot;===dlt?&quot;/&quot;:&quot;=&quot;,sep=&quot;path&quot;===dlt?&quot;/&quot;:&quot;&amp;&quot;,sliderHash=dl+eq+(this.view.index+1),regTest=new RegExp(dl+eq+&quot;[0-9]+&quot;,&quot;g&quot;);window.location.hash=&quot;&quot;===hash?sep+sliderHash:regTest.test(hash)?hash.replace(regTest,sliderHash):hash+sep+sliderHash},p.__curentSlideInHash=function(){var hash=window.location.hash,dl=this.so.deepLink,dlt=this.so.deepLinkType,eq=&quot;path&quot;===dlt?&quot;/&quot;:&quot;=&quot;,regTest=new RegExp(dl+eq+&quot;[0-9]+&quot;,&quot;g&quot;);if(regTest.test(hash)){var index=Number(hash.match(regTest)[0].match(/[0-9]+/g).pop());if(!isNaN(index))return index-1}return-1},p.__onHashChanged=function(){var index=this.__curentSlideInHash();-1!==index&amp;&amp;this.gotoSlide(index)},p.setup=function(){this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slideList[this.so.start-1],this.__resize();var slideInHash=this.__curentSlideInHash(),startSlide=-1!==slideInHash?slideInHash:this.so.start-1;if(this.view.create(startSlide),0===this.so.preload&amp;&amp;this.view.slideList[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var that=this,last_time=(new Date).getTime();this.wheellistener=function(event){var e=window.event||event.orginalEvent||event;e.preventDefault();var current_time=(new Date).getTime();if(!(400&gt;current_time-last_time)){last_time=current_time;var delta=Math.abs(e.detail||e.wheelDelta);$.browser.mozilla&amp;&amp;(delta*=100);var scrollThreshold=15;return e.detail&lt;0||e.wheelDelta&gt;0?delta&gt;=scrollThreshold&amp;&amp;that.previous(!0):delta&gt;=scrollThreshold&amp;&amp;that.next(!0),!1}},$.browser.mozilla?this.slider.$element[0].addEventListener(&quot;DOMMouseScroll&quot;,this.wheellistener):this.slider.$element.bind(&quot;mousewheel&quot;,this.wheellistener)}0===this.slider.$element[0].clientWidth&amp;&amp;(this.slider.init_safemode=!0),this.__resize();var that=this;this.so.deepLink&amp;&amp;$(window).on(&quot;hashchange&quot;,function(){that.__onHashChanged()})},p.index=function(){return this.view.index},p.count=function(){return this.view.slidesCount},p.next=function(checkLoop){this.skipTimer(),this.view.next(checkLoop)},p.previous=function(checkLoop){this.skipTimer(),this.view.previous(checkLoop)},p.gotoSlide=function(index){index=Math.min(index,this.count()-1),this.skipTimer(),this.view.gotoSlide(index)},p.destroy=function(reset){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY)),this.slider.destroy(reset)},p._destroy=function(){this._timer.reset(),this._timer=null,$(window).unbind(&quot;resize&quot;,this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&amp;&amp;($.browser.mozilla?this.slider.$element[0].removeEventListener(&quot;DOMMouseScroll&quot;,this.wheellistener):this.slider.$element.unbind(&quot;mousewheel&quot;,this.wheellistener),this.wheellistener=null),this.so=null},p.runAction=function(action){var actionParams=[];if(-1!==action.indexOf(&quot;(&quot;)){var temp=action.slice(0,action.indexOf(&quot;(&quot;));actionParams=action.slice(action.indexOf(&quot;(&quot;)+1,-1).replace(/\&quot;|\'|\s/g,&quot;&quot;).split(&quot;,&quot;),action=temp}action in this?this[action].apply(this,actionParams):console},p.update=function(hard){this.slider.init_safemode&amp;&amp;hard&amp;&amp;(this.slider.init_safemode=!1),this.__resize(hard),hard&amp;&amp;this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE))},p.locate=function(){this.__resize()},p.resume=function(){this.paused&amp;&amp;(this.paused=!1,this._startTimer())},p.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},p.currentTime=function(){return this._delayProgress},averta.EventDispatcher.extend(p)}(jQuery),function($){&quot;use strict&quot;;var LayerTypes={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};window.MasterSlider=function(){this.options={forceInit:!0,autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:&quot;fill&quot;,start:1,view:&quot;basic&quot;,width:300,height:150,inView:15,critMargin:1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,minHeight:-1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:&quot;center&quot;,hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:&quot;h&quot;,preload:0,wheel:!1,layout:&quot;boxed&quot;,autofillTarget:null,fullscreenMargin:0,instantStartLayers:!1,parallaxMode:&quot;mouse&quot;,rtl:!1,deepLink:null,deepLinkType:&quot;path&quot;,disablePlugins:[]},this.slides=[],this.activePlugins=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0,this._holdOn=0;var that=this;this.resize_listener=function(){that._resize()},$(window).bind(&quot;resize&quot;,this.resize_listener)},MasterSlider.author=&quot;Averta Ltd. (www.averta.net)&quot;,MasterSlider.version=&quot;2.16.3&quot;,MasterSlider.releaseDate=&quot;Dec 2015&quot;,MasterSlider._plugins=[];var MS=MasterSlider;MS.registerPlugin=function(plugin){-1===MS._plugins.indexOf(plugin)&amp;&amp;MS._plugins.push(plugin)};var p=MasterSlider.prototype;p.__setupSlides=function(){var new_slide,that=this,ind=0;this.$element.children(&quot;.ms-slide&quot;).each(function(){var $slide_ele=$(this);new_slide=new MSSlide,new_slide.$element=$slide_ele,new_slide.slider=that,new_slide.delay=void 0!==$slide_ele.data(&quot;delay&quot;)?$slide_ele.data(&quot;delay&quot;):3,new_slide.fillMode=void 0!==$slide_ele.data(&quot;fill-mode&quot;)?$slide_ele.data(&quot;fill-mode&quot;):that.options.fillMode,new_slide.index=ind++;var slide_img=$slide_ele.children(&quot;img:not(.ms-layer)&quot;);slide_img.length&gt;0&amp;&amp;new_slide.setBG(slide_img[0]);var slide_video=$slide_ele.children(&quot;video&quot;);if(slide_video.length&gt;0&amp;&amp;new_slide.setBGVideo(slide_video),that.controls)for(var i=0,l=that.controls.length;l&gt;i;++i)that.controls[i].slideAction(new_slide);$slide_ele.children(&quot;a&quot;).each(function(){var $this=$(this);&quot;video&quot;===this.getAttribute(&quot;data-type&quot;)?(new_slide.video=this.getAttribute(&quot;href&quot;),new_slide.videoAutoPlay=$this.data(&quot;autoplay&quot;),$this.remove()):$this.hasClass(&quot;ms-layer&quot;)||(new_slide.link=$(this))});that.__createSlideLayers(new_slide,$slide_ele.find(&quot;.ms-layer&quot;)),that.slides.push(new_slide),that.slideController.view.addSlide(new_slide)})},p.__createSlideLayers=function(slide,layers){0!=layers.length&amp;&amp;(slide.setupLayerController(),layers.each(function(index,domEle){var $parent_ele,$layer_element=$(this);&quot;A&quot;===domEle.nodeName&amp;&amp;&quot;image&quot;===$layer_element.find(&quot;&gt;img&quot;).data(&quot;type&quot;)&amp;&amp;($parent_ele=$(this),$layer_element=$parent_ele.find(&quot;img&quot;));var layer=new(LayerTypes[$layer_element.data(&quot;type&quot;)||&quot;text&quot;]);layer.$element=$layer_element,layer.link=$parent_ele;var eff_parameters={},end_eff_parameters={};void 0!==$layer_element.data(&quot;effect&quot;)&amp;&amp;(eff_parameters.name=$layer_element.data(&quot;effect&quot;)),void 0!==$layer_element.data(&quot;ease&quot;)&amp;&amp;(eff_parameters.ease=$layer_element.data(&quot;ease&quot;)),void 0!==$layer_element.data(&quot;duration&quot;)&amp;&amp;(eff_parameters.duration=$layer_element.data(&quot;duration&quot;)),void 0!==$layer_element.data(&quot;delay&quot;)&amp;&amp;(eff_parameters.delay=$layer_element.data(&quot;delay&quot;)),$layer_element.data(&quot;hide-effect&quot;)&amp;&amp;(end_eff_parameters.name=$layer_element.data(&quot;hide-effect&quot;)),$layer_element.data(&quot;hide-ease&quot;)&amp;&amp;(end_eff_parameters.ease=$layer_element.data(&quot;hide-ease&quot;)),void 0!==$layer_element.data(&quot;hide-duration&quot;)&amp;&amp;(end_eff_parameters.duration=$layer_element.data(&quot;hide-duration&quot;)),void 0!==$layer_element.data(&quot;hide-time&quot;)&amp;&amp;(end_eff_parameters.time=$layer_element.data(&quot;hide-time&quot;)),layer.setStartAnim(eff_parameters),layer.setEndAnim(end_eff_parameters),slide.layerController.addLayer(layer)}))},p._removeLoading=function(){$(window).unbind(&quot;resize&quot;,this.resize_listener),this.$element.removeClass(&quot;before-init&quot;).css(&quot;visibility&quot;,&quot;visible&quot;).css(&quot;height&quot;,&quot;&quot;).css(&quot;opacity&quot;,0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&amp;&amp;this.slideController.__resize()},p._resize=function(){if(this.$loading){var h=this.$loading[0].clientWidth/this.aspect;h=this.options.heightLimit?Math.min(h,this.options.height):h,this.$loading.height(h),this.$element.height(h)}},p._shuffleSlides=function(){for(var r,slides=this.$element.children(&quot;.ms-slide&quot;),i=0,l=slides.length;l&gt;i;++i)r=Math.floor(Math.random()*(l-1)),i!=r&amp;&amp;(this.$element[0].insertBefore(slides[i],slides[r]),slides=this.$element.children(&quot;.ms-slide&quot;))},p._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var lo=this.options.layout;&quot;boxed&quot;!==lo&amp;&amp;&quot;partialview&quot;!==lo&amp;&amp;(this.options.fullwidth=!0),(&quot;fullscreen&quot;===lo||&quot;autofill&quot;===lo)&amp;&amp;(this.options.fullheight=!0,&quot;autofill&quot;===lo&amp;&amp;(this.$autofillTarget=$(this.options.autofillTarget),0===this.$autofillTarget.length&amp;&amp;(this.$autofillTarget=this.$element.parent()))),&quot;partialview&quot;===lo&amp;&amp;this.$element.addClass(&quot;ms-layout-partialview&quot;),(&quot;fullscreen&quot;===lo||&quot;fullwidth&quot;===lo||&quot;autofill&quot;===lo)&amp;&amp;($(window).bind(&quot;resize&quot;,{that:this},this._updateLayout),this._updateLayout()),$(window).bind(&quot;resize&quot;,this.slideController.resize_listener)},p._updateLayout=function(event){var that=event?event.data.that:this,lo=that.options.layout,$element=that.$element,$win=$(window);if(&quot;fullscreen&quot;===lo)document.body.style.overflow=&quot;hidden&quot;,$element.height($win.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace),document.body.style.overflow=&quot;&quot;;else if(&quot;autofill&quot;===lo)return void $element.height(that.$autofillTarget.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace).width(that.$autofillTarget.width()-that.leftSpace-that.rightSpace);$element.width($win.width()-that.leftSpace-that.rightSpace);var margin=-$element.offset().left+that.leftSpace+that.lastMargin;$element.css(&quot;margin-left&quot;,margin),that.lastMargin=margin},p._init=function(){if(!(this._holdOn&gt;0)&amp;&amp;this._docReady){if(this.initialized=!0,&quot;all&quot;!==this.options.preload&amp;&amp;this._removeLoading(),this.options.shuffle&amp;&amp;this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.$controlsCont=$(&quot;&quot;).addClass(&quot;ms-inner-controls-cont&quot;),this.options.centerControls&amp;&amp;this.$controlsCont.css(&quot;max-width&quot;,this.options.width+&quot;px&quot;),this.$controlsCont.prepend(this.view.$element),this.$msContainer=$(&quot;&quot;).addClass(&quot;ms-container&quot;).prependTo(this.$element).append(this.$controlsCont),this.controls)for(var i=0,l=this.controls.length;l&gt;i;++i)this.controls[i].setup();if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this.controls)for(i=0,l=this.controls.length;l&gt;i;++i)this.controls[i].create();if(this.options.autoHeight&amp;&amp;this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&amp;&amp;!window._touch&amp;&amp;this.options.grabCursor&amp;&amp;this.options.mouse){var $view=this.view.$element;$view.mousedown(function(){$view.removeClass(&quot;ms-grab-cursor&quot;),$view.addClass(&quot;ms-grabbing-cursor&quot;),$.browser.msie&amp;&amp;window.ms_grabbing_curosr&amp;&amp;($view[0].style.cursor=&quot;url(&quot;+window.ms_grabbing_curosr+&quot;), move&quot;)}).addClass(&quot;ms-grab-cursor&quot;),$(document).mouseup(function(){$view.removeClass(&quot;ms-grabbing-cursor&quot;),$view.addClass(&quot;ms-grab-cursor&quot;),$.browser.msie&amp;&amp;window.ms_grab_curosr&amp;&amp;($view[0].style.cursor=&quot;url(&quot;+window.ms_grab_curosr+&quot;), move&quot;)})}this.slideController.__dispatchInit()}},p.setHeight=function(value){this.options.smoothHeight?(this.htween&amp;&amp;(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:value},{ease:&quot;easeOutQuart&quot;})):this.slideController.view.$element.height(value)},p.reserveSpace=function(side,space){var sideSpace=side+&quot;Space&quot;,pos=this[sideSpace];return this[sideSpace]+=space,this._updateSideMargins(),pos},p._updateSideMargins=function(){this.$element.css(&quot;margin&quot;,this.topSpace+&quot;px &quot;+this.rightSpace+&quot;px &quot;+this.bottomSpace+&quot;px &quot;+this.leftSpace+&quot;px&quot;)},p._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},p.control=function(control,options){if(control in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var ins=new MSSlideController.SliderControlList[control](options);return ins.slider=this,this.controls.push(ins),this}},p.holdOn=function(){this._holdOn++},p.release=function(){this._holdOn--,this._init()},p.setup=function(target,options){if(this.$element=&quot;string&quot;==typeof target?$(&quot;#&quot;+target):target.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass(&quot;master-slider&quot;).addClass(&quot;before-init&quot;),$.browser.msie?this.$element.addClass(&quot;ms-ie&quot;).addClass(&quot;ms-ie&quot;+$.browser.version.slice(0,$.browser.version.indexOf(&quot;.&quot;))):$.browser.webkit?this.$element.addClass(&quot;ms-wk&quot;):$.browser.mozilla&amp;&amp;this.$element.addClass(&quot;ms-moz&quot;);var ua=navigator.userAgent.toLowerCase(),isAndroid=ua.indexOf(&quot;android&quot;)&gt;-1;isAndroid&amp;&amp;this.$element.addClass(&quot;ms-android&quot;);var that=this;$.extend(this.options,options),this.aspect=this.options.width/this.options.height,this.$loading=$(&quot;&quot;).addClass(&quot;ms-loading-container&quot;).insertBefore(this.$element).append($(&quot;&quot;).addClass(&quot;ms-loading&quot;)),this.$loading.parent().css(&quot;position&quot;,&quot;relative&quot;),this.options.autofill&amp;&amp;(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&amp;&amp;this.$element.addClass(&quot;ms-fullheight&quot;),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController;for(var i=0,l=MS._plugins.length;i!==l;i++){var plugin=MS._plugins[i];-1===this.options.disablePlugins.indexOf(plugin.name)&amp;&amp;this.activePlugins.push(new plugin(this))}return this.options.forceInit&amp;&amp;MasterSlider.addJQReadyErrorCheck(this),$(document).ready(function(){that.initialize||(that._docReady=!0,that._init())}),this}},p.destroy=function(insertMarkup){for(var i=0,l=this.activePlugins.length;i!==l;i++)this.activePlugins[i].destroy();if(this.controls)for(i=0,l=this.controls.length;i!==l;i++)this.controls[i].destroy();this.slideController&amp;&amp;this.slideController._destroy(),this.$loading&amp;&amp;this.$loading.remove(),insertMarkup?this.$element.html(this.setupMarkup).css(&quot;visibility&quot;,&quot;hidden&quot;):this.$element.remove();var lo=this.options.layout;(&quot;fullscreen&quot;===lo||&quot;fullwidth&quot;===lo)&amp;&amp;$(window).unbind(&quot;resize&quot;,this._updateLayout),this.view=null,this.slides=null,this.options=null,this.slideController=null,this.api=null,this.resize_listener=null,this.activePlugins=null}}(jQuery),function($,window,document,undefined){function MasterSliderPlugin(element,options){this.element=element,this.$element=$(element),this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName=&quot;masterslider&quot;,defaults={controls:{}};$.extend(MasterSliderPlugin.prototype,{init:function(){var self=this;this._slider=new MasterSlider;for(var control in this.settings.controls)this._slider.control(control,this.settings.controls[control]);this._slider.setup(this.$element,this.settings);var _superDispatch=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=function(event){self.$element.trigger(event.type),_superDispatch.call(this,event)}},api:function(){return this._slider.api},slider:function(){return this._slider}}),$.fn[pluginName]=function(options){var args=arguments,plugin=&quot;plugin_&quot;+pluginName;if(options===undefined||&quot;object&quot;==typeof options)return this.each(function(){$.data(this,plugin)||$.data(this,plugin,new MasterSliderPlugin(this,options))});if(&quot;string&quot;==typeof options&amp;&amp;&quot;_&quot;!==options[0]&amp;&amp;&quot;init&quot;!==options){var returns;return this.each(function(){var instance=$.data(this,plugin);instance instanceof MasterSliderPlugin&amp;&amp;&quot;function&quot;==typeof instance[options]&amp;&amp;(returns=instance[options].apply(instance,Array.prototype.slice.call(args,1))),instance instanceof MasterSliderPlugin&amp;&amp;&quot;function&quot;==typeof instance._slider.api[options]&amp;&amp;(returns=instance._slider.api[options].apply(instance._slider.api,Array.prototype.slice.call(args,1))),&quot;destroy&quot;===options&amp;&amp;$.data(this,plugin,null)}),returns!==undefined?returns:this}}}(jQuery,window,document),function($,window){&quot;use strict&quot;;var sliderInstances=[];MasterSlider.addJQReadyErrorCheck=function(slider){sliderInstances.push(slider)};var _ready=$.fn.ready,_onerror=window.onerror;$.fn.ready=function(){window.onerror=function(){if(0!==sliderInstances.length)for(var i=0,l=sliderInstances.length;i!==l;i++){var slider=sliderInstances[i];slider.initialized||(slider._docReady=!0,slider._init())}return _onerror?_onerror.apply(this,arguments):!1},_ready.apply(this,arguments)}}(jQuery,window,document),window.MSViewEvents=function(type,data){this.type=type,this.data=data},MSViewEvents.SWIPE_START=&quot;swipeStart&quot;,MSViewEvents.SWIPE_END=&quot;swipeEnd&quot;,MSViewEvents.SWIPE_MOVE=&quot;swipeMove&quot;,MSViewEvents.SWIPE_CANCEL=&quot;swipeCancel&quot;,MSViewEvents.SCROLL=&quot;scroll&quot;,MSViewEvents.CHANGE_START=&quot;slideChangeStart&quot;,MSViewEvents.CHANGE_END=&quot;slideChangeEnd&quot;,function($){&quot;use strict&quot;;window.MSBasicView=function(options){this.options={loop:!1,dir:&quot;h&quot;,autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},$.extend(this.options,options),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb=&quot;h&quot;===this.dir?&quot;left&quot;:&quot;top&quot;,this.__offset=&quot;h&quot;===this.dir?&quot;offsetLeft&quot;:&quot;offsetTop&quot;,this.__dimension=&quot;h&quot;===this.dir?&quot;__width&quot;:&quot;__height&quot;,this.__translate_end=window._css3d?&quot; translateZ(0px)&quot;:&quot;&quot;,this.$slideCont=$(&quot;&quot;).addClass(&quot;ms-slide-container&quot;),this.$element=$(&quot;&quot;).addClass(&quot;ms-view&quot;).addClass(&quot;ms-basic-view&quot;).append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.slideChanged=!1,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback(&quot;h&quot;===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var p=MSBasicView.prototype;p.__snapCompelet=function(){this.slideChanged&amp;&amp;(this.slideChanged=!1,this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},p.__snapUpdate=function(controller,snap,change){if(this.loop){var target_index=this.index+change;this.updateLoop(target_index),target_index&gt;=this.slidesCount&amp;&amp;(target_index-=this.slidesCount),0&gt;target_index&amp;&amp;(target_index=this.slidesCount+target_index),this.index=target_index}else{if(0&gt;snap||snap&gt;=this.slidesCount)return;this.index=snap}this._checkCritMargins(),$.browser.mozilla&amp;&amp;(this.slideList[this.index].$element[0].style.marginTop=&quot;0.1px&quot;,this.currentSlide&amp;&amp;(this.currentSlide.$element[0].style.marginTop=&quot;&quot;));var new_slide=this.slideList[this.index];new_slide!==this.currentSlide&amp;&amp;(this.currentSlide=new_slide,this.autoUpdateZIndex&amp;&amp;this.__updateSlidesZindex(),this.slideChanged=!0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},p._checkCritMargins=function(){if(!this.normalMode){var hlf=Math.floor(this.options.viewNum/2),inView=this.viewSlidesList.indexOf(this.slideList[this.index]),size=this[this.__dimension]+this.spacing,cm=this.options.critMargin;return this.loop?void((cm&gt;=inView||inView&gt;=this.viewSlidesList.length-cm)&amp;&amp;(size*=inView-hlf,this.__locateSlides(!1,size+this.start_buffer),this.start_buffer+=size)):void((cm&gt;inView&amp;&amp;this.index&gt;=cm||inView&gt;=this.viewSlidesList.length-cm&amp;&amp;this.index&lt;this.slidesCount-cm)&amp;&amp;this.__locateSlides(!1))}},p._vertiUpdate=function(controller,value){return this.__contPos=value,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateY(&quot;+-value+&quot;px)&quot;+this.__translate_end):void(this.$slideCont[0].style.top=-value+&quot;px&quot;)},p._horizUpdate=function(controller,value){return this.__contPos=value,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateX(&quot;+-value+&quot;px)&quot;+this.__translate_end):void(this.$slideCont[0].style.left=-value+&quot;px&quot;)},p.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var temp=this.viewSlidesList.slice();this.viewSlidesList=[];var l,i=0,hlf=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-hlf+i]);else{for(i=0;i!==hlf&amp;&amp;this.index-i!==-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==hlf&amp;&amp;this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,l=temp.length;i!==l;i++)-1===this.viewSlidesList.indexOf(temp[i])&amp;&amp;temp[i].sleep();temp=null,this.currentSlide&amp;&amp;this.__updateSlidesZindex()},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*(this[this.__dimension]+this.spacing);slide=this.viewSlidesList[i],slide.wakeup(),slide.position=pos,slide.$element[0].style[this.__cssProb]=pos+&quot;px&quot;}move!==!1&amp;&amp;this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},p.__createLoopList=function(){var return_arr=[],i=0,count=this.slidesCount/2,before_count=this.slidesCount%2===0?count-1:Math.floor(count),after_count=this.slidesCount%2===0?count:Math.floor(count);for(this.currentSlideLoc=before_count,i=1;before_count&gt;=i;++i)return_arr.unshift(this.slideList[this.index-i&lt;0?this.slidesCount-i+this.index:this.index-i]);for(return_arr.push(this.slideList[this.index]),i=1;after_count&gt;=i;++i)return_arr.push(this.slideList[this.index+i&gt;=this.slidesCount?this.index+i-this.slidesCount:this.index+i]);return return_arr},p.__getSteps=function(index,target){var right=index&gt;target?this.slidesCount-index+target:target-index,left=Math.abs(this.slidesCount-right);return left&gt;right?right:-left},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];
if(this.slides.push(first_slide),this.normalMode){var pos=last_slide.$element[0][this.__offset]+this.spacing+this[this.__dimension];first_slide.$element[0].style[this.__cssProb]=pos+&quot;px&quot;,first_slide.position=pos}},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];if(this.slides.unshift(last_slide),this.normalMode){var pos=first_slide.$element[0][this.__offset]-this.spacing-this[this.__dimension];last_slide.$element[0].style[this.__cssProb]=pos+&quot;px&quot;,last_slide.position=pos}},p.__updateSlidesZindex=function(){{var slide,l=this.viewSlidesList.length;Math.floor(l/2)}if(this.loop)for(var loc=this.viewSlidesList.indexOf(this.currentSlide),i=0;i!==l;i++)slide=this.viewSlidesList[i],this.viewSlidesList[i].$element.css(&quot;z-index&quot;,loc&gt;=i?i+1:l-i);else{for(var beforeNum=this.currentSlide.index-this.viewSlidesList[0].index,i=0;i!==l;i++)this.viewSlidesList[i].$element.css(&quot;z-index&quot;,beforeNum&gt;=i?i+1:l-i);this.currentSlide.$element.css(&quot;z-index&quot;,l)}},p.addSlide=function(slide){slide.view=this,this.slides.push(slide),this.slideList.push(slide),this.slidesCount++},p.appendSlide=function(slide){this.$slideCont.append(slide.$element)},p.updateLoop=function(index){if(this.loop)for(var steps=this.__getSteps(this.index,index),i=0,l=Math.abs(steps);l&gt;i;++i)0&gt;steps?this.__pushStart():this.__pushEnd()},p.gotoSlide=function(index,fast){this.updateLoop(index),this.index=index;var target_slide=this.slideList[index];this._checkCritMargins(),this.controller.changeTo(target_slide.position,!fast,null,null,!1),target_slide!==this.currentSlide&amp;&amp;(this.slideChanged=!0,this.currentSlide=target_slide,this.autoUpdateZIndex&amp;&amp;this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),fast&amp;&amp;this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},p.next=function(checkLoop){return checkLoop&amp;&amp;!this.loop&amp;&amp;this.index+1&gt;=this.slidesCount?void this.controller.bounce(10):void this.gotoSlide(this.index+1&gt;=this.slidesCount?0:this.index+1)},p.previous=function(checkLoop){return checkLoop&amp;&amp;!this.loop&amp;&amp;this.index-1&lt;0?void this.controller.bounce(-10):void this.gotoSlide(this.index-1&lt;0?this.slidesCount-1:this.index-1)},p.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType=&quot;h&quot;===this.dir?&quot;horizontal&quot;:&quot;vertical&quot;;var that=this;this.swipeControl.onSwipe=&quot;h&quot;===this.dir?function(status){that.horizSwipeMove(status)}:function(status){that.vertSwipeMove(status)}},p.vertSwipeMove=function(status){var phase=status.phase;if(&quot;start&quot;===phase)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,status));else if(&quot;move&quot;===phase&amp;&amp;(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+status.moveY)&lt;this.cont_size/2))this.controller.drag(status.moveY),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,status));else if(&quot;end&quot;===phase||&quot;cancel&quot;===phase){var speed=status.distanceY/status.duration*50/3,speedh=Math.abs(status.distanceY/status.duration*50/3);Math.abs(speed)&gt;.1&amp;&amp;Math.abs(speed)&gt;=speedh?(this.controller.push(-speed),speed&gt;this.controller.options.snappingMinSpeed&amp;&amp;this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,status))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,status)))}},p.horizSwipeMove=function(status){var phase=status.phase;if(&quot;start&quot;===phase)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,status));else if(&quot;move&quot;===phase&amp;&amp;(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+status.moveX)&lt;this.cont_size/2))this.controller.drag(status.moveX),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,status));else if(&quot;end&quot;===phase||&quot;cancel&quot;===phase){var speed=status.distanceX/status.duration*50/3,speedv=Math.abs(status.distanceY/status.duration*50/3);Math.abs(speed)&gt;.1&amp;&amp;Math.abs(speed)&gt;=speedv?(this.controller.push(-speed),speed&gt;this.controller.options.snappingMinSpeed&amp;&amp;this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,status))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,status)))}},p.setSize=function(width,height,hard){if(this.lastWidth!==width||height!==this.lastHeight||hard){this.$element.width(width).height(height);for(var i=0;i&lt;this.slidesCount;++i)this.slides[i].setSize(width,height,hard);this.__width=width,this.__height=height,this.__created&amp;&amp;(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=width,this.lastHeight=height)}},p.create=function(index){this.__created=!0,this.index=Math.min(index||0,this.slidesCount-1),this.lastSnap=this.index,this.loop&amp;&amp;(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount&lt;=this.options.viewNum;for(var i=0;i&lt;this.slidesCount;++i)this.slides[i].create();this.__locateSlides(),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&amp;&amp;(window._touch||this.options.mouseSwipe)&amp;&amp;this.setupSwipe()},p.destroy=function(){if(this.__created){for(var i=0;i&lt;this.slidesCount;++i)this.slides[i].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(p),MSSlideController.registerView(&quot;basic&quot;,MSBasicView)}(jQuery),function(){&quot;use strict&quot;;window.MSWaveView=function(options){MSBasicView.call(this,options),this.$element.removeClass(&quot;ms-basic-view&quot;).addClass(&quot;ms-wave-view&quot;),this.$slideCont.css(window._csspfx+&quot;transform-style&quot;,&quot;preserve-3d&quot;),this.autoUpdateZIndex=!0},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var p=MSWaveView.prototype,_super=MSBasicView.prototype;p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);for(var slide,distance,cont_scroll=-value,i=0;i&lt;this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlidesHoriz(slide,distance)},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);for(var slide,distance,cont_scroll=-value,i=0;i&lt;this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlidesVertic(slide,distance)},p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.$element.css(window._csspfx+&quot;transform&quot;,&quot;translateZ(&quot;+3*-value+&quot;px) rotateY(0.01deg)&quot;)},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView(&quot;wave&quot;,MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(options){MSWaveView.call(this,options),this.$element.removeClass(&quot;ms-wave-view&quot;).addClass(&quot;ms-fade-basic-view&quot;)},MSFadeBasicView.extend(MSWaveView);{var p=MSFadeBasicView.prototype;MSFadeBasicView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(.6*distance/this.__width);value=1-Math.min(value,.6),slide.$element.css(&quot;opacity&quot;,value)},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView(&quot;fadeBasic&quot;,MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(options){MSWaveView.call(this,options),this.$element.removeClass(&quot;ms-wave-view&quot;).addClass(&quot;ms-fade-wave-view&quot;)},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;{var p=MSFadeWaveView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=Math.min(value,100),slide.$element.css(&quot;opacity&quot;,1-value/300),slide.$element[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;scale(&quot;+(1-value/800)+&quot;) rotateY(0.01deg) &quot;},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView(&quot;fadeWave&quot;,MSFadeWaveView)}(),function(){&quot;use strict&quot;;window.MSFlowView=function(options){MSWaveView.call(this,options),this.$element.removeClass(&quot;ms-wave-view&quot;).addClass(&quot;ms-flow-view&quot;)},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;{var p=MSFlowView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width),rvalue=Math.min(.3*value,30)*(0&gt;distance?-1:1),zvalue=1.2*value;slide.$element[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateZ(&quot;+5*-zvalue+&quot;px) rotateY(&quot;+rvalue+&quot;deg) &quot;},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width),rvalue=Math.min(.3*value,30)*(0&gt;distance?-1:1),zvalue=1.2*value;slide.$element[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateZ(&quot;+5*-zvalue+&quot;px) rotateX(&quot;+-rvalue+&quot;deg) &quot;},MSSlideController.registerView(&quot;flow&quot;,MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(options){MSWaveView.call(this,options),this.$element.removeClass(&quot;ms-wave-view&quot;).addClass(&quot;ms-fade-flow-view&quot;)},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;{var p=MSFadeFlowView.prototype;MSWaveView.prototype}p.__calculate=function(distance){var value=Math.min(Math.abs(100*distance/this.__width),100),rvalue=Math.min(.5*value,50)*(0&gt;distance?-1:1);return{value:value,rvalue:rvalue}},p.__updateSlidesHoriz=function(slide,distance){var clc=this.__calculate(distance);slide.$element.css(&quot;opacity&quot;,1-clc.value/300),slide.$element[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateZ(&quot;+-clc.value+&quot;px) rotateY(&quot;+clc.rvalue+&quot;deg) &quot;},p.__updateSlidesVertic=function(slide,distance){var clc=this.__calculate(distance);slide.$element.css(&quot;opacity&quot;,1-clc.value/300),slide.$element[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateZ(&quot;+-clc.value+&quot;px) rotateX(&quot;+-clc.rvalue+&quot;deg) &quot;},MSSlideController.registerView(&quot;fadeFlow&quot;,MSFadeFlowView)}(),function($){&quot;use strict&quot;;window.MSMaskView=function(options){MSBasicView.call(this,options),this.$element.removeClass(&quot;ms-basic-view&quot;).addClass(&quot;ms-mask-view&quot;)},MSMaskView.extend(MSBasicView);var p=MSMaskView.prototype,_super=MSBasicView.prototype;p.addSlide=function(slide){slide.view=this,slide.$frame=$(&quot;&quot;).addClass(&quot;ms-mask-frame&quot;).append(slide.$element),slide.$element[0].style.position=&quot;relative&quot;,slide.autoAppend=!1,this.slides.push(slide),this.slideList.push(slide),this.slidesCount++},p.setSize=function(width,height){for(var slider=this.slides[0].slider,i=0;i&lt;this.slidesCount;++i)this.slides[i].$frame[0].style.width=width+&quot;px&quot;,slider.options.autoHeight||(this.slides[i].$frame[0].style.height=height+&quot;px&quot;);_super.setSize.call(this,width,height)},p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i&lt;this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateX(&quot;+(value-this.slideList[i].position)+&quot;px)&quot;+this.__translate_end;else for(i=0;i&lt;this.slidesCount;++i)this.slideList[i].$element[0].style.left=value-this.slideList[i].position+&quot;px&quot;},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i&lt;this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateY(&quot;+(value-this.slideList[i].position)+&quot;px)&quot;+this.__translate_end;else for(i=0;i&lt;this.slidesCount;++i)this.slideList[i].$element[0].style.top=value-this.slideList[i].position+&quot;px&quot;},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];if(this.slides.push(first_slide),this.normalMode){var pos=last_slide.$frame[0][this.__offset]+this.spacing+this[this.__dimension];first_slide.$frame[0].style[this.__cssProb]=pos+&quot;px&quot;,first_slide.position=pos}},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];if(this.slides.unshift(last_slide),this.normalMode){var pos=first_slide.$frame[0][this.__offset]-this.spacing-this[this.__dimension];last_slide.$frame[0].style[this.__cssProb]=pos+&quot;px&quot;,last_slide.position=pos}},p.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var temp=this.viewSlidesList.slice();this.viewSlidesList=[];var l,i=0,hlf=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-hlf+i]);else{for(i=0;i!==hlf&amp;&amp;this.index-i!==-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==hlf&amp;&amp;this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,l=temp.length;i!==l;i++)-1===this.viewSlidesList.indexOf(temp[i])&amp;&amp;(temp[i].sleep(),temp[i].$frame.detach());temp=null},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*(this[this.__dimension]+this.spacing);if(slide=this.viewSlidesList[i],this.$slideCont.append(slide.$frame),slide.wakeup(!1),slide.position=pos,slide.selected&amp;&amp;slide.bgvideo)try{slide.bgvideo.play()}catch(e){}slide.$frame[0].style[this.__cssProb]=pos+&quot;px&quot;}move!==!1&amp;&amp;this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView(&quot;mask&quot;,MSMaskView)}(jQuery),function(){&quot;use strict&quot;;window.MSParallaxMaskView=function(options){MSMaskView.call(this,options),this.$element.removeClass(&quot;ms-basic-view&quot;).addClass(&quot;ms-parallax-mask-view&quot;)},MSParallaxMaskView.extend(MSMaskView),MSParallaxMaskView.parallaxAmount=.5;var p=MSParallaxMaskView.prototype,_super=MSBasicView.prototype;p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i&lt;this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateX(&quot;+(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+&quot;px)&quot;+this.__translate_end;else for(i=0;i&lt;this.slidesCount;++i)this.slideList[i].$element[0].style.left=(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+&quot;px&quot;},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i&lt;this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateY(&quot;+(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+&quot;px)&quot;+this.__translate_end;else for(i=0;i&lt;this.slidesCount;++i)this.slideList[i].$element[0].style.top=(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+&quot;px&quot;},MSSlideController.registerView(&quot;parallaxMask&quot;,MSParallaxMaskView)}(jQuery),function(){&quot;use strict&quot;;window.MSFadeView=function(options){MSBasicView.call(this,options),this.$element.removeClass(&quot;ms-basic-view&quot;).addClass(&quot;ms-fade-view&quot;),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var p=MSFadeView.prototype,_super=MSBasicView.prototype;p.__update=function(controller,value){for(var slide,distance,cont_scroll=-value,i=0;i&lt;this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlides(slide,distance)},p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]);0&gt;=1-value?slide.$element.fadeTo(0,0).css(&quot;visibility&quot;,&quot;hidden&quot;):slide.$element.fadeTo(0,1-value).css(&quot;visibility&quot;,&quot;&quot;)},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*this[this.__dimension];slide=this.viewSlidesList[i],slide.wakeup(),slide.position=pos}move!==!1&amp;&amp;this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];this.slides.push(first_slide),first_slide.position=last_slide.position+this[this.__dimension]},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];this.slides.unshift(last_slide),last_slide.position=first_slide.position-this[this.__dimension]},p.create=function(index){_super.create.call(this,index),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView(&quot;fade&quot;,MSFadeView)}(jQuery),function(){&quot;use strict&quot;;window.MSScaleView=function(options){MSBasicView.call(this,options),this.$element.removeClass(&quot;ms-basic-view&quot;).addClass(&quot;ms-scale-view&quot;),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var p=MSScaleView.prototype,_super=MSFadeView.prototype;p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0&gt;=1-value?(element.style.opacity=0,element.style.visibility=&quot;hidden&quot;,element.style[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;):(element.style.opacity=1-value,element.style.visibility=&quot;&quot;,element.style[window._jcsspfx+&quot;Transform&quot;]=&quot;perspective(2000px) translateZ(&quot;+value*(0&gt;distance?-.5:.5)*300+&quot;px)&quot;)},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03},MSSlideController.registerView(&quot;scale&quot;,MSScaleView)}(jQuery),function(){&quot;use strict&quot;;window.MSStackView=function(options){MSBasicView.call(this,options),this.$element.removeClass(&quot;ms-basic-view&quot;).addClass(&quot;ms-stack-view&quot;),this.controller.renderCallback(this.__update,this),this.autoUpdateZIndex=!0},MSStackView.extend(MSFadeView),MSStackView._3dreq=!0,MSStackView._fallback=MSFadeView;var p=MSStackView.prototype,_super=MSFadeView.prototype;p.__updateSlidesZindex=function(){for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++)slide=this.viewSlidesList[i],this.viewSlidesList[i].$element.css(&quot;z-index&quot;,l-i)},p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0&gt;=1-value?(element.style.opacity=1,element.style.visibility=&quot;hidden&quot;,element.style[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;):(element.style.visibility=&quot;&quot;,element.style[window._jcsspfx+&quot;Transform&quot;]=0&gt;distance?&quot;perspective(2000px) translateZ(&quot;+-300*value+&quot;px)&quot;:this.__translate+&quot;(&quot;+-value*this[this.__dimension]+&quot;px)&quot;)},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03,this.__translate=&quot;h&quot;===this.dir?&quot;translateX&quot;:&quot;translateY&quot;},MSSlideController.registerView(&quot;stack&quot;,MSStackView)}(jQuery),function(){&quot;use strict&quot;;var perspective=2e3;window.MSFocusView=function(options){MSWaveView.call(this,options),this.$element.removeClass(&quot;ms-wave-view&quot;).addClass(&quot;ms-focus-view&quot;),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;{var p=MSFocusView.prototype;MSWaveView.prototype}p.__calcview=function(z,w){var a=w/2*z/(z+perspective);return a*(z+perspective)/perspective},p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=15*-Math.min(value,100),slide.$element.css(window._csspfx+&quot;transform&quot;,&quot;translateZ(&quot;+(value+1)+&quot;px) rotateY(0.01deg) translateX(&quot;+(0&gt;distance?1:-1)*-this.__calcview(value,this.__width)*this.options.centerSpace+&quot;px)&quot;)},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=15*-Math.min(value,100),slide.$element.css(window._csspfx+&quot;transform&quot;,&quot;translateZ(&quot;+(value+1)+&quot;px) rotateY(0.01deg) translateY(&quot;+(0&gt;distance?1:-1)*-this.__calcview(value,this.__width)*this.options.centerSpace+&quot;px)&quot;)},MSSlideController.registerView(&quot;focus&quot;,MSFocusView)}(),function(){window.MSPartialWaveView=function(options){MSWaveView.call(this,options),this.$element.removeClass(&quot;ms-wave-view&quot;).addClass(&quot;ms-partial-wave-view&quot;)},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;{var p=MSPartialWaveView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.hasBG&amp;&amp;slide.$bg_img.css(&quot;opacity&quot;,(100-Math.abs(120*distance/this.__width/3))/100),slide.$element.css(window._csspfx+&quot;transform&quot;,&quot;translateZ(&quot;+3*-value+&quot;px) rotateY(0.01deg) translateX(&quot;+.75*distance+&quot;px)&quot;)},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.hasBG&amp;&amp;slide.$bg_img.css(&quot;opacity&quot;,(100-Math.abs(120*distance/this.__width/3))/100),slide.$element.css(window._csspfx+&quot;transform&quot;,&quot;translateZ(&quot;+3*-value+&quot;px) rotateY(0.01deg) translateY(&quot;+.75*distance+&quot;px)&quot;)},MSSlideController.registerView(&quot;partialWave&quot;,MSPartialWaveView)}(),function(){&quot;use strict&quot;;window.MSBoxView=function(options){MSBasicView.call(this,options),this.$element.removeClass(&quot;ms-basic-view&quot;).addClass(&quot;ms-box-view&quot;),this.controller.renderCallback(this.__update,this)},MSBoxView.extend(MSFadeView),MSBoxView._3dreq=!0;var p=MSBoxView.prototype,_super=MSFadeView.prototype;p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0&gt;=1-value?(element.style.visibility=&quot;hidden&quot;,element.style[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;):(element.style.visibility=&quot;&quot;,element.style[window._jcsspfx+&quot;Transform&quot;]=&quot;rotate&quot;+this._rotateDir+&quot;(&quot;+value*(0&gt;distance?1:-1)*90*this._calcFactor+&quot;deg)&quot;,element.style[window._jcsspfx+&quot;TransformOrigin&quot;]=&quot;50% 50% -&quot;+slide[this.__dimension]/2+&quot;px&quot;,element.style.zIndex=Math.ceil(2*(1-value)))},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03,this._rotateDir=&quot;h&quot;===this.options.dir?&quot;Y&quot;:&quot;X&quot;,this._calcFactor=&quot;h&quot;===this.options.dir?1:-1},MSSlideController.registerView(&quot;box&quot;,MSBoxView)}(jQuery),function($){&quot;use strict&quot;;var BaseControl=function(){this.options={prefix:&quot;ms-&quot;,autohide:!0,overVideo:!0,customClass:null}},p=BaseControl.prototype;p.slideAction=function(){},p.setup=function(){this.cont=this.options.insertTo?$(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts()},p.checkHideUnder=function(){this.options.hideUnder&amp;&amp;(this.needsRealign=!this.options.insetTo&amp;&amp;(&quot;left&quot;===this.options.align||&quot;right&quot;===this.options.align)&amp;&amp;this.options.inset===!1,$(window).bind(&quot;resize&quot;,{that:this},this.onResize),this.onResize())},p.onResize=function(event){var that=event&amp;&amp;event.data.that||this,w=window.innerWidth;w&lt;=that.options.hideUnder&amp;&amp;!that.detached?(that.hide(!0),that.detached=!0,that.onDetach()):w&gt;=that.options.hideUnder&amp;&amp;that.detached&amp;&amp;(that.detached=!1,that.visible(),that.onAppend())},p.create=function(){this.options.autohide&amp;&amp;(this.hide(!0),this.slider.$controlsCont.mouseenter($.proxy(this._onMouseEnter,this)).mouseleave($.proxy(this._onMouseLeave,this)).mousedown($.proxy(this._onMouseDown,this)),this.$element&amp;&amp;this.$element.mouseenter($.proxy(this._onMouseEnter,this)).mouseleave($.proxy(this._onMouseLeave,this)).mousedown($.proxy(this._onMouseDown,this)),$(document).mouseup($.proxy(this._onMouseUp,this))),this.options.align&amp;&amp;this.$element.addClass(&quot;ms-align-&quot;+this.options.align),this.options.customClass&amp;&amp;this.$element&amp;&amp;this.$element.addClass(this.options.customClass)},p._onMouseEnter=function(){this._disableAH||this.mdown||this.visible(),this.mleave=!1},p._onMouseLeave=function(){this.mdown||this.hide(),this.mleave=!0},p._onMouseDown=function(){this.mdown=!0},p._onMouseUp=function(){this.mdown&amp;&amp;this.mleave&amp;&amp;this.hide(),this.mdown=!1},p.onAppend=function(){this.needsRealign&amp;&amp;this.slider._realignControls()},p.onDetach=function(){this.needsRealign&amp;&amp;this.slider._realignControls()},p._hideOnvideoStarts=function(){var that=this;this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){that._disableAH=!0,that.hide()}),this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){that._disableAH=!1,that.visible()})},p.hide=function(fast){if(fast)this.$element.css(&quot;opacity&quot;,0),this.$element.css(&quot;display&quot;,&quot;none&quot;);else{clearTimeout(this.hideTo);var $element=this.$element;this.hideTo=setTimeout(function(){CTween.fadeOut($element,400,!1)},20)}this.$element.addClass(&quot;ms-ctrl-hide&quot;)},p.visible=function(){this.detached||(clearTimeout(this.hideTo),this.$element.css(&quot;display&quot;,&quot;&quot;),CTween.fadeIn(this.$element,400,!1),this.$element.removeClass(&quot;ms-ctrl-hide&quot;))},p.destroy=function(){this.options&amp;&amp;this.options.hideUnder&amp;&amp;$(window).unbind(&quot;resize&quot;,this.onResize)},window.BaseControl=BaseControl}(jQuery),function($){&quot;use strict&quot;;var MSArrows=function(options){BaseControl.call(this),$.extend(this.options,options)};MSArrows.extend(BaseControl);var p=MSArrows.prototype,_super=BaseControl.prototype;p.setup=function(){var that=this;this.$next=$(&quot;&quot;).addClass(this.options.prefix+&quot;nav-next&quot;).bind(&quot;click&quot;,function(){that.slider.api.next(!0)}),this.$prev=$(&quot;&quot;).addClass(this.options.prefix+&quot;nav-prev&quot;).bind(&quot;click&quot;,function(){that.slider.api.previous(!0)}),_super.setup.call(this),this.cont.append(this.$next),this.cont.append(this.$prev),this.checkHideUnder()},p.hide=function(fast){return fast?(this.$prev.css(&quot;opacity&quot;,0).css(&quot;display&quot;,&quot;none&quot;),void this.$next.css(&quot;opacity&quot;,0).css(&quot;display&quot;,&quot;none&quot;)):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass(&quot;ms-ctrl-hide&quot;),void this.$next.addClass(&quot;ms-ctrl-hide&quot;))},p.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass(&quot;ms-ctrl-hide&quot;).css(&quot;display&quot;,&quot;&quot;),this.$next.removeClass(&quot;ms-ctrl-hide&quot;).css(&quot;display&quot;,&quot;&quot;))},p.destroy=function(){_super.destroy(),this.$next.remove(),this.$prev.remove()},window.MSArrows=MSArrows,MSSlideController.registerControl(&quot;arrows&quot;,MSArrows)}(jQuery),function($){&quot;use strict&quot;;var MSThumblist=function(options){BaseControl.call(this),this.options.dir=&quot;h&quot;,this.options.wheel=&quot;v&quot;===options.dir,this.options.arrows=!1,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type=&quot;thumbs&quot;,this.options.hover=!1,$.extend(this.options,options),this.thumbs=[],this.index_count=0,this.__dimen=&quot;h&quot;===this.options.dir?&quot;width&quot;:&quot;height&quot;,this.__alignsize=&quot;h&quot;===this.options.dir?&quot;height&quot;:&quot;width&quot;,this.__jdimen=&quot;h&quot;===this.options.dir?&quot;outerWidth&quot;:&quot;outerHeight&quot;,this.__pos=&quot;h&quot;===this.options.dir?&quot;left&quot;:&quot;top&quot;,this.click_enable=!0};MSThumblist.extend(BaseControl);var p=MSThumblist.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$(&quot;&quot;).addClass(this.options.prefix+&quot;thumb-list&quot;),&quot;tabs&quot;===this.options.type&amp;&amp;this.$element.addClass(this.options.prefix+&quot;tabs&quot;),this.$element.addClass(&quot;ms-dir-&quot;+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$thumbscont=$(&quot;&quot;).addClass(&quot;ms-thumbs-cont&quot;).appendTo(this.$element),this.options.arrows){var that=this;this.$fwd=$(&quot;&quot;).addClass(&quot;ms-thumblist-fwd&quot;).appendTo(this.$element).click(function(){that.controller.push(-15)}),this.$bwd=$(&quot;&quot;).addClass(&quot;ms-thumblist-bwd&quot;).appendTo(this.$element).click(function(){that.controller.push(15)})}if(!this.options.insetTo&amp;&amp;this.options.align){var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):&quot;top&quot;===align?this.$element.detach().prependTo(this.slider.$element).css({&quot;margin-bottom&quot;:this.options.margin,position:&quot;relative&quot;}):&quot;bottom&quot;===align?this.$element.css({&quot;margin-top&quot;:this.options.margin,position:&quot;relative&quot;}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),&quot;v&quot;===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(align,-pos-this.options[this.__alignsize]-this.options.margin)}},p.slideAction=function(slide){var thumb_ele=slide.$element.find(&quot;.ms-thumb&quot;),that=this,thumb_frame=$(&quot;&quot;).addClass(&quot;ms-thumb-frame&quot;).append(thumb_ele).append($('')).bind(this.options.hover?&quot;hover&quot;:&quot;click&quot;,function(){that.changeSlide(thumb_frame)});if(this.options.align&amp;&amp;thumb_frame.width(this.options.width-(&quot;v&quot;===this.options.dir&amp;&amp;&quot;tabs&quot;===this.options.type?12:0)).height(this.options.height).css(&quot;margin-&quot;+(&quot;v&quot;===this.options.dir?&quot;bottom&quot;:&quot;right&quot;),this.options.space),thumb_frame[0].index=this.index_count++,this.$thumbscont.append(thumb_frame),this.options.fillMode&amp;&amp;thumb_ele.is(&quot;img&quot;)){var aligner=new window.MSAligner(this.options.fillMode,thumb_frame,thumb_ele);thumb_ele[0].aligner=aligner,thumb_ele.one(&quot;load&quot;,function(){var $this=$(this);$this[0].aligner.init($this.width(),$this.height()),$this[0].aligner.align()}).each($.jqLoadFix)}$.browser.msie&amp;&amp;thumb_ele.on(&quot;dragstart&quot;,function(event){event.preventDefault()}),this.thumbs.push(thumb_frame)},p.create=function(){_super.create.call(this),this.__translate_end=window._css3d?&quot; translateZ(0px)&quot;:&quot;&quot;,this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100}),this.controller.renderCallback(&quot;h&quot;===this.options.dir?this._hMove:this._vMove,this);var that=this;this.resize_listener=function(){that.__resize()},$(window).bind(&quot;resize&quot;,this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();var that=this;this.options.wheel&amp;&amp;(this.wheellistener=function(event){var e=window.event||event.orginalEvent||event,delta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return that.controller.push(10*-delta),!1},$.browser.mozilla?this.$element[0].addEventListener(&quot;DOMMouseScroll&quot;,this.wheellistener):this.$element.bind(&quot;mousewheel&quot;,this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE,this.realignThumbs,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},p._hMove=function(controller,value){return this.__contPos=value,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateX(&quot;+-value+&quot;px)&quot;+this.__translate_end):void(this.$thumbscont[0].style.left=-value+&quot;px&quot;)},p._vMove=function(controller,value){return this.__contPos=value,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateY(&quot;+-value+&quot;px)&quot;+this.__translate_end):void(this.$thumbscont[0].style.top=-value+&quot;px&quot;)},p.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType=&quot;h&quot;===this.options.dir?&quot;horizontal&quot;:&quot;vertical&quot;;var that=this;this.swipeControl.onSwipe=&quot;h&quot;===this.options.dir?function(status){that.horizSwipeMove(status)}:function(status){that.vertSwipeMove(status)}},p.vertSwipeMove=function(status){if(!this.dTouch){var phase=status.phase;if(&quot;start&quot;===phase)this.controller.stop();else if(&quot;move&quot;===phase)this.controller.drag(status.moveY);else if(&quot;end&quot;===phase||&quot;cancel&quot;===phase){var speed=Math.abs(status.distanceY/status.duration*50/3);speed&gt;.1?this.controller.push(-status.distanceY/status.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},p.horizSwipeMove=function(status){if(!this.dTouch){var phase=status.phase;if(&quot;start&quot;===phase)this.controller.stop(),this.click_enable=!1;else if(&quot;move&quot;===phase)this.controller.drag(status.moveX);else if(&quot;end&quot;===phase||&quot;cancel&quot;===phase){var speed=Math.abs(status.distanceX/status.duration*50/3);speed&gt;.1?this.controller.push(-status.distanceX/status.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},p.update=function(){var nindex=this.slider.api.index();this.cindex!==nindex&amp;&amp;(null!=this.cindex&amp;&amp;this.unselect(this.thumbs[this.cindex]),this.cindex=nindex,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())
},p.realignThumbs=function(){this.$element.find(&quot;.ms-thumb&quot;).each(function(index,thumb){thumb.aligner&amp;&amp;thumb.aligner.align()})},p.updateThumbscroll=function(){var pos=this.thumbSize*this.cindex;if(0/0==this.controller.value&amp;&amp;(this.controller.value=0),pos-this.controller.value&lt;0)return void this.controller.gotoSnap(this.cindex,!0);if(pos+this.thumbSize-this.controller.value&gt;this.$element[this.__dimen]()){var first_snap=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;return void this.controller.gotoSnap(first_snap,!0)}},p.changeSlide=function(thumb){this.click_enable&amp;&amp;this.cindex!==thumb[0].index&amp;&amp;this.slider.api.gotoSlide(thumb[0].index)},p.unselect=function(ele){ele.removeClass(&quot;ms-thumb-frame-selected&quot;)},p.select=function(ele){ele.addClass(&quot;ms-thumb-frame-selected&quot;)},p.__resize=function(){var size=this.$element[this.__dimen]();if(this.ls!==size){this.ls=size,this.thumbSize=this.thumbs[0][this.__jdimen](!0);var len=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=len+&quot;px&quot;,size&gt;=len?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=.5*(size-len)+&quot;px&quot;,this.$thumbscont[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]=&quot;&quot;,this.controller._max_value=len-size,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},p.destroy=function(){_super.destroy(),this.options.wheel&amp;&amp;($.browser.mozilla?this.$element[0].removeEventListener(&quot;DOMMouseScroll&quot;,this.wheellistener):this.$element.unbind(&quot;mousewheel&quot;,this.wheellistener),this.wheellistener=null),$(window).unbind(&quot;resize&quot;,this.resize_listener),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},window.MSThumblist=MSThumblist,MSSlideController.registerControl(&quot;thumblist&quot;,MSThumblist)}(jQuery),function($){&quot;use strict&quot;;var MSBulltes=function(options){BaseControl.call(this),this.options.dir=&quot;h&quot;,this.options.inset=!0,this.options.margin=10,this.options.space=10,$.extend(this.options,options),this.bullets=[]};MSBulltes.extend(BaseControl);var p=MSBulltes.prototype,_super=BaseControl.prototype;p.setup=function(){if(_super.setup.call(this),this.$element=$(&quot;&quot;).addClass(this.options.prefix+&quot;bullets&quot;).addClass(&quot;ms-dir-&quot;+this.options.dir).appendTo(this.cont),this.$bullet_cont=$(&quot;&quot;).addClass(&quot;ms-bullets-count&quot;).appendTo(this.$element),!this.options.insetTo&amp;&amp;this.options.align){var align=this.options.align;this.options.inset&amp;&amp;this.$element.css(align,this.options.margin)}this.checkHideUnder()},p.create=function(){_super.create.call(this);var that=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(var i=0;i&lt;this.slider.api.count();++i){var bullet=$(&quot;&quot;).addClass(&quot;ms-bullet&quot;);bullet[0].index=i,bullet.on(&quot;click&quot;,function(){that.changeSlide(this.index)}),this.$bullet_cont.append(bullet),this.bullets.push(bullet),&quot;h&quot;===this.options.dir?bullet.css(&quot;margin&quot;,this.options.space/2):bullet.css(&quot;margin&quot;,this.options.space)}&quot;h&quot;===this.options.dir?this.$element.width(bullet.outerWidth(!0)*this.slider.api.count()):this.$element.css(&quot;margin-top&quot;,-this.$element.outerHeight(!0)/2),this.select(this.bullets[this.cindex])},p.update=function(){var nindex=this.slider.api.index();this.cindex!==nindex&amp;&amp;(null!=this.cindex&amp;&amp;this.unselect(this.bullets[this.cindex]),this.cindex=nindex,this.select(this.bullets[this.cindex]))},p.changeSlide=function(index){this.cindex!==index&amp;&amp;this.slider.api.gotoSlide(index)},p.unselect=function(ele){ele.removeClass(&quot;ms-bullet-selected&quot;)},p.select=function(ele){ele.addClass(&quot;ms-bullet-selected&quot;)},p.destroy=function(){_super.destroy(),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.$element.remove()},window.MSBulltes=MSBulltes,MSSlideController.registerControl(&quot;bullets&quot;,MSBulltes)}(jQuery),function($){&quot;use strict&quot;;var MSScrollbar=function(options){BaseControl.call(this),this.options.dir=&quot;h&quot;,this.options.autohide=!0,this.options.width=4,this.options.color=&quot;#3D3D3D&quot;,this.options.margin=10,$.extend(this.options,options),this.__dimen=&quot;h&quot;===this.options.dir?&quot;width&quot;:&quot;height&quot;,this.__jdimen=&quot;h&quot;===this.options.dir?&quot;outerWidth&quot;:&quot;outerHeight&quot;,this.__pos=&quot;h&quot;===this.options.dir?&quot;left&quot;:&quot;top&quot;,this.__translate_end=window._css3d?&quot; translateZ(0px)&quot;:&quot;&quot;,this.__translate_start=&quot;h&quot;===this.options.dir?&quot; translateX(&quot;:&quot;translateY(&quot;};MSScrollbar.extend(BaseControl);var p=MSScrollbar.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$(&quot;&quot;).addClass(this.options.prefix+&quot;sbar&quot;).addClass(&quot;ms-dir-&quot;+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=$(&quot;&quot;).addClass(this.options.prefix+&quot;bar&quot;).appendTo(this.$element),this.slider.options.loop&amp;&amp;(this.disable=!0,this.$element.remove()),&quot;v&quot;===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css(&quot;background-color&quot;,this.options.color),!this.options.insetTo&amp;&amp;this.options.align){this.$element.css(&quot;v&quot;===this.options.dir?{right:&quot;auto&quot;,left:&quot;auto&quot;}:{top:&quot;auto&quot;,bottom:&quot;auto&quot;});var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):&quot;top&quot;===align?this.$element.prependTo(this.slider.$element).css({&quot;margin-bottom&quot;:this.options.margin,position:&quot;relative&quot;}):&quot;bottom&quot;===align?this.$element.css({&quot;margin-top&quot;:this.options.margin,position:&quot;relative&quot;}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,2*this.options.margin+this.options.width);this.$element.css(align,-pos-this.options.margin-this.options.width)}},p.create=function(){if(!this.disable){this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&amp;&amp;this.$bar.css(&quot;opacity&quot;,&quot;0&quot;)}},p._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view[&quot;__&quot;+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},p._update=function(){var value=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==value){if(this.lvalue=value,this.options.autohide){clearTimeout(this.hto),this.$bar.css(&quot;opacity&quot;,&quot;1&quot;);var that=this;this.hto=setTimeout(function(){that.$bar.css(&quot;opacity&quot;,&quot;0&quot;)},150)}return 0&gt;value?void(this.$bar[0].style[this.__dimen]=this.bar_dimen+value+&quot;px&quot;):(value&gt;this.vdimen-this.bar_dimen&amp;&amp;(this.$bar[0].style[this.__dimen]=this.vdimen-value+&quot;px&quot;),window._cssanim?void(this.$bar[0].style[window._jcsspfx+&quot;Transform&quot;]=this.__translate_start+value+&quot;px)&quot;+this.__translate_end):void(this.$bar[0].style[this.__pos]=value+&quot;px&quot;))}},p.destroy=function(){_super.destroy(),this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove()},window.MSScrollbar=MSScrollbar,MSSlideController.registerControl(&quot;scrollbar&quot;,MSScrollbar)}(jQuery),function($){&quot;use strict&quot;;var MSTimerbar=function(options){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color=&quot;#FFFFFF&quot;,this.options.inset=!0,this.options.margin=0,$.extend(this.options,options)};MSTimerbar.extend(BaseControl);var p=MSTimerbar.prototype,_super=BaseControl.prototype;p.setup=function(){if(_super.setup.call(this),this.$element=$(&quot;&quot;).addClass(this.options.prefix+&quot;timerbar&quot;),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=$(&quot;&quot;).addClass(&quot;ms-time-bar&quot;).appendTo(this.$element),&quot;v&quot;===this.options.dir?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width)),this.$bar.css(&quot;background-color&quot;,this.options.color),!this.options.insetTo&amp;&amp;this.options.align){this.$element.css({top:&quot;auto&quot;,bottom:&quot;auto&quot;});var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):&quot;top&quot;===align?this.$element.prependTo(this.slider.$element).css({&quot;margin-bottom&quot;:this.options.margin,position:&quot;relative&quot;}):&quot;bottom&quot;===align?this.$element.css({&quot;margin-top&quot;:this.options.margin,position:&quot;relative&quot;}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,2*this.options.margin+this.options.width);this.$element.css(align,-pos-this.options.margin-this.options.width)}},p.create=function(){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this),this._update()},p._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+&quot;%&quot;},p.destroy=function(){_super.destroy(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove()},window.MSTimerbar=MSTimerbar,MSSlideController.registerControl(&quot;timebar&quot;,MSTimerbar)}(jQuery),function($){&quot;use strict&quot;;var MSCircleTimer=function(options){BaseControl.call(this),this.options.color=&quot;#A2A2A2&quot;,this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,$.extend(this.options,options)};MSCircleTimer.extend(BaseControl);var p=MSCircleTimer.prototype,_super=BaseControl.prototype;p.setup=function(){return _super.setup.call(this),this.$element=$(&quot;&quot;).addClass(this.options.prefix+&quot;ctimer&quot;).appendTo(this.cont),this.$canvas=$(&quot;&lt;canvas&gt;&lt;/canvas&gt;&quot;).addClass(&quot;ms-ctimer-canvas&quot;).appendTo(this.$element),this.$bar=$(&quot;&quot;).addClass(&quot;ms-ctimer-bullet&quot;).appendTo(this.$element),this.$canvas[0].getContext?(this.ctx=this.$canvas[0].getContext(&quot;2d&quot;),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w,void this.checkHideUnder()):(this.destroy(),void(this.disable=!0))},p.create=function(){if(!this.disable){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);var that=this;this.$element.click(function(){that.slider.api.paused?that.slider.api.resume():that.slider.api.pause()}),this._update()}},p._update=function(){var that=this;$(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step:function(){that._draw()}})},p._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},p.destroy=function(){_super.destroy(),this.disable||($(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())},window.MSCircleTimer=MSCircleTimer,MSSlideController.registerControl(&quot;circletimer&quot;,MSCircleTimer)}(jQuery),function($){&quot;use strict&quot;;window.MSLightbox=function(options){BaseControl.call(this,options),this.options.autohide=!1,$.extend(this.options,options),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var p=MSLightbox.prototype,_super=BaseControl.prototype;p.setup=function(){_super.setup.call(this),this.$element=$(&quot;&quot;).addClass(this.options.prefix+&quot;lightbox-btn&quot;).appendTo(this.cont),this.checkHideUnder()},p.slideAction=function(slide){$(&quot;&quot;).addClass(this.options.prefix+&quot;lightbox-btn&quot;).appendTo(slide.$element).append($(slide.$element.find(&quot;.ms-lightbox&quot;)))},p.create=function(){_super.create.call(this)},MSSlideController.registerControl(&quot;lightbox&quot;,MSLightbox)}(jQuery),function($){&quot;use strict&quot;;window.MSSlideInfo=function(options){BaseControl.call(this,options),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir=&quot;h&quot;,$.extend(this.options,options),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var p=MSSlideInfo.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$(&quot;&quot;).addClass(this.options.prefix+&quot;slide-info&quot;).addClass(&quot;ms-dir-&quot;+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),!this.options.insetTo&amp;&amp;this.options.align){var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):&quot;top&quot;===align?this.$element.prependTo(this.slider.$element).css({&quot;margin-bottom&quot;:this.options.margin,position:&quot;relative&quot;}):&quot;bottom&quot;===align?this.$element.css({&quot;margin-top&quot;:this.options.margin,position:&quot;relative&quot;}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),&quot;v&quot;===this.options.dir?this.$element.width(this.options.size):this.$element.css(&quot;min-height&quot;,this.options.size)}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,this.options.size+2*this.options.margin);this.$element.css(align,-pos-this.options.size-this.options.margin)}},p.slideAction=function(slide){var info_ele=$(slide.$element.find(&quot;.ms-info&quot;));info_ele.detach(),this.data_list[slide.index]=info_ele},p.create=function(){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},p.update=function(){var nindex=this.slider.api.index();this.switchEle(this.data_list[nindex]),this.cindex=nindex},p.switchEle=function(ele){if(this.current_ele){this.current_ele[0].tween&amp;&amp;this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null,ele.css(&quot;position&quot;,&quot;relative&quot;)},target:this.current_ele}),ele.css(&quot;position&quot;,&quot;absolute&quot;)}this.__show(ele)},p.__show=function(ele){ele.appendTo(this.$element).css(&quot;opacity&quot;,&quot;0&quot;),this.current_ele&amp;&amp;ele.height(Math.max(ele.height(),this.current_ele.height())),clearTimeout(this.tou),this.tou=setTimeout(function(){CTween.fadeIn(ele,MSSlideInfo.fadeDuratation),ele.css(&quot;height&quot;,&quot;&quot;)},MSSlideInfo.fadeDuratation),ele[0].tween&amp;&amp;ele[0].tween.stop(!0),this.current_ele=ele},p.destroy=function(){_super.destroy(),clearTimeout(this.tou),this.current_ele&amp;&amp;this.current_ele[0].tween&amp;&amp;this.current_ele[0].tween.stop(&quot;true&quot;),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},MSSlideController.registerControl(&quot;slideinfo&quot;,MSSlideInfo)}(jQuery),function($){window.MSGallery=function(id,slider){this.id=id,this.slider=slider,this.telement=$(&quot;#&quot;+id),this.botcont=$(&quot;&quot;).addClass(&quot;ms-gallery-botcont&quot;).appendTo(this.telement),this.thumbcont=$(&quot;&quot;).addClass(&quot;ms-gal-thumbcont hide-thumbs&quot;).appendTo(this.botcont),this.playbtn=$(&quot;&quot;).addClass(&quot;ms-gal-playbtn&quot;).appendTo(this.botcont),this.thumbtoggle=$(&quot;&quot;).addClass(&quot;ms-gal-thumbtoggle&quot;).appendTo(this.botcont),slider.control(&quot;thumblist&quot;,{insertTo:this.thumbcont,autohide:!1,dir:&quot;h&quot;}),slider.control(&quot;slidenum&quot;,{insertTo:this.botcont,autohide:!1}),slider.control(&quot;slideinfo&quot;,{insertTo:this.botcont,autohide:!1}),slider.control(&quot;timebar&quot;,{insertTo:this.botcont,autohide:!1}),slider.control(&quot;bullets&quot;,{insertTo:this.botcont,autohide:!1})};var p=MSGallery.prototype;p._init=function(){var that=this;this.slider.api.paused||this.playbtn.addClass(&quot;btn-pause&quot;),this.playbtn.click(function(){that.slider.api.paused?(that.slider.api.resume(),that.playbtn.addClass(&quot;btn-pause&quot;)):(that.slider.api.pause(),that.playbtn.removeClass(&quot;btn-pause&quot;))}),this.thumbtoggle.click(function(){that.vthumbs?(that.thumbtoggle.removeClass(&quot;btn-hide&quot;),that.vthumbs=!1,that.thumbcont.addClass(&quot;hide-thumbs&quot;)):(that.thumbtoggle.addClass(&quot;btn-hide&quot;),that.thumbcont.removeClass(&quot;hide-thumbs&quot;),that.vthumbs=!0)})},p.setup=function(){var that=this;$(document).ready(function(){that._init()})}}(jQuery),function($){var getPhotosetURL=function(key,id,count){return&quot;<A rel="nofollow" class="external free" href="https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&amp;api_key=">https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&amp;api_key=</A>&quot;+key+&quot;&amp;photoset_id=&quot;+id+&quot;&amp;per_page=&quot;+count+&quot;&amp;extras=url_o,description,date_taken,owner_name,views&amp;format=json&amp;jsoncallback=?&quot;},getUserPublicURL=function(key,id,count){return&quot;<A rel="nofollow" class="external free" href="https://api.flickr.com/services/rest/?&amp;method=flickr.people.getPublicPhotos&amp;api_key=">https://api.flickr.com/services/rest/?&amp;method=flickr.people.getPublicPhotos&amp;api_key=</A>&quot;+key+&quot;&amp;user_id=&quot;+id+&quot;&amp;per_page=&quot;+count+&quot;&amp;extras=url_o,description,date_taken,owner_name,views&amp;format=json&amp;jsoncallback=?&quot;},getImageSource=function(fid,server,id,secret,size,data){return&quot;_o&quot;===size&amp;&amp;data?data.url_o:&quot;<A rel="nofollow" class="external free" href="https://farm">https://farm</A>&quot;+fid+&quot;.staticflickr.com/&quot;+server+&quot;/&quot;+id+&quot;_&quot;+secret+size+&quot;.jpg&quot;};window.MSFlickrV2=function(slider,options){var _options={count:10,type:&quot;photoset&quot;,thumbSize:&quot;q&quot;,imgSize:&quot;c&quot;};if(this.slider=slider,this.slider.holdOn(),!options.key)return void this.errMsg(&quot;Flickr API Key required. Please add it in settings.&quot;);$.extend(_options,options),this.options=_options;var that=this;&quot;photoset&quot;===this.options.type?$.getJSON(getPhotosetURL(this.options.key,this.options.id,this.options.count),function(data){that._photosData(data)}):$.getJSON(getUserPublicURL(this.options.key,this.options.id,this.options.count),function(data){that.options.type=&quot;photos&quot;,that._photosData(data)}),&quot;&quot;!==this.options.imgSize&amp;&amp;&quot;-&quot;!==this.options.imgSize&amp;&amp;(this.options.imgSize=&quot;_&quot;+this.options.imgSize),this.options.thumbSize=&quot;_&quot;+this.options.thumbSize,this.slideTemplate=this.slider.$element.find(&quot;.ms-slide&quot;)[0].outerHTML,this.slider.$element.find(&quot;.ms-slide&quot;).remove()};var p=MSFlickrV2.prototype;p._photosData=function(data){if(&quot;fail&quot;===data.stat)return void this.errMsg(&quot;Flickr API ERROR#&quot;+data.code+&quot;: &quot;+data.message);{var that=this;this.options.author||this.options.desc}$.each(data[this.options.type].photo,function(i,item){var slide_cont=that.slideTemplate.replace(/{{[\w-]+}}/g,function(match){return match=match.replace(/{{|}}/g,&quot;&quot;),shortCodes[match]?shortCodes[match](item,that):&quot;<A href="/wiki/index.php?title=Template:%22%2Bmatch%2B%22&amp;action=edit&amp;redlink=1" class="new" title="Template:&quot;+match+&quot; (page does not exist)">Template:&quot;+match+&quot;</A>&quot;});$(slide_cont).appendTo(that.slider.$element)}),that._initSlider()},p.errMsg=function(msg){this.slider.$element.css(&quot;display&quot;,&quot;block&quot;),this.errEle||(this.errEle=$('').appendTo(this.slider.$loading)),this.errEle.html(msg)},p._initSlider=function(){this.slider.release()};var shortCodes={image:function(data,that){return getImageSource(data.farm,data.server,data.id,data.secret,that.options.imgSize,data)},thumb:function(data,that){return getImageSource(data.farm,data.server,data.id,data.secret,that.options.thumbSize)},title:function(data){return data.title},&quot;owner-name&quot;:function(data){return data.ownername},&quot;date-taken&quot;:function(data){return data.datetaken},views:function(data){return data.views},description:function(data){return data.description._content}}}(jQuery),function($){window.MSFacebookGallery=function(slider,options){var _options={count:10,type:&quot;photostream&quot;,thumbSize:&quot;320&quot;,imgSize:&quot;orginal&quot;,https:!1,token:&quot;&quot;};this.slider=slider,this.slider.holdOn(),$.extend(_options,options),this.options=_options,this.graph=&quot;<A rel="nofollow" class="external free" href="https://graph.facebook.com">https://graph.facebook.com</A>&quot;;var that=this;&quot;photostream&quot;===this.options.type?$.getJSON(this.graph+&quot;/&quot;+this.options.username+&quot;/photos/uploaded/?fields=source,name,link,images,from&amp;limit=&quot;+this.options.count+&quot;&amp;access_token=&quot;+this.options.token,function(data){that._photosData(data)}):$.getJSON(this.graph+&quot;/&quot;+this.options.albumId+&quot;/photos?fields=source,name,link,images,from&amp;limit=&quot;+this.options.count+&quot;&amp;access_token=&quot;+this.options.token,function(data){that._photosData(data)}),this.slideTemplate=this.slider.$element.find(&quot;.ms-slide&quot;)[0].outerHTML,this.slider.$element.find(&quot;.ms-slide&quot;).remove()};var p=MSFacebookGallery.prototype;p._photosData=function(content){if(content.error)return void this.errMsg(&quot;Facebook API ERROR#&quot;+content.error.code+&quot;(&quot;+content.error.type+&quot;): &quot;+content.error.message);for(var that=this,i=(this.options.author||this.options.desc,0),l=content.data.length;i!==l;i++){var slide_cont=that.slideTemplate.replace(/{{[\w-]+}}/g,function(match){return match=match.replace(/{{|}}/g,&quot;&quot;),shortCodes[match]?shortCodes[match](content.data[i],that):&quot;<A href="/wiki/index.php?title=Template:%22%2Bmatch%2B%22&amp;action=edit&amp;redlink=1" class="new" title="Template:&quot;+match+&quot; (page does not exist)">Template:&quot;+match+&quot;</A>&quot;});$(slide_cont).appendTo(that.slider.$element)}that._initSlider()},p.errMsg=function(msg){this.slider.$element.css(&quot;display&quot;,&quot;block&quot;),this.errEle||(this.errEle=$('').appendTo(this.slider.$loading)),this.errEle.html(msg)},p._initSlider=function(){this.slider.release()};var getImageSource=function(images,size){if(&quot;orginal&quot;===size)return images[0].source;for(var i=0,l=images.length;i!==l;i++)if(-1!==images[i].source.indexOf(size+&quot;x&quot;+size))return images[i].source;return images[0].source},shortCodes={image:function(data,that){return getImageSource(data.images,that.options.imgSize)},thumb:function(data,that){return getImageSource(data.images,that.options.thumbSize)},name:function(data){return data.name},&quot;owner-name&quot;:function(data){return data.from.name},link:function(data){return data.link}}}(jQuery),function($){&quot;use strict&quot;;window.MSScrollParallax=function(slider,parallax,bgparallax,fade){this.fade=fade,this.slider=slider,this.parallax=parallax/100,this.bgparallax=bgparallax/100,slider.api.addEventListener(MSSliderEvent.INIT,this.init,this),slider.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)},window.MSScrollParallax.setup=function(slider,parallax,bgparallax,fade){return window._mobile?void 0:(null==parallax&amp;&amp;(parallax=50),null==bgparallax&amp;&amp;(bgparallax=40),new MSScrollParallax(slider,parallax,bgparallax,fade))};var p=window.MSScrollParallax.prototype;p.init=function(){this.slider.$element.addClass(&quot;ms-scroll-parallax&quot;),this.sliderOffset=this.slider.$element.offset().top,this.updateCurrentSlide();for(var slide,slides=this.slider.api.view.slideList,i=0,l=slides.length;i!==l;i++)slide=slides[i],slide.hasLayers&amp;&amp;(slide.layerController.$layers.wrap(''),slide.$scrollParallaxCont=slide.layerController.$layers.parent());$(window).on(&quot;scroll&quot;,{that:this},this.moveParallax).trigger(&quot;scroll&quot;)},p.resetLayers=function(){if(this.lastSlide){var layers=this.lastSlide.$scrollParallaxCont;window._css2d?(layers&amp;&amp;(layers[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;),this.lastSlide.hasBG&amp;&amp;(this.lastSlide.$imgcont[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;)):(layers&amp;&amp;(layers[0].style.top=&quot;&quot;),this.lastSlide.hasBG&amp;&amp;(this.lastSlide.$imgcont[0].style.top=&quot;0px&quot;))}},p.updateCurrentSlide=function(){this.lastSlide=this.currentSlide,this.currentSlide=this.slider.api.currentSlide,this.moveParallax({data:{that:this}})},p.moveParallax=function(e){var that=e.data.that,slider=that.slider,offset=that.sliderOffset,scrollTop=$(window).scrollTop(),layers=that.currentSlide.$scrollParallaxCont,out=offset-scrollTop;0&gt;=out?(layers&amp;&amp;(window._css3d?layers[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateY(&quot;+-out*that.parallax+&quot;px) translateZ(0.4px)&quot;:window._css2d?layers[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;translateY(&quot;+-out*that.parallax+&quot;px)&quot;:layers[0].style.top=-out*that.parallax+&quot;px&quot;),that.updateSlidesBG(-out*that.bgparallax+&quot;px&quot;,!0),layers&amp;&amp;that.fade&amp;&amp;layers.css(&quot;opacity&quot;,1-Math.min(1,-out/slider.api.height))):(layers&amp;&amp;(window._css2d?layers[0].style[window._jcsspfx+&quot;Transform&quot;]=&quot;&quot;:layers[0].style.top=&quot;&quot;),that.updateSlidesBG(&quot;0px&quot;,!1),layers&amp;&amp;that.fade&amp;&amp;layers.css(&quot;opacity&quot;,1))},p.updateSlidesBG=function(pos,fixed){for(var slides=this.slider.api.view.slideList,position=!fixed||$.browser.msie||$.browser.opera?&quot;&quot;:&quot;fixed&quot;,i=0,l=slides.length;i!==l;i++)slides[i].hasBG&amp;&amp;(slides[i].$imgcont[0].style.position=position,slides[i].$imgcont[0].style.top=pos),slides[i].$bgvideocont&amp;&amp;(slides[i].$bgvideocont[0].style.position=position,slides[i].$bgvideocont[0].style.top=pos)},p.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this),slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this),$(window).off(&quot;scroll&quot;,this.moveParallax)}}(jQuery),function($,document,window){var PId=0;if(window.MasterSlider){var KeyboardNav=function(slider){this.slider=slider,this.PId=PId++,this.slider.options.keyboard&amp;&amp;slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};KeyboardNav.name=&quot;MSKeyboardNav&quot;;var p=KeyboardNav.prototype;p.init=function(){var api=this.slider.api;$(document).on(&quot;keydown.kbnav&quot;+this.PId,function(event){var which=event.which;37===which||40===which?api.previous(!0):(38===which||39===which)&amp;&amp;api.next(!0)})},p.destroy=function(){$(document).off(&quot;keydown.kbnav&quot;+this.PId),this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(KeyboardNav)}}(jQuery,document,window),function($,document,window){var PId=0,$window=$(window),$doc=$(document);if(window.MasterSlider){var StartOnAppear=function(slider){this.PId=PId++,this.slider=slider,this.$slider=slider.$element,this.slider.options.startOnAppear&amp;&amp;(slider.holdOn(),$doc.ready($.proxy(this.init,this)))};StartOnAppear.name=&quot;MSStartOnAppear&quot;;var p=StartOnAppear.prototype;p.init=function(){this.slider.api;$window.on(&quot;scroll.soa&quot;+this.PId,$.proxy(this._onScroll,this)).trigger(&quot;scroll&quot;)},p._onScroll=function(){var vpBottom=$window.scrollTop()+$window.height(),top=this.$slider.offset().top;vpBottom&gt;top&amp;&amp;($window.off(&quot;scroll.soa&quot;+this.PId),this.slider.release())},p.destroy=function(){},MasterSlider.registerPlugin(StartOnAppear)}}(jQuery,document,window),function(document,window){var filterUnits={&quot;hue-rotate&quot;:&quot;deg&quot;,blur:&quot;px&quot;},initialValues={opacity:1,contrast:1,brightness:1,saturate:1,&quot;hue-rotate&quot;:0,invert:0,sepia:0,blur:0,grayscale:0};if(window.MasterSlider){var Filters=function(slider){this.slider=slider,this.slider.options.filters&amp;&amp;slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};Filters.name=&quot;MSFilters&quot;;var p=Filters.prototype;p.init=function(){var api=this.slider.api,view=api.view;this.filters=this.slider.options.filters,this.slideList=view.slideList,this.slidesCount=view.slidesCount,this.dimension=view[view.__dimension],this.target=&quot;slide&quot;===this.slider.options.filterTarget?&quot;$element&quot;:&quot;$bg_img&quot;,this.filterName=$.browser.webkit?&quot;WebkitFilter&quot;:&quot;filter&quot;;var superFun=view.controller.__renderHook.fun,superRef=view.controller.__renderHook.ref;view.controller.renderCallback(function(controller,value){superFun.call(superRef,controller,value),this.applyEffect(value)},this),this.applyEffect(view.controller.value)},p.applyEffect=function(value){for(var factor,slide,i=0;i&lt;this.slidesCount;++i)slide=this.slideList[i],factor=Math.min(1,Math.abs(value-slide.position)/this.dimension),slide[this.target]&amp;&amp;($.browser.msie?null!=this.filters.opacity&amp;&amp;slide[this.target].opacity(1-this.filters.opacity*factor):slide[this.target][0].style[this.filterName]=this.generateStyle(factor))},p.generateStyle=function(factor){var unit,style=&quot;&quot;;for(var filter in this.filters)unit=filterUnits[filter]||&quot;&quot;,style+=filter+&quot;(&quot;+(initialValues[filter]+(this.filters[filter]-initialValues[filter])*factor)+&quot;) &quot;;return style},p.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(Filters)}}(document,window,jQuery),function($,document,window){if(window.MasterSlider){var ScrollToAction=function(slider){this.slider=slider,slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};ScrollToAction.name=&quot;MSScrollToAction&quot;;var p=ScrollToAction.prototype;p.init=function(){var api=this.slider.api;api.scrollToEnd=_scrollToEnd,api.scrollTo=_scrollTo},p.destroy=function(){};var _scrollTo=function(target,duration){var target=(this.slider.$element,$(target).eq(0));0!==target.length&amp;&amp;(null==duration&amp;&amp;(duration=1.4),$(&quot;html, body&quot;).animate({scrollTop:target.offset().top},1e3*duration,&quot;easeInOutQuad&quot;))},_scrollToEnd=function(duration){var sliderEle=this.slider.$element;null==duration&amp;&amp;(duration=1.4),$(&quot;html, body&quot;).animate({scrollTop:sliderEle.offset().top+sliderEle.outerHeight(!1)},1e3*duration,&quot;easeInOutQuad&quot;)};MasterSlider.registerPlugin(ScrollToAction)}}(jQuery,document,window);
<P>//# sourceMappingURL=masterslider.min.js.map
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>