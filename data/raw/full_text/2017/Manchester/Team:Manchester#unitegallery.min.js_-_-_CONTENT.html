<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Manchester_unitegallery_min_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Manchester/unitegallery.min.js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>// Unite Gallery, Version: 1.7.45, released 27 Feb 2017 
</P>
function debugLine(e,t,i){e===!0&amp;&amp;(e=&quot;true&quot;),e===!1&amp;&amp;(e=&quot;false&quot;);var n=e;if(&quot;object&quot;==typeof e){n=&quot;&quot;;for(name in e){var r=e[name];n+=&quot; &quot;+name+&quot;: &quot;+r}}if(1!=t||i||(n+=&quot; &quot;+Math.random()),1==i){var o=jQuery(&quot;#debug_line&quot;);o.width(200),o.height()&gt;=500&amp;&amp;o.html(&quot;&quot;);var a=o.html();n=a+&quot; -------------- &quot;+n}jQuery(&quot;#debug_line&quot;).show().html(n)}function debugSide(e){var t=&quot;&quot;;for(name in e){var i=e[name];t+=name+&quot;Â : &quot;+i+&quot;&quot;}jQuery(&quot;#debug_side&quot;).show().html(t)}function trace(e){&quot;undefined&quot;!=typeof console&amp;&amp;console.log(e)}function UGFunctions(){function e(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent(&quot;on&quot;+e,i):t[e]=i}var t=null,i=this,n={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:&quot;&quot;,lastEventTime:0,lastTouchStartElement:null,touchThreshold:700,handle:null};this.debugVar=&quot;&quot;,this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==i.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(t){document.webkitCancelFullScreen?e(&quot;webkitfullscreenchange&quot;,document,t):document.msExitFullscreen?e(&quot;MSFullscreenChange&quot;,document,t):document.mozCancelFullScreen?e(&quot;mozfullscreenchange&quot;,document,t):e(&quot;fullscreenchange&quot;,document,t)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind(&quot;fullscreenChange&quot;),jQuery(document).unbind(&quot;mozfullscreenchange&quot;),jQuery(document).unbind(&quot;webkitfullscreenchange&quot;),jQuery(document).unbind(&quot;MSFullscreenChange&quot;)},this.getFullScreenElement=function(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return e},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e=e?!0:!1},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==t)return t;var e=[&quot;webkit&quot;,&quot;Moz&quot;,&quot;ms&quot;,&quot;O&quot;],i=document.createElement(&quot;div&quot;);for(var n in e){var r=e[n];if(r+&quot;Transform&quot;in i.style)return r=r.toLowerCase(),t=r,r}return t=&quot;&quot;,&quot;&quot;},this.getImageInsideParentDataByImage=function(e,t,n){var r=e.parent(),o=i.getImageOriginalSize(e),a=i.getImageInsideParentData(r,o.width,o.height,t,n);return a},this.getImageInsideParentData=function(e,t,i,n,r,o,a){if(!r)var r={};var s={};if(&quot;undefined&quot;==typeof o)var o=e.width();if(&quot;undefined&quot;==typeof a)var a=e.height();r.padding_left&amp;&amp;(o-=r.padding_left),r.padding_right&amp;&amp;(o-=r.padding_right),r.padding_top&amp;&amp;(a-=r.padding_top),r.padding_bottom&amp;&amp;(a-=r.padding_bottom);var l=null,u=&quot;100%&quot;,d=null,_=null,g=&quot;display:block;margin:0px auto;&quot;;if(t&gt;0&amp;&amp;i&gt;0){if(&quot;down&quot;==n&amp;&amp;o&gt;t&amp;&amp;a&gt;i)u=i,l=t,_=(o-l)/2,d=(a-u)/2;else if(&quot;fill&quot;==n){var c=t/i;u=a,l=u*c,o&gt;l?(l=o,u=l/c,_=0,d=Math.round((u-a)/2*-1)):(d=0,_=Math.round((l-o)/2*-1))}else{var c=t/i;u=a,l=u*c,d=0,_=(o-l)/2,&quot;fitvert&quot;!=n&amp;&amp;l&gt;o&amp;&amp;(l=o,u=l/c,_=0,d=(a-u)/2)}l=Math.floor(l),u=Math.floor(u),d=Math.floor(d),_=Math.floor(_),g=&quot;position:absolute;&quot;}return r.padding_top&amp;&amp;(d+=r.padding_top),r.padding_left&amp;&amp;(_+=r.padding_left),s.imageWidth=l,s.imageHeight=u,s.imageTop=d,s.imageLeft=_,s.imageRight=_+l,0==d||&quot;100%&quot;==u?s.imageBottom=null:s.imageBottom=d+u,s.style=g,s},this.getElementCenterPosition=function(e,t){var n=e.parent(),r=i.getElementSize(e),o=i.getElementSize(n),a=o.width,s=o.height;t&amp;&amp;void 0!==t.padding_top&amp;&amp;(s-=t.padding_top),t&amp;&amp;void 0!==t.padding_bottom&amp;&amp;(s-=t.padding_bottom),t&amp;&amp;void 0!==t.padding_left&amp;&amp;(a-=t.padding_left),t&amp;&amp;void 0!==t.padding_right&amp;&amp;(a-=t.padding_right);var l={};return l.left=Math.round((a-r.width)/2),l.top=Math.round((s-r.height)/2),t&amp;&amp;void 0!==t.padding_top&amp;&amp;(l.top+=t.padding_top),t&amp;&amp;void 0!==t.padding_left&amp;&amp;(l.left+=t.padding_left),l},this.getElementCenterPoint=function(e,t){if(!t)var t=!1;var n=i.getElementSize(e),r={};return r.x=n.width/2,r.y=n.height/2,1==t&amp;&amp;(r.x+=n.left,r.y+=n.top),r.x=Math.round(r.x),r.y=Math.round(r.y),r},this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&amp;&amp;e.originalEvent.touches&amp;&amp;e.originalEvent.touches.length&gt;0&amp;&amp;(i.pageX=e.originalEvent.touches[0].pageX,i.pageY=e.originalEvent.touches[0].pageY,i.clientX=e.originalEvent.touches[0].clientX,i.clientY=e.originalEvent.touches[0].clientY),t){var n=t.offset();i.mouseX=i.pageX-n.left,i.mouseY=i.pageY-n.top}return i},this.getMouseElementPoint=function(e,t){var n={x:e.pageX,y:e.pageY},r=i.getElementLocalPoint(n,t);return r},this.getElementLocalPoint=function(e,t){var i={},n=t.offset();return i.x=Math.round(e.x-n.left),i.y=Math.round(e.y-n.top),i},this.getImageOriginalSize=function(e,t,i){if(&quot;undefined&quot;!=typeof t&amp;&amp;&quot;undefined&quot;!=typeof i)return{width:t,height:i};var n=e[0];if(&quot;undefined&quot;==typeof n)throw new Error(&quot;getImageOriginalSize error - Image not found&quot;);var r={};if(&quot;undefined&quot;==typeof n.naturalWidth){if(&quot;number&quot;==typeof e.data(&quot;naturalWidth&quot;)){var r={};return r.width=e.data(&quot;naturalWidth&quot;),r.height=e.data(&quot;naturalHeight&quot;),r}var o=new Image;return o.src=n.src,o.complete?(r.width=o.width,r.height=o.height,e.data(&quot;naturalWidth&quot;,r.width),e.data(&quot;naturalHeight&quot;,r.height),r):{width:0,height:0}}return r.width=n.naturalWidth,r.height=n.naturalHeight,r},this.getimageRatio=function(e){var t=i.getImageOriginalSize(e),n=i.getElementSize(e),r=n.width/t.width;return r},this.isImageFitParent=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t);return n.width&lt;=r.width&amp;&amp;n.height&lt;=r.height?!0:!1},this.getElementSize=function(e){if(void 0===e)throw new Error(&quot;Can't get size, empty element&quot;);var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t);return n.width&gt;r.width||n.height&gt;r.height?!0:!1},this.isPointInsideElement=function(e,t){var i=e.x&gt;=0&amp;&amp;e.x&lt;t.width;if(0==i)return!1;var n=e.y&gt;=0&amp;&amp;e.y&lt;t.height;return 0==n?!1:!0},this.getElementRelativePos=function(e,t,n,r){if(!r)var r=e.parent();if(&quot;number&quot;==typeof e)var o={width:e,height:e};else var o=i.getElementSize(e);var a=i.getElementSize(r);switch(t){case&quot;top&quot;:case&quot;left&quot;:t=0,n&amp;&amp;(t+=n);break;case&quot;center&quot;:t=Math.round((a.width-o.width)/2),n&amp;&amp;(t+=n);break;case&quot;right&quot;:t=a.width-o.width,n&amp;&amp;(t-=n);break;case&quot;middle&quot;:t=Math.round((a.height-o.height)/2),n&amp;&amp;(t+=n);break;case&quot;bottom&quot;:t=a.height-o.height,n&amp;&amp;(t-=n)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,n,r,o,a,s){if(!n)var n=1.2;if(!o)var o=&quot;fit&quot;;var l,u,d,_,g=n,c=e.parent(),h=i.getElementSize(e),p=i.getImageOriginalSize(e),f=!1,m=0,v=0,b=0,y=0;if(r){var I=i.getMouseElementPoint(r,e);f=i.isPointInsideElement(I,h),b=I.x,y=I.y}else f=!1;if(0==f){var w=i.getElementCenterPoint(e);b=w.x,y=w.y}if(1==t)l=h.height*g,u=h.width*g,0!=b&amp;&amp;(m=-(b*g-b)),0!=y&amp;&amp;(v=-(y*g-y));else{l=h.height/g,u=h.width/g;var E=i.getImageInsideParentData(c,p.width,p.height,o,s);if(u&lt;E.imageWidth)return i.scaleImageFitParent(e,p.width,p.height,o,s),!0;1==f&amp;&amp;(0!=b&amp;&amp;(m=-(b/g-b)),0!=y&amp;&amp;(v=-(y/g-y)))}if(a){var T=1;if(0!=p.width&amp;&amp;(T=u/p.width),T&gt;a)return!1}if(i.setElementSize(e,u,l),0==t&amp;&amp;0==f){var S=i.getElementCenterPosition(e);d=S.left,_=S.top}else d=h.left+m,_=h.top+v;return i.placeElement(e,d,_),!0},this.placeElement=function(e,t,n,r,o,a){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(n)){if(!a)var a=e.parent();var s=i.getElementSize(e),l=i.getElementSize(a)}if(0==jQuery.isNumeric(t))switch(t){case&quot;left&quot;:t=0,r&amp;&amp;(t+=r);break;case&quot;center&quot;:t=Math.round((l.width-s.width)/2),r&amp;&amp;(t+=r);break;case&quot;right&quot;:t=l.width-s.width,r&amp;&amp;(t-=r)}if(0==jQuery.isNumeric(n))switch(n){case&quot;top&quot;:n=0,o&amp;&amp;(n+=o);break;case&quot;middle&quot;:case&quot;center&quot;:n=Math.round((l.height-s.height)/2),o&amp;&amp;(n+=o);break;case&quot;bottom&quot;:n=l.height-s.height,o&amp;&amp;(n-=o)}var u={position:&quot;absolute&quot;,margin:&quot;0px&quot;};null!==t&amp;&amp;(u.left=t),null!==n&amp;&amp;(u.top=n),e.css(u)},this.placeElementInParentCenter=function(e){i.placeElement(e,&quot;center&quot;,&quot;middle&quot;)},this.setElementSizeAndPosition=function(e,t,i,n,r){var o={width:n+&quot;px&quot;,height:r+&quot;px&quot;,left:t+&quot;px&quot;,top:i+&quot;px&quot;,position:&quot;absolute&quot;,margin:&quot;0px&quot;};e.css(o)},this.setElementSize=function(e,t,i){var n={width:t+&quot;px&quot;};null!==i&amp;&amp;&quot;undefined&quot;!=typeof i&amp;&amp;(n.height=i+&quot;px&quot;),e.css(n)},this.cloneElementSizeAndPos=function(e,t,n,r,o){var a=e.position();if(void 0==a)throw new Error(&quot;Can't get size, empty element&quot;);n===!0?(a.height=e.outerHeight(),a.width=e.outerWidth()):(a.height=e.height(),a.width=e.width()),a.left=Math.round(a.left),a.top=Math.round(a.top),r&amp;&amp;(a.left+=r),o&amp;&amp;(a.top+=o),i.setElementSizeAndPosition(t,a.left,a.top,a.width,a.height)},this.placeImageInsideParent=function(e,t,n,r,o,a){var s=i.getImageInsideParentData(t,n,r,o,a),l=&quot;&lt;img&quot;;null!==s.imageWidth&amp;&amp;(l+=&quot; width = '&quot;+s.imageWidth+&quot;'&quot;,s.style+=&quot;width:&quot;+s.imageWidth+&quot;;&quot;),null!=s.imageHeight&amp;&amp;(&quot;100%&quot;==s.imageHeight?(l+=&quot; height = '&quot;+s.imageHeight+&quot;'&quot;,s.style+=&quot;height:&quot;+s.imageHeight+&quot;;&quot;):(l+=&quot; height = '&quot;+s.imageHeight+&quot;'&quot;,s.style+=&quot;height:&quot;+s.imageHeight+&quot;px;&quot;)),null!==s.imageTop&amp;&amp;(s.style+=&quot;top:&quot;+s.imageTop+&quot;px;&quot;),null!==s.imageLeft&amp;&amp;(s.style+=&quot;left:&quot;+s.imageLeft+&quot;px;&quot;),e=i.escapeDoubleSlash(e),l+=&quot; style='&quot;+s.style+&quot;'&quot;,l+=' src=&quot;'+e+'&quot;',l+=&quot;&gt;&quot;,t.html(l);var u=t.children(&quot;img&quot;);return u},this.scaleImageCoverParent=function(e,t,n){if(&quot;number&quot;==typeof t)var r=t,o=n;else var r=t.outerWidth(),o=t.outerHeight();var a=i.getImageOriginalSize(e),s=a.width,l=a.height,u=s/l,d=o,_=d*u,g=0,c=0;r&gt;_?(_=r,d=_/u,c=0,g=Math.round((d-o)/2*-1)):(g=0,c=Math.round((_-r)/2*-1)),_=Math.round(_),d=Math.round(d),e.css({width:_+&quot;px&quot;,height:d+&quot;px&quot;,left:c+&quot;px&quot;,top:g+&quot;px&quot;})},this.scaleImageFitParent=function(e,t,n,r,o){var a=e.parent(),s=i.getImageInsideParentData(a,t,n,r,o),l=!1,u={};return null!==s.imageWidth&amp;&amp;(l=!0,e.removeAttr(&quot;width&quot;),u.width=s.imageWidth+&quot;px&quot;),null!=s.imageHeight&amp;&amp;(l=!0,e.removeAttr(&quot;height&quot;),u.height=s.imageHeight+&quot;px&quot;),null!==s.imageTop&amp;&amp;(l=!0,u.top=s.imageTop+&quot;px&quot;),null!==s.imageLeft&amp;&amp;(l=!0,u.left=s.imageLeft+&quot;px&quot;),1==l&amp;&amp;(u.position=&quot;absolute&quot;,u.margin=&quot;0px 0px&quot;,e.css(u)),s},this.scaleImageByHeight=function(e,t,n,r){var o=i.getImageOriginalSize(e,n,r),a=o.width/o.height,s=Math.round(t*a);t=Math.round(t),i.setElementSize(e,s,t)},this.scaleImageByWidth=function(e,t,n,r){var o=i.getImageOriginalSize(e,n,r),a=o.width/o.height,s=Math.round(t/a);t=Math.round(t),i.setElementSize(e,t,s)},this.scaleImageExactSizeInParent=function(e,t,n,r,o,a){var s=e.parent(),l=i.getElementSize(s);l.width&lt;r&amp;&amp;(r=l.width),l.height&lt;o&amp;&amp;(o=l.height);var u=i.getImageInsideParentData(null,t,n,a,null,r,o),d=r,_=o,g=u.imageLeft,c=u.imageLeft,h=u.imageTop,p=u.imageTop,f=Math.round((l.width-r)/2),m=Math.round((l.height-o)/2),v=u.imageWidth+g+c,b=r-v;0!=b&amp;&amp;(c+=b);var y=u.imageHeight+h+p,b=o-y;0!=b&amp;&amp;(p+=b),e.removeAttr(&quot;width&quot;),e.removeAttr(&quot;height&quot;);var I={position:&quot;absolute&quot;,margin:&quot;0px 0px&quot;};I.width=d+&quot;px&quot;,I.height=_+&quot;px&quot;,I.left=f+&quot;px&quot;,I.top=m+&quot;px&quot;,I[&quot;padding-left&quot;]=g+&quot;px&quot;,I[&quot;padding-top&quot;]=h+&quot;px&quot;,I[&quot;padding-right&quot;]=c+&quot;px&quot;,I[&quot;padding-bottom&quot;]=p+&quot;px&quot;,e.css(I);var w={};return w.imageWidth=d,w.imageHeight=_,w},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&amp;&amp;t.show().fadeTo(0,1),i&amp;&amp;i.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)var t=&quot;ug-button-disabled&quot;;0==i.isButtonDisabled(e,t)&amp;&amp;e.addClass(t)},this.convertCustomPrefixOptions=function(e,t,i){if(!t)return e;var n={};return jQuery.each(e,function(e,r){if(0===e.indexOf(t+&quot;_&quot;+i+&quot;_&quot;)){var o=e.replace(t+&quot;_&quot;+i+&quot;_&quot;,i+&quot;_&quot;);n[o]=r}else n[e]=r}),n},this.enableButton=function(e,t){if(!t)var t=&quot;ug-button-disabled&quot;;1==i.isButtonDisabled(e,t)&amp;&amp;e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)var t=&quot;ug-button-disabled&quot;;return e.hasClass(t)?!0:!1},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,r,o){if(!o)var o=!1;var a=(r-i)/(n-i);return r=e+(t-e)*a,1==o&amp;&amp;(e&gt;r&amp;&amp;(r=e),r&gt;t&amp;&amp;(r=t)),r},this.getNormalizedValue=function(e,t,i,n,r){var o=(r-e)/(t-e);return r=e+(n-i)*o},this.getDistance=function(e,t,i,n){var r=Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))));return r},this.getMiddlePoint=function(e,t,i,n){var r={};return r.x=e+Math.round((i-e)/2),r.y=t+Math.round((n-t)/2),r},this.getNumItemsInSpace=function(e,t,i){var n=Math.floor((e+i)/(t+i));return n},this.getNumItemsInSpaceRound=function(e,t,i){var n=Math.round((e+i)/(t+i));return n},this.getSpaceByNumItems=function(e,t,i){var n=e*t+(e-1)*i;return n},this.getItemSizeInSpace=function(e,t,i){var n=Math.floor((e-(t-1)*i)/t);return n},this.getColX=function(e,t,i){var n=e*(t+i);return n},this.getColByIndex=function(e,t){var i=t%e;return i},this.getColRowByIndex=function(e,t){var i=Math.floor(e/t),n=Math.floor(e%t);return{col:n,row:i}},this.getIndexByRowCol=function(e,t,i){if(0&gt;e)return-1;if(0&gt;t)return-1;var n=e*i+t;return n},this.getPrevRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t),r=i.getIndexByRowCol(n.row-1,n.col,t);return r},this.getNextRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t),r=i.getIndexByRowCol(n.row+1,n.col,t);return r},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){var t=jQuery.data(document.body,e);return t},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==i.isTouchDevice())return null;var t=i.getStoredEventData(e),r=15,o=15;if(null===t.scrollDir&amp;&amp;(Math.abs(t.diffMouseX)&gt;r?t.scrollDir=&quot;hor&quot;:Math.abs(t.diffMouseY)&gt;o&amp;&amp;Math.abs(t.diffMouseY)&gt;Math.abs(t.diffMouseX)&amp;&amp;(t.scrollDir=&quot;vert&quot;,t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),n.dataCache[e].scrollStartY=t.lastMouseClientY,n.dataCache[e].scrollOrigin=t.scrollOrigin),n.dataCache[e].scrollDir=t.scrollDir),&quot;vert&quot;!==t.scrollDir)return t.scrollDir;var a=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return a&gt;=0&amp;&amp;jQuery(document).scrollTop(a),t.scrollDir},this.wasVerticalScroll=function(e){var t=i.getStoredEventData(e);return&quot;vert&quot;===t.scrollDir?!0:!1},this.storeEventData=function(e,t,r){var o=i.getMousePosition(e),a=jQuery.now(),s={startTime:a,lastTime:a,startMouseX:o.pageX,startMouseY:o.pageY,lastMouseX:o.pageX,lastMouseY:o.pageY,startMouseClientY:o.clientY,lastMouseClientY:o.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};r&amp;&amp;(s=jQuery.extend(s,r)),n.dataCache[t]=s},this.updateStoredEventData=function(e,t,r){if(!n.dataCache[t])throw new Error(&quot;updateEventData error: must have stored cache object&quot;);var o=n.dataCache[t],a=i.getMousePosition(e);o.lastTime=jQuery.now(),void 0!==a.pageX&amp;&amp;(o.lastMouseX=a.pageX,o.lastMouseY=a.pageY,o.lastMouseClientY=a.clientY),r&amp;&amp;(o=jQuery.extend(o,r)),n.dataCache[t]=o},this.getStoredEventData=function(e,t){if(!n.dataCache[e])throw new Error(&quot;updateEventData error: must have stored cache object&quot;);var i=n.dataCache[e];return i.diffMouseX=i.lastMouseX-i.startMouseX,i.diffMouseY=i.lastMouseY-i.startMouseY,i.diffMouseClientY=i.lastMouseClientY-i.startMouseClientY,i.diffTime=i.lastTime-i.startTime,t===!0?(i.startMousePos=i.lastMouseY,i.lastMousePos=i.lastMouseY,i.diffMousePos=i.diffMouseY):(i.startMousePos=i.lastMouseX,i.lastMousePos=i.lastMouseX,i.diffMousePos=i.diffMouseX),i},this.isApproveStoredEventClick=function(e,t){if(!n.dataCache[e])return!0;var r=i.getStoredEventData(e,t),o=Math.abs(r.diffMousePos);return r.diffTime&gt;400?!1:o&gt;30?!1:!0},this.clearStoredEventData=function(e){n.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){var e=jQuery('&lt;canvas width=&quot;500&quot; height=&quot;500&quot; &gt;&lt;/canvas&gt;')[0];return&quot;function&quot;==typeof e.getContext?!0:!1},this.isScrollbarExists=function(){var e=window.innerWidth&gt;document.documentElement.clientWidth;return e},this.isTouchDevice=function(){if(-1!==n.isTouchDevice)return n.isTouchDevice;try{document.createEvent(&quot;TouchEvent&quot;),n.isTouchDevice=!0}catch(e){n.isTouchDevice=!1}return n.isTouchDevice},this.isRgbaSupported=function(){if(-1!==n.isRgbaSupported)return n.isRgbaSupported;var e=document.getElementsByTagName(&quot;script&quot;)[0],t=e.style.color;try{e.style.color=&quot;rgba(1,5,13,0.44)&quot;}catch(i){}var r=e.style.color!=t;return e.style.color=t,n.isRgbaSupported=r,r},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split(&quot;.&quot;),i=e.split(&quot;.&quot;),n=0,r=t.length;r&gt;n;n++){var o=parseInt(t[n]),a=parseInt(i[n]);if(&quot;undefined&quot;==typeof i[n])return!0;if(a&gt;o)return!1;if(o&gt;a)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+&quot;px&quot;:e},this.convertHexToRGB=function(e,t){var i=e.replace(&quot;#&quot;,&quot;&quot;);return i===e?e:(r=parseInt(i.substring(0,2),16),g=parseInt(i.substring(2,4),16),b=parseInt(i.substring(4,6),16),result=&quot;rgba(&quot;+r+&quot;,&quot;+g+&quot;,&quot;+b+&quot;,&quot;+t+&quot;)&quot;,result)},this.timestampToString=function(e){var t=new Date(e),i=t.getDate()+&quot;/&quot;+t.getMonth();return i+=&quot; &quot;+t.getHours()+&quot;:&quot;+t.getMinutes()+&quot;:&quot;+t.getSeconds()+&quot;:&quot;+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&amp;&amp;e.originalEvent.touches&amp;&amp;e.originalEvent.touches.length&gt;0&amp;&amp;(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i&lt;e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.startTimeDebug=function(){n.starTime=jQuery.now()},this.showTimeDebug=function(){var e=jQuery.now(),t=e-n.starTime;debugLine({&quot;Time Passed&quot;:t},!0)},this.initProgressIndicator=function(e,t,n){switch(&quot;bar&quot;!=e&amp;&amp;0==i.isCanvasExists()&amp;&amp;(e=&quot;bar&quot;),e){case&quot;bar&quot;:var r=new UGProgressBar;r.putHidden(n,t);break;default:case&quot;pie&quot;:var r=new UGProgressPie;r.putHidden(n,t);break;case&quot;pie2&quot;:t.type_fill=!0;var r=new UGProgressPie;r.putHidden(n,t)}return r},this.setButtonMobileReady=function(e){e.on(&quot;touchstart&quot;,function(e){jQuery(this).addClass(&quot;ug-nohover&quot;)}),e.on(&quot;mousedown touchend&quot;,function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){n.arrThemes.push(e)},this.getArrThemes=function(){return n.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,n.arrThemes)?!0:!1},this.getFirstRegisteredTheme=function(){if(0==n.arrThemes.length)return&quot;&quot;;var e=n.arrThemes[0];return e},this.isTimePassed=function(e,t){if(!t)var t=100;var i=jQuery.now();0==n.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=n.timeCache[e];var r=i-lastTime;return n.timeCache[e]=i,t&gt;=r?!1:!0},this.whenContiniousEventOver=function(e,t,i){if(!i)var i=300;1==n.timeCache.hasOwnProperty(e)&amp;&amp;null!=n.timeCache[e]&amp;&amp;(clearTimeout(n.timeCache[e]),n.timeCache[e]=null),n.timeCache[e]=setTimeout(t,i)},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-n.lastEventTime;return&quot;click&quot;==e&amp;&amp;&quot;touchstart&quot;==n.lastEventType&amp;&amp;1e3&gt;i&amp;&amp;(t=!1),n.lastEventTime=jQuery.now(),n.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)var t=&quot;ug-button-hover&quot;;e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off(&quot;mouseenter&quot;),e.off(&quot;mouseleave&quot;),e.off(&quot;click&quot;),e.off(&quot;touchstart&quot;),e.off(&quot;touchend&quot;),e.off(&quot;mousedown&quot;),e.off(&quot;tap&quot;)},this.setButtonOnClick=function(e,t){i.setButtonMobileReady(e),e.on(&quot;click touchstart&quot;,function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==i.validateClickTouchstartEvent(e.type)?!0:void t(objThis,e)})},this.setButtonOnTap=function(e,t){e.on(&quot;tap&quot;,t),0==i.isTouchDevice()?e.on(&quot;click&quot;,function(e){var t=jQuery(this);return 0==i.validateClickTouchstartEvent(e.type)?!0:void t.trigger(&quot;tap&quot;)}):(e.on(&quot;touchstart&quot;,function(e){var t=jQuery(this);t.addClass(&quot;ug-nohover&quot;),n.lastTouchStartElement=jQuery(this),n.lastEventTime=jQuery.now()}),e.on(&quot;touchend&quot;,function(e){var t=jQuery(this);if(0==t.is(n.lastTouchStartElement))return!0;if(!n.lastEventTime)return!0;var i=jQuery.now()-n.lastEventTime;return i&gt;n.touchThreshold?!0:void t.trigger(&quot;tap&quot;)}))},this.loadJs=function(e,t){t===!0&amp;&amp;(e=location.protocol+&quot;//&quot;+e);var i=document.createElement(&quot;script&quot;);i.src=e;var n=document.getElementsByTagName(&quot;script&quot;)[0];n.parentNode.insertBefore(i,n)},this.loadCss=function(e,t){t===!0&amp;&amp;(e=location.protocol+&quot;//&quot;+e);var i=document.createElement(&quot;link&quot;);i.setAttribute(&quot;rel&quot;,&quot;stylesheet&quot;),i.setAttribute(&quot;type&quot;,&quot;text/css&quot;),i.setAttribute(&quot;href&quot;,e),document.getElementsByTagName(&quot;head&quot;)[0].appendChild(i)},this.addEvent=function(e,t,i){&quot;undefined&quot;!=typeof e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&amp;&amp;e.attachEvent(&quot;on&quot;+t,i)},this.checkImagesLoaded=function(e,t,i){function n(e,n){r++,&quot;function&quot;==typeof i&amp;&amp;setTimeout(function(){i(e,n)}),r==o&amp;&amp;&quot;function&quot;==typeof t&amp;&amp;setTimeout(function(){t()})}var r=0,o=e.length;return 0==o&amp;&amp;t?(t(),!1):void setTimeout(function(){for(var t=0;o&gt;t;t++){var i=e[t];if(void 0!==i.naturalWidth&amp;&amp;0!==i.naturalWidth)n(e[t],!1);else{var r=jQuery(&quot;&lt;img/&gt;&quot;);r.data(&quot;index&quot;,t),r.on(&quot;load&quot;,function(){var t=jQuery(this).data(&quot;index&quot;);n(e[t],!1)}),r.on(&quot;error&quot;,function(){var t=jQuery(this).data(&quot;index&quot;);n(e[t],!0)}),r.attr(&quot;src&quot;,i.src)}}})},this.waitForWidth=function(e,t){var i=e.width();return 0!=i?(t(),!1):void(n.handle=setInterval(function(){i=e.width(),0!=i&amp;&amp;(clearInterval(n.handle),t())},300))},this.arrayShuffle=function(e){if(&quot;object&quot;!=typeof e)return e;for(var t,i,n=e.length;n;t=parseInt(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},this.getObjectLength=function(e){var t=0;for(var i in e)t++;return t},this.normalizePercent=function(e){return 0&gt;e&amp;&amp;(e=0),e&gt;1&amp;&amp;(e=1),e},this.stripTags=function(e){var t=e.replace(/(&lt;([^&gt;]+)&gt;)/gi,&quot;&quot;);return t},this.escapeDoubleSlash=function(e){return e.replace('&quot;','&quot;')},this.htmlentitles=function(e){var t=jQuery(&quot;&lt;div/&gt;&quot;).text(e).html();return t},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function e(e,t){var i=w[e],n=&quot;&quot;;0==C.customThumbs&amp;&amp;(n=&quot; ug-thumb-generated&quot;);var r=i.index+1,o=&quot;style='z-index:&quot;+r+&quot;;'&quot;,a=&quot;&quot;;if(1==j.thumb_wrapper_as_link){var s=i.link;&quot;&quot;==i.link&amp;&amp;(s=&quot;javascript:void(0)&quot;);var l=&quot;&quot;;1==j.thumb_link_newpage&amp;&amp;i.link&amp;&amp;(l=&quot; target='_blank'&quot;);var a=&quot;&lt;a href='&quot;+s+&quot;'&quot;+l+&quot; class='ug-thumb-wrapper&quot;+n+&quot;'&gt;&lt;/a&gt;&quot;}var u=jQuery(a),d=i.objThumbImage;if(0==C.customThumbs){if(1==j.thumb_show_loader&amp;&amp;d){var _=&quot;ug-thumb-loader-dark&quot;;&quot;bright&quot;==j.thumb_loader_type&amp;&amp;(_=&quot;ug-thumb-loader-bright&quot;),u.append(&quot;&quot;),u.append(&quot;&quot;)}if(d){if(d.addClass(&quot;ug-thumb-image&quot;),1==j.thumb_image_overlay_effect){var g=d.clone().appendTo(u);g.addClass(&quot;ug-thumb-image-overlay &quot;+t).removeClass(&quot;ug-thumb-image&quot;),g.fadeTo(0,0),i.objImageOverlay=g}u.append(d)}}return C.isEffectBorder&amp;&amp;u.append(&quot;&quot;),C.isEffectOverlay&amp;&amp;u.append(&quot;&quot;),E.append(u),C.customThumbs&amp;&amp;C.funcSetCustomThumbHtml(u,i),w[e].objThumbWrapper=u,u}function t(e,t,i,n){var r={width:e+&quot;px&quot;,height:t+&quot;px&quot;},o={width:e-C.thumbInnerReduce+&quot;px&quot;,height:t-C.thumbInnerReduce+&quot;px&quot;},a=&quot;.ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay&quot;;i?(n!==!0&amp;&amp;i.css(r),i.find(a).css(o)):(E.children(&quot;.ug-thumb-wrapper&quot;).css(r),E.find(a).css(o))}function i(e,t,i,n){if(!n)var n=!1;P.isFakeFullscreen()&amp;&amp;(n=!0);var r=e.children(&quot;.ug-thumb-border-overlay&quot;),o={};o[&quot;border-width&quot;]=t+&quot;px&quot;,0!=t&amp;&amp;(o[&quot;border-color&quot;]=i),n&amp;&amp;n===!0?(r.css(o),0==t?r.hide():r.show()):(0==t?r.stop().fadeOut(j.thumb_transition_duration):r.show().stop().fadeIn(j.thumb_transition_duration),l(r,o))}function n(e,t,i){var n=e.children(&quot;.ug-thumb-overlay&quot;),r=j.thumb_transition_duration;i&amp;&amp;i===!0&amp;&amp;(r=0),t?n.stop(!0).fadeTo(r,C.colorOverlayOpacity):n.stop(!0).fadeTo(r,0)}function r(e,t,i){var n=e.children(&quot;img.ug-thumb-image&quot;),r=e.children(&quot;img.ug-thumb-image-overlay&quot;),o=j.thumb_transition_duration;i&amp;&amp;i===!0&amp;&amp;(o=0),t?r.stop(!0).fadeTo(o,1):(n.fadeTo(0,1),r.stop(!0).fadeTo(o,0))}function o(e,t){if(C.isEffectBorder&amp;&amp;i(e,j.thumb_selected_border_width,j.thumb_selected_border_color,t),C.isEffectOverlay){var o=1==j.thumb_overlay_reverse?!0:!1;n(e,o,t)}C.isEffectImage&amp;&amp;r(e,!1,t),S.trigger(T.events.SETSELECTEDSTYLE,e)}function a(e){var t=T.getItemByThumb(e);return t.isLoaded=!0,t.isThumbImageLoaded=!1,1==C.customThumbs?(S.trigger(T.events.IMAGELOADERROR,e),!0):(e.children(&quot;.ug-thumb-loader&quot;).hide(),void e.children(&quot;.ug-thumb-error&quot;).show())}function s(e){if(j.thumb_round_corners_radius&lt;=0)return!1;var t={&quot;border-radius&quot;:j.thumb_round_corners_radius+&quot;px&quot;};e?(e.css(t),e.find(&quot;.ug-thumb-border-overlay&quot;).css(t)):E.find(&quot;.ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay&quot;).css(t)}function l(e,t){e.stop(!0).animate(t,{duration:j.thumb_transition_duration,easing:j.thumb_transition_easing,queue:!1})}function u(e){1==c(e)?o(e,!0,&quot;redraw&quot;):T.setThumbNormalStyle(e,!0,&quot;redraw&quot;)}function d(e,i,n){if(1==j.thumb_fixed_size)x.scaleImageCoverParent(i,e);else{&quot;height&quot;==j.thumb_resize_by?x.scaleImageByHeight(i,j.thumb_height):x.scaleImageByWidth(i,j.thumb_width);var r=x.getElementSize(i);x.placeElement(i,0,0),t(r.width,r.height,e)}e.children(&quot;.ug-thumb-loader&quot;).hide(),i.show(),0==j.thumb_image_overlay_effect?i.fadeTo(0,1):(1==j.thumb_image_overlay_effect&amp;&amp;_(i),i.fadeTo(0,0),u(e)),S.trigger(T.events.AFTERPLACEIMAGE,e)}function _(e){var t=e.siblings(&quot;.ug-thumb-image-overlay&quot;);if(0==t.length)return!1;var i=x.getElementSize(e),n={width:i.width+&quot;px&quot;,height:i.height+&quot;px&quot;,left:i.left+&quot;px&quot;,top:i.top+&quot;px&quot;};t.css(n),0==C.customThumbs&amp;&amp;t.fadeTo(0,1)}function g(){var e=&quot;&quot;,t=j.thumb_image_overlay_type.split(&quot;,&quot;);for(var i in t){var n=t[i];switch(n){case&quot;bw&quot;:e+=&quot; ug-bw-effect&quot;;break;case&quot;blur&quot;:e+=&quot; ug-blur-effect&quot;;break;case&quot;sepia&quot;:e+=&quot; ug-sepia-effect&quot;}}return e}function c(e){return e.hasClass(&quot;ug-thumb-selected&quot;)?!0:!1}function h(e,i){i=jQuery(i);var n=(T.getItemByThumb(i),x.getElementSize(i));t(n.width,n.height,i,!0),u(i)}function p(e){return 1==C.touchEnabled?(objThumbs.off(&quot;mouseenter&quot;).off(&quot;mouseleave&quot;),!0):void(0==c(e)&amp;&amp;T.setThumbOverStyle(e))}function f(e){return 1==C.touchEnabled?!0:void(0==c(e)&amp;&amp;T.setThumbNormalStyle(e,!1))}function m(e,t){if(!t)var t=!1;var i=jQuery(e),n=i.parents(&quot;.ug-thumb-wrapper&quot;);return 0==n.parent().length?!1:(objItem=T.getItemByThumb(n),1==objItem.isLoaded&amp;&amp;t===!1?!1:(T.triggerImageLoadedEvent(n,i),void(1==C.customThumbs?S.trigger(T.events.PLACEIMAGE,[n,i]):d(n,i,objItem))))}function v(e,t,i){objItem=T.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var n=x.getImageOriginalSize(i);objItem.thumbWidth=n.width,objItem.thumbHeight=n.height,objItem.thumbRatioByWidth=n.width/n.height,objItem.thumbRatioByHeight=n.height/n.width,t.addClass(&quot;ug-thumb-ratio-set&quot;)}var b,y,I,w,E,T=this,S=jQuery(T),P=new UniteGalleryMain,x=new UGFunctions;this.type={GET_THUMBS_ALL:&quot;all&quot;,GET_THUMBS_RATIO:&quot;ratio&quot;,GET_THUMBS_NO_RATIO:&quot;no_ratio&quot;,GET_THUMBS_NEW:&quot;new&quot;},this.events={SETOVERSTYLE:&quot;thumbmouseover&quot;,SETNORMALSTYLE:&quot;thumbmouseout&quot;,SETSELECTEDSTYLE:&quot;thumbsetselected&quot;,PLACEIMAGE:&quot;thumbplaceimage&quot;,AFTERPLACEIMAGE:&quot;thumb_after_place_image&quot;,IMAGELOADERROR:&quot;thumbimageloaderror&quot;,THUMB_IMAGE_LOADED:&quot;thumb_image_loaded&quot;};var j={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:&quot;height&quot;,thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:&quot;#000000&quot;,thumb_over_border_width:0,thumb_over_border_color:&quot;#d9d9d9&quot;,thumb_selected_border_width:1,thumb_selected_border_color:&quot;#d9d9d9&quot;,thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:&quot;#000000&quot;,thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:&quot;bw&quot;,thumb_transition_duration:200,thumb_transition_easing:&quot;easeOutQuad&quot;,thumb_show_loader:!0,thumb_loader_type:&quot;dark&quot;,thumb_wrapper_as_link:!1,thumb_link_newpage:!1},C={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0,classNewThumb:&quot;ug-new-thumb&quot;},A={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:&quot;thumb_size_change&quot;};this.init=function(e,t){y=e.getObjects(),P=e,b=jQuery(e),I=y.g_objWrapper,w=y.g_arrItems,j=jQuery.extend(j,t),C.isEffectBorder=j.thumb_border_effect,C.isEffectOverlay=j.thumb_color_overlay_effect,C.isEffectImage=j.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(t,i){if(E=t,1==C.isEffectImage)var n=g();if(i!==!0)for(var r=P.getNumItems(),o=0;r&gt;o;o++)e(o,n);else{var a=T.getThumbs();a.removeClass(C.classNewThumb);var s=P.getNewAddedItemsIndexes();jQuery.each(s,function(t,i){var r=e(i,n);r.addClass(C.classNewThumb)})}},this.setThumbNormalStyle=function(e,t,o){if(1==C.customThumbs&amp;&amp;e.removeClass(&quot;ug-thumb-over&quot;),C.isEffectBorder&amp;&amp;i(e,j.thumb_border_width,j.thumb_border_color,t),C.isEffectOverlay){var a=1==j.thumb_overlay_reverse?!1:!0;n(e,a,t)}C.isEffectImage&amp;&amp;r(e,!0,t),S.trigger(T.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){if(1==C.customThumbs&amp;&amp;e.addClass(&quot;ug-thumb-over&quot;),C.isEffectBorder&amp;&amp;i(e,j.thumb_over_border_width,j.thumb_over_border_color),C.isEffectOverlay){var t=1==j.thumb_overlay_reverse?!0:!1;n(e,t)}1==C.isEffectImage&amp;&amp;r(e,!1),S.trigger(T.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(e){if(!e)var e=T.getThumbs();if(0==C.customThumbs){1==j.thumb_fixed_size&amp;&amp;t(j.thumb_width,j.thumb_height,e),s(e)}if(e.each(function(){var e=jQuery(this);u(e)}),C.isEffectOverlay&amp;&amp;j.thumb_overlay_color){var i={};if(x.isRgbaSupported()){var n=x.convertHexToRGB(j.thumb_overlay_color,j.thumb_overlay_opacity);i[&quot;background-color&quot;]=n}else i[&quot;background-color&quot;]=j.thumb_overlay_color,C.colorOverlayOpacity=j.thumb_overlay_opacity;e.find(&quot;.ug-thumb-overlay&quot;).css(i)}},this.setThumbSelected=function(e){return 1==C.customThumbs&amp;&amp;e.removeClass(&quot;ug-thumb-over&quot;),1==c(e)?!0:(e.addClass(&quot;ug-thumb-selected&quot;),void o(e))},this.setThumbUnselected=function(e){e.removeClass(&quot;ug-thumb-selected&quot;),T.setThumbNormalStyle(e,!1,&quot;set unselected&quot;)},this.setOptions=function(e){j=jQuery.extend(j,e)},this.setThumbInnerReduce=function(e){C.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,i){if(C.customThumbs=!0,&quot;function&quot;!=typeof e)throw new Error(&quot;The argument should be function&quot;);C.funcSetCustomThumbHtml=e,-1==jQuery.inArray(&quot;overlay&quot;,t)&amp;&amp;(C.isEffectOverlay=!1),-1==jQuery.inArray(&quot;border&quot;,t)&amp;&amp;(C.isEffectBorder=!1),C.isEffectImage=!1,i&amp;&amp;i.allow_onresize===!1&amp;&amp;(C.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return j},this.getNumThumbs=function(){var e=w.length;return e},this.getThumbImage=function(e){var t=e.find(&quot;.ug-thumb-image&quot;);return t},this.getThumbByIndex=function(e){var t=T.getThumbs();if(e&gt;=t.length||0&gt;e)throw new Error(&quot;Wrong thumb index&quot;);var i=jQuery(t[e]);return i},this.getThumbs=function(e){var t=&quot;.ug-thumb-wrapper&quot;,i=&quot;.ug-thumb-ratio-set&quot;;switch(e){default:case T.type.GET_THUMBS_ALL:var n=E.children(t);break;case T.type.GET_THUMBS_NO_RATIO:var n=E.children(t).not(i);break;case T.type.GET_THUMBS_RATIO:var n=E.children(t+i);break;case T.type.GET_THUMBS_NEW:var n=E.children(&quot;.&quot;+C.classNewThumb)}return n},this.getItemByThumb=function(e){var t=e.data(&quot;index&quot;);void 0===t&amp;&amp;(t=e.index());var i=w[t];return i},this.isThumbLoaded=function(e){var t=T.getItemByThumb(e);return t.isLoaded},this.getGlobalThumbSize=function(){var e={width:j.thumb_width,
height:j.thumb_height};return e},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=&quot;.ug-thumb-wrapper&quot;;1==C.allowOnResize&amp;&amp;I.on(A.eventSizeChange,h),S.on(T.events.THUMB_IMAGE_LOADED,v),E.on(&quot;touchstart&quot;,e,function(){C.touchEnabled=!0,E.off(&quot;mouseenter&quot;).off(&quot;mouseleave&quot;)}),E.on(&quot;mouseenter&quot;,e,function(e){var t=jQuery(this);p(t)}),E.on(&quot;mouseleave&quot;,e,function(e){var t=jQuery(this);f(t)})},this.destroy=function(){var e=&quot;.ug-thumb-wrapper&quot;;E.off(&quot;touchstart&quot;,e),I.off(A.eventSizeChange),E.off(&quot;mouseenter&quot;,e),E.off(&quot;mouseleave&quot;,e),S.off(T.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=E.find(&quot;.ug-thumb-image&quot;);x.checkImagesLoaded(e,null,function(e,t){if(0==t)m(e,!0);else{var i=jQuery(e).parent();a(i)}})},this.triggerImageLoadedEvent=function(e,t){S.trigger(T.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){E.find(&quot;.ug-thumb-wrapper&quot;).hide()}}function UGThumbsStrip(){function e(e,i){S=e.getObjects(),z=e,z.attachThumbsPanel(&quot;strip&quot;,O),T=jQuery(e),P=S.g_objWrapper,x=S.g_arrItems,k=jQuery.extend(k,i),H=k.strip_vertical_type,1==H&amp;&amp;(k=jQuery.extend(k,D),k=jQuery.extend(k,i),i.thumb_resize_by=&quot;width&quot;),N.init(e,i),t()}function t(){var e=N.getOptions();R.isNotFixedThumbs=e.thumb_fixed_size===!1,H=k.strip_vertical_type}function n(){N.setHtmlProperties(),o(),l(),s(),0==R.isRunOnce&amp;&amp;(1==k.strip_control_touch&amp;&amp;(M=new UGTouchThumbsControl,M.init(O)),1==k.strip_control_avia&amp;&amp;(A=new UGAviaControl,A.init(O)),p(),N.loadThumbsImages(),y()),R.isRunOnce=!0}function r(e){G.stripSize=e,0==H?G.stripActiveSize=G.stripSize-k.strip_padding_left-k.strip_padding_right:G.stripActiveSize=G.stripSize-k.strip_padding_top-k.strip_padding_bottom,G.stripActiveSize&lt;0&amp;&amp;(G.stripActiveSize=0)}function o(){var e=C.children(&quot;.ug-thumb-wrapper&quot;),t=jQuery(e[0]),i=t.outerWidth(),n=t.outerHeight(),o=N.getOptions();0==H?(G.thumbSize=i,1==o.thumb_fixed_size?G.thumbSecondSize=n:G.thumbSecondSize=o.thumb_height,r(j.width()),G.stripInnerSize=C.width()):(G.thumbSize=n,1==o.thumb_fixed_size?G.thumbSecondSize=i:G.thumbSecondSize=o.thumb_width,r(j.height()),G.stripInnerSize=C.height())}function a(e){0==H?C.width(e):C.height(e),G.stripInnerSize=e,p(),jQuery(O).trigger(O.events.INNER_SIZE_CHANGE)}function s(){var e=C.children(&quot;.ug-thumb-wrapper&quot;),t=0,n=0;for(0==H&amp;&amp;(n=k.strip_padding_top),i=0;i&lt;e.length;i++){var r=jQuery(e[i]);if(1==R.isNotFixedThumbs){if(objItem=N.getItemByThumb(r),0==objItem.isLoaded)continue;r.show()}L.placeElement(r,t,n),0==H?t+=r.outerWidth()+k.strip_space_between_thumbs:n+=r.outerHeight()+k.strip_space_between_thumbs}if(0==H)var o=t-k.strip_space_between_thumbs;else var o=n-k.strip_space_between_thumbs;a(o)}function l(){if(0==H){var e=G.thumbSecondSize,t={};t.height=e+&quot;px&quot;;var i={};i.height=e+&quot;px&quot;}else{var n=G.thumbSecondSize,t={};t.width=n+&quot;px&quot;;var i={};i.width=n+&quot;px&quot;}j.css(t),C.css(i)}function u(e){var t=O.getInnerStripPos(),i=t+e;i=O.fixInnerStripLimits(i),O.positionInnerStrip(i,!0)}function d(e){var t=E(e),i=-1*t.min;i=O.fixInnerStripLimits(i),O.positionInnerStrip(i,!0)}function _(e){var t=E(e),i=-1*t.max+G.stripSize;i=O.fixInnerStripLimits(i),O.positionInnerStrip(i,!0)}function g(e){if(0==I())return!1;var t=w(),i=E(e);if(i.min&lt;t.minPosThumbs){var n=e.prev();d(n.length?n:e)}else if(i.max&gt;t.maxPosThumbs){var r=e.next();_(r.length?r:e)}}function c(){var e=z.getSelectedItem();if(null==e)return!0;var t=e.objThumbWrapper;t&amp;&amp;g(t)}function h(){if(0==I())return!1;var e=O.getInnerStripPos(),t=O.fixInnerStripLimits(e);e!=t&amp;&amp;O.positionInnerStrip(t,!0)}function p(){var e=I();1==e?(A&amp;&amp;A.enable(),M&amp;&amp;M.enable()):(A&amp;&amp;A.disable(),M&amp;&amp;M.disable())}function f(){return I()?!1:void(0==H?L.placeElement(C,k.strip_thumbs_align,0):L.placeElement(C,0,k.strip_thumbs_align))}function m(e){if(O.isTouchMotionActive()){var t=M.isSignificantPassed();if(1==t)return!0}var i=N.getItemByThumb(e);z.selectItem(i)}function v(){clearTimeout(R.handle),R.handle=setTimeout(function(){s()},50)}function b(){var e=z.getSelectedItem();N.setThumbSelected(e.objThumbWrapper),g(e.objThumbWrapper)}function y(){N.initEvents();var e=j.find(&quot;.ug-thumb-wrapper&quot;);e.on(&quot;click touchend&quot;,function(e){var t=jQuery(this);m(t)}),T.on(z.events.ITEM_CHANGE,b),R.isNotFixedThumbs&amp;&amp;jQuery(N).on(N.events.AFTERPLACEIMAGE,v)}function I(){return G.stripInnerSize&gt;G.stripActiveSize?!0:!1}function w(){var e={},t=O.getInnerStripPos();return e.minPosThumbs=-1*t+1,e.maxPosThumbs=-1*t+G.stripSize-1,e}function E(e){var t={},i=e.position();return 0==H?(t.min=i.left,t.max=i.left+G.thumbSize):(t.min=i.top,t.max=i.top+G.thumbSize),t}var T,S,P,x,j,C,A,M,O=this,z=new UniteGalleryMain,L=new UGFunctions,H=!1,N=new UGThumbsGeneral,L=new UGFunctions,k={strip_vertical_type:!1,strip_thumbs_align:&quot;left&quot;,strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:&quot;easeOutCubic&quot;,strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},R={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},G={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:&quot;stripmove&quot;,INNER_SIZE_CHANGE:&quot;size_change&quot;};var D={strip_thumbs_align:&quot;top&quot;,thumb_resize_by:&quot;width&quot;};this.setHtml=function(e){if(!e){var e=P;null!=k.parent_container&amp;&amp;(e=k.parent_container)}e.append(&quot;&quot;),j=e.children(&quot;.ug-thumbs-strip&quot;),C=j.children(&quot;.ug-thumbs-strip-inner&quot;),N.setHtmlThumbs(C),1==R.isNotFixedThumbs&amp;&amp;N.hideThumbs()},this.destroy=function(){var e=j.find(&quot;.ug-thumb-wrapper&quot;);e.off(&quot;click&quot;),e.off(&quot;touchend&quot;),T.off(z.events.ITEM_CHANGE),jQuery(N).off(N.events.AFTERPLACEIMAGE),M&amp;&amp;M.destroy(),A&amp;&amp;A.destroy(),N.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i){e(t,i)},this.run=function(){n()},this.positionInnerStrip=function(e,t){if(void 0===t)var t=!1;if(0==H)var i={left:e+&quot;px&quot;};else var i={top:e+&quot;px&quot;};0==t?(C.css(i),O.triggerStripMoveEvent()):(O.triggerStripMoveEvent(),C.stop(!0).animate(i,{duration:k.strip_scroll_to_thumb_duration,easing:k.strip_scroll_to_thumb_easing,queue:!1,progress:function(){O.triggerStripMoveEvent()},always:function(){O.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(O).trigger(O.events.STRIP_MOVE)},this.isTouchMotionActive=function(){if(!M)return!1;var e=M.isTouchActive();return e},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,i=t.position(),n=-1*O.getInnerStripPos();if(0==H)var r=n+G.stripSize,o=i.left,a=i.left+t.width();else var r=n+G.stripSize,o=i.top,a=i.top+t.height();var s=!1;return a&gt;=n&amp;&amp;r&gt;=o&amp;&amp;(s=!0),s},this.getInnerStripPos=function(){return 0==H?C.position().left:C.position().top},this.getInnerStripLimits=function(){var e={};return 0==H?e.maxPos=k.strip_padding_left:e.maxPos=k.strip_padding_top,e.minPos=-(G.stripInnerSize-G.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=O.getInnerStripLimits();return e&gt;t.maxPos&amp;&amp;(e=t.maxPos),e&lt;t.minPos&amp;&amp;(e=t.minPos),e},this.scrollForeward=function(){u(-G.stripSize)},this.scrollBack=function(){u(G.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){k=jQuery.extend(k,e),N.setOptions(e),t()},this.setSizeVertical=function(e){if(0==H)throw new Error(&quot;setSizeVertical error, the strip size is not vertical&quot;);var t=G.thumbSecondSize,i={};i.width=t+&quot;px&quot;,i.height=e+&quot;px&quot;,j.css(i),r(e);var n={};n.width=t+&quot;px&quot;,n.left=&quot;0px&quot;,n.top=&quot;0px&quot;,C.css(n),R.is_placed=!0,p()},this.setSizeHorizontal=function(e){if(1==H)throw new Error(&quot;setSizeHorizontal error, the strip size is not horizontal&quot;);var t=G.thumbSecondSize+k.strip_padding_top+k.strip_padding_bottom,i={};i.width=e+&quot;px&quot;,i.height=t+&quot;px&quot;,j.css(i),r(e);var n=k.strip_padding_left,o={};o.height=t+&quot;px&quot;,o.left=n+&quot;px&quot;,o.top=&quot;0px&quot;,C.css(o),R.is_placed=!0,p()},this.setPosition=function(e,t,i,n){L.placeElement(j,e,t,i,n)},this.resize=function(e){0==H?(j.width(e),G.stripActiveSize=e-k.strip_padding_left-k.strip_padding_right):(j.height(e),G.stripActiveSize=e-k.strip_padding_top-k.strip_padding_bottom),r(e),p(),h(),f(),c()},this.setThumbUnselected=function(e){N.setThumbUnselected(e)},this.setCustomThumbs=function(e){N.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=N.getOptions(),t=jQuery.extend(k,e),i={g_gallery:z,g_objGallery:T,g_objWrapper:P,g_arrItems:x,g_objStrip:j,g_objStripInner:C,g_aviaControl:A,g_touchThumbsControl:M,isVertical:H,g_options:t,g_thumbs:N};return i},this.getObjThumbs=function(){return N},this.getSelectedThumb=function(){var e=z.getSelectedItemIndex();return-1==e?null:N.getThumbByIndex(e)},this.getSizeAndPosition=function(){var e=L.getElementSize(j);return e},this.getHeight=function(){var e=j.outerHeight();return e},this.getWidth=function(){var e=j.outerWidth();return e},this.getSizes=function(){return G},this.isVertical=function(){return H},this.isPlaced=function(){return R.is_placed},this.isMoveEnabled=function(){var e=I();return e}}function UGTouchThumbsControl(){function e(){var e=jQuery.now(),t={};return t.passedTime=T.lastTime-T.startTime,t.lastActiveTime=e-T.buttonReleaseTime,t.passedDistance=T.lastPos-T.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function t(){E.thumb_touch_slowFactor=w.normalizeSetting(5e-5,.01,1,100,y.strip_thumb_touch_sensetivity,!0)}function i(e){return 0==I?w.getMousePosition(e).pageX:w.getMousePosition(e).pageY}function n(e){var t=T.mousePos-e,i=T.innerPos-t,n=h.getInnerStripLimits();if(i&gt;n.maxPos){var r=i-n.maxPos;i=n.maxPos+r/3}if(i&lt;n.minPos){var r=n.minPos-i;i=n.minPos-r/3}h.positionInnerStrip(i)}function r(e){var t=h.getInnerStripPos();T.mousePos=e,T.innerPos=t,T.lastPortionPos=t,T.lastDeltaTime=0,T.lastDeltaPos=0,T.startTime=jQuery.now(),T.startPos=T.innerPos,T.lastTime=T.startTime,T.lastPos=T.startPos,T.speed=0}function o(){var e=jQuery.now(),t=e-T.lastTime;t&gt;=E.touch_portion_time&amp;&amp;(T.lastDeltaTime=e-T.lastTime,T.lastDeltaTime&gt;E.touch_portion_time&amp;&amp;(T.lastDeltaTime=E.touch_portion_time),T.lastDeltaPos=T.lastPos-T.lastPortionPos,T.lastPortionPos=T.lastPos,T.lastTime=e)}function a(){var e=E.thumb_touch_slowFactor,t=E.minDeltaTime,i=E.minPath,n=h.getInnerStripPos(),r=jQuery.now(),o=r-T.lastTime,a=n-T.lastPortionPos;t&gt;o&amp;&amp;T.lastDeltaTime&gt;0&amp;&amp;(o=T.lastDeltaTime,a=T.lastDeltaPos+a),t&gt;o&amp;&amp;(o=t);var l=a&gt;0?1:-1,u=0;o&gt;0&amp;&amp;(u=a/o);var d=u*u/(2*e)*l;Math.abs(d)&lt;=i&amp;&amp;(d=0);var _=h.getInnerStripPos(),g=_+d,c=h.fixInnerStripLimits(g),p=h.getInnerStripLimits(),f=E.limitsBreakAddition,m=!1,v=c;if(g&gt;p.maxPos&amp;&amp;(m=!0,c=f,f&gt;g&amp;&amp;(c=g)),g&lt;p.minPos){m=!0;var y=p.minPos-f;c=y,g&gt;y&amp;&amp;(c=g)}var w=c-_,S=Math.abs(Math.round(u/e));if(0!=d&amp;&amp;(S=S*w/d),_!=c){var P={left:c+&quot;px&quot;};1==I&amp;&amp;(P={top:c+&quot;px&quot;}),b.animate(P,{duration:S,easing:E.animationEasing,queue:!0,progress:s})}if(1==m){var x=E.returnAnimateSpeed,j={left:v+&quot;px&quot;};1==I&amp;&amp;(j={top:v+&quot;px&quot;}),b.animate(j,{duration:x,easing:E.returnAnimationEasing,queue:!0,progress:s})}}function s(){T.lastPos=h.getInnerStripPos(),h.triggerStripMoveEvent()}function l(){return 1==T.loop_active?!0:(T.loop_active=!0,void(T.handle=setInterval(o,10)))}function u(e){if(0==T.loop_active)return!0;if(e){var t=i(e);a(t)}T.loop_active=!1,T.handle=clearInterval(T.handle)}function d(e){return 0==T.isControlEnabled?!0:(T.buttonReleaseTime=jQuery.now(),0==T.touch_active?(u(e),!0):(e.preventDefault(),T.touch_active=!1,u(e),void v.removeClass(&quot;ug-dragging&quot;)))}function _(e){if(0==T.isControlEnabled)return!0;e.preventDefault(),T.touch_active=!0;var t=i(e);b.stop(!0),r(t),l(),v.addClass(&quot;ug-dragging&quot;)}function g(e){if(0==T.isControlEnabled)return!0;if(0==T.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return T.touch_active=!1,u(e),!0;var t=i(e);T.lastPos=h.getInnerStripPos(),n(t),o()}function c(){v.bind(&quot;mousedown touchstart&quot;,_),jQuery(window).add(&quot;body&quot;).bind(&quot;mouseup touchend&quot;,d),jQuery(&quot;body&quot;).bind(&quot;mousemove touchmove&quot;,g)}var h,p,f,m,v,b,y,I,w=new UGFunctions,E={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:&quot;easeOutCubic&quot;,returnAnimationEasing:&quot;easeOutCubic&quot;},T={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:&quot;&quot;,touchEnabled:!1,isControlEnabled:!0};this.enable=function(){T.isControlEnabled=!0},this.disable=function(){T.isControlEnabled=!1},this.init=function(e){h=e,m=e.getObjects(),p=m.g_gallery,f=m.g_objGallery,v=m.g_objStrip,b=m.g_objStripInner,y=m.g_options,I=m.isVertical,t(),c()},this.isSignificantPassed=function(){var t=e();return t.passedTime&gt;300?!0:t.passedDistanceAbs&gt;30?!0:!1},this.isTouchActive=function(){if(1==T.touch_active)return!0;if(1==b.is(&quot;:animated&quot;))return!0;var t=e();return t.lastActiveTime&lt;50?!0:!1},this.destroy=function(){v.unbind(&quot;mousedown&quot;),v.unbind(&quot;touchstart&quot;),jQuery(window).add(&quot;body&quot;).unbind(&quot;mouseup&quot;).unbind(&quot;touchend&quot;),jQuery(&quot;body&quot;).unbind(&quot;mousemove&quot;).unbind(&quot;touchmove&quot;)}}function UGPanelsBase(){function e(e,t){switch(n.orientation){case&quot;right&quot;:case&quot;left&quot;:var i={left:e+&quot;px&quot;};break;case&quot;top&quot;:case&quot;bottom&quot;:var i={top:e+&quot;px&quot;}}o.stop(!0).animate(i,{duration:300,easing:&quot;easeInOutQuad&quot;,queue:!1,complete:function(){t&amp;&amp;t()}})}function t(e){switch(n.orientation){case&quot;right&quot;:case&quot;left&quot;:g.placeElement(o,e,null);break;case&quot;top&quot;:case&quot;bottom&quot;:g.placeElement(o,null,e)}}function i(){s.trigger(r.events.FINISH_MOVE)}var n,r,o,a,s,l,u,d=new UniteGalleryMain,_=this,g=new UGFunctions;this.init=function(e,t,i,o,l){n=t,r=i,d=e,a=o,s=l,u=jQuery(d)},this.setHtml=function(e){if(o=e,&quot;strip&quot;==n.panelType)var t=a.strippanel_enable_handle;else var t=a.gridpanel_enable_handle;if(1==t&amp;&amp;(l=new UGPanelHandle,l.init(r,o,a,n.panelType,d),l.setHtml()),n.isDisabledAtStart===!0){var i=&quot;&quot;;o.append(i),setTimeout(function(){o.children(&quot;.ug-overlay-disabled&quot;).hide()},n.disabledAtStartTimeout)}},this.placeElements=function(){l&amp;&amp;l.placeHandle()},this.initEvents=function(){l&amp;&amp;(l.initEvents(),u.on(d.events.SLIDER_ACTION_START,function(){l.hideHandle()}),u.on(d.events.SLIDER_ACTION_END,function(){l.showHandle()}))},this.destroy=function(){l&amp;&amp;(l.destroy(),u.off(d.events.SLIDER_ACTION_START),u.off(d.events.SLIDER_ACTION_END))},this.openPanel=function(a){if(!a)var a=!1;return o.is(&quot;:animated&quot;)?!1:0==n.isClosed?!1:(n.isClosed=!1,s.trigger(r.events.OPEN_PANEL),void(a===!1?e(n.originalPos,i):(t(n.originalPos),i())))},this.closePanel=function(a){if(!a)var a=!1;if(o.is(&quot;:animated&quot;))return!1;if(1==n.isClosed)return!1;var l=_.getClosedPanelDest();n.isClosed=!0,s.trigger(r.events.CLOSE_PANEL),a===!1?e(l,i):(t(l),i())},this.setClosedState=function(e){n.originalPos=e,s.trigger(r.events.CLOSE_PANEL),n.isClosed=!0},this.setOpenedState=function(e){s.trigger(r.events.OPEN_PANEL),n.isClosed=!1},this.getClosedPanelDest=function(){var e,t=g.getElementSize(o);switch(n.orientation){case&quot;left&quot;:n.originalPos=t.left,e=-n.panelWidth;break;case&quot;right&quot;:n.originalPos=t.left;var i=d.getSize();e=i.width;break;case&quot;top&quot;:n.originalPos=t.top,e=-n.panelHeight;break;case&quot;bottom&quot;:n.originalPos=t.top;var i=d.getSize();e=i.height}return e},this.isPanelClosed=function(){return n.isClosed},this.setDisabledAtStart=function(e){return 0&gt;=e?!1:(n.isDisabledAtStart=!0,void(n.disabledAtStartTimeout=e))}}function UGPanelHandle(){function e(){s.removeClass(&quot;ug-button-hover&quot;)}function t(){s.addClass(&quot;ug-button-closed&quot;)}function i(){s.removeClass(&quot;ug-button-closed&quot;)}function n(e){return e.stopPropagation(),e.stopImmediatePropagation(),0==l.validateClickTouchstartEvent(e.type)?!0:void(a.isPanelClosed()?a.openPanel():a.closePanel())}function r(){var e=a.getOrientation();switch(e){case&quot;right&quot;:case&quot;left&quot;:&quot;top&quot;!=u.panel_handle_align&amp;&amp;&quot;bottom&quot;!=u.panel_handle_align&amp;&amp;(u.panel_handle_align=&quot;top&quot;);break;case&quot;bottom&quot;:&quot;left&quot;!=u.panel_handle_align&amp;&amp;&quot;right&quot;!=u.panel_handle_align&amp;&amp;(u.panel_handle_align=&quot;left&quot;);break;case&quot;top&quot;:&quot;left&quot;!=u.panel_handle_align&amp;&amp;&quot;right&quot;!=u.panel_handle_align&amp;&amp;(u.panel_handle_align=&quot;right&quot;)}}var o,a,s,l=new UGFunctions,u={panel_handle_align:&quot;top&quot;,panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,i,n,r){switch(a=e,o=t,n){case&quot;grid&quot;:u.panel_handle_align=i.gridpanel_handle_align,u.panel_handle_offset=i.gridpanel_handle_offset,u.panel_handle_skin=i.gridpanel_handle_skin;break;case&quot;strip&quot;:u.panel_handle_align=i.strippanel_handle_align,u.panel_handle_offset=i.strippanel_handle_offset,u.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error(&quot;Panel handle error: wrong panel type: &quot;+n)}var s=r.getOptions(),l=s.gallery_skin;&quot;&quot;==u.panel_handle_skin&amp;&amp;(u.panel_handle_skin=l)},this.setHtml=function(){var e=a.getOrientation(),t=&quot;ug-panel-handle-tip&quot;;switch(e){case&quot;right&quot;:t+=&quot; ug-handle-tip-left&quot;;break;case&quot;left&quot;:t+=&quot; ug-handle-tip-right&quot;;break;case&quot;bottom&quot;:t+=&quot; ug-handle-tip-top&quot;;break;case&quot;top&quot;:t+=&quot; ug-handle-tip-bottom&quot;}o.append(&quot;&quot;),s=o.children(&quot;.ug-panel-handle-tip&quot;)},this.initEvents=function(){l.addClassOnHover(s),s.bind(&quot;click touchstart&quot;,n),jQuery(a).on(a.events.OPEN_PANEL,function(){e(),i()}),jQuery(a).on(a.events.CLOSE_PANEL,function(){e(),t()})},this.destroy=function(){l.destroyButton(s),jQuery(a).off(a.events.OPEN_PANEL),jQuery(a).off(a.events.CLOSE_PANEL)},this.placeHandle=function(){var e=l.getElementSize(s);r();var t=a.getOrientation();switch(t){case&quot;left&quot;:l.placeElement(s,&quot;right&quot;,u.panel_handle_align,-e.width);break;case&quot;right&quot;:l.placeElement(s,-e.width,u.panel_handle_align,0,u.panel_handle_offset);break;case&quot;top&quot;:l.placeElement(s,u.panel_handle_align,&quot;bottom&quot;,u.panel_handle_offset,-e.height);break;case&quot;bottom&quot;:l.placeElement(s,u.panel_handle_align,&quot;top&quot;,u.panel_handle_offset,-e.height);break;default:throw new Error(&quot;Wrong panel orientation: &quot;+t)}},this.hideHandle=function(){1==s.is(&quot;:visible&quot;)&amp;&amp;s.hide()},this.showHandle=function(){0==s.is(&quot;:visible&quot;)&amp;&amp;s.show()}}function UGStripPanel(){function e(e,t){T=e,m=jQuery(T),j=jQuery.extend(j,t);var i=!1;1==j.strippanel_vertical_type&amp;&amp;(j=jQuery.extend(j,C),i=!0),0==j.strippanel_enable_buttons&amp;&amp;(j=jQuery.extend(j,A),i=!0),1==i&amp;&amp;(j=jQuery.extend(j,t));var n=T.getOptions(),r=n.gallery_skin;&quot;&quot;==j.strippanel_buttons_skin&amp;&amp;(j.strippanel_buttons_skin=r),v=T.getElement(),x.init(T,M,w,j,E),P=new UGThumbsStrip,P.init(T,j)}function t(){if(0==j.strippanel_vertical_type){if(0==M.panelWidth)throw new Error(&quot;Strip panel error: The width not set, please set width&quot;)}else if(0==M.panelHeight)throw new Error(&quot;Strip panel error: The height not set, please set height&quot;);if(null==M.orientation)throw new Error(&quot;Wrong orientation, please set panel orientation before run&quot;);return!0}function i(){return 1==M.isFirstRun&amp;&amp;0==t()?!1:(P.run(),s(),d(),f(),M.isFirstRun=!1,void c())}function n(e){if(!e)var e=v;if(e.append(&quot;&quot;),b=e.children(&quot;.ug-strip-panel&quot;),1==j.strippanel_enable_buttons){var t=&quot;ug-strip-arrow-left&quot;,i=&quot;ug-strip-arrow-right&quot;;1==j.strippanel_vertical_type&amp;&amp;(t=&quot;ug-strip-arrow-up&quot;,i=&quot;ug-strip-arrow-down&quot;),b.append(&quot;&quot;),b.append(&quot;&quot;)}x.setHtml(b),P.setHtml(b),1==j.strippanel_enable_buttons&amp;&amp;(I=b.children(&quot;.&quot;+t),y=b.children(&quot;.&quot;+i)),r()}function r(){&quot;&quot;!=j.strippanel_background_color&amp;&amp;b.css(&quot;background-color&quot;,j.strippanel_background_color)}function o(){var e=P.getHeight(),t=M.panelWidth;if(y){I.height(e),y.height(e);var i=I.children(&quot;.ug-strip-arrow-tip&quot;);S.placeElement(i,&quot;center&quot;,&quot;middle&quot;);var n=y.children(&quot;.ug-strip-arrow-tip&quot;);S.placeElement(n,&quot;center&quot;,&quot;middle&quot;)}var r=e+j.strippanel_padding_top+j.strippanel_padding_bottom;b.width(t),b.height(r),M.panelHeight=r;var o=t-j.strippanel_padding_left-j.strippanel_padding_right;if(y){var a=y.outerWidth();o=o-2*a-2*j.strippanel_padding_buttons}P.resize(o)}function a(){var e=P.getWidth(),t=M.panelHeight;if(y){I.width(e),y.width(e);var i=I.children(&quot;.ug-strip-arrow-tip&quot;);S.placeElement(i,&quot;center&quot;,&quot;middle&quot;);var n=y.children(&quot;.ug-strip-arrow-tip&quot;);S.placeElement(n,&quot;center&quot;,&quot;middle&quot;)}var r=e+j.strippanel_padding_left+j.strippanel_padding_right;b.width(r),b.height(t),M.panelWidth=r;var o=t-j.strippanel_padding_top-j.strippanel_padding_bottom;if(y){var a=y.outerHeight();o=o-2*a-2*j.strippanel_padding_buttons}P.resize(o)}function s(){0==j.strippanel_vertical_type?o():a()}function l(){y&amp;&amp;(S.placeElement(I,&quot;left&quot;,&quot;top&quot;,j.strippanel_padding_left,j.strippanel_padding_top),S.placeElement(y,&quot;right&quot;,&quot;top&quot;,j.strippanel_padding_right,j.strippanel_padding_top));var e=j.strippanel_padding_left;y&amp;&amp;(e+=y.outerWidth()+j.strippanel_padding_buttons),P.setPosition(e,j.strippanel_padding_top)}function u(){y&amp;&amp;(S.placeElement(I,&quot;left&quot;,&quot;top&quot;,j.strippanel_padding_left,j.strippanel_padding_top),S.placeElement(y,&quot;left&quot;,&quot;bottom&quot;,j.strippanel_padding_left,j.strippanel_padding_bottom));var e=j.strippanel_padding_top;y&amp;&amp;(e+=y.outerHeight()+j.strippanel_padding_buttons),P.setPosition(j.strippanel_padding_left,e)}function d(){0==j.strippanel_vertical_type?l():u(),x.placeElements()}function _(e){return S.isButtonDisabled(e)?!0:void(&quot;advance_item&quot;==j.strippanel_buttons_role?T.nextItem():P.scrollForeward())}function g(e){return S.isButtonDisabled(e)?!0:void(&quot;advance_item&quot;==j.strippanel_buttons_role?T.prevItem():P.scrollBack())}function c(){if(!y)return!0;if(0==P.isMoveEnabled())return S.disableButton(I),S.disableButton(y),!0;var e=P.getInnerStripLimits(),t=P.getInnerStripPos();t&gt;=e.maxPos?S.disableButton(I):S.enableButton(I),t&lt;=e.minPos?S.disableButton(y):S.enableButton(y)}function h(){c()}function p(){T.isLastItem()?S.disableButton(y):S.enableButton(y),T.isFirstItem()?S.disableButton(I):S.enableButton(I)}function f(){if(1==M.isEventsInited)return!1;if(M.isEventsInited=!0,y)if(S.addClassOnHover(y,&quot;ug-button-hover&quot;),S.addClassOnHover(I,&quot;ug-button-hover&quot;),S.setButtonOnClick(I,g),S.setButtonOnClick(y,_),&quot;advance_item&quot;!=j.strippanel_buttons_role)jQuery(P).on(P.events.STRIP_MOVE,h),jQuery(P).on(P.events.INNER_SIZE_CHANGE,c),m.on(T.events.SIZE_CHANGE,c);else{var e=T.getOptions();0==e.gallery_carousel&amp;&amp;jQuery(T).on(T.events.ITEM_CHANGE,p)}x.initEvents()}var m,v,b,y,I,w=this,E=jQuery(this),T=new UniteGalleryMain,S=new UGFunctions,P=new UGThumbsStrip,x=new UGPanelsBase;this.events={FINISH_MOVE:&quot;gridpanel_move_finish&quot;,OPEN_PANEL:&quot;open_panel&quot;,CLOSE_PANEL:&quot;close_panel&quot;};var j={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:&quot;&quot;,strippanel_padding_buttons:2,strippanel_buttons_role:&quot;scroll_strip&quot;,strippanel_enable_handle:!0,strippanel_handle_align:&quot;top&quot;,strippanel_handle_offset:0,strippanel_handle_skin:&quot;&quot;,strippanel_background_color:&quot;&quot;},C={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},A={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},M={panelType:&quot;strip&quot;,panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){y&amp;&amp;(S.destroyButton(y),S.destroyButton(I),jQuery(P).off(P.events.STRIP_MOVE),jQuery(T).off(T.events.ITEM_CHANGE),jQuery(T).off(T.events.SIZE_CHANGE)),x.destroy(),P.destroy()},this.getOrientation=function(){return M.orientation},this.setOrientation=function(e){M.orientation=e},this.init=function(t,i){e(t,i)},this.run=function(){i()},this.setHtml=function(e){n(e)},this.getElement=function(){return b},this.getSize=function(){var e=S.getElementSize(b);return e},this.setWidth=function(e){M.panelWidth=e},this.setHeight=function(e){M.panelHeight=e},this.resize=function(e){w.setWidth(e),s(),d()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return x.isPanelClosed()},this.getClosedPanelDest=function(){return x.getClosedPanelDest()},this.openPanel=function(e){x.openPanel(e)},this.closePanel=function(e){x.closePanel(e)},this.setOpenedState=function(e){x.setOpenedState(e)},this.setClosedState=function(e){x.setClosedState(e)},this.setCustomThumbs=function(e){P.setCustomThumbs(e)},this.setDisabledAtStart=function(e){x.setDisabledAtStart(e)}}function UGGridPanel(){function e(e,i){x=e,t(),i&amp;&amp;i.vertical_scroll&amp;&amp;(M.gridpanel_vertical_scroll=i.vertical_scroll),M=jQuery.extend(M,i),1==L.isHorType?(M=jQuery.extend(M,z),M=jQuery.extend(M,i)):1==M.gridpanel_vertical_scroll&amp;&amp;(M=jQuery.extend(M,O),M=jQuery.extend(M,i),M.grid_panes_direction=&quot;bottom&quot;);var n=x.getOptions(),r=n.gallery_skin;&quot;&quot;==M.gridpanel_arrows_skin&amp;&amp;(M.gridpanel_arrows_skin=r);var o=e.getObjects();I=o.g_objWrapper,A.init(x,L,S,M,P),C=new UGThumbsGrid,C.init(x,M)}function t(){if(null==L.orientation)throw new Error(&quot;Wrong orientation, please set panel orientation before run&quot;)}function i(){t(),o(),C.run(),l(),u(),y(),d()}function n(){I.append(&quot;&quot;),w=I.children(&quot;.ug-grid-panel&quot;),L.isHorType?(w.append(&quot;&quot;),w.append(&quot;&quot;),T=w.children(&quot;.grid-arrow-left-hortype&quot;),E=w.children(&quot;.grid-arrow-right-hortype&quot;)):0==M.gridpanel_vertical_scroll?(w.append(&quot;&quot;),w.append(&quot;&quot;),T=w.children(&quot;.grid-arrow-left&quot;),E=w.children(&quot;.grid-arrow-right&quot;)):(w.append(&quot;&quot;),w.append(&quot;&quot;),T=w.children(&quot;.grid-arrow-up&quot;),E=w.children(&quot;.grid-arrow-down&quot;)),A.setHtml(w),T.fadeTo(0,0),E.fadeTo(0,0),C.setHtml(w),r()}function r(){&quot;&quot;!=M.gridpanel_background_color&amp;&amp;w.css(&quot;background-color&quot;,M.gridpanel_background_color)}function o(){&quot;center&quot;==M.gridpanel_grid_align&amp;&amp;(M.gridpanel_grid_align=&quot;middle&quot;)}function a(){var e=M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom,t=L.panelHeight-e;if(0==M.gridpanel_arrows_always_on){var i=C.getNumPanesEstimationByHeight(t);if(1==i)return t}var n=j.getElementSize(E),r=n.height,e=r+M.gridpanel_arrows_padding_vert;return 1==M.gridpanel_vertical_scroll&amp;&amp;(e*=2),e+=M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom,t=L.panelHeight-e}function s(){var e=M.gridpanel_padding_border_left+M.gridpanel_padding_border_right,t=L.panelWidth-e;if(0==M.gridpanel_arrows_always_on){var i=C.getNumPanesEstimationByWidth(t);if(1==i)return t}var n=j.getElementSize(E),r=n.width;return e+=2*(r+M.gridpanel_arrows_padding_hor),t=L.panelWidth-e}function l(){var e=!1;if(1==M.gridpanel_arrows_always_on)e=!0;else{var t=C.getNumPanes();t&gt;1&amp;&amp;(e=!0)}1==e?(E.show().fadeTo(0,1),T.show().fadeTo(0,1),L.arrowsVisible=!0):(E.hide(),T.hide(),L.arrowsVisible=!1)}function u(){var e=C.getSize();1==L.isHorType?L.panelHeight=e.height+M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom:L.panelWidth=e.width+M.gridpanel_padding_border_left+M.gridpanel_padding_border_right,j.setElementSize(w,L.panelWidth,L.panelHeight)}function d(){return 1==L.isEventsInited?!1:(L.isEventsInited=!0,T&amp;&amp;(j.addClassOnHover(T),C.attachPrevPaneButton(T)),E&amp;&amp;(j.addClassOnHover(E),C.attachNextPaneButton(E)),void A.initEvents())}function _(){var e=M.gridpanel_padding_border_left;return e}function g(){var e=M.gridpanel_grid_align,t=0;switch(e){case&quot;top&quot;:t=M.gridpanel_padding_border_top;break;case&quot;bottom&quot;:t=M.gridpanel_padding_border_bottom}var i=_(),n=C.getElement();j.placeElement(n,i,e,0,t)}function c(){var e,t,i,n,r=j.getElementSize(T),o=C.getSize();switch(M.gridpanel_grid_align){default:case&quot;top&quot;:e=M.gridpanel_padding_border_top+r.height+M.gridpanel_arrows_padding_vert;break;case&quot;middle&quot;:e=&quot;middle&quot;;break;case&quot;bottom&quot;:e=L.panelHeight-o.height-r.height-M.gridpanel_padding_border_bottom-M.gridpanel_arrows_padding_vert}var a=_(),s=C.getElement();j.placeElement(s,a,e);var o=C.getSize();switch(M.gridpanel_arrows_align_vert){default:case&quot;center&quot;:case&quot;middle&quot;:t=(o.top-r.height)/2,i=o.bottom+(L.panelHeight-o.bottom-r.height)/2,n=0;break;case&quot;grid&quot;:t=o.top-r.height-M.gridpanel_arrows_padding_vert_vert,i=o.bottom+M.gridpanel_arrows_padding_vert,n=0;break;case&quot;border&quot;:case&quot;borders&quot;:t=M.gridpanel_padding_border_top,i=&quot;bottom&quot;,n=M.gridpanel_padding_border_bottom}j.placeElement(T,&quot;center&quot;,t),j.placeElement(E,&quot;center&quot;,i,0,n)}function h(){1==L.arrowsVisible?c():g()}function p(){var e,t,i,n,r=j.getElementSize(T),o=C.getSize(),a=M.gridpanel_padding_border_top;switch(M.gridpanel_grid_align){case&quot;middle&quot;:switch(M.gridpanel_arrows_align_vert){default:var s=o.height+M.gridpanel_arrows_padding_vert+r.height;a=(L.panelHeight-s)/2;break;case&quot;border&quot;:case&quot;borders&quot;:var l=L.panelHeight-r.height-M.gridpanel_padding_border_bottom;a=(l-o.height)/2}break;case&quot;bottom&quot;:var s=o.height+r.height+M.gridpanel_arrows_padding_vert;a=L.panelHeight-s-M.gridpanel_padding_border_bottom}var u=C.getElement(),d=_();j.placeElement(u,d,a);var o=C.getSize();switch(M.gridpanel_arrows_align_vert){default:case&quot;center&quot;:case&quot;middle&quot;:e=o.bottom+(L.panelHeight-o.bottom-r.height)/2,i=0;break;case&quot;grid&quot;:e=o.bottom+M.gridpanel_arrows_padding_vert,i=0;break;case&quot;border&quot;:case&quot;borders&quot;:e=&quot;bottom&quot;,i=M.gridpanel_padding_border_bottom}t=-r.width/2-M.gridpanel_space_between_arrows/2,j.placeElement(T,&quot;center&quot;,e,t,i);var n=Math.abs(t);j.placeElement(E,&quot;center&quot;,e,n,i)}function f(){1==L.arrowsVisible?p():g()}function m(){var e,t,i,n,r=j.getElementSize(T),o=C.getSize();switch(M.gridpanel_grid_align){default:case&quot;left&quot;:e=M.gridpanel_padding_border_left+M.gridpanel_arrows_padding_hor+r.width;break;case&quot;middle&quot;:case&quot;center&quot;:e=&quot;center&quot;;break;case&quot;right&quot;:e=L.panelWidth-o.width-r.width-M.gridpanel_padding_border_right-M.gridpanel_arrows_padding_hor}var a=C.getElement();switch(j.placeElement(a,e,M.gridpanel_padding_border_top),o=C.getSize(),M.gridpanel_arrows_align_vert){default:case&quot;center&quot;:case&quot;middle&quot;:n=(o.height-r.height)/2+o.top;break;case&quot;top&quot;:n=M.gridpanel_padding_border_top+M.gridpanel_arrows_padding_vert;break;case&quot;bottom&quot;:n=L.panelHeight-M.gridpanel_padding_border_bottom-M.gridpanel_arrows_padding_vert-r.height}switch(M.gridpanel_arrows_align_hor){default:case&quot;borders&quot;:t=M.gridpanel_padding_border_left,i=L.panelWidth-M.gridpanel_padding_border_right-r.width;break;case&quot;grid&quot;:t=o.left-M.gridpanel_arrows_padding_hor-r.width,i=o.right+M.gridpanel_arrows_padding_hor;break;case&quot;center&quot;:t=(o.left-r.width)/2,i=o.right+(L.panelWidth-o.right-r.width)/2}j.placeElement(T,t,n),j.placeElement(E,i,n)}function v(){var e,t=C.getSize();switch(M.gridpanel_grid_align){default:case&quot;left&quot;:e=M.gridpanel_padding_border_left;break;case&quot;middle&quot;:case&quot;center&quot;:e=&quot;center&quot;;break;case&quot;right&quot;:e=L.panelWidth-t.width-M.gridpanel_padding_border_right}var i=C.getElement();j.placeElement(i,e,M.gridpanel_padding_border_top)}function b(){1==L.arrowsVisible?m():v()}function y(){0==L.isHorType?1==M.gridpanel_vertical_scroll?h():f():b(),A.placeElements()}var I,w,E,T,S=this,P=jQuery(this),x=new UniteGalleryMain,j=new UGFunctions,C=new UGThumbsGrid,A=new UGPanelsBase;this.events={FINISH_MOVE:&quot;gridpanel_move_finish&quot;,OPEN_PANEL:&quot;open_panel&quot;,CLOSE_PANEL:&quot;close_panel&quot;};var M={gridpanel_vertical_scroll:!0,gridpanel_grid_align:&quot;middle&quot;,gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:&quot;&quot;,gridpanel_arrows_align_vert:&quot;middle&quot;,gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:&quot;center&quot;,gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:&quot;top&quot;,
gridpanel_handle_offset:0,gridpanel_handle_skin:&quot;&quot;,gridpanel_background_color:&quot;&quot;},O={gridpanel_grid_align:&quot;middle&quot;,gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},z={gridpanel_grid_align:&quot;center&quot;},L={panelType:&quot;grid&quot;,isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){T&amp;&amp;j.destroyButton(T),E&amp;&amp;j.destroyButton(E),A.destroy(),C.destroy()},this.getOrientation=function(){return L.orientation},this.setOrientation=function(e){switch(L.orientation=e,e){case&quot;right&quot;:case&quot;left&quot;:L.isHorType=!1;break;case&quot;top&quot;:case&quot;bottom&quot;:L.isHorType=!0;break;default:throw new Error(&quot;Wrong grid panel orientation: &quot;+e)}},this.setHeight=function(e){if(1==L.isHorType)throw new Error(&quot;setHeight is not appliable to this orientatio (&quot;+L.orientation+&quot;). Please use setWidth&quot;);L.panelHeight=e;var t=a();C.setMaxHeight(t)},this.setWidth=function(e){if(0==L.isHorType)throw new Error(&quot;setWidth is not appliable to this orientatio (&quot;+L.orientation+&quot;). Please use setHeight&quot;);L.panelWidth=e;var t=s();C.setMaxWidth(t)},this.init=function(t,i){e(t,i)},this.setHtml=function(){n()},this.run=function(){i()},this.getElement=function(){return w},this.getSize=function(){var e=j.getElementSize(w);return e},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return A.isPanelClosed()},this.getClosedPanelDest=function(){return A.getClosedPanelDest()},this.openPanel=function(e){A.openPanel(e)},this.closePanel=function(e){A.closePanel(e)},this.setOpenedState=function(e){A.setOpenedState(e)},this.setClosedState=function(e){A.setClosedState(e)},this.setDisabledAtStart=function(e){A.setDisabledAtStart(e)}}function UGThumbsGrid(){function e(e,t,i){if(N=e.getObjects(),B=e,B.attachThumbsPanel(&quot;grid&quot;,Q),H=jQuery(e),k=N.g_objWrapper,R=N.g_arrItems,i===!0&amp;&amp;(X.isTilesMode=!0),X.numThumbs=R.length,_(t),1==X.isTilesMode){U.setFixedMode(),U.setApproveClickFunction(x),U.init(e,V);var n=U.getOptions();X.tileMaxHeight=n.tile_height,X.tileMaxWidth=n.tile_width,Y=U.getObjThumbs()}else t.thumb_fixed_size=!0,Y.init(e,t)}function t(e){var t=k;e&amp;&amp;(t=e),t.append(&quot;&quot;),G=t.children(&quot;.ug-thumbs-grid&quot;),D=G.children(&quot;.ug-thumbs-grid-inner&quot;),1==X.isTilesMode?U.setHtml(D):Y.setHtmlThumbs(D)}function n(){if(0==X.isHorizontal){if(0==X.gridHeight)throw new Error(&quot;You must set height before run.&quot;)}else if(0==X.gridWidth)throw new Error(&quot;You must set width before run.&quot;)}function r(){var e=B.getSelectedItem();if(n(),1==X.isFirstTimeRun)L(),1==X.isTilesMode?(a(),u(),U.run()):(Y.setHtmlProperties(),u(),Y.loadThumbsImages());else if(1==X.isTilesMode){var t=a();1==t&amp;&amp;(u(),U.run())}if(p(),1==X.isFirstTimeRun&amp;&amp;X.isTilesMode){var i=Y.getThumbs();i.each(function(e,t){k.trigger(X.eventSizeChange,jQuery(t))}),i.fadeTo(0,1)}null!=e&amp;&amp;d(e.index),W.trigger(Q.events.PANE_CHANGE,X.currentPane),X.isFirstTimeRun=!1}function o(){if(1==X.isTilesMode)var e=U.getGlobalTileSize();else var e=Y.getGlobalThumbSize();return e}function a(){if(0==X.isTilesMode)throw new Error(&quot;Dynamic size can be set only in tiles mode&quot;);var e=!1,t=B.isMobileMode(),i=X.spaceBetweenCols;1==t?(X.spaceBetweenCols=V.grid_space_between_mobile,X.spaceBetweenRows=V.grid_space_between_mobile):(X.spaceBetweenCols=V.grid_space_between_cols,X.spaceBetweenRows=V.grid_space_between_rows),X.spaceBetweenCols!=i&amp;&amp;(e=!0);var n=o(),r=n.width,a=X.tileMaxWidth,s=F.getNumItemsInSpace(X.gridWidth,X.tileMaxWidth,X.spaceBetweenCols);return s&lt;V.grid_min_cols&amp;&amp;(a=F.getItemSizeInSpace(X.gridWidth,V.grid_min_cols,X.spaceBetweenCols)),U.setTileSizeOptions(a),a!=r&amp;&amp;(e=!0),e}function s(){var e=o(),t=e.height,i=X.gridWidth,n=V.grid_num_rows*t+(V.grid_num_rows-1)*X.spaceBetweenRows+2*V.grid_padding;X.gridHeight=n,F.setElementSize(G,i,n),F.setElementSize(D,i,n),X.innerWidth=i,X.innerHeight=n}function l(){var e=o(),t=e.width,i=V.grid_num_cols*t+(V.grid_num_cols-1)*X.spaceBetweenCols+2*V.grid_padding,n=X.gridHeight;X.gridWidth=i,F.setElementSize(G,i,n),F.setElementSize(D,i,n),X.innerWidth=i,X.innerHeight=n}function u(){0==X.isHorizontal?l():s()}function d(e){var t=T(e);return-1==t?!1:void Q.gotoPane(t,&quot;scroll&quot;)}function _(e){V=jQuery.extend(V,e),Y.setOptions(e),X.isNavigationVertical=&quot;top&quot;==V.grid_panes_direction||&quot;bottom&quot;==V.grid_panes_direction,X.spaceBetweenCols=V.grid_space_between_cols,X.spaceBetweenRows=V.grid_space_between_rows}function g(){var e=D.children(&quot;.ug-thumb-wrapper&quot;),t=0,n=0,r=0,o=0,a=0,s=0;X.innerWidth=0,X.numPanes=1,X.arrPanes=[],X.numThumbsInPane=0,X.arrPanes.push(o);var l=e.length;for(i=0;i&lt;l;i++){var u=jQuery(e[i]);F.placeElement(u,t,n);var d=u.outerWidth(),_=u.outerHeight();t&gt;a&amp;&amp;(a=t);var g=n+_;g&gt;s&amp;&amp;(s=g);var c=a+d;c&gt;X.innerWidth&amp;&amp;(X.innerWidth=c),t+=d+X.spaceBetweenCols,r++,r&gt;=V.grid_num_cols&amp;&amp;(n+=_+X.spaceBetweenRows,t=o,r=0),1==X.numPanes&amp;&amp;X.numThumbsInPane++,n+_&gt;X.gridHeight&amp;&amp;(n=0,o=X.innerWidth+X.spaceBetweenCols,t=o,r=0,1==X.isMaxHeight&amp;&amp;1==X.numPanes&amp;&amp;(X.gridHeight=s,G.height(X.gridHeight)),i&lt;l-1&amp;&amp;(X.numPanes++,X.arrPanes.push(o)))}D.width(X.innerWidth),1==X.isMaxHeight&amp;&amp;1==X.numPanes&amp;&amp;(X.gridHeight=s,G.height(s))}function c(){var e=D.children(&quot;.ug-thumb-wrapper&quot;),t=0,n=0,r=0,o=0,a=0,s=0;X.innerWidth=0,X.numPanes=1,X.arrPanes=[],X.numThumbsInPane=0,X.arrPanes.push(a);var l=e.length;for(i=0;i&lt;l;i++){var u=jQuery(e[i]);F.placeElement(u,t,n);var d=u.outerWidth(),_=u.outerHeight();t+=d+X.spaceBetweenCols;var g=n+_;g&gt;r&amp;&amp;(r=g),o++,o&gt;=V.grid_num_cols&amp;&amp;(n+=_+X.spaceBetweenRows,t=a,o=0),1==X.numPanes&amp;&amp;X.numThumbsInPane++,g=n+_;var c=s+X.gridHeight;g&gt;c&amp;&amp;(1==X.isMaxHeight&amp;&amp;1==X.numPanes&amp;&amp;(X.gridHeight=r,G.height(X.gridHeight),c=X.gridHeight),n=c+X.spaceBetweenRows,s=n,a=0,t=a,o=0,i&lt;l-1&amp;&amp;(X.numPanes++,X.arrPanes.push(n)))}D.height(r),X.innerHeight=r,1==X.isMaxHeight&amp;&amp;1==X.numPanes&amp;&amp;(X.gridHeight=r,G.height(r))}function h(){var e=D.children(&quot;.ug-thumb-wrapper&quot;),t=V.grid_padding,n=V.grid_padding,r=n,o=t,a=0,s=0,l=0,u=0,d=0;X.innerWidth=0,X.numPanes=1,X.arrPanes=[],X.numThumbsInPane=0,X.arrPanes.push(t-V.grid_padding);var _=e.length;for(i=0;i&lt;_;i++){var g=jQuery(e[i]),c=g.outerWidth(),h=g.outerHeight();o-t+c&gt;X.gridWidth&amp;&amp;(d++,r=0,d&gt;=V.grid_num_rows?(d=0,t=o,r=n,l=0,1==X.numPanes&amp;&amp;(X.gridWidth=a+V.grid_padding,G.width(X.gridWidth),X.gridHeight=u+V.grid_padding,G.height(X.gridHeight)),X.numPanes++,X.arrPanes.push(t-V.grid_padding)):(o=t,r=l+X.spaceBetweenRows)),F.placeElement(g,o,r);var p=o+c;p&gt;a&amp;&amp;(a=p);var f=r+h;f&gt;l&amp;&amp;(l=f),f&gt;u&amp;&amp;(u=f),f&gt;s&amp;&amp;(s=f);var p=a+c;p&gt;X.innerWidth&amp;&amp;(X.innerWidth=p),o+=c+X.spaceBetweenCols,1==X.numPanes&amp;&amp;X.numThumbsInPane++}X.innerWidth=a+V.grid_padding,X.innerHeight=u+V.grid_padding,D.width(X.innerWidth),D.height(X.innerHeight),1==X.numPanes&amp;&amp;(X.gridWidth=a+V.grid_padding,X.gridHeight=u+V.grid_padding,G.width(X.gridWidth),G.height(X.gridHeight))}function p(){0==X.isHorizontal?X.isNavigationVertical?c():g():h()}function f(e){if(0&gt;e||e&gt;=X.numThumbs)throw new Error(&quot;Thumb not exists: &quot;+e);return!0}function m(e){if(e&gt;=X.numPanes||0&gt;e)throw new Error(&quot;Pane &quot;+index+&quot; doesn't exists.&quot;);return!0}function v(e){var t=w(e);return 0==t?!1:void D.css(t)}function b(e){var t=w(e);return 0==t?!1:void D.stop(!0).animate(t,{duration:V.grid_transition_duration,easing:V.grid_transition_easing,queue:!1})}function y(){var e=-X.arrPanes[X.currentPane];b(e)}function I(){return 1==X.isNavigationVertical?X.gridHeight:X.gridWidth}function w(e){var t={};return 1==X.isNavigationVertical?t.top=e+&quot;px&quot;:t.left=e+&quot;px&quot;,t}function E(){var e=F.getElementSize(D);return 1==X.isNavigationVertical?e.top:e.left}function T(e){if(0==f(e))return-1;var t=Math.floor(e/X.numThumbsInPane);return t}function S(){if(1==X.numPanes)return!1;var e=F.getStoredEventData(X.storedEventID),t=e.diffTime,i=E(),n=Math.abs(i-e.startInnerPos);return n&gt;30?!0:n&gt;5&amp;&amp;t&gt;300?!0:!1}function P(){var e=F.getStoredEventData(X.storedEventID),t=E();diffPos=Math.abs(e.startInnerPos-t);var i=I(),n=Math.round(3*i/8);return diffPos&gt;=n?!0:e.diffTime&lt;300&amp;&amp;diffPos&gt;25?!0:!1}function x(){if(1==X.numPanes)return!0;var e=F.isApproveStoredEventClick(X.storedEventID,X.isNavigationVertical);return e}function j(e){if(1==S())return!0;var t=jQuery(this),i=Y.getItemByThumb(t);B.selectItem(i)}function C(e){if(1==X.numPanes)return!0;if(1==X.touchActive)return!0;0==X.isTilesMode&amp;&amp;e.preventDefault(),X.touchActive=!0;var t={startInnerPos:E()};F.storeEventData(e,X.storedEventID,t)}function A(){if(0==V.grid_vertical_scroll_ondrag)return!1;if(1==X.isNavigationVertical)return!1;var e=F.handleScrollTop(X.storedEventID);return&quot;vert&quot;===e?!0:!1}function M(e){if(0==X.touchActive)return!0;e.preventDefault(),F.updateStoredEventData(e,X.storedEventID);var t=F.getStoredEventData(X.storedEventID,X.isNavigationVertical),i=A();if(i)return!0;var n=t.diffMousePos,r=t.startInnerPos+n,o=n&gt;0?&quot;prev&quot;:&quot;next&quot;,a=X.arrPanes[X.numPanes-1];0==V.grid_carousel&amp;&amp;r&gt;0&amp;&amp;&quot;prev&quot;==o&amp;&amp;(r/=3),0==V.grid_carousel&amp;&amp;-a&gt;r&amp;&amp;&quot;next&quot;==o&amp;&amp;(r=t.startInnerPos+n/3),v(r)}function O(e){if(0==X.touchActive)return!0;F.updateStoredEventData(e,X.storedEventID);var t=F.getStoredEventData(X.storedEventID,X.isNavigationVertical);if(X.touchActive=!1,0==P())return y(),!0;var i=E(),n=i-t.startInnerPos,r=n&gt;0?&quot;prev&quot;:&quot;next&quot;;&quot;next&quot;==r?0==V.grid_carousel&amp;&amp;Q.isLastPane()?y():Q.nextPane():0==V.grid_carousel&amp;&amp;Q.isFirstPane()?y():Q.prevPane()}function z(){var e=B.getSelectedItem();Y.setThumbSelected(e.objThumbWrapper),d(e.index)}function L(){if(0==X.isTilesMode){Y.initEvents();var e=G.find(&quot;.ug-thumb-wrapper&quot;);e.on(&quot;click touchend&quot;,j),H.on(B.events.ITEM_CHANGE,z)}else U.initEvents();G.bind(&quot;mousedown touchstart&quot;,C),jQuery(&quot;body&quot;).bind(&quot;mousemove touchmove&quot;,M),jQuery(window).add(&quot;body&quot;).bind(&quot;mouseup touchend&quot;,O)}var H,N,k,R,G,D,Q=this,W=jQuery(this),B=new UniteGalleryMain,F=new UGFunctions,Y=new UGThumbsGeneral,U=new UGTileDesign,V={grid_panes_direction:&quot;left&quot;,grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:&quot;easeInOutQuad&quot;,grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:&quot;pane_change&quot;};var X={eventSizeChange:&quot;thumb_size_change&quot;,isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:&quot;thumbsgrid&quot;,tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){if(0==X.isTilesMode){var e=G.find(&quot;.ug-thumb-wrapper&quot;);e.off(&quot;click&quot;),e.off(&quot;touchend&quot;),H.on(B.events.ITEM_CHANGE),Y.destroy()}else U.destroy();G.unbind(&quot;mousedown&quot;),G.unbind(&quot;touchstart&quot;),jQuery(&quot;body&quot;).unbind(&quot;mousemove&quot;),jQuery(&quot;body&quot;).unbind(&quot;touchmove&quot;),jQuery(window).add(&quot;body&quot;).unbind(&quot;touchend&quot;),jQuery(window).add(&quot;body&quot;).unbind(&quot;mouseup&quot;),W.off(Q.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){Y.setThumbUnselected(e)},this.isItemThumbVisible=function(e){var t=e.index,i=T(t);return i==X.currentPane?!0:!1},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==X.isTilesMode)var t=V.tile_height;else var i=Y.getOptions(),t=i.thumb_height;var n=Y.getNumThumbs(),r=Math.ceil(n/V.grid_num_cols),o=r*t+(r-1)*X.spaceBetweenRows,a=Math.ceil(o/e);return a},this.getNumPanesEstimationByWidth=function(e){if(X.isTilesMode)var t=V.tile_width;else var i=Y.getOptions(),t=i.thumb_width;var n=Y.getNumThumbs(),r=Math.ceil(n/V.grid_num_rows),o=r*t+(r-1)*X.spaceBetweenCols,a=Math.ceil(o/e);return a},this.getHeightEstimationByWidth=function(e){if(0==X.isTilesMode)throw new Error(&quot;This function works only with tiles mode&quot;);var t=Y.getNumThumbs(),i=F.getNumItemsInSpace(e,V.tile_width,X.spaceBetweenCols),n=Math.ceil(t/i);n&gt;V.grid_num_rows&amp;&amp;(n=V.grid_num_rows);var r=F.getSpaceByNumItems(n,V.tile_height,X.spaceBetweenRows);return r+=2*V.grid_padding},this.getElement=function(){return G},this.getSize=function(){var e=F.getElementSize(G);return e},this.getNumPanes=function(){return X.numPanes},this.isFirstPane=function(){return 0==X.currentPane?!0:!1},this.isLastPane=function(){return X.currentPane==X.numPanes-1?!0:!1},this.getPaneInfo=function(){var e={pane:X.currentPane,total:X.numPanes};return e},this.getPane=function(){return X.currentPane},this.setWidth=function(e){X.gridWidth=e,X.isHorizontal=!0},this.setMaxWidth=function(e){X.gridWidth=e,X.isMaxWidth=!0,X.isHorizontal=!0},this.setHeight=function(e){X.gridHeight=e,X.isHorizontal=!1},this.setMaxHeight=function(e){X.gridHeight=e,X.isMaxHeight=!0,X.isHorizontal=!1},this.gotoPane=function(e,t){if(0==m(e))return!1;if(e==X.currentPane)return!1;var i=-X.arrPanes[e];X.currentPane=e,b(i),W.trigger(Q.events.PANE_CHANGE,e)},this.nextPane=function(){var e=X.currentPane+1;if(e&gt;=X.numPanes){if(0==V.grid_carousel)return!0;e=0}Q.gotoPane(e,&quot;next&quot;)},this.prevPane=function(){var e=X.currentPane-1;return 0&gt;e&amp;&amp;(e=X.numPanes-1,0==V.grid_carousel)?!1:void Q.gotoPane(e,&quot;prev&quot;)},this.attachNextPaneButton=function(e){return F.setButtonOnClick(e,Q.nextPane),1==V.grid_carousel?!0:(Q.isLastPane()&amp;&amp;e.addClass(&quot;ug-button-disabled&quot;),void W.on(Q.events.PANE_CHANGE,function(){Q.isLastPane()?e.addClass(&quot;ug-button-disabled&quot;):e.removeClass(&quot;ug-button-disabled&quot;)}))},this.attachPrevPaneButton=function(e){return F.setButtonOnClick(e,Q.prevPane),1==V.grid_carousel?!0:(Q.isFirstPane()&amp;&amp;e.addClass(&quot;ug-button-disabled&quot;),void W.on(Q.events.PANE_CHANGE,function(){Q.isFirstPane()?e.addClass(&quot;ug-button-disabled&quot;):e.removeClass(&quot;ug-button-disabled&quot;)}))},this.attachBullets=function(e){e.setActive(X.currentPane),jQuery(e).on(e.events.BULLET_CLICK,function(t,i){Q.gotoPane(i,&quot;theme&quot;),e.setActive(i)}),jQuery(Q).on(Q.events.PANE_CHANGE,function(t,i){e.setActive(i)})},this.getObjTileDesign=function(){return U},this.init=function(t,i,n){e(t,i,n)},this.run=function(){r()},this.setHtml=function(e){t(e)}}function UGTiles(){function e(e,i){g_objects=e.getObjects(),oe=e,K=jQuery(e),J=g_objects.g_objWrapper,ee=g_objects.g_arrItems,de=jQuery.extend(de,i),t(),se.init(e,de),le=se.getObjThumbs()}function t(){de.tiles_min_columns&lt;1&amp;&amp;(de.tiles_min_columns=1),0!=de.tiles_max_columns&amp;&amp;de.tiles_max_columns&lt;de.tiles_min_columns&amp;&amp;(de.tiles_max_columns=de.tiles_min_columns)}function i(e){if(!e)if($)e=$;else var e=J;$=e;var t=de.tiles_type;e.addClass(&quot;ug-tiletype-&quot;+t),se.setHtml(e),e.children(&quot;.ug-thumb-wrapper&quot;).hide()}function n(){if($.addClass(&quot;ug-tiles-rest-mode&quot;),_e.isTransInited=!0,1==de.tiles_enable_transition){$.addClass(&quot;ug-tiles-transit&quot;);var e=se.getOptions();1==e.tile_enable_image_effect&amp;&amp;0==e.tile_image_effect_reverse&amp;&amp;$.addClass(&quot;ug-tiles-transit-overlays&quot;),_e.isTransActive=!0}}function r(){return ae.getElementSize($).width}function o(){return 0==_e.isTransInited?!1:($.addClass(&quot;ug-tiles-transition-active&quot;),$.removeClass(&quot;ug-tiles-rest-mode&quot;),0==_e.isTransActive?!1:void se.disableEvents())}function a(){return 0==_e.isTransInited?!1:($.removeClass(&quot;ug-tiles-transition-active&quot;),void $.addClass(&quot;ug-tiles-rest-mode&quot;))}function s(){1==_e.isTransActive?(setTimeout(function(){se.enableEvents(),se.triggerSizeChangeEventAllTiles(),a()},800),_e.handle&amp;&amp;clearTimeout(_e.handle),_e.handle=setTimeout(function(){a(),se.triggerSizeChangeEventAllTiles(),_e.handle=null},2e3)):(se.triggerSizeChangeEventAllTiles(),a())}function l(){ue.colWidth=(ue.availWidth-ue.colGap*(ue.numCols-1))/ue.numCols,ue.colWidth=Math.floor(ue.colWidth),ue.totalWidth=ae.getSpaceByNumItems(ue.numCols,ue.colWidth,ue.colGap)}function u(){if(ue.colWidth=de.tiles_col_width,ue.minCols=de.tiles_min_columns,ue.maxCols=de.tiles_max_columns,0==oe.isMobileMode()?ue.colGap=de.tiles_space_between_cols:ue.colGap=de.tiles_space_between_cols_mobile,ue.galleryWidth=r(),ue.availWidth=ue.galleryWidth,1==de.tiles_include_padding&amp;&amp;(ue.availWidth=ue.galleryWidth-2*ue.colGap),1==de.tiles_exact_width)ue.numCols=ae.getNumItemsInSpace(ue.availWidth,ue.colWidth,ue.colGap),ue.maxCols&gt;0&amp;&amp;ue.numCols&gt;ue.maxCols&amp;&amp;(ue.numCols=ue.maxCols),ue.numCols&lt;ue.minCols?(ue.numCols=ue.minCols,l()):ue.totalWidth=ue.numCols*(ue.colWidth+ue.colGap)-ue.colGap;else{var e=ae.getNumItemsInSpaceRound(ue.availWidth,ue.colWidth,ue.colGap);e&lt;ue.minCols?e=ue.minCols:0!=ue.maxCols&amp;&amp;e&gt;ue.maxCols&amp;&amp;(e=ue.maxCols),ue.numCols=e,l()}switch(de.tiles_align){case&quot;center&quot;:default:ue.addX=Math.round((ue.galleryWidth-ue.totalWidth)/2);break;case&quot;left&quot;:ue.addX=0;break;case&quot;right&quot;:ue.addX=ue.galleryWidth-ue.totalWidth}for(ue.arrPosx=[],col=0;col&lt;ue.numCols;col++){var t=ae.getColX(col,ue.colWidth,ue.colGap);ue.arrPosx[col]=t+ue.addX}}function d(){ue.maxColHeight=0,ue.colHeights=[0]}function _(){var e=0,t=999999999;for(col=0;col&lt;ue.numCols;col++){if(void 0==ue.colHeights[col]||0==ue.colHeights[col])return col;ue.colHeights[col]&lt;t&amp;&amp;(e=col,t=ue.colHeights[col])}return e}function g(e,t,i,n){if(null===n||&quot;undefined&quot;==typeof n)var n=_();var r=0;void 0!==ue.colHeights[n]&amp;&amp;(r=ue.colHeights[n]);var o=se.getTileHeightByWidth(ue.colWidth,e);if(null===o){if(1==de.tiles_enable_transition)throw new Error(&quot;Can't know tile height, please turn off transition&quot;);var a=ae.getElementSize(e);o=a.height}var s=ue.arrPosx[n];ae.placeElement(e,s,r);var l=r+o;ue.colHeights[n]=l+ue.colGap,ue.maxColHeight&lt;l&amp;&amp;(ue.maxColHeight=l),1==t&amp;&amp;e.show().fadeTo(0,1),1==i&amp;&amp;$.height(ue.maxColHeight)}function c(e){e||(e=!1),u(),d();var t=le.getThumbs(le.type.GET_THUMBS_RATIO);o(),se.resizeAllTiles(ue.colWidth,se.resizemode.VISIBLE_ELEMENTS,t);for(var i=0;i&lt;t.length;i++){var n=jQuery(t[i]),r=void 0;1==de.tiles_keep_order&amp;&amp;(r=ae.getColByIndex(ue.numCols,i)),g(n,e,!1,r)}s();var a=$.height();1==_e.isTransActive&amp;&amp;a&gt;ue.maxColHeight?setTimeout(function(){$.height(ue.maxColHeight)},700):$.height(ue.maxColHeight)}function h(e){var t=e.index(),i=oe.getItem(t);if(i.ordered_placed===!0)return!1;var n=ae.getPrevRowSameColIndex(t,ue.numCols);if(0&gt;n)return!0;var r=oe.getItem(n);return r.ordered_placed===!0?!0:!1}function p(e,t){if(t!==!0){var i=h(e);if(0==i)return!1}var n=e.index(),r=ae.getColByIndex(ue.numCols,n),o=oe.getItem(n);se.resizeTile(e,ue.colWidth),g(e,!0,!0,r),o.ordered_placed=!0;var a=oe.getNumItems(),s=ae.getNextRowSameColIndex(n,ue.numCols);if(s&gt;=a)return!1;var l=le.getThumbByIndex(s),u=oe.getItem(s);le.isThumbLoaded(l);le.isThumbLoaded(l)&amp;&amp;!u.ordered_placed&amp;&amp;p(l,!0)}function f(e,t){if(1==t)return!1;e=jQuery(e);var i=jQuery(e).parent();le.triggerImageLoadedEvent(i,e),1==de.tiles_keep_order?p(i):(se.resizeTile(i,ue.colWidth),g(i,!0,!0))}function m(){var e=le.getThumbs(le.type.GET_THUMBS_NO_RATIO);if(!e||0==e.length)return!1;if(_e.isAllLoaded=!1,1==_e.isFirstPlaced){u(),d();var t=Math.abs(ue.galleryWidth-ue.totalWidth);if(1==de.tiles_set_initial_height&amp;&amp;0==ae.isScrollbarExists()&amp;&amp;25&gt;t){var i=(e.length,Math.ceil(e.length/ue.numCols)),r=i*de.tiles_col_width*.75;$.height(r),u()}}e.fadeTo(0,0);var o=e.find(&quot;img.ug-thumb-image&quot;),a=ue.numCols,s=ue.galleryWidth;ae.checkImagesLoaded(o,function(){u(),(a!=ue.numCols||s!=ue.galleryWidth)&amp;&amp;c(!1),n(),re.trigger(ne.events.ALL_TILES_LOADED)},function(e,t){1==_e.isFirstPlaced&amp;&amp;oe.triggerEvent(ne.events.TILES_FIRST_PLACED),f(e,t)})}function v(){var e=r(),t=le.getThumbs(!0),i=de.tiles_justified_row_height,n=[],o=0,a=de.tiles_justified_space_between,s=t.length;jQuery.each(t,function(e,t){t=jQuery(t);var r=le.getItemByThumb(t),a=r.thumbWidth,s=r.thumbHeight;s!==i&amp;&amp;(a=Math.floor(r.thumbRatioByWidth*i)),n[e]=a,o+=a});var l=Math.ceil(o/e);l&gt;s&amp;&amp;(l=s);var u=o/l,d=[],_=0,g=[],c=[],h=0,p=0;jQuery.each(t,function(e,t){var i=n[e];h+i/2&gt;(p+1)*u&amp;&amp;(g[d.length]=_,d.push(c),c=[],_=0,p++),h+=i,_+=i,c.push(t)}),g[d.length]=_,d.push(c);var f=[],m=[],v=0;jQuery.each(d,function(t,r){var o=(r.length,g[t]),s=(r.length-1)*a,l=(e-s)/o,u=Math.round(i*l);v+=u,t&gt;0&amp;&amp;(v+=a),m.push(u);var d=u/i,_=[],c=s;jQuery.each(r,function(e,t){var i=jQuery(t),r=i.index(),o=n[r],a=Math.round(o*d);_[e]=a,c+=a});var h=c-e;jQuery.each(_,function(e,t){return 0==h?!1:(0&gt;h?(_[e]=t+1,h++):(_[e]=t-1,h--),void(e==_.length-1&amp;&amp;0!=h&amp;&amp;(_[e]-=h)))}),f[t]=_});var b={arrRows:d,arrRowWidths:f,arrRowHeights:m,gap:a,totalHeight:v};return b}function b(e){if(!e)var e=!1;var t=r(),i=v();$.height(i.totalHeight);var n=r();n!=t&amp;&amp;(i=v()),o();var a=0,l=0;jQuery.each(i.arrRows,function(t,n){var r=i.arrRowWidths[t],o=i.arrRowHeights[t],s=0;jQuery.each(n,function(t,n){var u=jQuery(n),d=o,_=r[t];se.resizeTile(u,_,d,se.resizemode.VISIBLE_ELEMENTS),ae.placeElement(u,s,a),s+=_,s&gt;l&amp;&amp;(l=s),s+=i.gap,1==e&amp;&amp;jQuery(n).show()}),a+=o+i.gap}),s()}function y(){var e=jQuery(J).find(&quot;img.ug-thumb-image&quot;),t=le.getThumbs();_e.isAllLoaded=!1,t.fadeTo(0,0),ae.checkImagesLoaded(e,function(){setTimeout(function(){b(!0),t.fadeTo(0,1),oe.triggerEvent(ne.events.TILES_FIRST_PLACED),n(),re.trigger(ne.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();le.triggerImageLoadedEvent(i,e)})}function I(){var e=jQuery(J).find(&quot;img.ug-thumb-image&quot;),t=le.getThumbs();_e.isAllLoaded=!1,t.fadeTo(0,0),ae.checkImagesLoaded(e,function(){1==oe.isMobileMode()?c(!0):E(!0),oe.triggerEvent(ne.events.TILES_FIRST_PLACED),n(),re.trigger(ne.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();le.triggerImageLoadedEvent(i,e)})}function w(){var e=r();ge.galleryWidth=e,te={},ge.colWidth=de.tiles_nested_col_width,ge.optimalTileWidth=de.tiles_nested_optimal_tile_width,ge.currentGap=de.tiles_space_between_cols,1==oe.isMobileMode()&amp;&amp;(ge.currentGap=de.tiles_space_between_cols_mobile),null==ge.colWidth?ge.colWidth=Math.floor(ge.optimalTileWidth/ge.nestedOptimalCols):ge.optimalTileWidth&gt;ge.colWidth?ge.nestedOptimalCols=Math.ceil(ge.optimalTileWidth/ge.colWidth):ge.nestedOptimalCols=1,ge.maxColumns=ae.getNumItemsInSpace(e,ge.colWidth,ge.currentGap),ge.colWidth=ae.getItemSizeInSpace(e,ge.maxColumns,ge.currentGap),ge.gridY=0,ie=[];var t=le.getThumbs(!0);switch(t.each(function(){var e=jQuery(this),t=T(e);ie.push(t)}),ge.optimalTileWidth&gt;ge.colWidth?ge.nestedOptimalCols=Math.ceil(ge.optimalTileWidth/ge.colWidth):ge.nestedOptimalCols=1,ge.totalWidth=ge.maxColumns*(ge.colWidth+ge.currentGap)-ge.currentGap,de.tiles_align){case&quot;center&quot;:default:ge.addX=Math.round((ge.galleryWidth-ge.totalWidth)/2);break;case&quot;left&quot;:ge.addX=0;break;case&quot;right&quot;:ge.addX=ge.galleryWidth-ge.totalWidth}ge.maxGridY=0}function E(e){var t=r();w(),x();var i=ge.maxGridY*(ge.colWidth+ge.currentGap)-ge.currentGap;$.height(i);var n=r();n!=t&amp;&amp;(w(),x()),0==de.tiles_nested_debug&amp;&amp;U(e)}function T(e){var t,i,n={},r=ge.colWidth,o=ge.currentGap,a=se.getTileImageSize(e),s=e.index(),l=Math.ceil(S(s)*(1*ge.nestedOptimalCols/3)+2*ge.nestedOptimalCols/3),u=a.width,d=a.height,_=u/d;return u&gt;d?(t=l,i=Math.round(t/_),0==i&amp;&amp;(i=1)):(i=l,t=Math.round(i*_),0==t&amp;&amp;(t=1)),n.dimWidth=t,n.dimHeight=i,n.width=t*r+o*(t-1),n.height=i*r+o*(i-1),n.imgWidth=u,n.imgHeight=d,n.left=0,n.top=0,n}function S(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}function P(e,t){if(0==t){for(var i=ge.currentItem;i&lt;ie.length;i++)j(i,!0);ge.currentItem=ie.length-1}else j(ge.currentItem,!0);for(var i=0;i&lt;=ge.currentItem;i++)V(i,!0);ge.currentItem++}function x(e){if(1==de.tiles_nested_debug)return&quot;undefined&quot;==typeof e&amp;&amp;(e=!0),P(!0,e),!1;for(var t=0;t&lt;ie.length;t++)j(t,!0)}function j(e,t){if(!t)var t=!1;ge.maxColHeight=0;for(var i=ae.getObjectLength(te),n=ge.gridY;i+1&gt;=n;n++){for(var r=0;r&lt;ge.maxColumns;r++)if(0==Q(ge.gridY)||0==F(ge.gridY,r)){var o=D(r);return void C(e,o,r)}ge.gridY++}}function C(e,t,i){var n=jQuery.extend(!0,{},ie[e]),r=n.dimWidth,o=t-n.dimWidth,a=ge.nestedOptimalCols,s=t&lt;=n.dimWidth||.33*a&gt;=o||a&gt;=t;if(s)N(e,t);else if(a&gt;=o)a&gt;=4?1==G(Math.floor(t/2),i)?N(e,Math.floor(t/2)+1):N(e,Math.floor(t/2)):N(objImage,t);else if(1==G(r,i))switch(r&gt;=a){case!0:N(e,r-1);break;case!1:N(e,r+1)}n=jQuery.extend(!0,{},ie[e]);var l=L(e,n.dimWidth,i);if(ge.columnsValueToEnableHeightResize&lt;=l[0]&amp;&amp;ge.maxColumns&gt;=2*ge.nestedOptimalCols){var u=H(i,n),d=k(e,u.newHeight,!0);ie[e].dimHeight=d.dimHeight;var _=z(l,d.dimWidth,i),g=A(_),c=!1;g&gt;=2&amp;&amp;(c=!0),u.newHeight&gt;=n.dimHeight&amp;&amp;(n=k(e,u.newHeight,!0));var h=M(u.idToResize,u.newHeight,n.dimHeight);n.top=ge.gridY,n.left=i,h.push({tileID:e,sizes:n});var p=R(h),f=R(_);return f&gt;p||1==c?void O(h):void O(_)}n.left=i,n.top=ge.gridY,ie[e]=n,W(e,n,i,ge.gridY),ge.maxGridY=n.top+n.dimHeight}function A(e){for(var t=0,i=0,n=0;n&lt;e.length-1;n++){var r=e[n].sizes,o=-1,a=-1;Q(r.top+r.dimHeight)&amp;&amp;ge.maxColumns&gt;r.left+r.dimWidth&amp;&amp;(o=te[r.top+r.dimHeight-1][r.left+r.dimWidth],a=te[r.top+r.dimHeight][r.left+r.dimWidth]),o!=a&amp;&amp;t++}for(var n=0;n&lt;e.length-1;n++){var r=e[n].sizes,o=-1,a=-1;Q(r.top+r.dimHeight)&amp;&amp;r.left-1&gt;=0&amp;&amp;(o=te[r.top+r.dimHeight-1][r.left-1],a=te[r.top+r.dimHeight][r.left-1]),o!=a&amp;&amp;i++}return Math.max(i,t)}function M(e,t,i){var n=ie[e],r=n.dimHeight,o=(n.dimWidth,n.left),a=n.top,s=(parseInt(a/(ge.colWidth+ge.currentGap)),parseInt(o/(ge.colWidth+ge.currentGap)),r-t+i),l=k(e,s,!0),u=[];return u.push({tileID:e,sizes:l}),u}function O(e){for(var t=0;t&lt;e.length;t++){var i=e[t].sizes,n=e[t].tileID;ie[n]=jQuery.extend(!0,{},i),W(n,i,i.left,i.top)}}function z(e,t){for(var i=0,n=0,r=[],o=0,a=0,s=0;s&lt;e[1].length;s++){var l=e[1][s],u=ie[e[1][s]];if(n+=u.dimHeight,0!=s)i+=u.dimHeight,r.push([l,u.dimHeight]);else{var d=N(l,t,!0);i+=d.dimHeight,r.push([e[1][s],d.dimHeight])}}o=u.left,a=u.top;for(var _=n,g=[],s=r.length-1;s&gt;=0;s--){var c,l=r[s][0];0!=s?(c=Math.max(Math.round(1*n/3),Math.floor(r[s][1]*(n/i))),_-=c,d=k(l,c,!0),d.left=o,d.top=a,g.push({tileID:l,sizes:d}),a+=d.dimHeight):(c=_,d=k(l,c,!0),d.left=o,d.top=a,g.push({tileID:l,sizes:d}))}return g}function L(e,t,i){var n=ge.gridY-1,r=0,o=0,a=1,s=[],l=[];if(s.push(e),n&gt;=0){for(o=0;n&gt;=0;){if(r=te[n][i],&quot;undefined&quot;!=typeof te[n][i-1]&amp;&amp;te[n][i-1]==te[n][i]||&quot;undefined&quot;!=typeof te[n][i+t]&amp;&amp;te[n][i+t-1]==te[n][i+t]||te[n][i]!=te[n][i+t-1])return l.push(a),l.push(s),l;o!=r&amp;&amp;(a++,s.push(r)),n--,o=r}return l.push(a),l.push(s),l}return[0,[]]}function H(e,t){var i=0,n=0,r=t.dimWidth,o=t.dimHeight,a=0,s=0,l=jQuery.map(te,function(e,t){return[e]});if(&quot;undefined&quot;==typeof l[ge.gridY]||&quot;undefined&quot;==typeof l[ge.gridY][e-1])n=0;else for(var u=0;;){if(&quot;undefined&quot;==typeof te[ge.gridY+u]||-1==te[ge.gridY+u][e-1])break;a=te[ge.gridY+u][e-2],u++,n++}if(&quot;undefined&quot;==typeof l[ge.gridY]||&quot;undefined&quot;==typeof l[ge.gridY][e+r])i=0;else for(u=0;;){if(&quot;undefined&quot;==typeof te[ge.gridY+u]||-1==te[ge.gridY+u][e+r])break;s=te[ge.gridY+u][e+r+1],u++,i++}var d=0,_=0;Math.abs(o-n)&lt;Math.abs(o-i)&amp;&amp;0!=n?(d=n,_=a):0!=i?(d=i,_=s):d=o;var g={newHeight:d,idToResize:_};return g}function N(e,t,i){i||(i=!1);var n=ge.colWidth,r=ge.currentGap,o=ie[e],a=o.imgWidth,s=o.imgHeight,l=a/s;if(dimWidth=t,dimHeight=Math.round(dimWidth/l),1==i){var u=jQuery.extend(!0,{},o);return u.dimWidth=dimWidth,u.dimHeight=dimHeight,u.width=dimWidth*n+r*(dimWidth-1),u.height=dimHeight*n+r*(dimHeight-1),u}o.dimWidth=dimWidth,o.dimHeight=dimHeight,o.width=dimWidth*n+r*(dimWidth-1),o.height=dimHeight*n+r*(dimHeight-1)}function k(e,t,i){i||(i=!1);var n=ie[e],r=n.dimWidth,o=ge.colWidth,a=ge.currentGap;if(1==i){var s=jQuery.extend(!0,{},n);return s.dimHeight=t,s.width=r*o+a*(r-1),s.height=t*o+a*(t-1),s}n.dimHeight=t,n.width=r*o+a*(r-1),n.height=t*o+a*(t-1)}function R(e){for(var t=0,i=0,n=0;n&lt;e.length;n++){var r=ie[e[n].tileID];if(0==r.dimHeight||0==r.height)return;resizeVal=r.dimWidth/r.dimHeight/(r.imgWidth/r.imgHeight),resizeVal&lt;1&amp;&amp;(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function G(e,t){var i=ge.gridY-1;return 0&gt;=i||0==Q(i)?!1:te[i][t+e-1]!=te[i][t+e]?!0:!1}function D(e){var t=e,i=0;if(1==Q(ge.gridY))for(;0==F(ge.gridY,t);)i++,t++;else i=ge.maxColumns;return i}function Q(e){return&quot;undefined&quot;==typeof te[e]?!1:!0}function W(e,t,i,n){for(var r=0;r&lt;t.dimHeight;r++)for(var o=0;o&lt;t.dimWidth;o++)0==Q(n+r)&amp;&amp;B(n+r),Y(n+r,i+o,e)}function B(e){te[e]=new Object;for(var t=0;t&lt;ge.maxColumns;t++)te[e][t]=-1}function F(e,t){return-1!=te[e][t]}function Y(e,t,i){te[e][t]=i}function U(e){if(!e)var e=!1;o();for(var t=0;t&lt;ie.length;t++)V(t,e);$.height(ge.maxColHeight),s()}function V(e,t){var i=le.getThumbByIndex(e),n=ie[e],r=n.top*(ge.colWidth+ge.currentGap),o=ge.addX+n.left*(ge.colWidth+ge.currentGap);se.resizeTile(i,n.width,n.height,se.resizemode.VISIBLE_ELEMENTS),ae.placeElement(i,o,r),r+n.height&gt;ge.maxColHeight&amp;&amp;(ge.maxColHeight=r+n.height),1==t&amp;&amp;i.fadeTo(0,1)}function X(){if(1==_e.isFirstTimeRun)return!0;if(0==_e.isAllLoaded)return!1;switch(de.tiles_type){case&quot;columns&quot;:c(!1);break;case&quot;justified&quot;:b(!1);break;case&quot;nested&quot;:var e=oe.isMobileMode();1==e?c(!1):E(!1)}}function Z(){re.on(ne.events.ALL_TILES_LOADED,function(){_e.isAllLoaded=!0}),K.on(oe.events.SIZE_CHANGE,X),K.on(ne.events.TILES_FIRST_PLACED,function(){_e.isFirstPlaced=!1}),se.initEvents()}function q(){switch(J.children(&quot;.ug-tile&quot;).show(),1==_e.isFirstTimeRun&amp;&amp;Z(),se.run(),de.tiles_type){default:case&quot;columns&quot;:m();break;case&quot;justified&quot;:y();break;case&quot;nested&quot;:I()}_e.isFirstTimeRun=!1}var K,J,$,ee,te,ie,ne=this,re=jQuery(this),oe=new UniteGalleryMain,ae=new UGFunctions,se=new UGTileDesign,le=new UGThumbsGeneral,ue={},de={tiles_type:&quot;columns&quot;,tiles_col_width:250,tiles_align:&quot;center&quot;,tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:&quot;thumb_size_change&quot;,TILES_FIRST_PLACED:&quot;tiles_first_placed&quot;,ALL_TILES_LOADED:&quot;all_tiles_loaded&quot;};var _e={isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isFirstPlaced:!0,isAllLoaded:!1},ge={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){K.off(oe.events.SIZE_CHANGE),se.destroy(),K.off(ne.events.TILES_FIRST_PLACED)},this.init=function(t,i){e(t,i)},this.setHtml=function(e){i(e)},this.getObjTileDesign=function(){return se},this.run=function(){q()},this.runNewItems=function(){if(!$)throw new Error(&quot;Can't run new items - parent not set&quot;);switch(se.setHtml($,!0),se.run(!0),de.tiles_type){case&quot;columns&quot;:m();break;default:case&quot;justified&quot;:case&quot;nested&quot;:throw new Error(&quot;Tiles type: &quot;+de.tiles_type+&quot; not support load more yet&quot;)}}}function UGTileDesign(){function e(e,i){D=e,L=jQuery(e);var r=D.getObjects();N=r.g_objWrapper,k=D.getArrItems(),B=jQuery.extend(B,F),B=jQuery.extend(B,i),t(),W.init(e,B);var o={allow_onresize:!1},a=[&quot;overlay&quot;];Y.funcCustomTileHtml&amp;&amp;(a=[]),W.setCustomThumbs(n,a,o);var s=W.getOptions();B=jQuery.extend(B,s),Y.ratioByWidth=B.tile_width/B.tile_height,Y.ratioByHeight=B.tile_height/B.tile_width,B.tile_size_by==R.sizeby.GLOBAL_RATIO&amp;&amp;Y.isTextpanelOutside&amp;&amp;(Y.hasImageContainer=!0)}function t(){if(1==B.tile_enable_overlay?(B.thumb_overlay_opacity=B.tile_overlay_opacity,B.thumb_overlay_color=B.tile_overlay_color):0==B.tile_enable_icons?B.thumb_color_overlay_effect=!1:B.thumb_overlay_opacity=0,B.tile_as_link&amp;&amp;(B.thumb_wrapper_as_link=!0,B.thumb_link_newpage=B.tile_link_newpage),1==B.tile_enable_outline&amp;&amp;0==B.tile_enable_border&amp;&amp;(B.tile_enable_outline=!1),Y.tileInnerReduce=0,B.tile_enable_border&amp;&amp;(Y.tileInnerReduce=2*B.tile_border_width,W.setThumbInnerReduce(Y.tileInnerReduce)),Y.isSaparateIcons=!Q.isRgbaSupported(),1==B.tile_enable_textpanel){switch(B.tile_textpanel_position){case&quot;top&quot;:B.tile_textpanel_align=&quot;top&quot;;case&quot;bottom&quot;:Y.isTextpanelOutside=!0,B.tile_textpanel_always_on=!0,B.tile_textpanel_offset=0;break;case&quot;inside_top&quot;:B.tile_textpanel_align=&quot;top&quot;;break;case&quot;middle&quot;:B.tile_textpanel_align=&quot;middle&quot;,B.tile_textpanel_appear_type=&quot;fade&quot;}0==B.tile_textpanel_always_on&amp;&amp;(Y.isSaparateIcons=!0)}0!=B.tile_textpanel_offset&amp;&amp;(B.tile_textpanel_appear_type=&quot;fade&quot;,B.tile_textpanel_margin=B.tile_textpanel_offset),&quot;title_and_desc&quot;==B.tile_textpanel_source&amp;&amp;(B.tile_textpanel_enable_description=!0,
B.tile_textpanel_desc_style_as_title=!0)}function i(){var e=D.isMobileMode();switch(Y.isTextPanelHidden=!1,1==e&amp;&amp;0==B.tile_textpanel_always_on&amp;&amp;(Y.isTextPanelHidden=!0),Y.isVideoplayIconAlwaysOn=B.tile_videoplay_icon_always_on,B.tile_videoplay_icon_always_on){case&quot;always&quot;:Y.isVideoplayIconAlwaysOn=!0;break;case&quot;never&quot;:Y.isVideoplayIconAlwaysOn=!1;break;case&quot;mobile_only&quot;:Y.isVideoplayIconAlwaysOn=1==e?!0:!1;break;case&quot;desktop_only&quot;:Y.isVideoplayIconAlwaysOn=0==e?!0:!1}}function n(e,t){if(e.addClass(&quot;ug-tile&quot;),Y.funcCustomTileHtml)return Y.funcCustomTileHtml(e,t),!1;var i=&quot;&quot;;1==Y.hasImageContainer&amp;&amp;(i+=&quot;<DIV class="ug-image-container ug-trans-enabled">&quot;);var n=&quot;ug-thumb-image&quot;;(0==B.tile_enable_image_effect||1==B.tile_image_effect_reverse)&amp;&amp;(n+=&quot; ug-trans-enabled&quot;);var r=Q.stripTags(t.title);r=Q.htmlentitles(r),i+='&lt;img src=&quot;'+Q.escapeDoubleSlash(t.urlThumb)+&quot;\&quot; alt='&quot;+r+&quot;' class='&quot;+n+&quot;'&gt;&quot;,1==Y.hasImageContainer&amp;&amp;(i+=&quot;</DIV>&quot;),e.append(i),B.tile_size_by==R.sizeby.GLOBAL_RATIO&amp;&amp;e.fadeTo(0,0);var o={};if(1==B.tile_enable_background&amp;&amp;(o[&quot;background-color&quot;]=B.tile_background_color),1==B.tile_enable_border&amp;&amp;(o[&quot;border-width&quot;]=B.tile_border_width+&quot;px&quot;,o[&quot;border-style&quot;]=&quot;solid&quot;,o[&quot;border-color&quot;]=B.tile_border_color,B.tile_border_radius&amp;&amp;(o[&quot;border-radius&quot;]=B.tile_border_radius+&quot;px&quot;)),1==B.tile_enable_outline&amp;&amp;(o.outline=&quot;1px solid &quot;+B.tile_outline_color),1==B.tile_enable_shadow){var a=B.tile_shadow_h+&quot;px &quot;;a+=B.tile_shadow_v+&quot;px &quot;,a+=B.tile_shadow_blur+&quot;px &quot;,a+=B.tile_shadow_spread+&quot;px &quot;,a+=B.tile_shadow_color,o[&quot;box-shadow&quot;]=a}e.css(o);var s=&quot;&quot;;if(B.tile_enable_icons){if(0==B.tile_as_link&amp;&amp;1==B.tile_enable_action){var l=&quot;ug-button-play ug-icon-zoom&quot;;&quot;image&quot;!=t.type&amp;&amp;(l=&quot;ug-button-play ug-icon-play&quot;),s+=&quot;&quot;}if(t.link&amp;&amp;1==B.tile_show_link_icon||1==B.tile_as_link)if(0==B.tile_as_link){var u=&quot;&quot;;1==B.tile_link_newpage&amp;&amp;(u=&quot; target='_blank'&quot;),s+=&quot;&lt;a href='&quot;+t.link+&quot;'&quot;+u+&quot; class='ug-tile-icon ug-icon-link'&gt;&lt;/a&gt;&quot;}else s+=&quot;&quot;;var _=Y.isSaparateIcons;if(0==_&amp;&amp;&quot;image&quot;!=t.type&amp;&amp;1==Y.isVideoplayIconAlwaysOn&amp;&amp;(_=!0),_)var g=e;else var g=e.children(&quot;.ug-thumb-overlay&quot;);g.append(s);var c=g.children(&quot;.&quot;+l);0==c.length?c=null:c.hide();var h=g.children(&quot;.ug-icon-link&quot;);0==h.length?h=null:h.hide(),h||1!=B.tile_enable_action||e.addClass(&quot;ug-tile-clickable&quot;)}else 1==B.tile_enable_action&amp;&amp;e.addClass(&quot;ug-tile-clickable&quot;);if(1==B.tile_enable_image_effect){var p=&quot;&quot;;0==B.tile_image_effect_reverse&amp;&amp;(p=&quot; ug-trans-enabled&quot;);var f=&quot;<DIV class="ug-tile-image-overlay&quot;+p+&quot;">&quot;,m=&quot; ug-&quot;+B.tile_image_effect_type+&quot;-effect&quot;;f+='&lt;img src=&quot;'+Q.escapeDoubleSlash(t.urlThumb)+&quot;\&quot; alt='&quot;+t.title+&quot;' class='&quot;+m+p+&quot;'&gt;&quot;,f+=&quot;</DIV>&quot;,e.append(f),1==B.tile_image_effect_reverse&amp;&amp;e.children(&quot;.ug-tile-image-overlay&quot;).fadeTo(0,0)}if(1==B.tile_enable_textpanel){var v=new UGTextPanel;v.init(D,B,&quot;tile&quot;);var b=&quot;&quot;;(1==B.tile_textpanel_always_on||1==Y.isTextpanelOutside)&amp;&amp;(b=&quot;ug-trans-enabled&quot;),v.appendHTML(e,b);var y=t.title,I=&quot;&quot;;switch(B.tile_textpanel_source){case&quot;desc&quot;:case&quot;description&quot;:y=t.description;break;case&quot;desc_title&quot;:&quot;&quot;!=t.description&amp;&amp;(y=t.description);break;case&quot;title_and_desc&quot;:y=t.title,I=t.description}if(v.setTextPlain(y,I),0==B.tile_textpanel_always_on&amp;&amp;v.getElement().fadeTo(0,0),e.data(&quot;objTextPanel&quot;,v),1==B.tile_textpanel_always_on){var w=d(e);w.css(&quot;z-index&quot;,2)}if(1==Y.isTextpanelOutside){var E=&quot;&quot;;e.append(E);var T=e.children(&quot;.ug-tile-cloneswrapper&quot;),S=new UGTextPanel;S.init(D,B,&quot;tile&quot;),S.appendHTML(T),S.setTextPlain(y,I),e.data(&quot;objTextPanelClone&quot;,S)}}null!==t.addHtml&amp;&amp;e.append(t.addHtml)}function r(e){var t=e.children(&quot;.ug-tile-image-overlay&quot;);return t}function o(e){var t=e.children(&quot;.ug-thumb-overlay&quot;);return t}function a(e){if(0==Y.hasImageContainer)return null;var t=e.children(&quot;.ug-image-container&quot;);return t}function s(e){var t=e.find(&quot;.ug-tile-image-overlay img&quot;);return t}function l(e){var t=e.data(&quot;objTextPanel&quot;);return t}function u(e){var t=e.data(&quot;objTextPanelClone&quot;);return t}function d(e){var t=e.children(&quot;.ug-textpanel&quot;);return t}function _(e){var t=e.find(&quot;.ug-tile-cloneswrapper .ug-textpanel&quot;);if(0==t.length)throw new Error(&quot;text panel cloned element not found&quot;);return t}function g(e){if(1==Y.isTextpanelOutside)var t=_(e);else var t=d(e);if(!t)return 0;var i=Q.getElementSize(t);return i.height}function c(e){var t=e.find(&quot;.ug-icon-link&quot;);return 0==t.length?null:t}function h(e){var t=Y.ratioByHeight;switch(B.tile_size_by){default:t=Y.ratioByHeight;break;case R.sizeby.IMAGE_RATIO:if(!e)throw new Error(&quot;tile should be given for tile ratio&quot;);var i=R.getItemByTile(e);if(&quot;undefined&quot;!=typeof i.thumbRatioByHeight){if(0==i.thumbRatioByHeight)throw trace(i),new Error(&quot;the item ratio not inited yet&quot;);t=i.thumbRatioByHeight}break;case R.sizeby.CUSTOM:return null}return t}function p(e){var t=e.find(&quot;.ug-button-play&quot;);return 0==t.length?null:t}function f(e){return e.hasClass(&quot;ug-thumb-over&quot;)?!0:!1}function m(e){return e.hasClass(&quot;ug-tile-clickable&quot;)}function v(e){return 1==B.tile_enable_icons&amp;&amp;1==Y.isVideoplayIconAlwaysOn&amp;&amp;&quot;image&quot;!=e.type?!0:!1}function b(e,t,i,n){var o=r(e),l=R.getTileImage(e),u=s(e);t-=Y.tileInnerReduce,i-=Y.tileInnerReduce;var d=null;if(1==Y.isTextpanelOutside){var _=g(e);if(i-=_,&quot;top&quot;==B.tile_textpanel_position&amp;&amp;(d=_),1==Y.hasImageContainer){var c=a(e);Q.setElementSize(c,t,i),null!==d&amp;&amp;Q.placeElement(c,0,d)}}if(0==B.tile_enable_image_effect)Q.scaleImageCoverParent(l,t,i),0==Y.hasImageContainer&amp;&amp;null!==d&amp;&amp;Q.placeElement(l,0,d);else{var h=&quot;nothing&quot;;n===!0&amp;&amp;0==Y.isTextpanelOutside&amp;&amp;(h=1==B.tile_image_effect_reverse?&quot;effect&quot;:&quot;image&quot;),&quot;effect&quot;!=h&amp;&amp;(Q.setElementSize(o,t,i),null!==d&amp;&amp;Q.placeElement(o,0,d),Q.scaleImageCoverParent(u,t,i)),&quot;image&quot;!=h&amp;&amp;(1==Y.hasImageContainer?Q.scaleImageCoverParent(l,t,i):&quot;effect&quot;==h?(Q.scaleImageCoverParent(l,t,i),null!==d&amp;&amp;Q.placeElement(l,0,d)):Q.cloneElementSizeAndPos(u,l,!1,null,d))}}function y(e,t,i,n){var r=null;if(i&amp;&amp;(r=i-Y.tileInnerReduce),n&amp;&amp;(n-=Y.tileInnerReduce),&quot;clone&quot;==t){var o=u(e);o.refresh(!0,!0,r);var a=R.getItemByTile(e);return a.textPanelCloneSizeSet=!0,!1}var s=l(e);if(!s)return!1;var d=null;1==Y.isTextpanelOutside&amp;&amp;(d=g(e)),s.refresh(!1,!0,r,d);var _=1==B.tile_textpanel_always_on||&quot;fade&quot;==B.tile_textpanel_appear_type;if(_)if(1==Y.isTextpanelOutside&amp;&amp;n&amp;&amp;&quot;bottom&quot;==B.tile_textpanel_position){var c=n-d;s.positionPanel(c)}else s.positionPanel()}function I(e){var t=(R.getItemByTile(e),p(e)),i=c(e),n=Q.getElementSize(e);b(e,n.width,n.height),1==B.tile_enable_textpanel&amp;&amp;y(e,&quot;regular&quot;,n.width,n.height);var r=n.width-Y.tileInnerReduce,a=n.height-Y.tileInnerReduce,s=0;if(1==Y.isTextpanelOutside){var l=g(e);a-=l,&quot;top&quot;==B.tile_textpanel_position&amp;&amp;(s=l)}var u=o(e);if(Q.setElementSizeAndPosition(u,0,s,r,a),t||i){var _=0;if(1==B.tile_enable_textpanel&amp;&amp;0==Y.isTextPanelHidden&amp;&amp;0==Y.isTextpanelOutside){var h=d(e),f=Q.getElementSize(h);f.height&gt;0&amp;&amp;(_=Math.floor(f.height/2*-1))}}if(t&amp;&amp;i){var m=Q.getElementSize(t),v=Q.getElementSize(i),I=B.tile_space_between_icons,w=m.width+I+v.width,E=Math.floor((n.width-w)/2);I&gt;E&amp;&amp;(I=Math.floor((n.width-m.width-v.width)/3),w=m.width+I+v.width,E=Math.floor((n.width-w)/2)),Q.placeElement(t,E,&quot;middle&quot;,0,_),Q.placeElement(i,E+m.width+I,&quot;middle&quot;,0,_)}else t&amp;&amp;Q.placeElement(t,&quot;center&quot;,&quot;middle&quot;,0,_),i&amp;&amp;Q.placeElement(i,&quot;center&quot;,&quot;middle&quot;,0,_);t&amp;&amp;t.show(),i&amp;&amp;i.show()}function w(e,t){var i=(R.getItemByTile(e),r(e)),n=B.thumb_transition_duration;if(0==B.tile_image_effect_reverse){var o=R.getTileImage(e);t?(o.fadeTo(0,1),i.stop(!0).fadeTo(n,0)):i.stop(!0).fadeTo(n,1)}else t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function E(e,t){var i=B.thumb_transition_duration,n=d(e);if(!n)return!0;if(&quot;slide&quot;==B.tile_textpanel_appear_type){var r=Q.getElementSize(n);if(0==r.width)return!1;var o=-r.height,a=0,s={},l={},u=&quot;bottom&quot;;&quot;inside_top&quot;==B.tile_textpanel_position&amp;&amp;(u=&quot;top&quot;),s[u]=o+&quot;px&quot;,l[u]=a+&quot;px&quot;,1==t?(n.fadeTo(0,1),0==n.is(&quot;:animated&quot;)&amp;&amp;n.css(s),l.opacity=1,n.stop(!0).animate(l,i)):n.stop(!0).animate(s,i)}else 1==t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function T(e,t,i){var n=B.thumb_transition_duration;i&amp;&amp;i===!0&amp;&amp;(n=0);var r=p(e),o=c(e),a=t?1:0;r&amp;&amp;r.stop(!0).fadeTo(n,a),o&amp;&amp;o.stop(!0).fadeTo(n,a)}function S(e,t){if(t=jQuery(t),B.tile_enable_image_effect&amp;&amp;w(t,!0),1==B.tile_enable_textpanel&amp;&amp;0==B.tile_textpanel_always_on&amp;&amp;0==Y.isTextPanelHidden&amp;&amp;E(t,!0),Y.isSaparateIcons&amp;&amp;1==B.tile_enable_icons){var i=1==B.thumb_overlay_reverse,n=R.getItemByTile(t);0==v(n)&amp;&amp;T(t,i,!1)}}function P(e,t){if(t=jQuery(t),B.tile_enable_image_effect&amp;&amp;w(t,!1),1==B.tile_enable_textpanel&amp;&amp;0==B.tile_textpanel_always_on&amp;&amp;E(t,!1),1==Y.isSaparateIcons&amp;&amp;1==B.tile_enable_icons){var i=1==B.thumb_overlay_reverse?!1:!0,n=R.getItemByTile(t);0==v(n)?T(t,i,!1):T(t,!0,!0)}}function x(e){var t=W.getThumbs().not(e);t.each(function(e,t){W.setThumbNormalStyle(jQuery(t))})}function j(e,t,i){return t=jQuery(t),1==B.tile_visible_before_image&amp;&amp;t.data(&quot;image_placed&quot;)!==!0&amp;&amp;i!==!0?!0:(I(t),void W.setThumbNormalStyle(t))}function C(e,t,i){I(t),i.fadeTo(0,1),t.data(&quot;image_placed&quot;,!0)}function A(e){return 1==m(e)?(G.trigger(R.events.TILE_CLICK,e),!0):void(0==f(e)&amp;&amp;(x(e),W.setThumbOverStyle(e)))}function M(e){var t=jQuery(this),i=t.prop(&quot;tagName&quot;).toLowerCase(),n=!0;if(Y.funcParentApproveClick&amp;&amp;0==Y.funcParentApproveClick()&amp;&amp;(n=!1),&quot;a&quot;==i)0==n&amp;&amp;e.preventDefault();else if(0==f(t))1==n&amp;&amp;A(t);else{if(0==m(t))return!0;1==n&amp;&amp;G.trigger(R.events.TILE_CLICK,t)}}function O(e){e.stopPropagation();var t=jQuery(this).parents(&quot;.ug-tile&quot;),i=!0;return Y.funcParentApproveClick&amp;&amp;0==Y.funcParentApproveClick()&amp;&amp;(i=!1),0==f(t)?(A(t),!0):1==i?(G.trigger(R.events.TILE_CLICK,t),!1):void 0}function z(e){var t=jQuery(this).parents(&quot;.ug-tile&quot;);Y.funcParentApproveClick&amp;&amp;0==Y.funcParentApproveClick()&amp;&amp;e.preventDefault(),0==f(t)&amp;&amp;0==B.tile_as_link&amp;&amp;(e.preventDefault(),A(t))}var L,H,N,k,R=this,G=jQuery(this),D=new UniteGalleryMain,Q=new UGFunctions,W=new UGThumbsGeneral;this.resizemode={FULL:&quot;full&quot;,WRAPPER_ONLY:&quot;wrapper_only&quot;,VISIBLE_ELEMENTS:&quot;visible_elements&quot;},this.sizeby={GLOBAL_RATIO:&quot;global_ratio&quot;,TILE_RATIO:&quot;tile_ratio&quot;,IMAGE_RATIO:&quot;image_ratio&quot;,CUSTOM:&quot;custom&quot;},this.events={TILE_CLICK:&quot;tile_click&quot;};var B={tile_width:250,tile_height:200,tile_size_by:R.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:&quot;#F0F0F0&quot;,tile_enable_border:!1,tile_border_width:3,tile_border_color:&quot;#F0F0F0&quot;,tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:&quot;#8B8B8B&quot;,tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:&quot;#8B8B8B&quot;,tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:&quot;#000000&quot;,tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:&quot;never&quot;,tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:&quot;bw&quot;,tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:&quot;title&quot;,tile_textpanel_always_on:!1,tile_textpanel_appear_type:&quot;slide&quot;,tile_textpanel_position:&quot;inside_bottom&quot;,tile_textpanel_offset:0},F={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},Y={ratioByHeight:0,ratioByWidth:0,eventSizeChange:&quot;thumb_size_change&quot;,funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(e){var t=R.getTileImage(e);Q.checkImagesLoaded(t,null,function(t,i){C(null,e,jQuery(t))})},this.setHtml=function(e,t){H=e,t!==!0&amp;&amp;i(),W.setHtmlThumbs(e,t)},this.initEvents=function(){W.initEvents(),jQuery(W).on(W.events.SETOVERSTYLE,S),jQuery(W).on(W.events.SETNORMALSTYLE,P),jQuery(W).on(W.events.PLACEIMAGE,C),N.on(Y.eventSizeChange,j),H.on(&quot;click&quot;,&quot;.ug-tile&quot;,M),H.on(&quot;click&quot;,&quot;.ug-tile .ug-button-play&quot;,O),H.on(&quot;click&quot;,&quot;.ug-tile .ug-icon-link&quot;,z)},this.destroy=function(){if(H.off(&quot;click&quot;,&quot;.ug-tile&quot;),H.off(&quot;click&quot;,&quot;.ug-tile .ug-button-play&quot;),H.off(&quot;click&quot;,&quot;.ug-tile .ug-icon-link&quot;),jQuery(W).off(W.events.SETOVERSTYLE),jQuery(W).off(W.events.SETNORMALSTYLE),jQuery(W).off(W.events.PLACEIMAGE),N.off(Y.eventSizeChange),1==B.tile_enable_textpanel){var e=W.getThumbs();jQuery.each(e,function(e,t){var i=l(jQuery(t));i&amp;&amp;i.destroy()})}W.destroy()},this.init=function(t,i,n){e(t,i,n)},this.setFixedMode=function(){B.tile_size_by=R.sizeby.GLOBAL_RATIO,B.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){Y.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){if(1==Y.isTextpanelOutside&amp;&amp;y(e,&quot;clone&quot;,t),t){if(!i)var i=R.getTileHeightByWidth(t,e)}else var t=B.tile_width,i=B.tile_height;switch(Q.setElementSize(e,t,i),n){default:case R.resizemode.FULL:R.triggerSizeChangeEvent(e,!0);break;case R.resizemode.WRAPPER_ONLY:return!0;case R.resizemode.VISIBLE_ELEMENTS:if(Y.funcCustomTileHtml)return R.triggerSizeChangeEvent(e,!0),!0;b(e,t,i,!0),1==B.tile_enable_textpanel&amp;&amp;1==B.tile_textpanel_always_on&amp;&amp;t&amp;&amp;y(e,&quot;regular&quot;,t,i)}},this.resizeAllTiles=function(e,t,n){i();var r=null;if(B.tile_size_by==R.sizeby.GLOBAL_RATIO&amp;&amp;(r=R.getTileHeightByWidth(e)),!n)var n=W.getThumbs();n.each(function(i,n){R.resizeTile(jQuery(n),e,r,t)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)var t=!1;N.trigger(Y.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(e){var t=W.getThumbs();t.each(function(){var t=jQuery(this);R.triggerSizeChangeEvent(t,e)})},this.disableEvents=function(){var e=W.getThumbs();e.css(&quot;pointer-events&quot;,&quot;none&quot;)},this.enableEvents=function(){var e=W.getThumbs();e.css(&quot;pointer-events&quot;,&quot;auto&quot;)},this.setOptions=function(e){B=jQuery.extend(B,e),W.setOptions(e)},this.setTileSizeOptions=function(e){if(B.tile_size_by!==R.sizeby.GLOBAL_RATIO)throw new Error(&quot;setNewTileOptions works with global ration only&quot;);B.tile_width=e,B.tile_height=Math.floor(e*Y.ratioByHeight)},this.setCustomFunctions=function(e,t){Y.funcCustomTileHtml=e,Y.funcCustomPositionElements=t},this.run=function(e){var t=W.type.GET_THUMBS_ALL;e===!0&amp;&amp;(t=W.type.GET_THUMBS_NEW);var i=W.getThumbs(t);B.tile_size_by==R.sizeby.GLOBAL_RATIO&amp;&amp;R.resizeAllTiles(B.tile_width,R.resizemode.WRAPPER_ONLY,i),1==B.tile_enable_image_effect&amp;&amp;0==B.tile_image_effect_reverse&amp;&amp;i.children(&quot;.ug-thumb-image&quot;).fadeTo(0,0),W.setHtmlProperties(i),1==B.tile_visible_before_image&amp;&amp;(i.children(&quot;.ug-thumb-image&quot;).fadeTo(0,0),W.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return W},this.getOptions=function(){return B},this.getTileImage=function(e){var t=e.find(&quot;img.ug-thumb-image&quot;);return t},this.getItemByTile=function(e){return W.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t){var i=h(t);if(null===i)return null;var n=Math.floor((e-Y.tileInnerReduce)*i)+Y.tileInnerReduce;return t&amp;&amp;1==Y.isTextpanelOutside&amp;&amp;B.tile_size_by==R.sizeby.IMAGE_RATIO&amp;&amp;(n+=g(t)),n},this.getTileImageSize=function(e){var t=R.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error(&quot;Can't get image size - image not inited.&quot;);var i={width:t.thumbWidth,height:t.thumbHeight};return i},this.getGlobalTileSize=function(){if(B.tile_size_by!=R.sizeby.GLOBAL_RATIO)throw new Error(&quot;The size has to be global ratio&quot;);var e={width:B.tile_width,height:B.tile_height};return e}}function UGAviaControl(){function e(e){return 0==p?e.pageX:e.pageY}function t(t){jQuery(&quot;body&quot;).on(&quot;touchstart&quot;,function(e){return 0==f.isControlEnabled?!0:void(f.touchEnabled=!0)}),jQuery(&quot;body&quot;).mousemove(function(t){if(0==f.isControlEnabled)return!0;if(1==f.touchEnabled)return jQuery(&quot;body&quot;).off(&quot;mousemove&quot;),!0;f.isMouseInsideStrip=g.ismouseover();var i=u.isTouchMotionActive();if(1==f.isMouseInsideStrip&amp;&amp;0==i){var n=e(t);l(n)}else a()})}function i(e){var t=h.strip_padding_top,i=(h.strip_padding_bottom,g.height()),n=c.height();if(i&gt;n)return null;var r=g.offset(),o=r.top,a=e-o-t;if(0&gt;a)return null;var s=h.thumb_height,l=i-h.thumb_height,u=l-s;s&gt;a&amp;&amp;(a=s),a&gt;l&amp;&amp;(a=l);var d=(a-s)/u,_=(n-i)*d;return _=-1*Math.round(_)+t}function n(e){var t=h.strip_padding_left,i=h.strip_padding_right,n=g.width()-t-i,r=c.width();if(n&gt;r)return null;var o=g.offset(),a=o.left,s=e-a-t,l=h.thumb_width,u=n-h.thumb_width,d=u-l;l&gt;s&amp;&amp;(s=l),s&gt;u&amp;&amp;(s=u);var _=(s-l)/d,p=(r-n)*_;return p=-1*Math.round(p)+t}function r(){if(0==f.is_strip_moving)return!1;var e=u.getInnerStripPos();Math.floor(e)==Math.floor(f.strip_finalPos)&amp;&amp;a();var t,i=Math.abs(f.strip_finalPos-e);1&gt;i?t=i:(t=i/4,t&gt;0&amp;&amp;1&gt;t&amp;&amp;(t=1)),f.strip_finalPos&lt;e&amp;&amp;(t=-1*t);var n=e+t;u.positionInnerStrip(n)}function o(){return 1==f.isStripMoving?!1:(f.isStripMoving=!0,void(f.handle_timeout=setInterval(r,10)))}function a(){return 0==f.isStripMoving?!1:(f.isStripMoving=!1,void(f.handle_timeout=clearInterval(f.handle_timeout)))}function s(e){return 0==p?n(e):i(e)}function l(e){var t=s(e);return null===t?!1:(f.is_strip_moving=!0,f.strip_finalPos=t,void o())}var u,d,_,g,c,h,p,f={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:&quot;&quot;,isStripMoving:!1,isControlEnabled:!0};this.enable=function(){f.isControlEnabled=!0},this.disable=function(){f.isControlEnabled=!1},this.init=function(e){u=e,_=e.getObjects(),d=_.g_gallery,g=_.g_objStrip,c=_.g_objStripInner,h=_.g_options,p=_.isVertical,t()},this.destroy=function(){jQuery(&quot;body&quot;).off(&quot;touchstart&quot;),jQuery(&quot;body&quot;).off(&quot;mousemove&quot;)}}function UGSlider(){function e(e,t,n){me=e,n&amp;&amp;(he=n,t=we.convertCustomPrefixOptions(t,he,&quot;slider&quot;)),te=jQuery(e);var r=me.getObjects();if(ie=r.g_objWrapper,ne=r.g_objThumbs,t.hasOwnProperty(&quot;slider_progress_indicator_type&quot;)&amp;&amp;(Se.slider_progress_indicator_type=t.slider_progress_indicator_type),&quot;bar&quot;==Se.slider_progress_indicator_type&amp;&amp;(Se=jQuery.extend(Se,Pe)),t&amp;&amp;pe.setOptions(t),i(),1==Se.slider_enable_bullets){ye=new UGBullets;var o={bullets_skin:Se.slider_bullets_skin,bullets_space_between:Se.slider_bullets_space_between};ye.init(me,o)}Se.slider_enable_text_panel&amp;&amp;(Te=new UGTextPanel,Te.init(me,Se,&quot;slider&quot;)),Se.slider_enable_zoom_panel&amp;&amp;(ce=new UGZoomButtonsPanel,ce.init(pe,Se));var a=me.getGalleryID();Ie.init(Se,!1,a)}function t(){if(1==xe.isRunOnce)return!1;if(xe.isRunOnce=!0,Se.slider_background_color){var e=Se.slider_background_color;1!=Se.slider_background_opacity&amp;&amp;(e=we.convertHexToRGB(e,Se.slider_background_opacity)),re.css(&quot;background-color&quot;,e)}else 1!=Se.slider_background_opacity&amp;&amp;(e=we.convertHexToRGB(&quot;#000000&quot;,Se.slider_background_opacity),re.css(&quot;background-color&quot;,e));1==Se.slider_control_swipe&amp;&amp;(_e=new UGTouchSliderControl,_e.init(pe,Se)),1==Se.slider_control_zoom&amp;&amp;(ge=new UGZoomSliderControl,ge.init(pe,Se)),Te&amp;&amp;Te.run(),X()}function i(){var e=me.getOptions(),t=e.gallery_skin;&quot;&quot;==Se.slider_bullets_skin&amp;&amp;(Se.slider_bullets_skin=t),&quot;&quot;==Se.slider_arrows_skin&amp;&amp;(Se.slider_arrows_skin=t),&quot;&quot;==Se.slider_zoompanel_skin&amp;&amp;(Se.slider_zoompanel_skin=t),&quot;&quot;==Se.slider_play_button_skin&amp;&amp;(Se.slider_play_button_skin=t),&quot;&quot;==Se.slider_fullscreen_button_skin&amp;&amp;(Se.slider_fullscreen_button_skin=t),Se.video_enable_closebutton=Se.slider_video_enable_closebutton,&quot;zoom&quot;!=e.gallery_mousewheel_role&amp;&amp;(Se.slider_zoom_mousewheel=!1)}function n(e,t){var i=&quot;ug-type-square&quot;;&quot;round&quot;==Se.slider_videoplay_button_type&amp;&amp;(i=&quot;ug-type-round&quot;);var n=&quot;&quot;;return n+=&quot;<DIV class="ug-slide-wrapper ug-slide&quot;+t+&quot;">&quot;,n+=&quot;&quot;,n+=&quot;&quot;,n+=&quot;&quot;,n+=&quot;</DIV>&quot;}function r(e){e&amp;&amp;(ie=e);var t=Z(),i=(me.getOptions(),&quot;<DIV class="ug-slider-wrapper">&quot;);if(i+=&quot;<DIV class="ug-slider-inner">&quot;,i+=n(t,1),i+=n(t,2),i+=n(t,3),i+=&quot;</DIV>&quot;,1==Se.slider_enable_arrows&amp;&amp;(i+=&quot;&quot;,i+=&quot;&quot;),1==Se.slider_enable_play_button&amp;&amp;(i+=&quot;&quot;),1==Se.slider_enable_fullscreen_button&amp;&amp;(i+=&quot;&quot;),i+=&quot;</DIV>&quot;,ie.append(i),re=ie.children(&quot;.ug-slider-wrapper&quot;),oe=re.children(&quot;.ug-slider-inner&quot;),ae=oe.children(&quot;.ug-slide1&quot;),se=oe.children(&quot;.ug-slide2&quot;),le=oe.children(&quot;.ug-slide3&quot;),ae.data(&quot;slidenum&quot;,1),se.data(&quot;slidenum&quot;,2),le.data(&quot;slidenum&quot;,3),ye&amp;&amp;ye.appendHTML(re),1==Se.slider_enable_arrows&amp;&amp;(ue=re.children(&quot;.ug-arrow-left&quot;),de=re.children(&quot;.ug-arrow-right&quot;)),1==Se.slider_enable_play_button&amp;&amp;(ve=re.children(&quot;.ug-button-play&quot;)),1==Se.slider_enable_fullscreen_button&amp;&amp;(be=re.children(&quot;.ug-button-fullscreen&quot;)),1==Se.slider_enable_progress_indicator){Ee=we.initProgressIndicator(Se.slider_progress_indicator_type,Se,re);var r=Ee.getType();&quot;bar&quot;==r&amp;&amp;&quot;pie&quot;==Se.slider_progress_indicator_type&amp;&amp;(Se.slider_progress_indicator_type=&quot;bar&quot;,Se=jQuery.extend(Se,Pe)),me.setProgressIndicator(Ee)}if(1==Se.slider_enable_text_panel&amp;&amp;(Te.appendHTML(re),0==Se.slider_textpanel_always_on)){var o=Te.getElement();o.hide().data(&quot;isHidden&quot;,!0),xe.isTextPanelSaparateHover=!0}1==Se.slider_enable_zoom_panel&amp;&amp;ce.appendHTML(re),Ie.setHtml(oe)}function o(e){var t=J(e);we.placeElementInParentCenter(t);var i=$(e);we.placeElementInParentCenter(i)}function a(){if(ye&amp;&amp;(objBullets=ye.getElement(),we.placeElement(objBullets,Se.slider_bullets_align_hor,Se.slider_bullets_align_vert,Se.slider_bullets_offset_hor,Se.slider_bullets_offset_vert),we.placeElement(objBullets,Se.slider_bullets_align_hor,Se.slider_bullets_align_vert,Se.slider_bullets_offset_hor,Se.slider_bullets_offset_vert)),1==Se.slider_enable_arrows&amp;&amp;(we.placeElement(ue,Se.slider_arrow_left_align_hor,Se.slider_arrow_left_align_vert,Se.slider_arrow_left_offset_hor,Se.slider_arrow_left_offset_vert),we.placeElement(de,Se.slider_arrow_right_align_hor,Se.slider_arrow_left_align_vert,Se.slider_arrow_right_offset_hor,Se.slider_arrow_right_offset_vert)),0==Se.slider_controls_always_on&amp;&amp;M(!0),Ee){var e=Ee.getElement();if(&quot;bar&quot;==Se.slider_progress_indicator_type){var t=re.width();Ee.setSize(t),we.placeElement(e,&quot;left&quot;,Se.slider_progress_indicator_align_vert,0,Se.slider_progress_indicator_offset_vert)}else we.placeElement(e,Se.slider_progress_indicator_align_hor,Se.slider_progress_indicator_align_vert,Se.slider_progress_indicator_offset_hor,Se.slider_progress_indicator_offset_vert)}Te&amp;&amp;Te.positionPanel(),s(),o(ae),o(se),o(le),C()}function s(){if(ve&amp;&amp;we.placeElement(ve,Se.slider_play_button_align_hor,Se.slider_play_button_align_vert,Se.slider_play_button_offset_hor,Se.slider_play_button_offset_vert),be&amp;&amp;we.placeElement(be,Se.slider_fullscreen_button_align_hor,Se.slider_fullscreen_button_align_vert,Se.slider_fullscreen_button_offset_hor,Se.slider_fullscreen_button_offset_vert),ce){var e=ce.getElement();we.placeElement(e,Se.slider_zoompanel_align_hor,Se.slider_zoompanel_align_vert,Se.slider_zoompanel_offset_hor,Se.slider_zoompanel_offset_vert)}}function l(){var e,t,i,n,r=pe.getSlidesReference(),o=0,a=0,s=0;i=pe.isSlideHasItem(r.objNextSlide),n=pe.isSlideHasItem(r.objPrevSlide),n?(s=r.objPrevSlide.outerWidth(),r.objPrevSlide.css(&quot;z-index&quot;,1)):r.objPrevSlide.hide(),t=s+r.objCurrentSlide.outerWidth(),e=t,i?(e=t+r.objNextSlide.outerWidth(),r.objPrevSlide.css(&quot;z-index&quot;,2)):r.objNextSlide.hide(),r.objCurrentSlide.css(&quot;z-index&quot;,3),we.placeElement(r.objCurrentSlide,s,o),oe.css({left:-s+&quot;px&quot;,width:e+&quot;px&quot;}),n&amp;&amp;(we.placeElement(r.objPrevSlide,a,o),we.showElement(r.objPrevSlide)),i&amp;&amp;(we.showElement(r.objNextSlide),we.placeElement(r.objNextSlide,t,o))}function u(e){var t=e.data(&quot;index&quot;);if(void 0===t||null==t)return!1;var i=me.getItem(t);return i?void f(e,i):!1}function d(e){e.stop(!0).show(100)}function _(e){e.stop(!0).hide(100)}function g(e,t){var i=Se.slider_image_border_width;if(10&gt;=i)return i;var n=we.getElementSize(e),r=n.width,o=n.height;if(t&amp;&amp;(t.hasOwnProperty(&quot;imageWidth&quot;)&amp;&amp;(r=t.imageWidth),t.hasOwnProperty(&quot;imageHeight&quot;)&amp;&amp;(o=t.imageHeight)),0&gt;=r)return i;var a=o&gt;r?r:o,s=2*i,l=s/a;if(l&lt;Se.slider_image_border_maxratio)return i;var i=a*Se.slider_image_border_maxratio/2;return i=Math.round(i)}function c(e,t,i){var n={};if(1==Se.slider_image_border){n[&quot;border-style&quot;]=&quot;solid&quot;;var r=g(e,i);n[&quot;border-width&quot;]=r+&quot;px&quot;,n[&quot;border-color&quot;]=Se.slider_image_border_color,n[&quot;border-radius&quot;]=Se.slider_image_border_radius}&quot;image&quot;!=t&amp;&amp;1==Se.slider_video_constantsize&amp;&amp;(n[&quot;background-color&quot;]=&quot;#000000&quot;),1==Se.slider_image_shadow&amp;&amp;(n[&quot;box-shadow&quot;]=&quot;3px 3px 10px 0px #353535&quot;),e.css(n)}function h(e,t){var i=Se.slider_video_constantsize_width,n=Se.slider_video_constantsize_height,r=Se.slider_video_constantsize_scalemode,o=we.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,n,r);return o}function p(e,t,i){var n=e.children(&quot;.ug-item-wrapper&quot;),r=J(e);if(&quot;undefined&quot;==typeof t.urlImage||&quot;&quot;==t.urlImage)throw new Error(&quot;The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.&quot;,&quot;showbig&quot;);var o=t.urlImage,a=e.data(&quot;urlImage&quot;);e.data(&quot;urlImage&quot;,o);var s=pe.getScaleMode(e),l=pe.getSlideType(e);if(objPadding=pe.getObjImagePadding(),a==o&amp;&amp;i!==!0){var u=n.children(&quot;img&quot;);(0==t.imageWidth||0==t.imageHeight)&amp;&amp;me.checkFillImageSize(u,t);var g={};g=&quot;image&quot;!=l&amp;&amp;1==Se.slider_video_constantsize?h(u,t):we.scaleImageFitParent(u,t.imageWidth,t.imageHeight,s,objPadding),c(u,l,g),fe.trigger(pe.events.AFTER_PUT_IMAGE,e)}else if(u=we.placeImageInsideParent(o,n,t.imageWidth,t.imageHeight,s,objPadding),1==t.isBigImageLoaded){if(u.fadeTo(0,1),_(r),&quot;image&quot;!=l&amp;&amp;1==Se.slider_video_constantsize)var g=h(u,t);else var g=we.getImageInsideParentData(n,t.imageWidth,t.imageHeight,s,objPadding);u.css(&quot;width&quot;,g.imageWidth+&quot;px&quot;),c(u,l,g),fe.trigger(pe.events.AFTER_PUT_IMAGE,e)}else u.fadeTo(0,0),d(r),e.data(&quot;isLoading&quot;,!0),pe.isSlideCurrent(e)&amp;&amp;fe.trigger(pe.events.CURRENTSLIDE_LOAD_START),u.data(&quot;itemIndex&quot;,t.index),u.on(&quot;load&quot;,function(){var e=jQuery(this),t=e.data(&quot;itemIndex&quot;);e.fadeTo(0,1);var i=e.parent().parent(),n=pe.getSlideType(i),r=J(i),o=pe.getObjImagePadding(),a=pe.getScaleMode(i);_(r),i.data(&quot;isLoading&quot;,!1),pe.isSlideCurrent(i)&amp;&amp;fe.trigger(pe.events.CURRENTSLIDE_LOAD_END),me.onItemBigImageLoaded(null,e);var s=me.getItem(t),l={};&quot;image&quot;!=n&amp;&amp;1==Se.slider_video_constantsize?h(e,s):l=we.scaleImageFitParent(e,s.imageWidth,s.imageHeight,a,o),e.fadeTo(0,1),c(e,n,l),fe.trigger(pe.events.AFTER_PUT_IMAGE,i)})}function f(e,t){try{var i=e.children(&quot;.ug-item-wrapper&quot;);if(null==t)return i.html(&quot;&quot;),e.removeData(&quot;index&quot;),e.removeData(&quot;type&quot;),e.removeData(&quot;urlImage&quot;),!1;e.data(&quot;index&quot;);e.data(&quot;index&quot;,t.index),e.data(&quot;type&quot;,t.type),1==Se.slider_enable_links&amp;&amp;&quot;image&quot;==t.type&amp;&amp;(t.link?e.addClass(&quot;ug-slide-clickable&quot;):e.removeClass(&quot;ug-slide-clickable&quot;)),p(e,t);var n=$(e);switch(t.type){case&quot;image&quot;:n.hide();break;default:n.show()}}catch(r){throw&quot;undefined&quot;!=typeof r.fileName&amp;&amp;&quot;showbig&quot;==r.fileName&amp;&amp;me.showErrorMessageReplaceGallery(r.message),i.html(&quot;&quot;),new Error(r)}}function m(){if(!Te)return!1;if(1==b())return!1;var e=Te.getElement(),t=0;(1==xe.isTextPanelSaparateHover||1==Se.slider_textpanel_always_on)&amp;&amp;(t=Se.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data(&quot;isHidden&quot;,!0)}function v(){if(!Te)return!1;if(0==b())return!1;var e=Te.getElement(),t=0;(1==xe.isTextPanelSaparateHover||1==Se.slider_textpanel_always_on)&amp;&amp;(e.show(),Te.positionElements(),t=Se.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data(&quot;isHidden&quot;,!1)}function b(){var e=Te.getElement(),t=e.data(&quot;isHidden&quot;);return t===!1?!1:!0}function y(e,t){if(void 0==t)var t=pe.getCurrentSlide();var i=pe.getSlideType(t);if(i!=e)throw new Error(&quot;Wrong slide type: &quot;+i+&quot;, should be: &quot;+e);return!0}function I(){var e=pe.getCurrentSlide(),t=pe.getSlideImage(e),i=we.getElementSize(e),n=i.left,r=i.top;if(1==Se.slider_video_constantsize){var o=we.getElementSize(t);n+=o.left,r+=o.top}else n+=Se.slider_video_padding_left,r+=Se.slider_video_padding_top;Ie.setPosition(n,r)}function w(){var e=Se.slider_video_constantsize_width,t=Se.slider_video_constantsize_height;Ie.setSize(e,t);var i=Ie.getObject();c(i,&quot;video&quot;)}function E(e,t,i){fe.trigger(pe.events.TRANSITION_START);var n=Se.slider_transition;switch(i&amp;&amp;(n=i),pe.stopSlideAction(null,!0),n){default:case&quot;fade&quot;:P(t);break;case&quot;slide&quot;:T(e,t);break;case&quot;lightbox_open&quot;:P(t,!1,!0)}}function T(e,t){var i=pe.isAnimating();if(1==i)return xe.itemWaiting=t,!0;null!=xe.itemWaiting&amp;&amp;(xe.itemWaiting=null);var n=pe.getSlidesReference();switch(e){case&quot;right&quot;:f(n.objPrevSlide,t),l();var r=we.getElementSize(n.objPrevSlide),o=-r.left;pe.switchSlideNums(&quot;right&quot;);break;case&quot;left&quot;:f(n.objNextSlide,t),l();var a=we.getElementSize(n.objNextSlide),o=-a.left;pe.switchSlideNums(&quot;left&quot;);break;default:throw new Error(&quot;wrong direction: &quot;+e)}var s=Se.slider_transition_speed,u=Se.slider_transition_easing,d={duration:s,easing:u,queue:!1,always:function(){if(pe.stopSlideAction(),Ie.hide(),null!=xe.itemWaiting){var e=K(xe.itemWaiting);T(e,xe.itemWaiting)}else pe.placeNabourItems(),fe.trigger(pe.events.TRANSITION_END)}};oe.animate({left:o+&quot;px&quot;},d)}function S(e,t,i){i?e.fadeTo(Se.slider_transition_speed,t,i):e.fadeTo(Se.slider_transition_speed,t)}function P(e,t,i){if(!t)var t=!1;var n=pe.getSlidesReference();f(n.objNextSlide,e);var r=we.getElementSize(n.objCurrentSlide);we.placeElement(n.objNextSlide,r.left,r.top);var o=xe.numCurrent;if(xe.numCurrent=xe.numNext,xe.numNext=o,fe.trigger(pe.events.ITEM_CHANGED),n.objNextSlide.stop(!0),n.objCurrentSlide.stop(!0),1==t)n.objCurrentSlide.fadeTo(0,0),n.objNextSlide.fadeTo(0,1),pe.placeNabourItems(),fe.trigger(pe.events.TRANSITION_END),i!==!0&amp;&amp;Ie.hide();else{if(n.objNextSlide.fadeTo(0,0),S(n.objCurrentSlide,0,function(){pe.placeNabourItems(),fe.trigger(pe.events.TRANSITION_END),i!==!0&amp;&amp;Ie.hide()}),1==Ie.isVisible()){var a=Ie.getObject();S(a,0)}S(n.objNextSlide,1)}}function x(){1==Se.slider_fullscreen_button_mobilehide&amp;&amp;be&amp;&amp;be.hide(),1==Se.slider_play_button_mobilehide&amp;&amp;ve&amp;&amp;ve.hide(),1==Se.slider_zoompanel_mobilehide&amp;&amp;ce&amp;&amp;ce.getElement().hide()}function j(){1==Se.slider_fullscreen_button_mobilehide&amp;&amp;be&amp;&amp;be.show(),1==Se.slider_play_button_mobilehide&amp;&amp;ve&amp;&amp;ve.show(),1==Se.slider_zoompanel_mobilehide&amp;&amp;ce&amp;&amp;ce.getElement().show()}function C(){var e=me.isMobileMode();e?x():j()}function A(){var e=re.children(&quot;.ug-slider-control&quot;);return e}function M(e){if(0==we.isTimePassed(&quot;sliderControlsToggle&quot;))return!1;if(0==xe.isControlsVisible)return!1;if(!e)var e=!1;var t=A();e===!0?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(Se.slider_controls_appear_duration,0,function(){t.hide()}),xe.isControlsVisible=!1}function O(e){if(0==we.isTimePassed(&quot;sliderControlsToggle&quot;))return!1;if(1==xe.isControlsVisible)return!0;if(!e)var e=!1;var t=A();e===!0?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(Se.slider_controls_appear_duration,1)),xe.isControlsVisible=!0}function z(){0==xe.isControlsVisible?O():M()}function L(e){if(e==xe.currentControlsMode)return!1;switch(e){case&quot;image&quot;:ce&amp;&amp;ce.getElement().show();break;case&quot;video&quot;:ce&amp;&amp;ce.getElement().hide();break;default:throw new Error(&quot;wrong controld mode: &quot;+e)}xe.currentControlsMode=e}function H(e,t,i){var n=me.getSelectedItem();pe.setItem(n,!1,i);var r=n.index;ye&amp;&amp;ye.setActive(r),Te&amp;&amp;0==xe.isTextPanelSaparateHover&amp;&amp;v(),L(&quot;image&quot;==n.type?&quot;image&quot;:&quot;video&quot;)}function N(e,t){me.selectItem(t)}function k(e){return _e&amp;&amp;0==_e.isTapEventOccured(e)?!0:void fe.trigger(pe.events.CLICK,e)}function R(){var e=pe.getCurrentSlide(),t=e.hasClass(&quot;ug-slide-clickable&quot;),i=pe.getCurrentItem();return t?(0==Se.slider_links_newpage?location.href=i.link:window.open(i.link,&quot;_blank&quot;),!0):void(0==Se.slider_controls_always_on&amp;&amp;1==Se.slider_controls_appear_ontap&amp;&amp;1==pe.isCurrentSlideType(&quot;image&quot;)&amp;&amp;(z(),Te&amp;&amp;1==Se.slider_textpanel_always_on&amp;&amp;pe.isCurrentSlideType(&quot;image&quot;)&amp;&amp;pe.isCurrentSlideImageFit()&amp;&amp;v()))}function G(e){Te&amp;&amp;pe.isCurrentSlideType(&quot;image&quot;)&amp;&amp;0==pe.isCurrentSlideImageFit()&amp;&amp;m()}function D(){O()}function Q(){
M()}function W(e){var t=e.parent();pe.startSlideAction(t)}function B(){me.isPlayMode()&amp;&amp;me.pausePlaying(),fe.trigger(pe.events.ACTION_START)}function F(){me.isPlayMode()&amp;&amp;me.continuePlaying(),fe.trigger(pe.events.ACTION_END)}function Y(e,t,i){ae.data(&quot;index&quot;)==t&amp;&amp;(objItem=me.getItem(t),p(ae,objItem,!0)),se.data(&quot;index&quot;)==t&amp;&amp;(objItem=me.getItem(t),p(se,objItem,!0)),le.data(&quot;index&quot;)==t&amp;&amp;(objItem=me.getItem(t),p(le,objItem,!0))}function U(e,t){t=jQuery(t);var i=pe.getSlideImage(t),n=$(t),r=we.getElementSize(i);we.placeElement(n,&quot;center&quot;,&quot;middle&quot;,r.left,r.top,i)}function V(e){var t=$(e);we.addClassOnHover(t),we.setButtonOnClick(t,W)}function X(){te.on(me.events.ITEM_IMAGE_UPDATED,Y),te.on(me.events.ITEM_CHANGE,H),ye&amp;&amp;jQuery(ye).on(ye.events.BULLET_CLICK,N),1==Se.slider_enable_arrows&amp;&amp;(we.addClassOnHover(de,&quot;ug-arrow-hover&quot;),we.addClassOnHover(ue,&quot;ug-arrow-hover&quot;),me.setNextButton(de),me.setPrevButton(ue)),0==Se.slider_controls_always_on&amp;&amp;re.hover(D,Q),re.on(&quot;touchend click&quot;,k),fe.on(pe.events.CLICK,R),Te&amp;&amp;1==xe.isTextPanelSaparateHover&amp;&amp;re.hover(v,m),ve&amp;&amp;(we.addClassOnHover(ve,&quot;ug-button-hover&quot;),me.setPlayButton(ve)),be&amp;&amp;(we.addClassOnHover(be,&quot;ug-button-hover&quot;),me.setFullScreenToggleButton(be)),ge&amp;&amp;fe.on(pe.events.ZOOM_CHANGE,G),ce&amp;&amp;ce.initEvents(),Ie.initEvents(),jQuery(Ie).on(Ie.events.SHOW,B),jQuery(Ie).on(Ie.events.HIDE,F),V(ae),V(se),V(le),fe.on(pe.events.AFTER_PUT_IMAGE,U),re.on(&quot;mouseenter&quot;,&quot;.ug-item-wrapper img&quot;,function(e){fe.trigger(pe.events.IMAGE_MOUSEENTER)}),re.on(&quot;mouseleave&quot;,&quot;.ug-item-wrapper img&quot;,function(e){var t=pe.isMouseInsideSlideImage(e);0==t&amp;&amp;fe.trigger(pe.events.IMAGE_MOUSELEAVE)})}function Z(){var e;switch(Se.slider_loader_type){default:case 1:e=&quot;ug-loader1&quot;;break;case 2:e=&quot;ug-loader2&quot;;break;case 3:e=&quot;ug-loader3&quot;;break;case 4:e=&quot;ug-loader4&quot;;break;case 5:e=&quot;ug-loader5&quot;;break;case 6:e=&quot;ug-loader6&quot;;break;case 7:e=&quot;ug-loader7&quot;;break;case 8:e=&quot;ug-loader8&quot;;break;case 9:e=&quot;ug-loader9&quot;}return&quot;black&quot;==Se.slider_loader_color&amp;&amp;(e+=&quot; ug-loader-black&quot;),e}function q(e){switch(e){case 1:return ae;case 2:return se;case 3:return le;default:throw new Error(&quot;wrong num: &quot;+e)}}function K(e){var t=pe.getSlidesReference(),i=t.objCurrentSlide.data(&quot;index&quot;),n=e.index,r=&quot;left&quot;;return i&gt;n&amp;&amp;(r=&quot;right&quot;),r}function J(e){if(!e)var e=pe.getCurrentSlide();var t=e.children(&quot;.ug-slider-preloader&quot;);return t}function $(e){var t=e.children(&quot;.ug-button-videoplay&quot;);return t}function ee(e){if(!e)var e=pe.getCurrentSlide();var t=e.data(&quot;index&quot;);if(void 0==t)return null;var i=me.getItem(t);return i}var te,ie,ne,re,oe,ae,se,le,ue,de,_e,ge,ce,he,pe=this,fe=jQuery(pe),me=new UniteGalleryMain,ve=null,be=null,ye=null,Ie=new UGVideoPlayer,we=new UGFunctions,Ee=null,Te=null;this.events={ITEM_CHANGED:&quot;item_changed&quot;,BEFORE_SWITCH_SLIDES:&quot;before_switch&quot;,BEFORE_RETURN:&quot;before_return&quot;,AFTER_RETURN:&quot;after_return&quot;,ZOOM_START:&quot;slider_zoom_start&quot;,ZOOM_END:&quot;slider_zoom_end&quot;,ZOOMING:&quot;slider_zooming&quot;,ZOOM_CHANGE:&quot;slider_zoom_change&quot;,START_DRAG:&quot;start_drag&quot;,AFTER_DRAG_CHANGE:&quot;after_drag_change&quot;,ACTION_START:&quot;action_start&quot;,ACTION_END:&quot;action_end&quot;,CLICK:&quot;slider_click&quot;,TRANSITION_START:&quot;slider_transition_start&quot;,TRANSITION_END:&quot;slider_transition_end&quot;,AFTER_PUT_IMAGE:&quot;after_put_image&quot;,IMAGE_MOUSEENTER:&quot;slider_image_mouseenter&quot;,IMAGE_MOUSELEAVE:&quot;slider_image_mouseleave&quot;,CURRENTSLIDE_LOAD_START:&quot;slider_current_loadstart&quot;,CURRENTSLIDE_LOAD_END:&quot;slider_current_loadend&quot;};var Se={slider_scale_mode:&quot;fill&quot;,slider_scale_mode_media:&quot;fill&quot;,slider_scale_mode_fullscreen:&quot;down&quot;,slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:&quot;&quot;,slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:&quot;#ffffff&quot;,slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:&quot;fit&quot;,slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:&quot;slide&quot;,slider_transition_speed:300,slider_transition_easing:&quot;easeInOutQuad&quot;,slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:&quot;white&quot;,slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:&quot;&quot;,slider_bullets_space_between:-1,slider_bullets_align_hor:&quot;center&quot;,slider_bullets_align_vert:&quot;bottom&quot;,slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:&quot;&quot;,slider_arrow_left_align_hor:&quot;left&quot;,slider_arrow_left_align_vert:&quot;middle&quot;,slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:&quot;right&quot;,slider_arrow_right_align_vert:&quot;middle&quot;,slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:&quot;pie&quot;,slider_progress_indicator_align_hor:&quot;right&quot;,slider_progress_indicator_align_vert:&quot;top&quot;,slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:&quot;&quot;,slider_play_button_align_hor:&quot;left&quot;,slider_play_button_align_vert:&quot;top&quot;,slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:&quot;&quot;,slider_fullscreen_button_align_hor:&quot;left&quot;,slider_fullscreen_button_align_vert:&quot;top&quot;,slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:&quot;&quot;,slider_zoompanel_align_hor:&quot;left&quot;,slider_zoompanel_align_vert:&quot;top&quot;,slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:&quot;square&quot;},Pe={slider_progress_indicator_align_hor:&quot;left&quot;,slider_progress_indicator_align_vert:&quot;bottom&quot;,slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},xe={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:&quot;image&quot;};this.switchSlideNums=function(e){switch(fe.trigger(pe.events.BEFORE_SWITCH_SLIDES),e){case&quot;left&quot;:var t=xe.numCurrent;xe.numCurrent=xe.numNext,xe.numNext=xe.numPrev,xe.numPrev=t;break;case&quot;right&quot;:var t=xe.numCurrent;xe.numCurrent=xe.numPrev,xe.numPrev=xe.numNext,xe.numNext=t;break;default:throw new Error(&quot;wrong direction: &quot;+e)}fe.trigger(pe.events.ITEM_CHANGED)},this.destroy=function(){fe.off(pe.events.AFTER_PUT_IMAGE),te.off(me.events.ITEM_IMAGE_UPDATED),te.off(me.events.ITEM_CHANGE),ye&amp;&amp;jQuery(ye).on(ye.events.BULLET_CLICK),re.off(&quot;mouseenter&quot;),re.off(&quot;mouseleave&quot;),re.off(&quot;touchend&quot;),re.off(&quot;click&quot;),fe.off(pe.events.CLICK),ge&amp;&amp;fe.off(pe.events.ZOOM_CHANGE),fe.off(pe.events.BEFORE_SWITCH_SLIDES),jQuery(Ie).off(Ie.events.SHOW),jQuery(Ie).off(Ie.events.HIDE),Ie.destroy(),re.off(&quot;mouseenter&quot;,&quot;.ug-item-wrapper img&quot;),re.off(&quot;mouseleave&quot;,&quot;.ug-item-wrapper img&quot;)},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i,n){e(t,i,n)},this.getSlideImage=function(e){if(!e)var e=pe.getCurrentSlide();var t=e.find(&quot;.ug-item-wrapper img&quot;);return t},this.setHtml=function(e){r(e)},this.run=function(){t()},this.isInnerInPlace=function(){var e=pe.getSlidesReference(),t=we.getElementSize(e.objCurrentSlide),i=-t.left,n=we.getElementSize(oe);return i==n.left?!0:!1},this.isAnimating=function(){var e=oe.is(&quot;:animated&quot;);return e},this.isSlideCurrent=function(e){var t=e.data(&quot;slidenum&quot;);return xe.numCurrent==t?!0:!1},this.isSlideHasItem=function(e){var t=e.data(&quot;index&quot;);return void 0===t||null===t?!1:!0},this.getObjImagePadding=function(){var e={padding_top:Se.slider_image_padding_top,padding_bottom:Se.slider_image_padding_bottom,padding_left:Se.slider_image_padding_left,padding_right:Se.slider_image_padding_right};return e},this.getSlidesReference=function(){var e={objPrevSlide:q(xe.numPrev),objNextSlide:q(xe.numNext),objCurrentSlide:q(xe.numCurrent)};return e},this.getCurrentSlide=function(){var e=pe.getSlidesReference();return e.objCurrentSlide},this.getCurrentItemIndex=function(){var e=pe.getSlidesReference(),t=e.objCurrentSlide.data(&quot;index&quot;);return(null===t||void 0===t)&amp;&amp;(t=-1),t},this.getCurrentItem=function(){var e=pe.getCurrentItemIndex();if(-1==e)return null;var t=me.getItem(e);return t},this.getSlideType=function(e){void 0==e&amp;&amp;(e=pe.getCurrentSlide());var t=e.data(&quot;type&quot;);return t},this.isMouseInsideSlideImage=function(e){var t=pe.getSlideImage(),i=we.getMousePosition(e);void 0===i.pageX&amp;&amp;(i=_e.getLastMousePos());var n=we.getMouseElementPoint(i,t),r=we.getElementSize(t);return isMouseInside=we.isPointInsideElement(n,r),isMouseInside},this.isCurrentSlideType=function(e){var t=pe.getSlideType();return t==e?!0:!1},this.isCurrentSlideLoadingImage=function(){var e=pe.getCurrentSlide(),t=e.data(&quot;isLoading&quot;);return t===!0?!0:!1},this.setItem=function(e,t,i){var n=pe.getSlidesReference(),r=n.objCurrentSlide.data(&quot;index&quot;),o=e.index;if(o==r)return!0;var a=void 0==r;if(a)f(n.objCurrentSlide,e),pe.placeNabourItems();else{var s=&quot;left&quot;;me.getNumItems();&quot;next&quot;==i?s=&quot;left&quot;:&quot;prev&quot;==i||r&gt;o?s=&quot;right&quot;:r&gt;o&amp;&amp;(s=&quot;right&quot;),E(s,e,t)}},this.placeNabourItems=function(){var e=pe.getSlidesReference(),t=e.objCurrentSlide.data(&quot;index&quot;),i=me.getPrevItem(t),n=me.getNextItem(t);f(e.objNextSlide,n),f(e.objPrevSlide,i),l()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e||(e=pe.getCurrentSlide()),t===!0?Ie.pause():Ie.hide()},this.startSlideAction=function(e){e||(e=pe.getCurrentSlide());var t=ee(e);if(&quot;image&quot;==t.type)return!0;switch(1==Se.slider_video_constantsize&amp;&amp;w(),I(),Ie.show(),t.type){case&quot;youtube&quot;:Ie.playYoutube(t.videoid);break;case&quot;vimeo&quot;:Ie.playVimeo(t.videoid);break;case&quot;html5video&quot;:Ie.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case&quot;soundcloud&quot;:Ie.playSoundCloud(t.trackid);break;case&quot;wistia&quot;:Ie.playWistia(t.videoid)}},this.getScaleMode=function(e){if(!e)var e=pe.getCurrentSlide();var t=pe.getSlideType(e);return&quot;image&quot;!=t?Se.slider_scale_mode_media:Se.slider_scale_mode==Se.slider_scale_mode_fullscreen?Se.slider_scale_mode:1==me.isFullScreen()?Se.slider_scale_mode_fullscreen:Se.slider_scale_mode},this.getObjects=function(){var e={g_objSlider:re,g_objInner:oe,g_options:Se,g_objZoomSlider:ge};return e},this.getObjZoom=function(){return ge},this.getOptions=function(){return Se},this.getElement=function(){return re},this.getVideoObject=function(){return Ie},this.isCurrentSlideImageFit=function(){var e=pe.getCurrentSlide();pe.getSlideType(e);y(&quot;image&quot;,e);var t=pe.getSlideImage(e);if(0==t.length)return!1;var i=we.isImageFitParent(t);return i},this.isCurrentImageInPlace=function(){var e=pe.getSlideImage();if(0==e.length)return!1;var t=pe.getScaleMode(),i=pe.getObjImagePadding(),n=ee(),r=e.parent(),o=we.getImageInsideParentData(r,n.imageWidth,n.imageHeight,t,i),a=we.getElementSize(e),s=!1;return o.imageWidth==a.width&amp;&amp;(s=!0),s},this.isSlideActionActive=function(){return Ie.isVisible()},this.isSwiping=function(){if(!_e)return!1;var e=_e.isTouchActive();return e},this.isPreloading=function(){var e=J();return e.is(&quot;:visible&quot;)?!0:!1},this.setOptions=function(e){he&amp;&amp;(e=we.convertCustomPrefixOptions(e,he,&quot;slider&quot;)),Se=jQuery.extend(Se,e)},this.setSize=function(e,t){if(0&gt;e||0&gt;t)return!0;var i={};i.width=e+&quot;px&quot;,i.height=t+&quot;px&quot;,re.css(i);var n={};n.height=t+&quot;px&quot;,n.top=&quot;0px&quot;,n.left=&quot;0px&quot;,oe.css(n);var r={};r.height=t+&quot;px&quot;,r.width=e+&quot;px&quot;,ae.css(r),se.css(r),le.css(r);var o=e-Se.slider_item_padding_left-Se.slider_item_padding_right,s=t-Se.slider_item_padding_top-Se.slider_item_padding_bottom,d={};d.width=o+&quot;px&quot;,d.height=s+&quot;px&quot;,d.top=Se.slider_item_padding_top+&quot;px&quot;,d.left=Se.slider_item_padding_left+&quot;px&quot;,re.find(&quot;.ug-item-wrapper&quot;).css(d),Te&amp;&amp;Te.setSizeByParent(),a(),u(ae),u(se),u(le),l();var _=pe.getSlideType();if(&quot;image&quot;!=_&amp;&amp;1==Se.slider_video_constantsize)w();else{var g=e-Se.slider_video_padding_left-Se.slider_video_padding_right,c=t-Se.slider_video_padding_top-Se.slider_video_padding_bottom;Ie.setSize(g,c)}I()},this.refreshSlideItems=function(){return 1==pe.isAnimating()?!0:(u(ae),u(se),u(le),void l())},this.isMouseOver=function(){return re.ismouseover()},this.setPosition=function(e,t){we.placeElement(re,e,t)},this.zoomIn=function(){return ge?void ge.zoomIn():!0},this.zoomOut=function(){return ge?void ge.zoomOut():!0},this.zoomBack=function(){return ge?void ge.zoomBack():!0}}function UGTextPanel(){function e(e,t){if(!t)var t=v.textpanel_padding_top;var i=t;if(d){var n=i;f.placeElement(d,0,n);var o=d.is(&quot;:visible&quot;);if(1==o){var a=f.getElementSize(d),i=a.bottom;i&gt;0&amp;&amp;(b.lastTitleBottom=i)}else{var i=20;b.lastTitleBottom&gt;0&amp;&amp;(i=b.lastTitleBottom)}}var s=&quot;&quot;;if(_&amp;&amp;(s=jQuery.trim(_.text())),&quot;&quot;!=s){var l=i;d&amp;&amp;(l+=v.textpanel_padding_title_description),f.placeElement(_,0,l);var u=jQuery(_).is(&quot;:visible&quot;);if(1==u){var g=f.getElementSize(_);i=g.bottom,g.height&gt;0&amp;&amp;(b.lastDescHeight=g.height)}else{var c=16;b.lastDescHeight&gt;0&amp;&amp;(c=b.lastDescHeight),i=l+c}}if(!v.textpanel_height&amp;&amp;1==b.setInternalHeight){var h=i+v.textpanel_padding_bottom;r(h,e)}}function t(){var e=0;if(d&amp;&amp;(e+=d.outerHeight()),_){var t=&quot;&quot;;_&amp;&amp;(t=jQuery.trim(_.text())),&quot;&quot;!=t&amp;&amp;(d&amp;&amp;(e+=v.textpanel_padding_title_description),e+=_.outerHeight())}return e}function i(){var i=t(),n=(c.height()-i)/2;e(!1,n)}function n(){var i=t(),n=c.height()-i-v.textpanel_padding_bottom;e(!1,n)}function r(e,t){if(!t)var t=!1;if(1==t){if(g){var i=g.height();e&gt;i&amp;&amp;g.height(e)}var n={height:e+&quot;px&quot;};l.add(c).animate(n,v.textpanel_fade_duration)}else g&amp;&amp;g.height(e),l.add(c).height(e)}function o(){if(1==v.textpanel_enable_bg){g=l.children(&quot;.ug-textpanel-bg&quot;),g.fadeTo(0,v.textpanel_bg_opacity);var e={&quot;background-color&quot;:v.textpanel_bg_color};e=jQuery.extend(e,v.textpanel_bg_css),g.css(e)}if(1==v.textpanel_enable_title){d=c.children(&quot;.ug-textpanel-title&quot;);var t={};null!==v.textpanel_title_color&amp;&amp;(t.color=v.textpanel_title_color),null!==v.textpanel_title_font_family&amp;&amp;(t[&quot;font-family&quot;]=v.textpanel_title_font_family),null!==v.textpanel_title_text_align&amp;&amp;(t[&quot;text-align&quot;]=v.textpanel_title_text_align),null!==v.textpanel_title_font_size&amp;&amp;(t[&quot;font-size&quot;]=v.textpanel_title_font_size+&quot;px&quot;),null!==v.textpanel_title_bold&amp;&amp;(v.textpanel_title_bold===!0?t[&quot;font-weight&quot;]=&quot;bold&quot;:t[&quot;font-weight&quot;]=&quot;normal&quot;),v.textpanel_css_title&amp;&amp;(t=jQuery.extend(t,v.textpanel_css_title)),d.css(t)}if(1==v.textpanel_enable_description){_=c.children(&quot;.ug-textpanel-description&quot;);var i={};null!==v.textpanel_desc_color&amp;&amp;(i.color=v.textpanel_desc_color),null!==v.textpanel_desc_font_family&amp;&amp;(i[&quot;font-family&quot;]=v.textpanel_desc_font_family),null!==v.textpanel_desc_text_align&amp;&amp;(i[&quot;text-align&quot;]=v.textpanel_desc_text_align),null!==v.textpanel_desc_font_size&amp;&amp;(i[&quot;font-size&quot;]=v.textpanel_desc_font_size+&quot;px&quot;),null!==v.textpanel_desc_bold&amp;&amp;(v.textpanel_desc_bold===!0?i[&quot;font-weight&quot;]=&quot;bold&quot;:i[&quot;font-weight&quot;]=&quot;normal&quot;),v.textpanel_css_title&amp;&amp;(i=jQuery.extend(i,v.textpanel_css_description)),_.css(i)}}function a(){var e=h.getSelectedItem();p.setText(e.title,e.description)}function s(){jQuery(h).on(h.events.ITEM_CHANGE,a)}var l,u,d,_,g,c,h,p=this,f=new UGFunctions,m=&quot;&quot;,v={textpanel_align:&quot;bottom&quot;,textpanel_margin:0,textpanel_text_valign:&quot;middle&quot;,textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:&quot;#000000&quot;,textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},b={isFirstTime:!0,setInternalHeight:!0,lastTitleBottom:0,lastDescHeight:0};this.positionElements=function(t){if(!v.textpanel_height||&quot;top&quot;==v.textpanel_text_valign)return e(t),!1;switch(v.textpanel_text_valign){default:case&quot;top&quot;:e(!1);break;case&quot;bottom&quot;:n();break;case&quot;center&quot;:case&quot;middle&quot;:i()}},this.init=function(e,t,i){if(h=e,i&amp;&amp;(m=i,t=f.convertCustomPrefixOptions(t,m,&quot;textpanel&quot;)),t&amp;&amp;(v=jQuery.extend(v,t)),0==v.textpanel_enable_title&amp;&amp;0==v.textpanel_enable_description)throw new Error(&quot;Textpanel Error: The title or description must be enabled&quot;);v.textpanel_height&amp;&amp;v.textpanel_height&lt;0&amp;&amp;(v.textpanel_height=null),1==v.textpanel_desc_style_as_title&amp;&amp;(v.textpanel_desc_color||(v.textpanel_desc_color=v.textpanel_title_color),v.textpanel_desc_bold||(v.textpanel_desc_bold=v.textpanel_title_bold),v.textpanel_desc_font_family||(v.textpanel_desc_font_family=v.textpanel_title_font_family),v.textpanel_desc_font_size||(v.textpanel_desc_font_size=v.textpanel_title_font_size),v.textpanel_desc_text_align||(v.textpanel_desc_text_align=v.textpanel_title_text_align))},this.appendHTML=function(e,t){u=e,t=t?&quot; &quot;+t:&quot;&quot;;var i=&quot;<DIV class="ug-textpanel&quot;+t+&quot;">&quot;;1==v.textpanel_enable_bg&amp;&amp;(i+=&quot;&quot;),i+=&quot;<DIV class="ug-textpanel-textwrapper&quot;+t+&quot;">&quot;,1==v.textpanel_enable_title&amp;&amp;(i+=&quot;&quot;),1==v.textpanel_enable_description&amp;&amp;(i+=&quot;&quot;),i+=&quot;</DIV></DIV>&quot;,e.append(i),l=e.children(&quot;.ug-textpanel&quot;),c=l.children(&quot;.ug-textpanel-textwrapper&quot;),o()},this.destroy=function(){jQuery(h).off(h.events.ITEM_CHANGE)},this.run=function(){p.setSizeByParent(),s()},this.setPanelSize=function(e,t){if(b.setInternalHeight=!0,t)b.setInternalHeight=!1;else var t=80;v.textpanel_height&amp;&amp;(t=v.textpanel_height),l.width(e),l.height(t),g&amp;&amp;(g.width(e),g.height(t));var i=e-v.textpanel_padding_left-v.textpanel_padding_right,n=v.textpanel_padding_left;f.setElementSizeAndPosition(c,n,0,i,t),d&amp;&amp;d.width(i),_&amp;&amp;_.width(i),0==b.isFirstTime&amp;&amp;p.positionElements(!1)},this.setSizeByParent=function(){var e=f.getElementSize(u);p.setPanelSize(e.width)},this.setTextPlain=function(e,t){d&amp;&amp;d.html(e),_&amp;&amp;_.html(t)},this.setText=function(e,t){1==b.isFirstTime?(p.setTextPlain(e,t),b.isFirstTime=!1,p.positionElements(!1)):c.stop().fadeTo(v.textpanel_fade_duration,0,function(){p.setTextPlain(e,t),p.positionElements(!0),jQuery(this).fadeTo(v.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var i={};if(void 0!==e&amp;&amp;null!==e)i.top=e,i.bottom=&quot;auto&quot;;else switch(v.textpanel_align){case&quot;top&quot;:i.top=v.textpanel_margin+&quot;px&quot;;break;case&quot;bottom&quot;:i.top=&quot;auto&quot;,i.bottom=v.textpanel_margin+&quot;px&quot;;break;case&quot;middle&quot;:i.top=f.getElementRelativePos(l,&quot;middle&quot;,v.textpanel_margin)}void 0!==t&amp;&amp;null!==t&amp;&amp;(i.left=t),l.css(i)},this.setOptions=function(e){m&amp;&amp;(e=f.convertCustomPrefixOptions(e,m,&quot;textpanel&quot;)),v=jQuery.extend(v,e)},this.getElement=function(){return l},this.getSize=function(){var e=f.getElementSize(l);return e},this.refresh=function(e,t,i,n){o(),i?p.setPanelSize(i,n):p.setSizeByParent(),p.positionElements(!1),t!==!0&amp;&amp;p.positionPanel(),e===!0&amp;&amp;p.show()},this.hide=function(){l.hide()},this.show=function(){l.show()},this.getOptions=function(){return v},this.getOption=function(e){return 0==v.hasOwnProperty(e)?null:v[e]}}function UGZoomButtonsPanel(){function e(e){return e?e.hasClass(&quot;ug-zoompanel-button-disabled&quot;)?!0:!1:!0}function t(e){e&amp;&amp;e.addClass(&quot;ug-zoompanel-button-disabled&quot;)}function i(e){e&amp;&amp;e.removeClass(&quot;ug-zoompanel-button-disabled&quot;)}function n(){if(0==d.isCurrentSlideType(&quot;image&quot;))return!0;var n=d.isCurrentSlideImageFit();1==n?0==e(s)&amp;&amp;(t(s),t(l)):1==e(s)&amp;&amp;(i(s),i(l))}var r,o,a,s,l,u=this,d=new UGSlider,_=new UGFunctions,g={slider_zoompanel_skin:&quot;&quot;};this.init=function(e,t){d=e,t&amp;&amp;(g=jQuery.extend(g,t))},this.appendHTML=function(e){o=e;var t=&quot;<DIV class="ug-slider-control ug-zoompanel ug-skin-&quot;+g.slider_zoompanel_skin+&quot;">&quot;;t+=&quot;&quot;,t+=&quot;&quot;,t+=&quot;&quot;,t+=&quot;</DIV>&quot;,e.append(t),r=e.children(&quot;.ug-zoompanel&quot;),a=r.children(&quot;.ug-zoompanel-plus&quot;),s=r.children(&quot;.ug-zoompanel-minus&quot;),l=r.children(&quot;.ug-zoompanel-return&quot;)},this.setObjects=function(e,t,i){a=e,s=t,l=i,s&amp;&amp;s.addClass(&quot;ug-zoompanel-button-disabled&quot;),l&amp;&amp;l.addClass(&quot;ug-zoompanel-button-disabled&quot;)},this.getElement=function(){return r},u.initEvents=function(){_.addClassOnHover(a,&quot;ug-button-hover&quot;),_.addClassOnHover(s,&quot;ug-button-hover&quot;),_.addClassOnHover(l,&quot;ug-button-hover&quot;),_.setButtonOnClick(a,function(){return 1==e(a)?!0:void d.zoomIn()}),_.setButtonOnClick(s,function(){return 1==e(s)?!0:void d.zoomOut()}),_.setButtonOnClick(l,function(){return 1==e(l)?!0:void d.zoomBack()}),jQuery(d).on(d.events.ZOOM_CHANGE,n),jQuery(d).on(d.events.ITEM_CHANGED,n)}}function UGBullets(){function e(){var e=&quot;&quot;,t=&quot;&quot;;-1!=h.bullets_space_between&amp;&amp;(t=&quot; style='margin-left:&quot;+h.bullets_space_between+&quot;px'&quot;);for(var i=0;u&gt;i;i++)e+=0==i?&quot;&quot;:&quot;&quot;;if(o.html(e),!s){var n=o.find(&quot;.ug-bullet:first-child&quot;);n.length&amp;&amp;(s=n.width())}}function t(e){if(1==l.isActive(e))return!0;var t=e.index();jQuery(l).trigger(l.events.BULLET_CLICK,t)}function i(){var e=o.children(&quot;.ug-bullet&quot;);g.setButtonOnClick(e,t),e.on(&quot;mousedown mouseup&quot;,function(e){return!1})}function n(e){if(0&gt;e||e&gt;=u)throw new Error(&quot;wrong bullet index: &quot;+e)}function r(){if(1==c.isInited)return!0;throw new Error(&quot;The bullets are not inited!&quot;)}var o,a,s,l=this,u=0,d=new UniteGalleryMain,_=-1,g=new UGFunctions,c={isInited:!1},h={bullets_skin:&quot;&quot;,bullets_addclass:&quot;&quot;,bullets_space_between:-1};this.events={BULLET_CLICK:&quot;bullet_click&quot;},this.init=function(e,t,i){d=e,u=i?i:d.getNumItems(),c.isInited=!0,h=jQuery.extend(h,t),&quot;&quot;==h.bullets_skin&amp;&amp;(h.bullets_skin=h.gallery_skin)},this.getBulletsWidth=function(){if(0==u)return 0;if(!s)return 0;var e=u*s+(u-1)*h.bullets_space_between;return e},this.appendHTML=function(t){a=t,r();var n=&quot;&quot;;&quot;&quot;!=h.bullets_addclass&amp;&amp;(n=&quot; &quot;+h.bullets_addclass);var s=&quot;<DIV class="ug-slider-control ug-bullets ug-skin-&quot;+h.bullets_skin+n+&quot;">&quot;;s+=&quot;</DIV>&quot;,o=jQuery(s),t.append(o),e(),i()},this.updateNumBullets=function(t){u=t,e(),i()},this.getElement=function(){return o},this.setActive=function(e){r(),n(e);var t=o.children(&quot;.ug-bullet&quot;);t.removeClass(&quot;ug-bullet-active&quot;);var i=jQuery(t[e]);i.addClass(&quot;ug-bullet-active&quot;),_=e},this.isActive=function(e){if(n(e),&quot;number&quot;!=typeof e)var t=e;else var t=o.children(&quot;.ug-bullet&quot;)[e];return t.hasClass(&quot;ug-bullet-active&quot;)?!0:!1},this.getNumBullets=function(){return u}}function UGProgressBar(){var e,t,i=this,n=0,r=new UGFunctions,o={slider_progressbar_color:&quot;#ffffff&quot;,slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(i,n){n&amp;&amp;(o=jQuery.extend(o,n)),i.append(&quot;&quot;),e=i.children(&quot;.ug-progress-bar&quot;),t=e.children(&quot;.ug-progress-bar-inner&quot;),t.css(&quot;background-color&quot;,o.slider_progressbar_color),e.height(o.slider_progressbar_line_width),t.height(o.slider_progressbar_line_width),t.width(&quot;0%&quot;);var r=o.slider_progressbar_opacity,a=t[0];a.style.opacity=r,a.style.filter=&quot;alpha(opacity=&quot;+100*r+&quot;)&quot;},this.putHidden=function(t,n){i.put(t,n),e.hide()},this.getElement=function(){return e},this.setSize=function(n){e.width(n),t.width(n),i.draw()},this.setPosition=function(t,i,n,o){r.placeElement(e,t,i,n,o)},this.draw=function(){var e=100*n;t.width(e+&quot;%&quot;)},this.setProgress=function(e){n=r.normalizePercent(e),i.draw()},this.getType=function(){return&quot;bar&quot;}}function UGProgressPie(){function e(e){if(!e)var e=0;var t=Math.min(a.slider_progresspie_width,a.slider_progresspie_height)/2,n=i[0].getContext(&quot;2d&quot;);0==r&amp;&amp;(r=!0,n.rotate(1.5*Math.PI),n.translate(-2*t,0)),n.clearRect(0,0,a.slider_progresspie_width,a.slider_progresspie_height);var o=a.slider_progresspie_width/2,s=a.slider_progresspie_height/2,l=0,u=e*Math.PI*2;if(1==a.slider_progresspie_type_fill)n.beginPath(),n.moveTo(o,s),n.arc(o,s,t,l,u),n.lineTo(o,s),n.fillStyle=a.slider_progresspie_color1,n.fill(),n.closePath();else{n.globalCompositeOperation=&quot;source-over&quot;,n.beginPath(),n.moveTo(o,s),n.arc(o,s,t,l,u),n.lineTo(o,s),n.fillStyle=a.slider_progresspie_color1,n.fill(),n.closePath(),n.globalCompositeOperation=&quot;destination-out&quot;;var d=t-a.slider_progresspie_stroke_width;n.beginPath(),n.moveTo(o,s),n.arc(o,s,d,l,u),n.lineTo(o,s),n.fillStyle=a.slider_progresspie_color1,n.fill(),n.closePath()}1==a.slider_progresspie_type_fill&amp;&amp;(l=u,u=2*Math.PI,n.beginPath(),n.arc(o,s,t,l,u),n.lineTo(o,s),n.fillStyle=a.slider_progresspie_color2,n.fill(),n.closePath())}var t,i,n=this,r=!1,o=new UGFunctions,a={slider_progresspie_type_fill:!1,slider_progresspie_color1:&quot;#B5B5B5&quot;,slider_progresspie_color2:&quot;#E5E5E5&quot;,slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&amp;&amp;(a=jQuery.extend(a,t)),e.append(&quot;&lt;canvas class='ug-canvas-pie' width='&quot;+a.slider_progresspie_width+&quot;' height='&quot;+a.slider_progresspie_height+&quot;'&gt;&lt;/canvas&gt;&quot;),i=e.children(&quot;.ug-canvas-pie&quot;)},this.putHidden=function(t,r){n.put(t,r),e(.1),i.hide()},this.getElement=function(){return i},this.setPosition=function(e,t){o.placeElement(i,e,t)},this.getSize=function(){var e={width:a.slider_progresspie_width,height:a.slider_progresspie_height};return e},this.setProgress=function(i){i=o.normalizePercent(i),t=i,e(i)},this.getType=function(){return&quot;pie&quot;}}function UGTouchSliderControl(){function e(e){if(!e)var e=m.getSlidesReference();var t=v.getElementSize(e.objCurrentSlide),i=-t.left,n=v.getElementSize(h),r=i-n.left;return r}function t(){var t=m.getSlidesReference(),i=e(t),n=Math.round(3*t.objCurrentSlide.width()/8);if(Math.abs(i)&gt;=n)return!0;var r=Math.abs(b.lastMouseX-b.startMouseX);Math.abs(b.lastMouseY-b.startMouseY);if(20&gt;r)return!1;var o=jQuery.now(),a=o-b.startTime;return 500&gt;a?!0:!1}function i(e){if(1==m.isInnerInPlace())return!1;if(p.trigger(m.events.BEFORE_RETURN),!e)var e=m.getSlidesReference();var t=v.getElementSize(e.objCurrentSlide),i=-t.left;h.animate({left:i+&quot;px&quot;},{duration:f.slider_transition_return_speed,easing:f.slider_transition_continuedrag_easing,queue:!1,progress:function(e,t,n){if(1==b.isDragVideo){var r=v.getElementSize(h),o=r.left,a=o-i,s=b.videoStartX+a;b.videoObject.css(&quot;left&quot;,s)}},complete:function(){p.trigger(m.events.AFTER_RETURN)}})}function n(e){m.getVideoObject().hide(),m.switchSlideNums(e),m.placeNabourItems()}function r(){var t=m.getSlidesReference(),r=e(t);if(0==r)return!1;var o=r&gt;0?&quot;left&quot;:&quot;right&quot;,a=!1;switch(o){case&quot;right&quot;:if(m.isSlideHasItem(t.objPrevSlide))var s=v.getElementSize(t.objPrevSlide),l=-s.left;else a=!0;break;case&quot;left&quot;:if(m.isSlideHasItem(t.objNextSlide))var u=v.getElementSize(t.objNextSlide),l=-u.left;else a=!0}1==a?i(t):h.stop().animate({left:l+&quot;px&quot;},{duration:f.slider_transition_continuedrag_speed,easing:f.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==b.isDragVideo){var e=v.getElementSize(h),t=e.left,i=t-b.startPosx,n=b.videoStartX+i;b.videoObject.css(&quot;left&quot;,n)}},always:function(){n(o),p.trigger(m.events.AFTER_DRAG_CHANGE)}})}function o(e){var t=b.lastMouseX-b.startMouseX;if(0==t)return!0;var i=0&gt;t?&quot;left&quot;:&quot;right&quot;,n=m.getObjZoom();if(n){var r=n.isPanEnabled(e,i);if(1==r)return b.isInitDataValid=!1,!0;if(0==b.isInitDataValid)return a(e),!0}var o=b.startPosx+t;if(t&gt;0&amp;&amp;o&gt;0)o/=3;else if(0&gt;t){var s=o+h.width(),l=c.width();l&gt;s&amp;&amp;(o=b.startPosx+t/3)}if(0==b.isDragging&amp;&amp;(b.isDragging=!0,p.trigger(m.events.START_DRAG)),h.css(&quot;left&quot;,o+&quot;px&quot;),1==b.isDragVideo){var u=o-b.startPosx,d=b.videoStartX+u;b.videoObject.css(&quot;left&quot;,d)}}function a(e){var t=v.getMousePosition(e);b.startMouseX=t.pageX,b.startMouseY=t.pageY,b.lastMouseX=b.startMouseX,b.lastMouseY=b.startMouseY,b.startTime=jQuery.now();var i=v.getArrTouches(e);b.startArrTouches=v.getArrTouchPositions(i);var n=v.getElementSize(h);b.startPosx=n.left,b.isInitDataValid=!0,b.isDragVideo=!1,v.storeEventData(e,b.storedEventID)}function s(e){b.touch_active=!1}function l(e,t){b.touch_active=!0,a(t)}function u(e){e.preventDefault(),b.isDragging=!1,1==m.isAnimating()&amp;&amp;h.stop(!0,!0);var t=v.getArrTouches(e);return t.length&gt;1?(1==b.touch_active&amp;&amp;s(&quot;1&quot;),!0):1==b.touch_active?!0:void l(&quot;1&quot;,e)}function d(e){if(0==b.touch_active)return!0;if(0==e.buttons)return s(&quot;2&quot;),r(),!0;v.updateStoredEventData(e,b.storedEventID),e.preventDefault();var t=v.getMousePosition(e);b.lastMouseX=t.pageX,b.lastMouseY=t.pageY;var i=null;1==f.slider_vertical_scroll_ondrag&amp;&amp;(i=v.handleScrollTop(b.storedEventID)),&quot;vert&quot;!==i&amp;&amp;o(e)}function _(e){var n=v.getArrTouches(e),o=n.length,a=m.isInnerInPlace();if(1==a&amp;&amp;0==b.touch_active&amp;&amp;0==o)return!0;if(0==o&amp;&amp;1==b.touch_active){s(&quot;3&quot;);var u=!1,d=v.wasVerticalScroll(b.storedEventID);0==d&amp;&amp;(u=t()),1==u?r():i()}else 1==o&amp;&amp;0==b.touch_active&amp;&amp;l(&quot;2&quot;,e)}function g(){c.bind(&quot;mousedown touchstart&quot;,u),jQuery(&quot;body&quot;).bind(&quot;mousemove touchmove&quot;,d),jQuery(window).add(&quot;body&quot;).bind(&quot;mouseup touchend&quot;,_)}var c,h,p,f,m=new UGSlider,v=new UGFunctions,f={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:&quot;linear&quot;,slider_transition_return_speed:300,slider_transition_return_easing:&quot;easeInOutQuad&quot;},b={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:&quot;touchSlider&quot;,videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(t){var i=v.getArrTouches(t),n=i.length;if(0!=n||0!=b.lastNumTouches)return b.lastNumTouches=n,!1;b.lastNumTouches=n;var r=m.getSlidesReference(),o=(e(r),Math.abs(b.lastMouseX-b.startMouseX)),a=Math.abs(b.lastMouseY-b.startMouseY),s=jQuery.now(),l=s-b.startTime;return 20&gt;o&amp;&amp;50&gt;a&amp;&amp;500&gt;l?!0:!1},this.init=function(e,t){m=e,p=jQuery(m),g_objects=e.getObjects(),c=g_objects.g_objSlider,h=g_objects.g_objInner,f=jQuery.extend(f,t),g()},this.getLastMousePos=function(){var e={pageX:b.lastMouseX,pageY:b.lastMouseY};return e},this.isTouchActive=function(){return b.touch_active}}function UGZoomSliderControl(){function e(e,t){E=e,w=jQuery(E),g_objects=e.getObjects(),y=g_objects.g_objSlider,I=g_objects.g_objInner,S=jQuery.extend(S,t),b()}function t(){var e=E.getScaleMode();return&quot;down&quot;!=e&amp;&amp;(e=&quot;fit&quot;),e}function i(){var e=jQuery.now(),i=e-P.storeImageLastTime;if(20&gt;i)return!1;var n=E.getSlidesReference();if(P.objSlide=n.objCurrentSlide,P.objImage=n.objCurrentSlide.find(&quot;img&quot;),0==P.objImage.length)return!1;P.objImageSize=T.getElementSize(P.objImage),P.objParent=P.objImage.parent(),P.objParentSize=T.getElementSize(P.objParent);var r=t();objPadding=E.getObjImagePadding(),P.objFitImageSize=T.getImageInsideParentDataByImage(P.objImage,r,objPadding);var e=jQuery.now();return P.storeImageLastTime=e,!0}function n(e,i){var n=E.getSlidesReference(),r=n.objCurrentSlide.find(&quot;img&quot;),o=t();w.trigger(E.events.ZOOM_START);var a=!0,s=E.getObjImagePadding();if(&quot;back&quot;==e){var l=T.getImageOriginalSize(r);T.scaleImageFitParent(r,l.width,l.height,o,s)}else{var u=&quot;in&quot;==e?!0:!1;a=T.zoomImageInsideParent(r,u,S.slider_zoom_step,i,o,S.slider_zoom_max_ratio,s)}1==a&amp;&amp;(w.trigger(E.events.ZOOMING),w.trigger(E.events.ZOOM_CHANGE),w.trigger(E.events.ZOOM_END))}function r(e,t,i){var n=T.getArrTouches(t);if(i===!0){if(1!=n.length)return!1}else if(n.length&gt;1)return!1;return T.isElementBiggerThenParent(e)?!0:!1}function o(e){var t=T.getMousePosition(e);P.startMouseX=t.pageX,P.startMouseY=t.pageY,P.lastMouseX=P.startMouseX,P.lastMouseY=P.startMouseY,P.startImageX=P.objImageSize.left,P.startImageY=P.objImageSize.top,P.panXActive=P.objImageSize.width&gt;P.objParentSize.width,
P.panYActive=P.objImageSize.height&gt;P.objParentSize.height}function a(e){P.isPanActive=!0,o(e)}function s(e){if(void 0==P.objImage||0==P.objImage.length)return!0;var t=T.getMousePosition(e),i=(t.pageX-P.startMouseX,t.pageY-P.startMouseY,t.pageX-P.lastMouseX),n=t.pageY-P.lastMouseY,r=0&gt;i?&quot;left&quot;:&quot;right&quot;,o=0&gt;n?&quot;up&quot;:&quot;down&quot;;P.lastMouseX=t.pageX,P.lastMouseY=t.pageY;var a=T.getElementSize(P.objImage);0==P.panYActive?n=0:&quot;down&quot;==o&amp;&amp;a.top&gt;0?n/=3:&quot;up&quot;==o&amp;&amp;a.bottom&lt;P.objParentSize.height&amp;&amp;(n/=3),0==P.panXActive||0==E.isInnerInPlace()?i=0:&quot;right&quot;==r&amp;&amp;a.left&gt;0?i/=3:&quot;left&quot;==r&amp;&amp;a.right&lt;P.objParentSize.width&amp;&amp;(i/=3);var s=a.left+i,l=a.top+n;T.placeElement(P.objImage,s,l)}function l(){var e=!1,t=!1,i=0,n=0,r=T.getElementSize(P.objImage),o=E.getObjImagePadding(),a=T.getElementCenterPosition(P.objImage,o);P.panXActive=P.objImageSize.width&gt;P.objParentSize.width,P.panYActive=P.objImageSize.height&gt;P.objParentSize.height,1==P.panYActive?r.top&gt;0?(n=0,t=!0):r.bottom&lt;P.objParentSize.height&amp;&amp;(n=P.objParentSize.height-r.height,t=!0):r.top!=a.top&amp;&amp;(t=!0,n=a.top),1==P.panXActive?r.left&gt;0?(i=0,e=!0):r.right&lt;P.objParentSize.width&amp;&amp;(i=P.objParentSize.width-r.width,e=!0):r.left!=a.left&amp;&amp;(e=!0,i=a.left);var s={};1==t&amp;&amp;(s.top=n+&quot;px&quot;),1==e&amp;&amp;(s.left=i+&quot;px&quot;),(1==t||1==e)&amp;&amp;P.objImage.animate(s,{duration:S.slider_zoom_return_pan_duration,easing:S.slider_zoom_return_pan_easing,queue:!1})}function u(){return P.objImage&amp;&amp;P.objImage.is(&quot;:animated&quot;)?!0:!1}function d(e){P.isZoomActive=!0,P.startDistance=T.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==P.startDistance&amp;&amp;(P.startDistance=1),P.startMiddlePoint=T.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),P.objImageSize=T.getElementSize(P.objImage),P.startImageX=P.objImageSize.left,P.startImageY=P.objImageSize.top,P.imageOrientPoint=T.getElementLocalPoint(P.startMiddlePoint,P.objImage);var t=T.isPointInsideElement(P.imageOrientPoint,P.objImageSize);0==t&amp;&amp;(P.imageOrientPoint=T.getElementCenterPoint(P.objImage)),w.trigger(E.events.ZOOM_START)}function _(e){if(0==P.isZoomActive)return!1;var t=T.getArrTouches(e);2!=t.length&amp;&amp;(P.isZoomActive=!1,w.trigger(E.events.ZOOM_END))}function g(e){if(1==P.isZoomActive)return!0;var t=T.getArrTouches(e);return 2!=t.length?!0:void d(t)}function c(e){var t=T.getArrTouches(e),i=T.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),n=i/P.startDistance,r=T.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),o=P.objImageSize.width*n,a=P.objImageSize.height*n,s=T.getImageOriginalSize(P.objImage),l=1;if(s.width&gt;0&amp;&amp;(l=o/s.width),l&gt;S.slider_zoom_max_ratio)return!0;panX=-(P.imageOrientPoint.x*n-P.imageOrientPoint.x),panY=-(P.imageOrientPoint.y*n-P.imageOrientPoint.y);var u=r.x-P.startMiddlePoint.x,d=r.y-P.startMiddlePoint.y,_=P.startImageX+panX+u,g=P.startImageY+panY+d;T.setElementSizeAndPosition(P.objImage,_,g,o,a),w.trigger(E.events.ZOOMING),w.trigger(E.events.ZOOM_CHANGE)}function h(){if(void 0==P.objImage||0==P.objImage.length)return!0;var e=T.getElementSize(P.objImage);if(e.width&lt;P.objFitImageSize.imageWidth){P.objImage.css({position:&quot;absolute&quot;,margin:&quot;none&quot;});var t={top:P.objFitImageSize.imageTop+&quot;px&quot;,left:P.objFitImageSize.imageLeft+&quot;px&quot;,width:P.objFitImageSize.imageWidth+&quot;px&quot;,height:P.objFitImageSize.imageHeight+&quot;px&quot;};P.objImage.animate(t,{duration:S.slider_zoom_return_pan_duration,easing:S.slider_zoom_return_pan_easing,queue:!1})}else l()}function p(e){if(0==E.isCurrentSlideType(&quot;image&quot;))return!0;i();return void 0==P.objImage||0==P.objImage.length?!0:(e.preventDefault(),1==u()&amp;&amp;P.objImage.stop(!0),1==P.isZoomActive?_(e):g(e),void(1==P.isZoomActive?P.isPanActive=!1:1==r(P.objImage,e)&amp;&amp;1==P.isZoomedOnce&amp;&amp;a(e)))}function f(e){if(0==E.isCurrentSlideType(&quot;image&quot;))return!0;var t=jQuery(e.target);if(1==t.data(&quot;ug-button&quot;))return!1;i();if(void 0==P.objImage||0==P.objImage.length)return!0;var n=P.isPanActive,o=P.isZoomActive;if(0==E.isInnerInPlace())return P.isZoomActive=!1,P.isPanActive=!1,!0;if(1==P.isZoomActive?_(e):g(e),1==P.isZoomActive)P.isPanActive=!1;else{var s=r(P.objImage,e,!0);1==P.isPanActive?P.isPanActive=!1:1==s&amp;&amp;a(e)}(n||o)&amp;&amp;0==P.isZoomActive&amp;&amp;0==P.isPanActive&amp;&amp;h()}function m(e){return 0==E.isCurrentSlideType(&quot;image&quot;)?!0:void(1==P.isZoomActive?c(e):1==P.isPanActive&amp;&amp;s(e))}function v(e,t,i,r){if(0==S.slider_zoom_mousewheel)return!0;if(0==E.isCurrentSlideType(&quot;image&quot;))return!0;e.preventDefault();var o=t&gt;0,a=T.getMousePosition(e),s=1==o?&quot;in&quot;:&quot;out&quot;;n(s,a)}function b(){y.on(&quot;mousewheel&quot;,v),y.bind(&quot;mousedown touchstart&quot;,p),jQuery(&quot;body&quot;).bind(&quot;mousemove touchmove&quot;,m),jQuery(window).add(&quot;body&quot;).bind(&quot;mouseup touchend&quot;,f),w.bind(E.events.BEFORE_RETURN,function(){h()}),w.bind(E.events.ITEM_CHANGED,function(){P.isZoomedOnce=!1}),w.bind(E.events.ZOOM_CHANGE,function(){P.isZoomedOnce=!0})}var y,I,w,E=new UGSlider,T=new UGFunctions,S={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:&quot;easeOutCubic&quot;},P={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(i(),void 0==P.objImage||0==P.objImage.length)return!1;if(0==P.isZoomedOnce)return!1;if(0==r(P.objImage,e))return!1;if(0==E.isInnerInPlace())return!1;if(&quot;left&quot;==t){if(P.objImageSize.right&lt;=P.objParentSize.width)return!1}else if(P.objImageSize.left&gt;=0)return!1;return!0},this.init=function(t,i){e(t,i)},this.zoomIn=function(){n(&quot;in&quot;)},this.zoomOut=function(){n(&quot;out&quot;)},this.zoomBack=function(){n(&quot;back&quot;)}}function UGWistiaAPI(){function e(){return&quot;undefined&quot;!=typeof Wistia}function t(e,t,n,o,a){r=null,s=!1;var l=e+&quot;_video&quot;,u=&quot;<DIV id=".22.2Bl.2B.22" class="wistia_embed" style="width:&quot;+n+&quot;;height:&quot;+o+&quot;;" data-video-width="&quot;+n+&quot;" data-video-height="&quot;+o+&quot;">Â </DIV>&quot;;jQuery(&quot;#&quot;+e).html(u),r=Wistia.embed(t,{version:&quot;v1&quot;,videoWidth:n,videoHeight:o,container:l,autoPlay:a}),s=!0,i()}function i(){r.bind(&quot;play&quot;,function(){a.trigger(o.events.START_PLAYING)}),r.bind(&quot;pause&quot;,function(){a.trigger(o.events.STOP_PLAYING)}),r.bind(&quot;end&quot;,function(){a.trigger(o.events.STOP_PLAYING),a.trigger(o.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o=this,a=jQuery(this),s=!1;this.events={START_PLAYING:&quot;start_playing&quot;,STOP_PLAYING:&quot;stop_playing&quot;,VIDEO_ENDED:&quot;video_ended&quot;},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded?!0:e()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs(&quot;fast.wistia.com/assets/external/E-v1.js&quot;,!0),void(g_ugWistiaAPI.isAPILoaded=!0))},this.doCommand=function(e){if(null==r)return!1;if(0==s)return!1;switch(e){case&quot;play&quot;:r.play();break;case&quot;pause&quot;:r.pause()}},this.pause=function(){o.doCommand(&quot;pause&quot;)},this.play=function(){o.doCommand(&quot;play&quot;)},this.putVideo=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&amp;&amp;(t(i,r,o,a,s),clearInterval(n))},500)))},this.isPlayerReady=function(){return s&amp;&amp;r?!0:!1}}function UGSoundCloudAPI(){function e(){return&quot;undefined&quot;!=typeof SC}function t(e,t,n,a,s){r=null,g_isPlayerReady=!1;var l=e+&quot;_iframe&quot;,u=location.protocol+&quot;//w.soundcloud.com/player/?url=<A rel="nofollow" class="external free" href="http://api.soundcloud.com/tracks/">http://api.soundcloud.com/tracks/</A>&quot;+t;u+=&quot;&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&amp;show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true&quot;,u+=s===!0?&quot;&amp;auto_play=true&quot;:&quot;&amp;auto_play=false&quot;;var d=&quot;&lt;iframe id='&quot;+l+&quot;' src=&quot;+u+&quot; width='&quot;+n+&quot;' height='&quot;+a+&quot;' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;&quot;;jQuery(&quot;#&quot;+e).html(d),r=SC.Widget(l),r.bind(SC.Widget.Events.READY,function(){r&amp;&amp;(g_isPlayerReady=!0,i())}),o=e}function i(){r.bind(SC.Widget.Events.PLAY,function(){s.trigger(a.events.START_PLAYING)}),r.bind(SC.Widget.Events.PAUSE,function(){s.trigger(a.events.STOP_PLAYING)}),r.bind(SC.Widget.Events.FINISH,function(){s.trigger(a.events.STOP_PLAYING),s.trigger(a.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o,a=this,s=jQuery(this);this.events={START_PLAYING:&quot;start_playing&quot;,STOP_PLAYING:&quot;stop_playing&quot;,VIDEO_ENDED:&quot;video_ended&quot;},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded?!0:e()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs(&quot;w.soundcloud.com/player/api.js&quot;,!0),void(g_ugSoundCloudAPI.isAPILoaded=!0))},this.putSound=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&amp;&amp;(t(i,r,o,a,s),clearInterval(n))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case&quot;play&quot;:r.play();break;case&quot;pause&quot;:r.pause()}},this.pause=function(){a.doCommand(&quot;pause&quot;)},this.play=function(){a.doCommand(&quot;play&quot;)},this.destroy=function(){g_isPlayerReady=!1,r=null,o&amp;&amp;(jQuery(&quot;#&quot;+o).html(&quot;&quot;),o=null)}}function UGHtml5MediaAPI(){function e(){return&quot;undefined&quot;!=typeof mejs}function t(e,t,n,o,a){r=null,g_isPlayerReady=!1;var s=location.protocol+&quot;//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf&quot;,l=location.protocol+&quot;//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap&quot;,u=e+&quot;_video&quot;,d=&quot;&quot;;a&amp;&amp;a===!0&amp;&amp;(d=&quot;autoplay='autoplay'&quot;);var _=&quot;&quot;;t.posterImage&amp;&amp;(_=&quot;poster='&quot;+t.posterImage+&quot;'&quot;);var g=&quot;&lt;video id='&quot;+u+&quot;' width='&quot;+n+&quot;' height='&quot;+o+&quot;'  controls='controls' preload='none' &quot;+d+&quot; &quot;+_+&quot;&gt;&quot;;&quot;&quot;!=t.mp4&amp;&amp;(g+=&quot;&lt;source type='video/mp4' src='&quot;+t.mp4+&quot;' /&gt;&quot;),&quot;&quot;!=t.webm&amp;&amp;(g+=&quot;&lt;source type='video/webm' src='&quot;+t.webm+&quot;' /&gt;&quot;),&quot;&quot;!=t.ogv&amp;&amp;(g+=&quot;&lt;source type='video/ogg' src='&quot;+t.ogv+&quot;' /&gt;&quot;),g+=&quot;&lt;object width='&quot;+n+&quot;' height='&quot;+o+&quot;' type='application/x-shockwave-flash' data='&quot;+s+&quot;'&gt;&quot;,g+=&quot;&lt;param name='movie' value='&quot;+s+&quot;' /&gt;&quot;,g+=&quot;&lt;param name='flashvars' value='controls=true&amp;file=&quot;+t.mp4+&quot;' /&gt;&quot;,g+=&quot;&lt;/object&gt;&quot;,g+=&quot;&lt;/video&gt;&quot;,jQuery(&quot;#&quot;+e).html(g),new MediaElement(u,{enablePluginDebug:!1,flashName:s,silverlightName:l,success:function(e,t){g_isPlayerReady=!0,r=e,0==a&amp;&amp;r.pause(),i()},error:function(e){trace(e)}})}function i(){g_ugFunctions.addEvent(r,&quot;play&quot;,function(){a.trigger(o.events.START_PLAYING)}),g_ugFunctions.addEvent(r,&quot;pause&quot;,function(){a.trigger(o.events.STOP_PLAYING)}),g_ugFunctions.addEvent(r,&quot;ended&quot;,function(){a.trigger(o.events.STOP_PLAYING),a.trigger(o.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o=this,a=jQuery(this);this.events={START_PLAYING:&quot;start_playing&quot;,STOP_PLAYING:&quot;stop_playing&quot;,VIDEO_ENDED:&quot;video_ended&quot;},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded?!0:e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs(&quot;cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js&quot;,!0),g_ugFunctions.loadCss(&quot;cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css&quot;,!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0))},this.putVideo=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&amp;&amp;(t(i,r,o,a,s),clearInterval(n))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case&quot;play&quot;:r.play();break;case&quot;pause&quot;:r.pause()}},this.pause=function(){o.doCommand(&quot;pause&quot;)},this.play=function(){o.doCommand(&quot;play&quot;)}}function UGVimeoAPI(){function e(){return&quot;undefined&quot;!=typeof Froogaloop}function t(e,t,n,o,a){s=null,l=!1;var u=location.protocol+&quot;//player.vimeo.com/video/&quot;+t+&quot;?api=1&quot;;a===!0&amp;&amp;(u+=&quot;&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0&quot;);var d=&quot;&lt;iframe src=&quot;+u+&quot; width='&quot;+n+&quot;' height='&quot;+o+&quot;' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;&quot;;jQuery(&quot;#&quot;+e).html(d);var _=jQuery(&quot;#&quot;+e+&quot; iframe&quot;)[0];s=Froogaloop(_),s.addEvent(&quot;ready&quot;,function(){s&amp;&amp;(l=!0,i())}),r=e}function i(){return s?(s.addEvent(&quot;cuechange&quot;,function(){1==u&amp;&amp;o.play()}),s.addEvent(&quot;play&quot;,function(){a.trigger(o.events.START_PLAYING)}),s.addEvent(&quot;pause&quot;,function(){a.trigger(o.events.STOP_PLAYING)}),void s.addEvent(&quot;finish&quot;,function(){a.trigger(o.events.STOP_PLAYING),a.trigger(o.events.VIDEO_ENDED)})):!1}this.isAPILoaded=!1;var n,r,o=this,a=jQuery(this),s=null,l=!1,u=!1;this.events={START_PLAYING:&quot;start_playing&quot;,STOP_PLAYING:&quot;stop_playing&quot;,VIDEO_ENDED:&quot;video_ended&quot;},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded?!0:e()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs(&quot;f.vimeocdn.com/js/froogaloop2.min.js&quot;,!0),void(g_ugVimeoAPI.isAPILoaded=!0))},this.doCommand=function(e){if(null==s)return!1;if(0==l)return!1;switch(e){default:s.api(e)}},this.pause=function(){o.doCommand(&quot;pause&quot;)},this.play=function(){o.doCommand(&quot;play&quot;)},this.destroy=function(){s&amp;&amp;(s.api(&quot;unload&quot;),s=null,l=!1),r&amp;&amp;jQuery(&quot;#&quot;+r).html(&quot;&quot;)},this.putVideo=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&amp;&amp;(t(i,r,o,a,s),clearInterval(n))},500)))},this.isPlayerReady=function(){return l&amp;&amp;s?!0:!1},this.changeVideo=function(e,t){return 0==o.isPlayerReady()?!1:(u=t,void s.api(&quot;loadVideo&quot;,e))},this.getVideoImages=function(e,t,i){var n=location.protocol+&quot;//vimeo.com/api/v2/video/&quot;+e+&quot;.json&quot;;jQuery.get(n,{},function(e){var n={};n.preview=e[0].thumbnail_large,n.thumb=e[0].thumbnail_medium,i(t,n)})}}function UGYoutubeAPI(){function e(e,t,r,a,u){s&amp;&amp;l&amp;&amp;s.destroy();var d={controls:2,showinfo:_.video_youtube_showinfo,rel:0};u===!0&amp;&amp;(d.autoplay=1),l=!1,s=new YT.Player(e,{height:a,width:r,videoId:t,playerVars:d,events:{onReady:i,onStateChange:n}}),o=e}function t(){return&quot;undefined&quot;!=typeof YT&amp;&amp;&quot;undefined&quot;!=typeof YT.Player?!0:!1}function i(){l=!0}function n(){if(&quot;function&quot;!=typeof s.getPlayerState)return trace(&quot;Youtube API error: can't get player state&quot;),!1;var e=s.getPlayerState();switch(e){case YT.PlayerState.PLAYING:u.trigger(a.events.START_PLAYING);break;case YT.PlayerState.ENDED:u.trigger(a.events.STOP_PLAYING),u.trigger(a.events.VIDEO_ENDED);break;default:d==YT.PlayerState.PLAYING&amp;&amp;u.trigger(a.events.STOP_PLAYING)}d=e}this.isAPILoaded=!1;var r,o,a=this,s=null,l=!1,u=jQuery(this),d=-1,_={video_youtube_showinfo:!0};this.events={START_PLAYING:&quot;start_playing&quot;,STOP_PLAYING:&quot;stop_playing&quot;,VIDEO_ENDED:&quot;video_ended&quot;},this.setOptions=function(e){_=jQuery.extend(_,e)},this.putVideo=function(i,n,o,a,s){return t()?(e(i,n,o,a,s),!0):(this.loadAPI(),void(r=setInterval(function(){t()&amp;&amp;(e(i,n,o,a,s),clearInterval(r))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded?!0:&quot;undefined&quot;!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs(&quot;<A rel="nofollow" class="external free" href="https://www.youtube.com/player_api">https://www.youtube.com/player_api</A>&quot;,!1),void(g_ugYoutubeAPI.isAPILoaded=!0))},this.doCommand=function(e,t){if(!s)return!0;if(0==l)return!1;switch(e){case&quot;play&quot;:if(&quot;function&quot;!=typeof s.playVideo)return!1;s.playVideo();break;case&quot;pause&quot;:if(&quot;function&quot;!=typeof s.pauseVideo)return!1;s.pauseVideo();break;case&quot;seek&quot;:if(&quot;function&quot;!=typeof s.seekTo)return!1;s.seekTo(t);break;case&quot;stopToBeginning&quot;:var i=s.getPlayerState();switch(s.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:s.seekTo(0)}}},this.play=function(){a.doCommand(&quot;play&quot;)},this.pause=function(){a.doCommand(&quot;pause&quot;)},this.destroy=function(){try{s&amp;&amp;(l=!1,s.clearVideo(),s.destroy())}catch(e){jQuery(&quot;#&quot;+o).html(&quot;&quot;)}},this.stopToBeginning=function(){a.doCommand(&quot;stopToBeginning&quot;)},this.changeVideo=function(e,t){return 0==a.isPlayerReady()?!1:void(t&amp;&amp;1==t?s.loadVideoById(e,0,&quot;large&quot;):s.cueVideoById(e,0,&quot;large&quot;))},this.isPlayerReady=function(){return l&amp;&amp;s?!0:!1},this.getVideoImages=function(e){var t={};return t.preview=&quot;<A rel="nofollow" class="external free" href="https://i.ytimg.com/vi/">https://i.ytimg.com/vi/</A>&quot;+e+&quot;/sddefault.jpg&quot;,t.thumb=&quot;<A rel="nofollow" class="external free" href="https://i.ytimg.com/vi/">https://i.ytimg.com/vi/</A>&quot;+e+&quot;/default.jpg&quot;,t}}function UGVideoPlayer(){function e(){h.hide()}function t(){p.trigger(h.events.PLAY_START),_&amp;&amp;_.hide()}function i(){p.trigger(h.events.PLAY_STOP),_&amp;&amp;_.show()}function n(){p.trigger(h.events.VIDEO_ENDED)}function r(){_&amp;&amp;(f.setButtonMobileReady(_),f.setButtonOnClick(_,e)),jQuery(m).on(m.events.START_PLAYING,t),jQuery(m).on(m.events.STOP_PLAYING,i),jQuery(m).on(m.events.VIDEO_ENDED,n),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,i),jQuery(v).on(v.events.VIDEO_ENDED,n),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,i),jQuery(b).on(b.events.VIDEO_ENDED,n),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,i),jQuery(y).on(y.events.VIDEO_ENDED,n),jQuery(I).on(I.events.START_PLAYING,t),jQuery(I).on(I.events.STOP_PLAYING,i),jQuery(I).on(I.events.VIDEO_ENDED,n)}function o(e){var t=[&quot;youtube&quot;,&quot;vimeo&quot;,&quot;html5&quot;,&quot;soundcloud&quot;,&quot;wistia&quot;];for(var i in t){var n=t[i];if(n!=e)switch(n){case&quot;youtube&quot;:m.pause(),m.destroy(),l.hide();break;case&quot;vimeo&quot;:v.pause(),v.destroy(),u.hide();break;case&quot;html5&quot;:b.pause(),d.hide();break;case&quot;soundcloud&quot;:y.pause(),y.destroy(),g.hide();break;case&quot;wistia&quot;:I.pause(),c.hide()}}}var a,s,l,u,d,_,g,c,h=this,p=jQuery(this),f=new UGFunctions,m=new UGYoutubeAPI,v=new UGVimeoAPI,b=new UGHtml5MediaAPI,y=new UGSoundCloudAPI,I=new UGWistiaAPI,w=null,E={video_enable_closebutton:!0};this.events={SHOW:&quot;video_show&quot;,HIDE:&quot;video_hide&quot;,PLAY_START:&quot;video_play_start&quot;,PLAY_STOP:&quot;video_play_stop&quot;,VIDEO_ENDED:&quot;video_ended&quot;};var T={standAloneMode:!1,youtubeInnerID:&quot;&quot;,vimeoPlayerID:&quot;&quot;,html5PlayerID:&quot;&quot;,wistiaPlayerID:&quot;&quot;,soundCloudPlayerID:&quot;&quot;};this.init=function(e,t,i){if(a=i,!a)throw new Error(&quot;missing gallery ID for video player, it's a must!&quot;);E=jQuery.extend(E,e),m.setOptions(E),t&amp;&amp;1==t&amp;&amp;(T.standAloneMode=!0)},this.setHtml=function(e){T.youtubeInnerID=a+&quot;_youtube_inner&quot;,T.vimeoPlayerID=a+&quot;_videoplayer_vimeo&quot;,T.html5PlayerID=a+&quot;_videoplayer_html5&quot;,T.wistiaPlayerID=a+&quot;_videoplayer_wistia&quot;,T.soundCloudPlayerID=a+&quot;_videoplayer_soundcloud&quot;;var t=&quot;<DIV class="ug-videoplayer" style="display:none">&quot;;t+=&quot;&quot;,t+=&quot;&quot;,t+=&quot;&quot;,t+=&quot;&quot;,t+=&quot;&quot;,0==T.standAloneMode&amp;&amp;1==E.video_enable_closebutton&amp;&amp;(t+=&quot;&quot;),t+=&quot;</DIV>&quot;,e.append(t),s=e.children(&quot;.ug-videoplayer&quot;),l=s.children(&quot;.ug-videoplayer-youtube&quot;),u=s.children(&quot;.ug-videoplayer-vimeo&quot;),d=s.children(&quot;.ug-videoplayer-html5&quot;),g=s.children(&quot;.ug-videoplayer-soundcloud&quot;),c=s.children(&quot;.ug-videoplayer-wistia&quot;),0==T.standAloneMode&amp;&amp;1==E.video_enable_closebutton&amp;&amp;(_=s.children(&quot;.ug-videoplayer-button-close&quot;))},this.destroy=function(){_&amp;&amp;(_.off(&quot;click&quot;),_.off(&quot;touchend&quot;)),jQuery(m).off(m.events.START_PLAYING),jQuery(m).off(m.events.STOP_PLAYING),jQuery(v).off(v.events.START_PLAYING),jQuery(v).off(v.events.STOP_PLAYING),jQuery(b).off(b.events.START_PLAYING),jQuery(b).off(b.events.STOP_PLAYING),jQuery(y).off(y.events.START_PLAYING,t),jQuery(y).off(y.events.STOP_PLAYING,i),jQuery(I).off(I.events.START_PLAYING,t),jQuery(I).off(I.events.STOP_PLAYING,i),w=null},this.initEvents=function(){r()},this.setSize=function(e,t){f.setElementSize(s,e,t),_&amp;&amp;f.placeElement(_,&quot;right&quot;,&quot;top&quot;)},this.setPosition=function(e,t){f.placeElement(s,e,t)},this.getObject=function(){return s},this.show=function(){return 1==h.isVisible()?!0:(s.show(),s.fadeTo(0,1),_&amp;&amp;_.show(),void p.trigger(h.events.SHOW))},this.hide=function(){return 0==h.isVisible()?!0:(o(),w=null,s.hide(),void p.trigger(h.events.HIDE))},this.getActiveAPI=function(){switch(w){case&quot;youtube&quot;:return m;case&quot;vimeo&quot;:return v;case&quot;wistia&quot;:return I;case&quot;soundcloud&quot;:return y;case&quot;html5&quot;:return b;default:return null}},this.pause=function(){var e=h.getActiveAPI();return null==e?!1:void(&quot;function&quot;==typeof e.pause&amp;&amp;e.pause())},this.isVisible=function(){return s.is(&quot;:visible&quot;)},this.playYoutube=function(e,t){if(&quot;undefined&quot;==typeof t)var t=!0;o(&quot;youtube&quot;),l.show();var i=l.children(&quot;#&quot;+T.youtubeInnerID);0==i.length&amp;&amp;l.append(&quot;&quot;),1==m.isPlayerReady()&amp;&amp;1==T.standAloneMode?m.changeVideo(e,t):m.putVideo(T.youtubeInnerID,e,&quot;100%&quot;,&quot;100%&quot;,t),w=&quot;youtube&quot;},this.playVimeo=function(e,t){if(&quot;undefined&quot;==typeof t)var t=!0;o(&quot;vimeo&quot;),u.show(),v.putVideo(T.vimeoPlayerID,e,&quot;100%&quot;,&quot;100%&quot;,t),w=&quot;vimeo&quot;},this.playHtml5Video=function(e,t,i,n,r){if(&quot;undefined&quot;==typeof r)var r=!0;o(&quot;html5&quot;),d.show();var a={ogv:e,webm:t,mp4:i,posterImage:n};b.putVideo(T.html5PlayerID,a,&quot;100%&quot;,&quot;100%&quot;,r),w=&quot;html5&quot;},this.playSoundCloud=function(e,t){if(&quot;undefined&quot;==typeof t)var t=!0;o(&quot;soundcloud&quot;),g.show(),y.putSound(T.soundCloudPlayerID,e,&quot;100%&quot;,&quot;100%&quot;,t),w=&quot;soundcloud&quot;},this.playWistia=function(e,t){if(&quot;undefined&quot;==typeof t)var t=!0;o(&quot;wistia&quot;),c.show(),I.putVideo(T.wistiaPlayerID,e,&quot;100%&quot;,&quot;100%&quot;,t),w=&quot;wistia&quot;}}function ugCheckForMinJQueryVersion(){var e=g_ugFunctions.checkMinJqueryVersion(&quot;1.8.0&quot;);if(0==e)throw new Error(&quot;The gallery can run from jquery 1.8 You have jQuery &quot;+jQuery.fn.jquery+&quot; Please update your jQuery library.&quot;)}function ugCheckForErrors(e,t){function i(){if(&quot;undefined&quot;==typeof jQuery)throw new Error(&quot;jQuery library not included&quot;)}function n(){if(&quot;function&quot;==typeof jQuery.fn.unitegallery)return!0;var e=&quot;You have some jquery.js library include that comes after the gallery files js include.&quot;;throw e+=&quot; This include eliminates the gallery libraries, and make it not work.&quot;,&quot;cms&quot;==t?(e+=&quot; To fix it you can:Â Â Â  1. In the Gallery Settings -&gt; Troubleshooting set option:  <STRONG><B>Put JS Includes To Body</B></STRONG> option to true.&quot;,e+=&quot;Â Â Â  2. Find the double jquery.js include and remove it.&quot;):e+=&quot; Please find and remove this jquery.js include and the gallery will work.  * There should be only one jquery.js include before all other js includes in the page.&quot;,new Error(e)}try{&quot;jquery&quot;==t?(i(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),n())}catch(r){var o=r.message;if(o=&quot;Unite Gallery Error: &quot;+o,o=&quot;<DIV style="font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;">&quot;+o+&quot;</DIV>&quot;,&quot;jquery&quot;==t){var a=document.getElementById(e);a.innerHTML=o,a.style.display=&quot;block&quot;}else jQuery(e).show().html(o);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf(&quot;UGTheme_&quot;)&amp;&amp;(t=&quot;UGTheme_&quot;+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty(&quot;gallery_theme&quot;))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&amp;&amp;(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}&quot;object&quot;==typeof g_objWrapper.outerWidth()&amp;&amp;throwErrorShowMessage(&quot;You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version.&quot;),setTimeout(function(){ugCheckForErrors(g_galleryID,&quot;cms&quot;)},5e3)}function runGallery(e,i,n,r){var o=&quot;object&quot;==typeof i;if(o&amp;&amp;(g_temp.objCustomOptions=i),1==g_temp.isRunFirstTime){if(g_galleryID=e,g_objWrapper=jQuery(g_galleryID),0==g_objWrapper.length)return trace(&quot;div with id: &quot;+g_galleryID+&quot; not found&quot;),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),o&amp;&amp;(g_options=jQuery.extend(g_options,i)),1==g_options.gallery_enable_cache&amp;&amp;g_options.gallery_initial_catid&amp;&amp;cacheItems(g_options.gallery_initial_catid),t.setSizeClass();var a=g_objWrapper.children();fillItemsArray(a),loadAPIs(),g_objWrapper.find(&quot;img&quot;).fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),n){if(r&amp;&amp;1==g_options.gallery_enable_cache&amp;&amp;cacheItems(r,n),&quot;noitems&quot;==n)return showErrorMessage(&quot;No items in this category&quot;,&quot;&quot;),!1;g_objWrapper.html(n);var a=g_objWrapper.children();fillItemsArray(a),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&amp;&amp;1==g_options.gallery_enable_tabs&amp;&amp;(g_objTabs=new UGTabs,g_objTabs.init(t,g_options)),1==g_temp.isRunFirstTime&amp;&amp;1==g_options.gallery_enable_loadmore&amp;&amp;(g_objLoadMore=new UGLoadMore,g_objLoadMore.init(t,g_options)),o&amp;&amp;modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&amp;&amp;t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties();var s=g_objWrapper.width();0==s?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&amp;&amp;1==g_options.gallery_preserve_ratio&amp;&amp;setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&amp;&amp;g_temp.isRunFirstTime&amp;&amp;g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems&gt;0&amp;&amp;t.selectItem(0),1==g_options.gallery_autoplay&amp;&amp;t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if(&quot;undefined&quot;==typeof t)var t=&quot;<B>Unite Gallery Error: </B>&quot;;else t=&quot;<B>&quot;+t+&quot;: </B>&quot;;e=t+e;var i=&quot;<DIV class="ug-error-message-wrapper"><DIV class="ug-error-message">&quot;+e+&quot;</DIV></DIV>&quot;;g_objWrapper.children().remove(),g_objWrapper.html(i),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type=&quot;minimal&quot;),(void 0==g_options.gallery_min_height||g_options.gallery_height&lt;g_options.gallery_min_height)&amp;&amp;(g_options.gallery_min_height=0),(void 0==g_options.gallery_min_width||g_options.gallery_width&lt;g_options.gallery_min_width)&amp;&amp;(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error(&quot;The gallery can't run without theme&quot;);if(jQuery.isNumeric(g_options.gallery_height)&amp;&amp;g_options.gallery_height&lt;g_options.gallery_min_height)throw new Error(&quot;The <B>gallery_height</B> option must be bigger then <B>gallery_min_height option</B>&quot;);if(g_options.gallery_width&lt;g_options.gallery_min_width)throw new Error(&quot;The <B>gallery_width</B> option must be bigger then <B>gallery_min_width option</B>&quot;)}function setGalleryHtml(){g_objWrapper.addClass(&quot;ug-gallery-wrapper&quot;),g_objWrapper.append(&quot;&quot;),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize(),i=e.width/e.height;if(i!=e.orig_ratio){var n=e.width/e.orig_ratio;n=Math.round(n),n&lt;g_options.gallery_min_height&amp;&amp;(n=g_options.gallery_min_height),g_objWrapper.height(n)}}function setHtmlObjectsProperties(){var e=g_functions.getCssSizeParam(g_options.gallery_width),t={&quot;max-width&quot;:e,&quot;min-width&quot;:g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var i=g_functions.getCssSizeParam(g_options.gallery_height);t.height=i}else t.overflow=&quot;visible&quot;;g_options.gallery_background_color&amp;&amp;(t[&quot;background-color&quot;]=g_options.gallery_background_color),g_objWrapper.css(t)}function fillItemByChild(e){var i=t.isMobileMode(),n=e.prop(&quot;tagName&quot;).toLowerCase(),r=&quot;&quot;;if(&quot;a&quot;==n){r=e.attr(&quot;href&quot;),e=e.children();var n=e.prop(&quot;tagName&quot;).toLowerCase()}var o=e.data(&quot;type&quot;);void 0==o&amp;&amp;(o=&quot;image&quot;);var a={};if(a.type=o,&quot;img&quot;==n){var s=e.data(&quot;lazyload-src&quot;);s&amp;&amp;&quot;&quot;!=s&amp;&amp;(e.attr(&quot;src&quot;,s),jQuery.removeData(e,&quot;lazyload-src&quot;));var l=e.data(&quot;image&quot;),u=e.data(&quot;thumb&quot;);&quot;undefined&quot;==typeof l&amp;&amp;(l=null),&quot;undefined&quot;==typeof u&amp;&amp;(u=null);var d=e.attr(&quot;src&quot;);l||(l=d),u||(u=d),u||(u=l),l||(l=u),a.urlThumb=u,a.urlImage=l,a.title=e.attr(&quot;alt&quot;),a.objThumbImage=e,a.objThumbImage.attr(&quot;src&quot;,a.urlThumb)}else{if(&quot;image&quot;==o)throw trace(&quot;Problematic gallery item found:&quot;),trace(e),trace(&quot;Please look for some third party js script that could add this item to the gallery&quot;),new Error(&quot;The item should not be image type&quot;);a.urlThumb=e.data(&quot;thumb&quot;),a.title=e.data(&quot;title&quot;),a.objThumbImage=null,a.urlImage=e.data(&quot;image&quot;)}if(1==i){var _=e.data(&quot;thumb-mobile&quot;);&quot;undefined&quot;!=typeof _&amp;&amp;&quot;&quot;!=_&amp;&amp;(a.urlThumb=_,&quot;img&quot;==n&amp;&amp;e.attr(&quot;src&quot;,a.urlThumb));var g=e.data(&quot;image-mobile&quot;);&quot;undefined&quot;!=typeof g&amp;&amp;&quot;&quot;!=g&amp;&amp;(a.urlImage=g)}a.link=r,a.description=e.attr(&quot;title&quot;),a.description||(a.description=e.data(&quot;description&quot;)),a.description||(a.description=&quot;&quot;),a.isNewAdded=!1,a.isLoaded=!1,a.isThumbImageLoaded=!1,a.objPreloadImage=null,a.isBigImageLoadStarted=!1,a.isBigImageLoaded=!1,a.isBigImageLoadError=!1,a.imageWidth=0,a.imageHeight=0,a.thumbWidth=0,a.thumbHeight=0,a.thumbRatioByWidth=0,a.thumbRatioByHeight=0;var c=e.data(&quot;width&quot;),h=e.data(&quot;height&quot;);c&amp;&amp;&quot;number&quot;==typeof c&amp;&amp;h&amp;&amp;&quot;number&quot;==typeof h&amp;&amp;(a.thumbWidth=c,a.thumbHeight=h,a.thumbRatioByWidth=c/h,a.thumbRatioByHeight=h/c),a.addHtml=null;var p=void 0==a.urlImage||&quot;&quot;==a.urlImage,f=void 0==a.urlThumb||&quot;&quot;==a.urlThumb;switch(a.type){case&quot;youtube&quot;:if(a.videoid=e.data(&quot;videoid&quot;),p||f){var m=g_ugYoutubeAPI.getVideoImages(a.videoid);p&amp;&amp;(a.urlImage=m.preview),f&amp;&amp;(a.urlThumb=m.thumb,&quot;img&quot;==n&amp;&amp;e.attr(&quot;src&quot;,a.urlThumb))}g_temp.isYoutubePresent=!0;break;case&quot;vimeo&quot;:a.videoid=e.data(&quot;videoid&quot;),g_temp.isVimeoPresent=!0;break;case&quot;html5video&quot;:a.videoogv=e.data(&quot;videoogv&quot;),a.videowebm=e.data(&quot;videowebm&quot;),a.videomp4=e.data(&quot;videomp4&quot;),g_temp.isHtml5VideoPresent=!0;break;case&quot;soundcloud&quot;:a.trackid=e.data(&quot;trackid&quot;),g_temp.isSoundCloudPresent=!0;break;case&quot;wistia&quot;:a.videoid=e.data(&quot;videoid&quot;),g_temp.isWistiaPresent=!0;break;case&quot;custom&quot;:var v=e.children(&quot;img&quot;);v.length&amp;&amp;(v=jQuery(v[0]),a.urlThumb=v.attr(&quot;src&quot;),a.title=v.attr(&quot;alt&quot;),a.objThumbImage=v);var b=e.children().not(&quot;img:first-child&quot;);b.length&amp;&amp;(a.addHtml=b.clone())}return a.objThumbImage&amp;&amp;(a.objThumbImage.removeAttr(&quot;data-description&quot;,&quot;&quot;),a.objThumbImage.removeAttr(&quot;data-image&quot;,&quot;&quot;),a.objThumbImage.removeAttr(&quot;data-thumb&quot;,&quot;&quot;),a.objThumbImage.removeAttr(&quot;title&quot;,&quot;&quot;)),a}function fillItemsArray(e,t){if(t!==!0)g_arrItems=[];else for(var i=0;g_numItems&gt;i;i++)g_arrItems[i].isNewAdded=!1;for(var i=0;i&lt;e.length;i++){var n=jQuery(e[i]),r=fillItemByChild(n);numIndex=g_arrItems.length,r.index=numIndex,t===!0&amp;&amp;(r.isNewAdded=!0),g_arrItems.push(r)}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&amp;&amp;g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&amp;&amp;g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&amp;&amp;g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&amp;&amp;g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&amp;&amp;g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if(&quot;visible&quot;!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type=&quot;minimal&quot;),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case&quot;minimal&quot;:break;case&quot;all&quot;:jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case&quot;visible&quot;:jQuery(g_arrItems).each(function(){var e=this,t=g_objThumbs.isItemThumbVisible(e);1==t&amp;&amp;preloadItemImage(e)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case&quot;minimal&quot;:break;case&quot;all&quot;:preloadItemImage(e);break;case&quot;visible&quot;:var t=g_objThumbs.isItemThumbVisible(e);1==t&amp;&amp;preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var i=e.urlImage;
return&quot;&quot;==i||void 0==i?(e.isBigImageLoadError=!0,!1):(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery(&quot;&lt;img/&gt;&quot;).attr(&quot;src&quot;,i),e.objPreloadImage.data(&quot;itemIndex&quot;,e.index),e.objPreloadImage.on(&quot;load&quot;,t.onItemBigImageLoaded),e.objPreloadImage.on(&quot;error&quot;,function(){var e=jQuery(this),i=e.data(&quot;itemIndex&quot;),n=g_arrItems[i];n.isBigImageLoadError=!0,n.isBigImageLoaded=!1;var r=jQuery(this).attr(&quot;src&quot;);console.log(&quot;Can't load image: &quot;+r),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[i,n.urlImage]),n.objThumbImage.attr(&quot;src&quot;,n.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)var e=g_selectedItem;if(!e)return!0;var t=e.index,i=t-1,n=t+1;i&gt;0&amp;&amp;preloadItemImage(g_arrItems[i]),g_numItems&gt;n&amp;&amp;preloadItemImage(g_arrItems[n])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&amp;&amp;0==t.isFullScreen()&amp;&amp;1==g_temp.isPlayMode&amp;&amp;g_objSlider&amp;&amp;0==g_objSlider.isSlideActionActive()&amp;&amp;t.pausePlaying()}function onSliderMouseLeave(e){if(1==g_options.gallery_pause_on_mouseover&amp;&amp;1==g_temp.isPlayMode&amp;&amp;g_objSlider&amp;&amp;0==g_objSlider.isSlideActionActive()){var i=g_objSlider.isCurrentSlideLoadingImage();0==i&amp;&amp;t.continuePlaying()}}function onKeyPress(e){var i=jQuery(e.target);if(i.is(&quot;textarea&quot;)||i.is(&quot;select&quot;)||i.is(&quot;input&quot;))return!0;var n=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,r=!0;switch(n){case 39:t.nextItem();break;case 37:t.prevItem();break;default:r=!1}1==r&amp;&amp;(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[n,e])}function onGalleryResized(){var e=t.getSize();if(0==e.width)return!0;t.setSizeClass();var e=t.getSize();if(e.width!=g_temp.lastWidth||0==g_temp.isFreestyleMode&amp;&amp;e.height!=g_temp.lastHeight){var i=!1;if(g_temp.funcCustomHeight){var n=g_temp.funcCustomHeight(e);n&amp;&amp;(g_objWrapper.height(n),i=!0)}0==i&amp;&amp;1==g_options.gallery_preserve_ratio&amp;&amp;0==g_temp.isFreestyleMode&amp;&amp;setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){&quot;visible&quot;==g_options.gallery_images_preload_type&amp;&amp;0==g_temp.isAllItemsPreloaded&amp;&amp;preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,n=g_functions.getGlobalData(&quot;fullscreenID&quot;);return g_galleryID!==n?!0:(e?g_objWrapper.addClass(&quot;ug-fullscreen&quot;):g_objWrapper.removeClass(&quot;ug-fullscreen&quot;),g_objGallery.trigger(i),void onGalleryResized())}function onItemImageUpdated(e,i){var n=t.getItem(i);checkPreloadItemImage(n)}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&amp;&amp;t.continuePlaying()}function initEvents(){if(g_objWrapper.on(&quot;dragstart&quot;,function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case&quot;strip&quot;:jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case&quot;grid&quot;:jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if(&quot;advance&quot;==g_options.gallery_mousewheel_role&amp;&amp;0==g_temp.isFreestyleMode&amp;&amp;g_objWrapper.on(&quot;mousewheel&quot;,t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css(&quot;width&quot;,&quot;auto&quot;),g_functions.whenContiniousEventOver(&quot;gallery_resize&quot;,onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&amp;&amp;t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover){var e=g_objSlider.getElement();e.hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}1==g_options.gallery_control_keyboard&amp;&amp;jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t){var i=t;&quot;noitems&quot;!=i&amp;&amp;(i=jQuery(t).clone())}else var i=g_objWrapper.children().clone();g_objCache[e]=i}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass(&quot;ug-under-480&quot;),e.removeClass(&quot;ug-under-780&quot;),e.removeClass(&quot;ug-under-960&quot;)}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now(),i=e-g_temp.playTimeLastStep;g_temp.playTimeLastStep=e;var n=t.isGalleryVisible();if(0==n)return!1;if(g_temp.playTimePassed+=i,g_temp.objProgress){var r=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(r)}g_temp.playTimePassed&gt;=g_options.gallery_play_interval&amp;&amp;(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem?!0:(g_objThumbs&amp;&amp;g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery(&quot;body&quot;).addClass(&quot;ug-body-fullscreen&quot;),g_objWrapper.addClass(&quot;ug-fake-fullscreen&quot;),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery(&quot;body&quot;).removeClass(&quot;ug-body-fullscreen&quot;),g_objWrapper.removeClass(&quot;ug-fake-fullscreen&quot;),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_objLoadMore,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:&quot;item_change&quot;,SIZE_CHANGE:&quot;size_change&quot;,ENTER_FULLSCREEN:&quot;enter_fullscreen&quot;,EXIT_FULLSCREEN:&quot;exit_fullscreen&quot;,START_PLAY:&quot;start_play&quot;,STOP_PLAY:&quot;stop_play&quot;,PAUSE_PLAYING:&quot;pause_playing&quot;,CONTINUE_PLAYING:&quot;continue_playing&quot;,SLIDER_ACTION_START:&quot;slider_action_start&quot;,SLIDER_ACTION_END:&quot;slider_action_end&quot;,ITEM_IMAGE_UPDATED:&quot;item_image_updated&quot;,GALLERY_KEYPRESS:&quot;gallery_keypress&quot;,GALLERY_BEFORE_REQUEST_ITEMS:&quot;gallery_before_request_items&quot;,OPEN_LIGHTBOX:&quot;open_lightbox&quot;,CLOSE_LIGHTBOX:&quot;close_lightbox&quot;};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:&quot;default&quot;,gallery_skin:&quot;default&quot;,gallery_images_preload_type:&quot;minimal&quot;,gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:&quot;zoom&quot;,gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:&quot;&quot;,gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_loadmore:!1,gallery_enable_cache:!0,gallery_initial_catid:&quot;&quot;},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:&quot;&quot;,playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(e,t){if(!t)var t=jQuery(this);var i=t.data(&quot;itemIndex&quot;),n=g_arrItems[i];n.isBigImageLoaded=!0;var r=g_functions.getImageOriginalSize(t);n.imageWidth=r.width,n.imageHeight=r.height},this.checkFillImageSize=function(e,t){if(!t){var i=e.data(&quot;itemIndex&quot;);if(void 0===i)throw new Error(&quot;Wrong image given to gallery.checkFillImageSize&quot;);var t=g_arrItems[i]}var n=g_functions.getImageOriginalSize(e);t.imageWidth=n.width,t.imageHeight=n.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,i){if(!e)var e={};e=jQuery.extend(g_temp.objCustomOptions,e),g_objSlider=new UGSlider,g_objSlider.init(t,e,i)},this.onGalleryMouseWheel=function(e,i,n,r){e.preventDefault(),i&gt;0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off(&quot;dragstart&quot;),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case&quot;strip&quot;:jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case&quot;grid&quot;:jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off(&quot;mousewheel&quot;),jQuery(window).off(&quot;resize&quot;),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off(&quot;mouseenter&quot;),e.off(&quot;mouseleave&quot;),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&amp;&amp;jQuery(document).off(&quot;keydown&quot;),g_objTheme&amp;&amp;&quot;function&quot;==typeof g_objTheme.destroy&amp;&amp;g_objTheme.destroy(),g_objWrapper.html(&quot;&quot;)},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){var e={g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems};return e},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(0&gt;e)throw new Error(&quot;item with index: &quot;+e+&quot; not found&quot;);if(e&gt;=g_numItems)throw new Error(&quot;item with index: &quot;+e+&quot; not found&quot;);return g_arrItems[e]},this.getWidth=function(){var e=t.getSize();return e.width},this.getHeight=function(){var e=t.getSize();return e.height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){var e=g_galleryID.replace(&quot;#&quot;,&quot;&quot;);return e},this.getNextItem=function(e,t){&quot;object&quot;==typeof e&amp;&amp;(e=e.index);var i=e+1;if(t!==!0&amp;&amp;1==g_numItems)return null;if(i&gt;=g_numItems){if(1!=g_options.gallery_carousel&amp;&amp;t!==!0)return null;i=0}var n=g_arrItems[i];return n},this.getPrevItem=function(e){&quot;object&quot;==typeof e&amp;&amp;(e=e.index);var t=e-1;if(0&gt;t){if(1!=g_options.gallery_carousel&amp;&amp;forceCarousel!==!0)return null;t=g_numItems-1}var i=g_arrItems[t];return i},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1?!0:!1},this.isFirstItem=function(){return 0==g_selectedItemIndex?!0:!1},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data(&quot;ug-button&quot;,!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data(&quot;ug-button&quot;,!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data(&quot;ug-button&quot;,!0),g_functions.setButtonOnTap(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass(&quot;ug-fullscreenmode&quot;)}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass(&quot;ug-fullscreenmode&quot;)})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data(&quot;ug-button&quot;,!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass(&quot;ug-stop-mode&quot;)}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass(&quot;ug-stop-mode&quot;)})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(e,i){g_objGallery.on(t.events.ITEM_CHANGE,function(){var n=t.getSelectedItem();e.html(n.title),i.html(n.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(&quot;.ug-overlay-disabled&quot;).show()},this.hideDisabledOverlay=function(){g_objWrapper.children(&quot;.ug-overlay-disabled&quot;).hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&amp;&amp;1==g_objSlider.isCurrentSlideLoadingImage()&amp;&amp;t.pausePlaying()},this.resetPlaying=function(){return 0==g_temp.isPlayMode?!0:(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused?!0:(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused?!0:(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){if(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress){var e=g_temp.objProgress.getElement();e.hide()}g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var e in g_arrItems)g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,i){&quot;number&quot;==typeof e&amp;&amp;(e=t.getItem(e));var n=e.index;if(n==g_selectedItemIndex)return!0;if(unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=n,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]),1==g_temp.isPlayMode){t.resetPlaying();var r=g_objSlider.isCurrentSlideLoadingImage();1==r&amp;&amp;t.pausePlaying()}},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems?!0:0==g_options.gallery_carousel&amp;&amp;e&gt;=g_numItems?!0:(e&gt;=g_numItems&amp;&amp;(e=0),void t.selectItem(e,&quot;next&quot;))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&amp;&amp;(e=0),0==g_numItems?!0:0==g_options.gallery_carousel&amp;&amp;0&gt;e?!0:(0&gt;e&amp;&amp;(e=g_numItems-1),void t.selectItem(e,&quot;prev&quot;))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen?!0:1==g_functions.isFullScreen()?!0:!1},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData(&quot;fullscreenID&quot;,g_galleryID);var e=g_objWrapper.get(0),t=g_functions.toFullscreen(e);0==t&amp;&amp;toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css(&quot;width&quot;,&quot;auto&quot;),g_objWrapper.css(&quot;max-width&quot;,e+&quot;px&quot;),t&amp;&amp;g_objWrapper.height(t),i||i===!0||onGalleryResized()},this.setSizeClass=function(e,i){if(!e)var e=g_objWrapper;if(!i)var n=t.getSize(),i=n.width;if(0==i)var i=jQuery(window).width();var r=&quot;&quot;;return 480&gt;=i?r=&quot;ug-under-480&quot;:780&gt;=i?r=&quot;ug-under-780&quot;:960&gt;i&amp;&amp;(r=&quot;ug-under-960&quot;),1==e.hasClass(r)?!0:(removeAllSizeClasses(e),void(&quot;&quot;!=r&amp;&amp;e.addClass(r)))},this.isMobileMode=function(){return g_objWrapper.hasClass(&quot;ug-under-480&quot;)?!0:!1},this.isSmallWindow=function(){var e=jQuery(window).width();return e?480&gt;=e?!0:!1:!0},this.isGalleryVisible=function(){var e=g_objWrapper.is(&quot;:visible&quot;);return e},this.changeItems=function(e,t){if(!e)var e=&quot;noitems&quot;;runGallery(g_galleryID,&quot;nochange&quot;,e,t)},this.addItems=function(e){if(!e||0==e.length)return!1;var t=g_objWrapper.children(&quot;.ug-newitems-wrapper&quot;);0==t.length&amp;&amp;g_objWrapper.append(&quot;&quot;),t=g_objWrapper.children(&quot;.ug-newitems-wrapper&quot;),t.append(e);var i=jQuery(t.children());if(fillItemsArray(i,!0),loadAPIs(),!g_objTheme||&quot;function&quot;!=typeof g_objTheme.addItems)throw new Error(&quot;addItems function not found in the theme&quot;);t.remove(),g_objTheme.addItems()},this.getNewAddedItemsIndexes=function(){var e=[];return jQuery.each(g_arrItems,function(t,i){1==i.isNewAdded&amp;&amp;e.push(t)}),e},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________EXTERNAL_EVENTS_______=function(){},this.triggerEvent=function(e,t){t?(&quot;array&quot;!=jQuery.type(t)&amp;&amp;(t=[t]),g_objGallery.trigger(e,t)):g_objGallery.trigger(e)},this.onEvent=function(e,t){g_objGallery.on(e,t)},this.destroyEvent=function(e){g_objGallery.off(e)},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,i,n){if(!i||&quot;function&quot;!=typeof i)throw new Error(&quot;ajaxRequest error: success function should be passed&quot;);var r=g_options.gallery_urlajax;if(!r||&quot;&quot;==r)throw new Error(&quot;ajaxRequest error: Ajax url don't passed&quot;);if(&quot;undefined&quot;==typeof t)var t={};var o={action:&quot;unitegallery_ajax_action&quot;,client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:&quot;post&quot;,url:g_options.gallery_urlajax,dataType:&quot;json&quot;,data:o,success:function(e){if(!e)throw new Error(&quot;Empty ajax response!&quot;);if(-1==e||0===e)throw new Error(&quot;ajax error!!!&quot;);if(&quot;undefined&quot;==typeof e.success)throw new Error(&quot;ajax error!!!&quot;);return 0==e.success?(showErrorMessage(e.message,&quot;ajax error&quot;),!1):void i(e)},error:function(e,t,i){console.log(&quot;Ajax Error!!! &quot;+t),responseText=e.responseText,n&amp;&amp;&quot;function&quot;==typeof n?n(responseText):trace(responseText)}})},this.requestNewItems=function(e,i,n){var r=g_options.gallery_enable_cache;if(n||(n=e),1==i&amp;&amp;(r=!1),1==r&amp;&amp;g_objCache.hasOwnProperty(n)){var o=g_objCache[n];t.changeItems(o,n)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest(&quot;front_get_cat_items&quot;,{catid:e},function(e){var i=e.html;t.changeItems(i,n)})},this.run=function(e,t){g_options.gallery_debug_errors;if(t&amp;&amp;t.hasOwnProperty(&quot;gallery_debug_errors&quot;)&amp;&amp;(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(i){if(&quot;object&quot;==typeof i){var n=i.message,r=i.lineNumber,o=i.fileName;i.stack;n+=&quot;  in file: &quot;+o,n+=&quot; <B> line &quot;+r+&quot;</B>&quot;,trace(i)}else var n=i;n=n.replace(&quot;Error:&quot;,&quot;&quot;),showErrorMessage(n)}else runGallery(e,t)}}function UGLightbox(){function e(e,i){ie=e,U=jQuery(e),ae=jQuery.extend(ae,le),ae=jQuery.extend(ae,i),se.originalOptions=jQuery.extend({},ae),&quot;compact&quot;==ae.lightbox_type&amp;&amp;(se.isCompact=!0,ae=jQuery.extend(ae,ue),ae=jQuery.extend(ae,i)),t(),1==se.putSlider?(ie.initSlider(ae,&quot;lightbox&quot;),g_objects=e.getObjects(),ne=g_objects.g_objSlider):ne=null,1==ae.lightbox_show_textpanel?oe.init(ie,ae,&quot;lightbox&quot;):oe=null}function t(){1==se.isCompact&amp;&amp;1==ae.lightbox_show_textpanel&amp;&amp;(ae.lightbox_slider_image_padding_bottom=se.initTextPanelHeight),1==se.isCompact&amp;&amp;&quot;inside&quot;==ae.lightbox_arrows_position&amp;&amp;(se.isArrowsInside=!0),1==se.isArrowsInside&amp;&amp;0==ae.lightbox_arrows_inside_alwayson&amp;&amp;(se.isArrowsOnHoverMode=!0),0==ae.lightbox_show_textpanel&amp;&amp;(se.isTopPanelEnabled=!1,se.topPanelHeight=0,ae.lightbox_slider_image_padding_top=0)}function i(){var e=&quot;&quot;,t=&quot;&quot;;1==se.isCompact&amp;&amp;(t=&quot; ug-lightbox-compact&quot;),e+=&quot;<DIV class="ug-gallery-wrapper ug-lightbox&quot;+t+&quot;">&quot;,e+=&quot;&quot;,0==se.isCompact&amp;&amp;se.isTopPanelEnabled?(e+=&quot;<DIV class="ug-lightbox-top-panel">&quot;,e+=&quot;&quot;,ae.lightbox_show_numbers&amp;&amp;(e+=&quot;&quot;),e+=&quot;</DIV>&quot;):ae.lightbox_show_numbers&amp;&amp;(e+=&quot;&quot;),e+=&quot;&quot;,e+=&quot;&quot;,e+=&quot;&quot;,e+=&quot;</DIV>&quot;,V=jQuery(e),jQuery(&quot;body&quot;).append(V),ne&amp;&amp;ne.setHtml(V),X=V.children(&quot;.ug-lightbox-overlay&quot;),0==se.isCompact&amp;&amp;1==se.isTopPanelEnabled&amp;&amp;($=V.children(&quot;.ug-lightbox-top-panel&quot;),0==$.length&amp;&amp;($=null)),K=V.find(&quot;.ug-lightbox-button-close&quot;),ae.lightbox_show_numbers&amp;&amp;(J=V.find(&quot;.ug-lightbox-numbers&quot;)),Z=V.children(&quot;.ug-lightbox-arrow-left&quot;),q=V.children(&quot;.ug-lightbox-arrow-right&quot;),oe&amp;&amp;($?oe.appendHTML($):oe.appendHTML(V))}function n(){if(null!==ae.lightbox_overlay_color&amp;&amp;X.css(&quot;background-color&quot;,ae.lightbox_overlay_color),null!==ae.lightbox_overlay_opacity&amp;&amp;X.fadeTo(0,ae.lightbox_overlay_opacity),$&amp;&amp;null!==ae.lightbox_top_panel_opacity&amp;&amp;$.children(&quot;.ug-lightbox-top-panel-overlay&quot;).fadeTo(0,ae.lightbox_top_panel_opacity),J){var e={};null!==ae.lightbox_numbers_size&amp;&amp;(e[&quot;font-size&quot;]=ae.lightbox_numbers_size+&quot;px&quot;),ae.lightbox_numbers_color&amp;&amp;(e.color=ae.lightbox_numbers_color),null!==ae.lightbox_numbers_padding_right&amp;&amp;(e[&quot;padding-right&quot;]=ae.lightbox_numbers_padding_right+&quot;px&quot;),null!==ae.lightbox_numbers_padding_top&amp;&amp;(e[&quot;padding-top&quot;]=ae.lightbox_numbers_padding_top+&quot;px&quot;),J.css(e)}}function r(e){if(!ne)return!0;var t={slider_image_padding_top:e};ne.setOptions(t),ne.refreshSlideItems()}function o(e){if(!$)return!1;if(!oe)return!1;var t=$.height();if(0==t)return!1;if(0==$.is(&quot;:visible&quot;))return!1;var i=t,n=oe.getSize(),o=n.height;t!=se.topPanelHeight&amp;&amp;(i=se.topPanelHeight),o&gt;i&amp;&amp;(i=o),t!=i&amp;&amp;($.height(i),ne&amp;&amp;0==ne.isAnimating()&amp;&amp;r(i))}function a(e){var t={},i=ae.lightbox_textpanel_width,n=47,r=40,a=e.width-n-r;i&gt;a?(t.textpanel_padding_left=n,t.textpanel_padding_right=r,t.textpanel_title_text_align=&quot;center&quot;,t.textpanel_desc_text_align=&quot;center&quot;):(t.textpanel_padding_left=Math.floor((e.width-i)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align=&quot;left&quot;,t.textpanel_desc_text_align=&quot;left&quot;,ae.lightbox_textpanel_title_text_align&amp;&amp;(t.textpanel_title_text_align=ae.lightbox_textpanel_desc_text_align),ae.lightbox_textpanel_desc_text_align&amp;&amp;(t.textpanel_desc_text_align=ae.lightbox_textpanel_desc_text_align)),oe.setOptions(t),oe.refresh(!0,!0),o(&quot;positionTextPanelWide&quot;),oe.positionPanel()}function s(){return $?void $.hide():!1}function l(){return $?void $.show():!1}function u(e){if(0==se.isOpened)return!1;if(!oe)return!1;if(!ne)return!1;var t=re.getElementSize(V),i=oe.getSize();if(0==i.width||i.height&gt;120)return!1;if(!e)var n=ne.getSlideImage(),e=re.getElementSize(n);if(0==e.height||0==e.width)return!1;var r=e.bottom+i.height;if(r&lt;t.height)return!1;var o=ne.getOptions(),a=i.height;if(a!=o.slider_image_padding_bottom){var s={slider_image_padding_bottom:a};if(0==ne.isAnimating())return ne.setOptions(s),ne.refreshSlideItems(),!0}return!1}function d(e,t){if(!e)var i=ne.getSlideImage(),e=re.getElementSize(i);se.textPanelTop=e.bottom,t===!0&amp;&amp;oe.positionPanel(se.textPanelTop,se.textPanelLeft)}function _(e){var t=(re.getElementSize(V),ne.getSlideImage()),i=re.getElementSize(t);if(0==i.width)return!1;se.textPanelLeft=i.left,se.textPanelTop=i.bottom;var n=i.width;if(J){var r=re.getElementSize(J);n-=r.width;var o=i.right-r.width;re.placeElement(J,o,se.textPanelTop)}oe&amp;&amp;(oe.show(),oe.refresh(!0,!0,n),d(i));var a=u(i);0==a&amp;&amp;(se.positionFrom=&quot;handleCompactTextpanelSizes&quot;,oe&amp;&amp;(oe.positionPanel(se.textPanelTop,se.textPanelLeft),e===!0&amp;&amp;(e(),j())))}function g(){if(0==ne.isCurrentSlideType(&quot;image&quot;))return!0;var e=1==ne.isCurrentImageInPlace();return e}function c(e,t){if(0==se.isArrowsInside)return!1;if(!Z)return!1;var i=g();if(Z.show(),q.show(),se.positionFrom=&quot;positionArrowsInside&quot;,1==se.isArrowsOnHoverMode&amp;&amp;1==i&amp;&amp;0==y()&amp;&amp;I(!0),0==i)var n=re.getElementRelativePos(Z,&quot;left&quot;,ae.lightbox_arrows_offset),r=re.getElementRelativePos(Z,&quot;middle&quot;),o=re.getElementRelativePos(q,&quot;right&quot;,ae.lightbox_arrows_offset),a=r;else var s=ne.getSlideImage(),l=re.getElementSize(s),n=(re.getElementSize(ne.getElement()),re.getElementRelativePos(Z,&quot;left&quot;,0,s)+l.left+ae.lightbox_arrows_inside_offset),r=re.getElementRelativePos(Z,&quot;middle&quot;,0,s)+l.top,o=re.getElementRelativePos(Z,&quot;right&quot;,0,s)+l.left-ae.lightbox_arrows_inside_offset,a=r;if(t===!0){var u={left:n,top:r},d={left:o,top:a};Z.stop().animate(u,{duration:se.fadeDuration}),q.stop().animate(d,{duration:se.fadeDuration})}else Z.stop(),q.stop(),re.placeElement(Z,n,r),re.placeElement(q,o,a);1==e&amp;&amp;E(t)}function h(e,t){se.positionFrom=null;var i=g(),n=2,r=re.getElementRelativePos(K,&quot;right&quot;,2,V);if(0==i)var o=n,a=r;else{var s=ne.getSlideImage(),l=re.getElementSize(s),u=re.getElementSize(ne.getElement()),d=re.getElementSize(K);u.top==u.height&amp;&amp;(u.top=0);var a=u.left+l.right-d.width/2+ae.lightbox_compact_closebutton_offsetx,o=u.top+l.top-d.height/2-ae.lightbox_compact_closebutton_offsety;n&gt;o&amp;&amp;(o=n),a&gt;r&amp;&amp;(a=r)}if(t===!0){var _={left:a,top:o};K.stop().animate(_,{duration:se.fadeDuration})}else K.stop(),re.placeElement(K,a,o);e===!0&amp;&amp;T(t)}function p(){K&amp;&amp;K.stop().fadeTo(se.fadeDuration,0),v(),b(),se.positionFrom=&quot;hideCompactElements&quot;,1==se.isArrowsInside&amp;&amp;I()}function f(){K&amp;&amp;K.hide(),Z&amp;&amp;1==se.isArrowsInside&amp;&amp;(Z.hide(),q.hide()),J&amp;&amp;J.hide(),oe&amp;&amp;oe.hide()}function m(){var e=re.getElementSize(V);$&amp;&amp;re.setElementSizeAndPosition($,0,0,e.width,se.topPanelHeight),Z&amp;&amp;0==se.isArrowsInside&amp;&amp;(1==ae.lightbox_hide_arrows_onvideoplay&amp;&amp;(Z.show(),q.show()),re.placeElement(Z,&quot;left&quot;,&quot;middle&quot;,ae.lightbox_arrows_offset),re.placeElement(q,&quot;right&quot;,&quot;middle&quot;,ae.lightbox_arrows_offset)),0==se.isCompact&amp;&amp;re.placeElement(K,&quot;right&quot;,&quot;top&quot;,2,2),oe&amp;&amp;(se.positionFrom=&quot;positionElements&quot;,0==se.isCompact?a(e):(x(),j()));var t=e.width,i=e.height,n=0,r=0;if(ne){if($){var o=$.height(),s={slider_image_padding_top:o};ne.setOptions(s)}ne.setSize(t,i),ne.setPosition(r,n)}}function v(){oe&amp;&amp;oe.getElement().stop().fadeTo(se.fadeDuration,0)}function b(){J&amp;&amp;J.stop().fadeTo(se.fadeDuration,0)}function y(){if(!se.lastMouseX)return!0;var e={pageX:se.lastMouseX,pageY:se.lastMouseY},t=ne.isMouseInsideSlideImage(e);return t}function I(e,t){return Z?1==se.isArrowsOnHoverMode&amp;&amp;t===!1?(1==y(),!0):void(e===!0?(Z.stop().fadeTo(0,0),q.stop().fadeTo(0,0)):(Z.stop().fadeTo(se.fadeDuration,0),q.stop().fadeTo(se.fadeDuration,0))):!1}function w(){if(!Z)return!0;if(0==Z.is(&quot;:visible&quot;))return!0;var e=Z.css(&quot;opacity&quot;);return 1!=e?!0:!1}function E(e,t){return Z?1==se.isArrowsOnHoverMode&amp;&amp;t!==!0&amp;&amp;1==g()?!0:1==ne.isSwiping()?!0:(e!==!0&amp;&amp;(Z.stop(),q.stop()),Z.fadeTo(se.fadeDuration,1),void q.fadeTo(se.fadeDuration,1)):!1}function T(e){e!==!0&amp;&amp;K.stop(),K.fadeTo(se.fadeDuration,1)}function S(e){if(!oe)return!1;if(!e)var e=ne.getCurrentItem();oe.setTextPlain(e.title,e.description)}function P(e){if(!J)return!1;if(!e)var e=ne.getCurrentItem();var t=ie.getNumItems(),i=e.index+1;J.html(i+&quot; / &quot;+t)}function x(){return oe?void oe.getElement().show().stop().fadeTo(se.fadeDuration,1):!1}function j(){J&amp;&amp;J.stop().fadeTo(se.fadeDuration,1)}function C(){return 0==se.isCompact?!0:void p()}function A(){if(0==se.isCompact)return!0;if(se.positionFrom=&quot;onZoomChange&quot;,h(!1,!0),c(!1,!0),1==se.isCompact){var e=ne.isCurrentSlideType(&quot;image&quot;)&amp;&amp;1==ne.isCurrentImageInPlace();0==e?(v(),b()):(se.positionFrom=&quot;onZoomChange&quot;,x(),j())}}function M(){if(0==se.isCompact)return!0;se.positionFrom=&quot;onSliderAfterReturn&quot;,h(!0),c(!0);var e=u();0==e&amp;&amp;_(),x(),j()}function O(e,t){return t=jQuery(t),0==se.isCompact?!0:0==ne.isSlideCurrent(t)?!0:(se.positionFrom=&quot;onSliderAfterPutImage&quot;,h(!0),c(!0),void _())}function z(){var e=ne.getOptions(),t=e.slider_image_padding_top;if($){var i=$.height();i!=t&amp;&amp;r(i)}if(1==se.isCompact){if(S(),P(),se.positionFrom=&quot;onSliderTransitionEnd&quot;,h(!0),c(!0),0==ne.isSlideActionActive()){var n=u();0==n&amp;&amp;_()}x(),j()}}function L(e,t){0==se.isCompact?(J&amp;&amp;P(t),oe&amp;&amp;(S(t),0==se.isRightNowOpened&amp;&amp;(oe.positionElements(!1),o(&quot;onchange&quot;),oe.positionPanel()))):0==ne.isAnimating()&amp;&amp;(oe&amp;&amp;S(t),J&amp;&amp;P(t)),0==se.isSliderChangedOnce&amp;&amp;(se.isSliderChangedOnce=!0,te.trigger(ee.events.LIGHTBOX_INIT))}function H(e,t){var i=ne.getSlideType();if(&quot;image&quot;!=i&amp;&amp;0==se.isCompact&amp;&amp;ne.isSlideActionActive())return!0;var n=ne.isPreloading();if(1==n)return ee.close(&quot;slider&quot;),!0;if(1==ae.lightbox_close_on_emptyspace){var r=ne.isMouseInsideSlideImage(t);0==r&amp;&amp;ee.close(&quot;slider_inside&quot;)}}function N(){m()}function k(){$?s():J&amp;&amp;J.hide(),Z&amp;&amp;1==ae.lightbox_hide_arrows_onvideoplay&amp;&amp;(Z.hide(),q.hide())}function R(){$?(l(),o(&quot;onStopVideo&quot;)):J&amp;&amp;J.show(),Z&amp;&amp;1==ae.lightbox_hide_arrows_onvideoplay&amp;&amp;(Z.show(),q.show())}function G(e,t,i){var n=!1;switch(t){case 27:1==se.isOpened&amp;&amp;ee.close(&quot;keypress&quot;);break;case 38:case 40:case 33:case 34:n=!0}1==se.isOpened&amp;&amp;1==n&amp;&amp;i.preventDefault()}function D(){1==se.isArrowsOnHoverMode&amp;&amp;E(!1,!0)}function Q(e){se.positionFrom=&quot;hideCompactElements&quot;,1==se.isArrowsOnHoverMode&amp;&amp;1==g()&amp;&amp;I(!1,!0)}function W(e){se.lastMouseX=e.pageX,se.lastMouseY=e.pageY;var t=w();1==t&amp;&amp;y()&amp;&amp;0==ne.isAnimating()&amp;&amp;(se.positionFrom=&quot;onMouseMove&quot;,Z&amp;&amp;0==Z.is(&quot;:animated&quot;)&amp;&amp;E(!1,!0))}function B(e,t,i,n){if(0==se.isOpened)return!0;switch(ae.gallery_mousewheel_role){default:case&quot;zoom&quot;:var r=ne.getSlideType();&quot;image&quot;!=r&amp;&amp;e.preventDefault();break;case&quot;none&quot;:e.preventDefault();break;case&quot;advance&quot;:ie.onGalleryMouseWheel(e,t,i,n)}}function F(){if(X.on(&quot;touchstart&quot;,function(e){e.preventDefault()}),X.on(&quot;touchend&quot;,function(e){ee.close(&quot;overlay&quot;)}),re.addClassOnHover(q,&quot;ug-arrow-hover&quot;),re.addClassOnHover(Z,&quot;ug-arrow-hover&quot;),re.addClassOnHover(K),ie.setNextButton(q),ie.setPrevButton(Z),K.click(function(){ee.close(&quot;button&quot;)}),U.on(ie.events.ITEM_CHANGE,L),ne){jQuery(ne).on(ne.events.TRANSITION_END,z),jQuery(ne).on(ne.events.CLICK,H);var e=ne.getVideoObject();jQuery(e).on(e.events.PLAY_START,k),jQuery(e).on(e.events.PLAY_STOP,R),jQuery(ne).on(ne.events.START_DRAG,C),jQuery(ne).on(ne.events.TRANSITION_START,C),jQuery(ne).on(ne.events.AFTER_DRAG_CHANGE,M),jQuery(ne).on(ne.events.AFTER_RETURN,M),jQuery(ne).on(ne.events.AFTER_PUT_IMAGE,O),jQuery(ne).on(ne.events.ZOOM_CHANGE,A),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,D),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,Q)}jQuery(window).resize(function(){return 0==se.isOpened?!0:void re.whenContiniousEventOver(&quot;lightbox_resize&quot;,N,100)}),U.on(ie.events.GALLERY_KEYPRESS,G),1==se.isArrowsOnHoverMode&amp;&amp;jQuery(document).bind(&quot;mousemove&quot;,W),V.on(&quot;mousewheel&quot;,B)}function Y(){se.isCompact=!1,t(),se.isArrowsInside=!1,se.isArrowsOnHoverMode=!1,ae=jQuery.extend({},se.originalOptions),ae.lightbox_arrows_position=&quot;sides&quot;,ne.setOptions(ae)}var U,V,X,Z,q,K,J,$,ee=this,te=jQuery(this),ie=new UniteGalleryMain,ne=new UGSlider,re=new UGFunctions,oe=new UGTextPanel,ae={lightbox_type:&quot;wide&quot;,lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:&quot;sides&quot;,lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0};this.events={LIGHTBOX_INIT:&quot;lightbox_init&quot;};var se={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},le={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,
lightbox_slider_scale_mode_media:&quot;down&quot;,lightbox_slider_scale_mode:&quot;down&quot;,lightbox_slider_loader_type:3,lightbox_slider_loader_color:&quot;black&quot;,lightbox_slider_transition:&quot;fade&quot;,lightbox_slider_image_padding_top:se.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:&quot;middle&quot;,lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},ue={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:&quot;bottom&quot;,lightbox_textpanel_title_text_align:&quot;left&quot;,lightbox_textpanel_desc_text_align:&quot;left&quot;,lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind(&quot;mousemove&quot;),X.off(&quot;touchstart&quot;),X.off(&quot;touchend&quot;),K.off(&quot;click&quot;),U.off(ie.events.ITEM_CHANGE),ne){jQuery(ne).off(ne.events.TRANSITION_END),jQuery(ne).off(ne.events.CLICK),jQuery(ne).off(ne.events.START_DRAG),jQuery(ne).off(ne.events.TRANSITION_START),jQuery(ne).off(ne.events.AFTER_DRAG_CHANGE),jQuery(ne).off(ne.events.AFTER_RETURN);var e=ne.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,D),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,Q),ne.destroy()}jQuery(window).unbind(&quot;resize&quot;),U.off(ie.events.GALLERY_KEYPRESS,G),V.off(&quot;mousewheel&quot;),V.remove()},this.open=function(e){var t=ie.getItem(e);if(se.isOpened=!0,se.isRightNowOpened=!0,setTimeout(function(){se.isRightNowOpened=!1},100),ne&amp;&amp;ne.setItem(t,&quot;lightbox_open&quot;),oe&amp;&amp;oe.setTextPlain(t.title,t.description),X.stop().fadeTo(0,0),V.show(),V.fadeTo(0,1),X.stop().fadeTo(se.fadeDuration,ae.lightbox_overlay_opacity),m(),1==se.isCompact){var i=ne.isPreloading();1==i?f():1==se.isArrowsInside&amp;&amp;(Z.hide(),q.hide())}ne&amp;&amp;ne.startSlideAction(),U.trigger(ie.events.OPEN_LIGHTBOX,t)},this.close=function(e){se.isOpened=!1,1==se.isCompact&amp;&amp;p(),ne&amp;&amp;ne.stopSlideAction();var t=ne.getSlideType();&quot;image&quot;!=t?V.hide():V.fadeTo(se.fadeDuration,0,function(){V.hide()}),U.trigger(ie.events.CLOSE_LIGHTBOX)},this.init=function(t,i){e(t,i)},this.putHtml=function(){var e=ie.isSmallWindow();e&amp;&amp;1==se.isCompact&amp;&amp;Y(),i()},this.run=function(){n(),ne&amp;&amp;ne.run(),F()}}function UGCarousel(){function e(e,t){g_objects=e.getObjects(),W=e,H=jQuery(e),N=g_objects.g_objWrapper,k=g_objects.g_arrItems,U=jQuery.extend(U,t),F.setFixedMode(),F.setApproveClickFunction(L),F.init(e,U),Y=F.getObjThumbs(),U=F.getOptions(),V.initTileWidth=U.tile_width,V.initTileHeight=U.tile_height,V.tileWidth=U.tile_width}function t(e){if(!e)var e=N;var t=&quot;&quot;;N.append(t),R=N.children(&quot;.ug-carousel-wrapper&quot;),G=R.children(&quot;.ug-carousel-inner&quot;),F.setHtml(G),Y.getThumbs().fadeTo(0,1)}function i(e,t){if(!t)var t=V.initTileHeight/V.initTileWidth*e;V.tileWidth=e;var i={tile_width:e,tile_height:t};F.setOptions(i),U.tile_width=e,U.tile_height=t,F.resizeAllTiles(e),m(!0)}function n(){if(null===V.carouselMaxWidth)throw new Error(&quot;The carousel width not set&quot;);if(V.tileWidth&lt;V.initTileWidth){var e=V.carouselMaxWidth-2*U.carousel_padding;e&gt;V.initTileWidth&amp;&amp;(e=V.initTileWidth),i(e);var t=B.getNumItemsInSpace(V.carouselMaxWidth,e,U.carousel_space_between_tiles)}else{var t=B.getNumItemsInSpace(V.carouselMaxWidth,V.tileWidth,U.carousel_space_between_tiles);if(0&gt;=t){t=1;var e=V.carouselMaxWidth-2*U.carousel_padding;i(e)}}var n=B.getSpaceByNumItems(t,V.tileWidth,U.carousel_space_between_tiles);n+=2*U.carousel_padding,R.width(n),1==V.isFirstTimeRun?(z(),F.run(),jQuery.each(k,function(e,t){t.objThumbWrapper.data(&quot;index&quot;,e),N.trigger(V.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),m(!0),1==U.carousel_autoplay&amp;&amp;D.startAutoplay()):(1==U.carousel_autoplay&amp;&amp;D.pauseAutoplay(),w(0,!1),1==U.carousel_autoplay&amp;&amp;D.startAutoplay()),P(),V.isFirstTimeRun=!1}function r(){return B.getElementSize(G).left}function o(e){return B.getMousePosition(e).pageX}function a(){var e=G.children(&quot;.ug-thumb-wrapper&quot;);return e}function s(e){var t=B.getNumItemsInSpace(e,V.tileWidth,U.carousel_space_between_tiles);return t}function l(){return a().length}function u(e){v(e);var t=a(),i=jQuery(t[e]);return i}function d(){return G.children(&quot;.ug-thumb-wrapper&quot;).first()}function _(){return G.children(&quot;.ug-thumb-wrapper&quot;).last()}function g(e,t,i){var n=e.data(&quot;index&quot;);if(void 0==n)throw new Error(&quot;every tile should have index!&quot;);for(var r=[],o=0;t&gt;o;o++){if(&quot;prev&quot;==i)var a=W.getPrevItem(n,!0);else var a=W.getNextItem(n,!0);if(!a)throw new Error(&quot;the item to add is empty&quot;);var s=a.objTileOriginal.clone(!0,!0);n=a.index,s.addClass(&quot;cloned&quot;),r.push(s)}return r}function c(){var e=B.getElementSize(R),t=B.getElementSize(G),i=t.width-e.width+t.left,n=V.sideSpace-i;return n}function h(){var e=-r(),t=V.sideSpace-e;return t}function p(){var e=B.getElementSize(R);return e.width}function f(){var e=p(),t=s(e);return t}function m(e){if(!e)var e=!1;var t,i=a(),n=0,r=0;return jQuery.each(i,function(e,o){o=jQuery(o),B.placeElement(o,n,0);var a=B.getElementSize(o);n+=a.width+U.carousel_space_between_tiles,r=Math.max(r,a.height),e==i.length-1&amp;&amp;(t=a.right)}),G.width(t),r+=2*U.carousel_padding,e===!0&amp;&amp;(G.height(r),R.height(r)),w(V.numCurrent,!1),t}function v(e){if(e&gt;a().length-1)throw new Error(&quot;Wrogn tile number: &quot;+e)}function b(e,t){if(&quot;left&quot;==t)var i=d();else var i=_();var n=&quot;left&quot;==t?&quot;prev&quot;:&quot;next&quot;,r=g(i,e,n);jQuery.each(r,function(e,i){&quot;left&quot;==t?G.prepend(i):G.append(i),N.trigger(V.eventSizeChange,i),F.loadTileImage(i)})}function y(e,t){v(n);for(var i=a(),n=i.length,r=0;e&gt;r;r++)&quot;left&quot;==t?jQuery(i[r]).remove():jQuery(i[n-1-r]).remove()}function I(e){var t={left:e+&quot;px&quot;};G.css(t)}function w(e,t,i){if(void 0===t){var t=!0;if(G.is(&quot;:animated&quot;))return!0}var n=u(e),r=B.getElementSize(n),o=-r.left+U.carousel_padding,a={left:o+&quot;px&quot;};if(t===!0){var s=U.carousel_scroll_duration,l=U.carousel_scroll_easing;i===!0&amp;&amp;(s=V.scrollShortDuration,l=V.scrollShortEasing),G.stop(!0).animate(a,{duration:s,easing:l,queue:!1,complete:function(){V.numCurrent=e,S(!0)}})}else V.numCurrent=e,G.css(a)}function E(){var e=-r(),t=s(e),i=B.getElementSize(u(t)).left,n=B.getElementSize(u(t+1)).left;return Math.abs(i-e)&lt;Math.abs(n-e)?t:t+1}function T(){var e=E();w(e,!0,!0)}function S(){var e=h(),t=c(),i=0,n=0,r=0,o=0,a=l();if(e&gt;V.spaceActionSize)i=s(e),b(i,&quot;left&quot;),V.numCurrent+=i;else if(e&lt;-V.spaceActionSize){var r=s(Math.abs(e));y(r,&quot;left&quot;),V.numCurrent-=r}if(t&gt;V.spaceActionSize?(n=s(t),b(n,&quot;right&quot;)):t&lt;-V.spaceActionSize&amp;&amp;(o=s(Math.abs(t)),y(o,&quot;right&quot;)),o&gt;a)throw new Error(&quot;Can't remove more then num tiles&quot;);var u=!1;return(i||n||r||o)&amp;&amp;(m(),u=!0),u}function P(e){B.placeElement(G,0,U.carousel_padding),S()}function x(){&quot;left&quot;==U.carousel_autoplay_direction?D.scrollRight(1):D.scrollLeft(1)}function j(e){return 1==V.touchActive?!0:(V.touchActive=!0,D.pauseAutoplay(),V.startTime=jQuery.now(),V.startMousePos=o(e),V.startInnerPos=r(),V.lastTime=V.startTime,V.lastMousePos=V.startMousePos,void B.storeEventData(e,V.storedEventID))}function C(e){if(0==V.touchActive)return!0;B.updateStoredEventData(e,V.storedEventID),e.preventDefault();var t=null;if(1==U.carousel_vertical_scroll_ondrag&amp;&amp;(t=B.handleScrollTop(V.storedEventID)),&quot;vert&quot;===t)return!0;V.lastMousePos=o(e);var i=V.lastMousePos-V.startMousePos,n=V.startInnerPos+i,r=i&gt;0?&quot;prev&quot;:&quot;next&quot;,a=B.getElementSize(G).width;n&gt;0&amp;&amp;&quot;prev&quot;==r&amp;&amp;(n/=3),-a&gt;n&amp;&amp;&quot;next&quot;==r&amp;&amp;(n=V.startInnerPos+i/3),I(n)}function A(e){return 0==V.touchActive?!0:(V.touchActive=!1,T(),void D.unpauseAutoplay())}function M(e){return 0==U.carousel_autoplay_pause_onhover?!0:void(1==V.isPlayMode&amp;&amp;0==V.isPaused&amp;&amp;D.pauseAutoplay())}function O(e){return 0==U.carousel_autoplay_pause_onhover?!0:void D.unpauseAutoplay()}function z(){F.initEvents(),R.bind(&quot;mousedown touchstart&quot;,j),jQuery(&quot;body&quot;).bind(&quot;mousemove touchmove&quot;,C),jQuery(window).add(&quot;body&quot;).bind(&quot;mouseup touchend&quot;,A),R.hover(M,O)}function L(){var e=V.lastTime-V.startTime,t=Math.abs(V.lastMousePos-V.startMousePos);return e&gt;300?!1:t&gt;30?!1:!0}var H,N,k,R,G,D=this,Q=jQuery(this),W=new UniteGalleryMain,B=new UGFunctions,F=new UGTileDesign,Y=new UGThumbsGeneral,U={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:&quot;easeOutCubic&quot;,carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:&quot;right&quot;,carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:&quot;carousel_start_play&quot;,PAUSE_PLAY:&quot;carousel_pause_play&quot;,STOP_PLAY:&quot;carousel_stop_play&quot;};var V={eventSizeChange:&quot;thumb_size_change&quot;,isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:&quot;easeOutQuad&quot;,handle:null,isPlayMode:!1,isPaused:!1,storedEventID:&quot;carousel&quot;};this.startAutoplay=function(){V.isPlayMode=!0,V.isPaused=!1,Q.trigger(D.events.START_PLAY),V.handle&amp;&amp;clearInterval(V.handle),V.handle=setInterval(x,U.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==V.isPlayMode?!0:0==V.isPaused?!0:void D.startAutoplay()},this.pauseAutoplay=function(){return 0==V.isPlayMode?!0:(V.isPaused=!0,V.handle&amp;&amp;clearInterval(V.handle),void Q.trigger(D.events.PAUSE_PLAY))},this.stopAutoplay=function(){return 0==V.isPlayMode?!0:(V.isPaused=!1,V.isPlayMode=!1,V.handle&amp;&amp;clearInterval(V.handle),void Q.trigger(D.events.STOP_PLAY))},this.destroy=function(){V.handle&amp;&amp;clearInterval(V.handle),Q.off(D.events.START_PLAY),Q.off(D.events.STOP_PLAY),R.unbind(&quot;mousedown&quot;),R.unbind(&quot;touchstart&quot;),jQuery(&quot;body&quot;).unbind(&quot;mousemove&quot;),jQuery(&quot;body&quot;).unbind(&quot;touchmove&quot;),jQuery(window).add(&quot;body&quot;).unbind(&quot;mouseup&quot;).unbind(&quot;touchend&quot;),R.off(&quot;mouseenter&quot;).off(&quot;mouseleave&quot;),F.destroy()},this.init=function(t,i,n){n&amp;&amp;this.setMaxWidth(n),e(t,i)},this.setMaxWidth=function(e){V.carouselMaxWidth=e},this.setHtml=function(e){t(e)},this.getElement=function(){return R},this.getObjTileDesign=function(){return F},this.getEstimatedHeight=function(){var e=U.tile_height+2*U.carousel_padding;return e},this.run=function(){n()},this.scrollRight=function(e){if(!e||&quot;object&quot;==typeof e)var e=U.carousel_navigation_numtiles;var t=f();e&gt;t&amp;&amp;(e=t);var i=V.numCurrent-e;0&gt;=i&amp;&amp;(i=0),w(i)},this.scrollLeft=function(e){if(!e||&quot;object&quot;==typeof e)var e=U.carousel_navigation_numtiles;var t=f();e&gt;t&amp;&amp;(e=t);var i=l(),n=V.numCurrent+e;n&gt;=i&amp;&amp;(n=i-1),w(n)},this.setScrollLeftButton=function(e){B.setButtonMobileReady(e),B.setButtonOnClick(e,D.scrollLeft)},this.setScrollRightButton=function(e){B.setButtonMobileReady(e),B.setButtonOnClick(e,D.scrollRight)},this.setPlayPauseButton=function(e){B.setButtonMobileReady(e),1==V.isPlayMode&amp;&amp;0==V.isPaused&amp;&amp;e.addClass(&quot;ug-pause-icon&quot;),Q.on(D.events.START_PLAY,function(){e.addClass(&quot;ug-pause-icon&quot;)}),Q.on(D.events.STOP_PLAY,function(){e.removeClass(&quot;ug-pause-icon&quot;)}),B.setButtonOnClick(e,function(){0==V.isPlayMode||1==V.isPaused?D.startAutoplay():D.stopAutoplay()})}}function UGTabs(){function e(e,t){u=e,a=jQuery(u),d=jQuery.extend(d,t),&quot;select&quot;==d.tabs_type?l=jQuery(d.tabs_container):s=jQuery(d.tabs_container+&quot; .ug-tab&quot;)}function t(){o()}function i(e){u.requestNewItems(e)}function n(){var e=d.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;s.not(t).removeClass(e),t.addClass(e);var n=t.data(&quot;catid&quot;);return n?void i(n):!0}function r(){var e=jQuery(this),t=e.val();return t?void i(t):!0}function o(){&quot;select&quot;==d.tabs_type?l.change(r):s.click(n)}var a,s,l,u=(jQuery(this),new UniteGalleryMain),d=(new UGFunctions,{tabs_type:&quot;tabs&quot;,tabs_container:&quot;#ug_tabs&quot;,tabs_class_selected:&quot;ug-tab-selected&quot;});this.events={},this.destroy=function(){l&amp;&amp;l.off(&quot;change&quot;),s&amp;&amp;s.off(&quot;click&quot;)},this.init=function(t,i){e(t,i)},this.run=function(){t()}}function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},i=e.objThumbImage.data();for(var n in i){switch(n){case&quot;image&quot;:case&quot;description&quot;:continue}t[n]=i[n]}return t}var i,n=this,r=(jQuery(n),new UniteGalleryMain),o=[];r=e,i=jQuery(e),this.events={API_INIT_FUNCTIONS:&quot;api_init&quot;,API_ON_EVENT:&quot;api_on_event&quot;},this.on=function(e,a,s){switch(s!==!0&amp;&amp;o.push({event:e,func:a}),e){case&quot;item_change&quot;:i.on(r.events.ITEM_CHANGE,function(){var e=r.getSelectedItem(),i=t(e);a(i.index,i)});break;case&quot;resize&quot;:i.on(r.events.SIZE_CHANGE,a);break;case&quot;enter_fullscreen&quot;:i.on(r.events.ENTER_FULLSCREEN,a);break;case&quot;exit_fullscreen&quot;:i.on(r.events.EXIT_FULLSCREEN,a);break;case&quot;play&quot;:i.on(r.events.START_PLAY,a);break;case&quot;stop&quot;:i.on(r.events.STOP_PLAY,a);break;case&quot;pause&quot;:i.on(r.events.PAUSE_PLAYING,a);break;case&quot;continue&quot;:i.on(r.events.CONTINUE_PLAYING,a);break;case&quot;open_lightbox&quot;:i.on(r.events.OPEN_LIGHTBOX,a);break;case&quot;close_lightbox&quot;:i.on(r.events.CLOSE_LIGHTBOX,a);break;default:console&amp;&amp;console.log(&quot;wrong api event: &quot;+e)}i.trigger(n.events.API_ON_EVENT,[e,a])},this.play=function(){r.startPlayMode()},this.stop=function(){r.stopPlayMode()},this.togglePlay=function(){r.togglePlayMode()},this.enterFullscreen=function(){r.toFullScreen()},this.exitFullscreen=function(){r.exitFullScreen()},this.toggleFullscreen=function(){r.toggleFullscreen()},this.resetZoom=function(){var e=r.getObjSlider();return e?void e.zoomBack():!1},this.zoomIn=function(){var e=r.getObjSlider();return e?void e.zoomIn():!1},this.zoomOut=function(){var e=r.getObjSlider();return e?void e.zoomOut():!1},this.nextItem=function(){r.nextItem()},this.prevItem=function(){r.prevItem()},this.selectItem=function(e){r.selectItem(e)},this.resize=function(e,t){t?r.resize(e,t):r.resize(e)},this.getItem=function(e){var i=r.getItem(e),n=t(i);return n},this.getNumItems=function(){var e=r.getNumItems();return e},this.reloadGallery=function(e){if(!e)var e={};r.run(null,e),o.map(function(e){n.on(e.event,e.func,!0)})},this.destroy=function(){r.destroy()},i.trigger(n.events.API_INIT_FUNCTIONS,n)}function UGLoadMore(){function e(){return o=jQuery(&quot;#&quot;+_.loadmore_container),0==o.length?!1:(a=o.find(&quot;.ug-loadmore-button&quot;),0==a.length?!1:(s=o.find(&quot;.ug-loadmore-loader&quot;),0==s.length?!1:(l=o.find(&quot;.ug-loadmore-error&quot;),0==l.length?!1:void(d.isInited=!0))))}function t(){o.show()}function i(){a.hide(),s.show();var e={numitems:u.getNumItems()};u.ajaxRequest(&quot;front_loadmore&quot;,e,function(e){s.hide();var t=e.html_items,i=e.show_loadmore;1==i?(a.blur().show(),s.hide()):o.hide(),u.addItems(t)},function(e){e=&quot;Ajax Error!&quot;+e,s.hide(),l.show(),l.html(e)})}function n(){u.onEvent(&quot;tiles_first_placed&quot;,t),a.click(i)}var r,o,a,s,l,u=(jQuery(this),new UniteGalleryMain),d=(new UGFunctions,{isInited:!1}),_={loadmore_container:&quot;ug_loadmore_wrapper&quot;};this.events={},this.destroy=function(){return 0==d.isInited?!1:void 0},this.init=function(t,i){return u=t,r=jQuery(u),_=jQuery.extend(_,i),e(),0==d.isInited?(trace(&quot;load more not inited, something is wrong&quot;),!1):void n()}}var g_ugFunctions=new UGFunctions;!function(e){&quot;function&quot;==typeof define&amp;&amp;define.amd?define([&quot;jquery&quot;],e):&quot;object&quot;==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),u=0,d=0,_=0,g=0;if(t=e.event.fix(a),t.type=&quot;mousewheel&quot;,&quot;detail&quot;in a&amp;&amp;(_=-1*a.detail),&quot;wheelDelta&quot;in a&amp;&amp;(_=a.wheelDelta),&quot;wheelDeltaY&quot;in a&amp;&amp;(_=a.wheelDeltaY),&quot;wheelDeltaX&quot;in a&amp;&amp;(d=-1*a.wheelDeltaX),&quot;axis&quot;in a&amp;&amp;a.axis===a.HORIZONTAL_AXIS&amp;&amp;(d=-1*_,_=0),u=0===_?d:_,&quot;deltaY&quot;in a&amp;&amp;(_=-1*a.deltaY,u=_),&quot;deltaX&quot;in a&amp;&amp;(d=a.deltaX,0===_&amp;&amp;(u=-1*d)),0!==_||0!==d){if(1===a.deltaMode){var c=e.data(this,&quot;mousewheel-line-height&quot;);u*=c,_*=c,d*=c}else if(2===a.deltaMode){var h=e.data(this,&quot;mousewheel-page-height&quot;);u*=h,_*=h,d*=h}return g=Math.max(Math.abs(_),Math.abs(d)),(!o||o&gt;g)&amp;&amp;(o=g,n(a,g)&amp;&amp;(o/=40)),n(a,g)&amp;&amp;(u/=40,d/=40,_/=40),u=Math[u&gt;=1?&quot;floor&quot;:&quot;ceil&quot;](u/o),d=Math[d&gt;=1?&quot;floor&quot;:&quot;ceil&quot;](d/o),_=Math[_&gt;=1?&quot;floor&quot;:&quot;ceil&quot;](_/o),t.deltaX=d,t.deltaY=_,t.deltaFactor=o,t.deltaMode=0,s.unshift(t,u,d,_),r&amp;&amp;clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){o=null}function n(e,t){return d.settings.adjustOldDeltas&amp;&amp;&quot;mousewheel&quot;===e.type&amp;&amp;t%120===0}var r,o,a=[&quot;wheel&quot;,&quot;mousewheel&quot;,&quot;DOMMouseScroll&quot;,&quot;MozMousePixelScroll&quot;],s=&quot;onwheel&quot;in document||document.documentMode&gt;=9?[&quot;wheel&quot;]:[&quot;mousewheel&quot;,&quot;DomMouseScroll&quot;,&quot;MozMousePixelScroll&quot;],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=a.length;u;)e.event.fixHooks[a[--u]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:&quot;3.1.9&quot;,setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,&quot;mousewheel-line-height&quot;,d.getLineHeight(this)),e.data(this,&quot;mousewheel-page-height&quot;,d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)[&quot;offsetParent&quot;in e.fn?&quot;offsetParent&quot;:&quot;parent&quot;]().css(&quot;fontSize&quot;),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind(&quot;mousewheel&quot;,e):this.trigger(&quot;mousewheel&quot;)},unmousewheel:function(e){return this.unbind(&quot;mousewheel&quot;,e)}})}),function(e){&quot;function&quot;==typeof define&amp;&amp;define.amd?define([&quot;jquery&quot;],function(t){return e(t)}):&quot;object&quot;==typeof module&amp;&amp;&quot;object&quot;==typeof module.exports?exports=e(require(&quot;jquery&quot;)):e(jQuery)}(function(e){function t(e){var t=7.5625,i=2.75;return 1/i&gt;e?t*e*e:2/i&gt;e?t*(e-=1.5/i)*e+.75:2.5/i&gt;e?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}e.easing.jswing=e.easing.swing;var i=Math.pow,n=Math.sqrt,r=Math.sin,o=Math.cos,a=Math.PI,s=1.70158,l=1.525*s,u=s+1,d=2*a/3,_=2*a/4.5;e.extend(e.easing,{def:&quot;easeOutQuad&quot;,swing:function(t){return e.easing[e.easing.def](t)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return.5&gt;e?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return.5&gt;e?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return.5&gt;e?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return.5&gt;e?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-o(e*a/2)},easeOutSine:function(e){return r(e*a/2)},easeInOutSine:function(e){return-(o(a*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:.5&gt;e?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-n(1-i(e,2))},easeOutCirc:function(e){return n(1-i(e-1,2))},easeInOutCirc:function(e){return.5&gt;e?(1-n(1-i(2*e,2)))/2:(n(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*r((10*e-10.75)*d)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*r((10*e-.75)*d)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:.5&gt;e?-(i(2,20*e-10)*r((20*e-11.125)*_))/2:i(2,-20*e+10)*r((20*e-11.125)*_)/2+1},easeInBack:function(e){return u*e*e*e-s*e*e},easeOutBack:function(e){return 1+u*i(e-1,3)+s*i(e-1,2)},easeInOutBack:function(e){return.5&gt;e?i(2*e,2)*(2*(l+1)*e-l)/2:(i(2*e-2,2)*((l+1)*(2*e-2)+l)+2)/2},easeInBounce:function(e){return 1-t(1-e)},easeOutBounce:t,easeInOutBounce:function(e){return.5&gt;e?(1-t(1-2*e))/2:(1+t(2*e-1))/2}})}),!function(e,t){function i(e,t,i){var n=_[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0&gt;e?0:n.max&lt;e?n.max:e)}function n(t){var i=u(),n=i._rgba=[];return t=t.toLowerCase(),h(l,function(e,r){var o,a=r.re.exec(t),s=a&amp;&amp;r.parse(a),l=r.space||&quot;rgba&quot;;return s?(o=i[l](s),i[d[l].cache]=o[d[l].cache],n=i._rgba=o._rgba,!1):void 0}),n.length?(&quot;0,0,0,0&quot;===n.join()&amp;&amp;e.extend(n,o.transparent),i):o[t]}function r(e,t,i){return i=(i+1)%1,1&gt;6*i?e+(t-e)*i*6:1&gt;2*i?t:2&gt;3*i?e+(t-e)*(2/3-i)*6:e}if(&quot;undefined&quot;==typeof e.cssHooks)return!1;var o,a=&quot;backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor&quot;,s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:&quot;hsla&quot;,parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},d={rgba:{props:{red:{idx:0,type:&quot;byte&quot;},green:{idx:1,type:&quot;byte&quot;},blue:{idx:2,type:&quot;byte&quot;}}},hsla:{props:{hue:{idx:0,type:&quot;degrees&quot;},saturation:{idx:1,type:&quot;percent&quot;},lightness:{idx:2,type:&quot;percent&quot;}}}},_={&quot;byte&quot;:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},g=u.support={},c=e(&quot;<P>&quot;)[0],h=e.each;c.style.cssText=&quot;background-color:rgba(1,1,1,.5)&quot;,g.rgba=c.style.backgroundColor.indexOf(&quot;rgba&quot;)&gt;-1,h(d,function(e,t){t.cache=&quot;_&quot;+e,t.props.alpha={idx:3,type:&quot;percent&quot;,def:1}}),u.fn=e.extend(u.prototype,{parse:function(r,a,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&amp;&amp;(r=e(r).css(a),a=t);var _=this,g=e.type(r),c=this._rgba=[];return a!==t&amp;&amp;(r=[r,a,s,l],g=&quot;array&quot;),&quot;string&quot;===g?this.parse(n(r)||o._default):&quot;array&quot;===g?(h(d.rgba.props,function(e,t){c[t.idx]=i(r[t.idx],t)}),this):&quot;object&quot;===g?(r instanceof u?h(d,function(e,t){r[t.cache]&amp;&amp;(_[t.cache]=r[t.cache].slice())}):h(d,function(t,n){var o=n.cache;h(n.props,function(e,t){if(!_[o]&amp;&amp;n.to){if(&quot;alpha&quot;===e||null==r[e])return;_[o]=n.to(_._rgba)}_[o][t.idx]=i(r[e],t,!0)}),_[o]&amp;&amp;e.inArray(null,_[o].slice(0,3))&lt;0&amp;&amp;(_[o][3]=1,n.from&amp;&amp;(_._rgba=n.from(_[o])))}),this):void 0},is:function(e){var t=u(e),i=!0,n=this;return h(d,function(e,r){var o,a=t[r.cache];return a&amp;&amp;(o=n[r.cache]||r.to&amp;&amp;r.to(n._rgba)||[],h(r.props,function(e,t){return null!=a[t.idx]?i=a[t.idx]===o[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return h(d,function(i,n){t[n.cache]&amp;&amp;e.push(i)}),e.pop()},transition:function(e,t){var n=u(e),r=n._space(),o=d[r],a=0===this.alpha()?u(&quot;transparent&quot;):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return n=n[o.cache],h(o.props,function(e,r){var o=r.idx,a=s[o],u=n[o],d=_[r.type]||{};null!==u&amp;&amp;(null===a?l[o]=u:(d.mod&amp;&amp;(u-a&gt;d.mod/2?a+=d.mod:a-u&gt;d.mod/2&amp;&amp;(a-=d.mod)),l[o]=i((u-a)*t+a,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=u(t)._rgba;return u(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t=&quot;rgba(&quot;,i=e.map(this._rgba,function(e,t){return null==e?t&gt;2?1:0:e});return 1===i[3]&amp;&amp;(i.pop(),t=&quot;rgb(&quot;),t+i.join()+&quot;)&quot;},toHslaString:function(){var t=&quot;hsla(&quot;,i=e.map(this.hsla(),function(e,t){return null==e&amp;&amp;(e=t&gt;2?1:0),t&amp;&amp;3&gt;t&amp;&amp;(e=Math.round(100*e)+&quot;%&quot;),e});return 1===i[3]&amp;&amp;(i.pop(),t=&quot;hsl(&quot;),t+i.join()+&quot;)&quot;},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&amp;&amp;i.push(~~(255*n)),&quot;#&quot;+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?&quot;0&quot;+e:e}).join(&quot;&quot;)},toString:function(){return 0===this._rgba[3]?&quot;transparent&quot;:this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(n,r,o),l=Math.min(n,r,o),u=s-l,d=s+l,_=.5*d;return t=l===s?0:n===s?60*(r-o)/u+360:r===s?60*(o-n)/u+120:60*(n-r)/u+240,i=0===u?0:.5&gt;=_?u/d:u/(2-d),[Math.round(t)%360,i,_,null==a?1:a]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],a=.5&gt;=n?n*(1+i):n+i-n*i,s=2*n-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},h(d,function(n,r){var o=r.props,a=r.cache,l=r.to,d=r.from;u.fn[n]=function(n){if(l&amp;&amp;!this[a]&amp;&amp;(this[a]=l(this._rgba)),n===t)return this[a].slice();var r,s=e.type(n),_=&quot;array&quot;===s||&quot;object&quot;===s?n:arguments,g=this[a].slice();return h(o,function(e,t){var n=_[&quot;object&quot;===s?e:t.idx];null==n&amp;&amp;(n=g[t.idx]),g[t.idx]=i(n,t)}),d?(r=u(d(g)),r[a]=g,r):u(g)},h(o,function(t,i){u.fn[t]||(u.fn[t]=function(r){var o,a=e.type(r),l=&quot;alpha&quot;===t?this._hsla?&quot;hsla&quot;:&quot;rgba&quot;:n,u=this[l](),d=u[i.idx];return&quot;undefined&quot;===a?d:(&quot;function&quot;===a&amp;&amp;(r=r.call(this,d),a=e.type(r)),null==r&amp;&amp;i.empty?this:(&quot;string&quot;===a&amp;&amp;(o=s.exec(r),o&amp;&amp;(r=d+parseFloat(o[2])*(&quot;+&quot;===o[1]?1:-1))),u[i.idx]=r,this[l](u)))})})}),u.hook=function(t){var i=t.split(&quot; &quot;);h(i,function(t,i){e.cssHooks[i]={set:function(t,r){var o,a,s=&quot;&quot;;if(&quot;transparent&quot;!==r&amp;&amp;(&quot;string&quot;!==e.type(r)||(o=n(r)))){if(r=u(o||r),!g.rgba&amp;&amp;1!==r._rgba[3]){for(a=&quot;backgroundColor&quot;===i?t.parentNode:t;(&quot;&quot;===s||&quot;transparent&quot;===s)&amp;&amp;a&amp;&amp;a.style;)try{s=e.css(a,&quot;backgroundColor&quot;),a=a.parentNode}catch(l){}r=r.blend(s&amp;&amp;&quot;transparent&quot;!==s?s:&quot;_default&quot;)}r=r.toRgbaString()}try{t.style[i]=r}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=u(t.elem,i),t.end=u(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return h([&quot;Top&quot;,&quot;Right&quot;,&quot;Bottom&quot;,&quot;Left&quot;],function(i,n){t[&quot;border&quot;+n+&quot;Color&quot;]=e}),t}},o=e.Color.names={aqua:&quot;#00ffff&quot;,black:&quot;#000000&quot;,blue:&quot;#0000ff&quot;,fuchsia:&quot;#ff00ff&quot;,gray:&quot;#808080&quot;,green:&quot;#008000&quot;,lime:&quot;#00ff00&quot;,maroon:&quot;#800000&quot;,navy:&quot;#000080&quot;,olive:&quot;#808000&quot;,purple:&quot;#800080&quot;,red:&quot;#ff0000&quot;,silver:&quot;#c0c0c0&quot;,teal:&quot;#008080&quot;,white:&quot;#ffffff&quot;,yellow:&quot;#ffff00&quot;,transparent:[null,null,null,0],_default:&quot;#ffffff&quot;}}(jQuery),!function(e){function t(){try{var i=this===document?e(this):e(this).contents()}catch(n){return!1}i.mousemove(function(t){e.mlp={x:t.pageX,y:t.pageY}}),i.find(&quot;iframe&quot;).on(&quot;load&quot;,t)}e.mlp={x:0,y:0},e(t),e.fn.ismouseover=function(){var t=!1;return this.eq(0).each(function(){var i=e(this).is(&quot;iframe&quot;)?e(this).contents().find(&quot;body&quot;):e(this),n=i.offset();t=n.left&lt;=e.mlp.x&amp;&amp;n.left+i.outerWidth()&gt;e.mlp.x&amp;&amp;n.top&lt;=e.mlp.y&amp;&amp;n.top+i.outerHeight()&gt;e.mlp.y}),t}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(e){var t=jQuery(this),i=&quot;#&quot;+t.attr(&quot;id&quot;);if(!e)var e={};var n=new UniteGalleryMain;n.run(i,e);var r=new UG_API(n);return r};</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>