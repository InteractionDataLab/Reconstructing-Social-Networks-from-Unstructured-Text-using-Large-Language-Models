<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_William_and_Mary_Outreach_DB_scripts_tabletop skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:William and Mary/Outreach DB/scripts/tabletop</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>!function(){&quot;use strict&quot;;var e=!1;if(&quot;undefined&quot;!=typeof process&amp;&amp;!process.browser){e=!0;var t=require(&quot;request&quot;.trim())}var s=!1,i=!1;try{var n=new XMLHttpRequest;&quot;undefined&quot;!=typeof n.withCredentials?s=!0:&quot;XDomainRequest&quot;in window&amp;&amp;(s=!0,i=!0)}catch(e){}var o=Array.prototype.indexOf,a=function(e,t){var s=0,i=e.length;if(o&amp;&amp;e.indexOf===o)return e.indexOf(t);for(;s&lt;i;s++)if(e[s]===t)return s;return-1},h=function(t){return this&amp;&amp;this instanceof h?(&quot;string&quot;==typeof t&amp;&amp;(t={key:t}),this.callback=t.callback,this.wanted=t.wanted||[],this.key=t.key,this.simpleSheet=!!t.simpleSheet,this.parseNumbers=!!t.parseNumbers,this.wait=!!t.wait,this.reverse=!!t.reverse,this.postProcess=t.postProcess,this.debug=!!t.debug,this.query=t.query||&quot;&quot;,this.orderby=t.orderby,this.endpoint=t.endpoint||&quot;<A rel="nofollow" class="external free" href="https://spreadsheets.google.com">https://spreadsheets.google.com</A>&quot;,this.singleton=!!t.singleton,this.simpleUrl=!(!t.simpleUrl&amp;&amp;!t.simple_url),this.callbackContext=t.callbackContext,this.prettyColumnNames=&quot;undefined&quot;==typeof t.prettyColumnNames?!t.proxy:t.prettyColumnNames,&quot;undefined&quot;!=typeof t.proxy&amp;&amp;(this.endpoint=t.proxy.replace(/\/$/,&quot;&quot;),this.simpleUrl=!0,this.singleton=!0,s=!1),this.parameterize=t.parameterize||!1,this.singleton&amp;&amp;(&quot;undefined&quot;!=typeof h.singleton&amp;&amp;this.log(&quot;WARNING! Tabletop singleton already defined&quot;),h.singleton=this),/key=/.test(this.key)&amp;&amp;(this.log(&quot;You passed an old Google Docs url as the key! Attempting to parse.&quot;),this.key=this.key.match(&quot;key=(.*?)(&amp;|#|$)&quot;)[1]),/pubhtml/.test(this.key)&amp;&amp;(this.log(&quot;You passed a new Google Spreadsheets url as the key! Attempting to parse.&quot;),this.key=this.key.match(&quot;d\\/(.*?)\\/pubhtml&quot;)[1]),/spreadsheets\/d/.test(this.key)&amp;&amp;(this.log(&quot;You passed the most recent version of Google Spreadsheets url as the key! Attempting to parse.&quot;),this.key=this.key.match(&quot;d\\/(.*?)/&quot;)[1]),this.key?(this.log(&quot;Initializing with key &quot;+this.key),this.models={},this.modelNames=[],this.model_names=this.modelNames,this.baseJsonPath=&quot;/feeds/worksheets/&quot;+this.key+&quot;/public/basic?alt=&quot;,e||s?this.baseJsonPath+=&quot;json&quot;:this.baseJsonPath+=&quot;json-in-script&quot;,void(this.wait||this.fetch())):void this.log(&quot;You need to pass Tabletop a key!&quot;)):new h(t)};h.callbacks={},h.init=function(e){return new h(e)},h.sheets=function(){this.log(&quot;Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)&quot;)},h.prototype={fetch:function(e){&quot;undefined&quot;!=typeof e&amp;&amp;(this.callback=e),this.requestData(this.baseJsonPath,this.loadSheets)},requestData:function(t,n){if(this.log(&quot;Requesting&quot;,t),e)this.serverSideFetch(t,n);else{var o=this.endpoint.split(&quot;//&quot;).shift()||&quot;http&quot;;!s||i&amp;&amp;o!==location.protocol?this.injectScript(t,n):this.xhrFetch(t,n)}},xhrFetch:function(e,t){var s=i?new XDomainRequest:new XMLHttpRequest;s.open(&quot;GET&quot;,this.endpoint+e);var n=this;s.onload=function(){var e;try{e=JSON.parse(s.responseText)}catch(e){console.error(e)}t.call(n,e)},s.send()},injectScript:function(e,t){var s,i=document.createElement(&quot;script&quot;);if(this.singleton)t===this.loadSheets?s=&quot;Tabletop.singleton.loadSheets&quot;:t===this.loadSheet&amp;&amp;(s=&quot;Tabletop.singleton.loadSheet&quot;);else{var n=this;s=&quot;tt&quot;+ +new Date+Math.floor(1e5*Math.random()),h.callbacks[s]=function(){var e=Array.prototype.slice.call(arguments,0);t.apply(n,e),i.parentNode.removeChild(i),delete h.callbacks[s]},s=&quot;Tabletop.callbacks.&quot;+s}var o=e+&quot;&amp;callback=&quot;+s;this.simpleUrl?e.indexOf(&quot;/list/&quot;)!==-1?i.src=this.endpoint+&quot;/&quot;+this.key+&quot;-&quot;+e.split(&quot;/&quot;)[4]:i.src=this.endpoint+&quot;/&quot;+this.key:i.src=this.endpoint+o,this.parameterize&amp;&amp;(i.src=this.parameterize+encodeURIComponent(i.src)),this.log(&quot;Injecting&quot;,i.src),document.getElementsByTagName(&quot;script&quot;)[0].parentNode.appendChild(i)},serverSideFetch:function(e,s){var i=this;this.log(&quot;Fetching&quot;,this.endpoint+e),t({url:this.endpoint+e,json:!0},function(e,t,n){return e?console.error(e):void s.call(i,n)})},isWanted:function(e){return 0===this.wanted.length||a(this.wanted,e)!==-1},data:function(){if(0!==this.modelNames.length)return this.simpleSheet?(this.modelNames.length&gt;1&amp;&amp;this.debug&amp;&amp;this.log(&quot;WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong.&quot;),this.models[this.modelNames[0]].all()):this.models},addWanted:function(e){a(this.wanted,e)===-1&amp;&amp;this.wanted.push(e)},loadSheets:function(t){var i,n,o=[];for(this.googleSheetName=t.feed.title.$t,this.foundSheetNames=[],i=0,n=t.feed.entry.length;i&lt;n;i++)if(this.foundSheetNames.push(t.feed.entry[i].title.$t),this.isWanted(t.feed.entry[i].content.$t)){var a=t.feed.entry[i].link.length-1,h=t.feed.entry[i].link[a].href.split(&quot;/&quot;).pop(),l=&quot;/feeds/list/&quot;+this.key+&quot;/&quot;+h+&quot;/public/values?alt=&quot;;l+=e||s?&quot;json&quot;:&quot;json-in-script&quot;,this.query&amp;&amp;(l+=&quot;&amp;tq=&quot;+this.query),this.orderby&amp;&amp;(l+=&quot;&amp;orderby=column:&quot;+this.orderby.toLowerCase()),this.reverse&amp;&amp;(l+=&quot;&amp;reverse=true&quot;),o.push(l)}for(this.sheetsToLoad=o.length,i=0,n=o.length;i&lt;n;i++)this.requestData(o[i],this.loadSheet)},sheets:function(e){return&quot;undefined&quot;==typeof e?this.models:&quot;undefined&quot;==typeof this.models[e]?void 0:this.models[e]},sheetReady:function(e){this.models[e.name]=e,a(this.modelNames,e.name)===-1&amp;&amp;this.modelNames.push(e.name),this.sheetsToLoad--,0===this.sheetsToLoad&amp;&amp;this.doCallback()},loadSheet:function(e){var t=this;new h.Model({data:e,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this,prettyColumnNames:this.prettyColumnNames,onReady:function(){t.sheetReady(this)}})},doCallback:function(){0===this.sheetsToLoad&amp;&amp;this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&amp;&amp;&quot;undefined&quot;!=typeof console&amp;&amp;&quot;undefined&quot;!=typeof console.log&amp;&amp;Function.prototype.apply.apply(console.log,[console,arguments])}},h.Model=function(e){var t,s,i,n;if(this.columnNames=[],this.column_names=this.columnNames,this.name=e.data.feed.title.$t,this.tabletop=e.tabletop,this.elements=[],this.onReady=e.onReady,this.raw=e.data,&quot;undefined&quot;==typeof e.data.feed.entry)return e.tabletop.log(&quot;Missing data for &quot;+this.name+&quot;, make sure you didn't forget column headers&quot;),this.originalColumns=[],this.elements=[],void this.onReady.call(this);for(var o in e.data.feed.entry[0])/^gsx/.test(o)&amp;&amp;this.columnNames.push(o.replace(&quot;gsx$&quot;,&quot;&quot;));for(this.originalColumns=this.columnNames,this.original_columns=this.originalColumns,t=0,i=e.data.feed.entry.length;t&lt;i;t++){var a=e.data.feed.entry[t],h={};for(s=0,n=this.columnNames.length;s&lt;n;s++){var l=a[&quot;gsx$&quot;+this.columnNames[s]];&quot;undefined&quot;!=typeof l?e.parseNumbers&amp;&amp;&quot;&quot;!==l.$t&amp;&amp;!isNaN(l.$t)?h[this.columnNames[s]]=+l.$t:h[this.columnNames[s]]=l.$t:h[this.columnNames[s]]=&quot;&quot;}void 0===h.rowNumber&amp;&amp;(h.rowNumber=t+1),e.postProcess&amp;&amp;e.postProcess(h),this.elements.push(h)}e.prettyColumnNames?this.fetchPrettyColumns():this.onReady.call(this)},h.Model.prototype={all:function(){return this.elements},fetchPrettyColumns:function(){if(!this.raw.feed.link[3])return this.ready();var e=this.raw.feed.link[3].href.replace(&quot;/feeds/list/&quot;,&quot;/feeds/cells/&quot;).replace(&quot;<A rel="nofollow" class="external free" href="https://spreadsheets.google.com">https://spreadsheets.google.com</A>&quot;,&quot;&quot;),t=this;this.tabletop.requestData(e,function(e){t.loadPrettyColumns(e)})},ready:function(){this.onReady.call(this)},loadPrettyColumns:function(e){for(var t={},s=this.columnNames,i=0,n=s.length;i&lt;n;i++)&quot;undefined&quot;!=typeof e.feed.entry[i].content.$t?t[s[i]]=e.feed.entry[i].content.$t:t[s[i]]=s[i];this.prettyColumns=t,this.pretty_columns=this.prettyColumns,this.prettifyElements(),this.ready()},prettifyElements:function(){var e,t,s,i,n=[],o=[];for(t=0,i=this.columnNames.length;t&lt;i;t++)o.push(this.prettyColumns[this.columnNames[t]]);for(e=0,s=this.elements.length;e&lt;s;e++){var a={};for(t=0,i=this.columnNames.length;t&lt;i;t++){var h=this.prettyColumns[this.columnNames[t]];a[h]=this.elements[e][this.columnNames[t]]}n.push(a)}this.elements=n,this.columnNames=o},toArray:function(){var e,t,s,i,n=[];for(e=0,s=this.elements.length;e&lt;s;e++){var o=[];for(t=0,i=this.columnNames.length;t&lt;i;t++)o.push(this.elements[e][this.columnNames[t]]);n.push(o)}return n}},&quot;undefined&quot;!=typeof module&amp;&amp;module.exports?module.exports=h:&quot;function&quot;==typeof define&amp;&amp;define.amd?define(function(){return h}):window.Tabletop=h}();
//# sourceMappingURL=tabletop.min.js.map
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>