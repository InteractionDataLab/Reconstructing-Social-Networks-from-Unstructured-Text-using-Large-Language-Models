Team:Valencia UPV/Hardware
TEAM
Team
Attributions
PROJECT
Description
Results
Applied Design
Collaborations
Achievements
Safety
WET LAB
Biological Design
Experiments
Protocols
Notebook
Contribution
PlantSynBio
Parts
DRY LAB
Modeling
Software
Hardware
Graphic Design
HUMAN PRACTICES
Outreach
Integrated and gold
Home • Dry Lab •
HARDWARE
PDF
INDEX
Introduction
Production Plant
Design Considerations
Chatterbox
Structure
Main Control Board
Software
Climatic Control
Plant-Human Communication Interface
Future Lines
Bibliography
INTRODUCTION
Starting with the prototype of a Personal Food Computer from the Open Agriculture initiative and with our goal of stretching this concept to the SynBio community, Valencia UPV iGEM came to the idea of ChatterBox, a modular, open-source and scalable device.
Control over climatic and growing conditions is the first part of this hardware. The growing chamber is able to regulate temperature, humidity and illumination. Adding to this, a NFT hydroponic system is used to manage irrigation, oxygenation and crop nutrition. Secondly human interaction is achieved thanks to our “Optogenetic” lamps, equipped with two wavelengths. On the other hand, plant’s phenotypic expression is detected with the camera and a recognition software. Thus bidirectional communication is allowed. Through ChatterApp and the coupling of an Arduino and a Raspberry, we are able to control the systems mentioned above.
All and all, our device provides ChatterPlant with a solution to improve agriculture sustainability by implementing SynBio technology.
PRODUCTION PLANT
The ChatterBox is a device with many parts that are non-commercial, therefore our hardware team had to design many items and repurpose others.
During the construction of this prototype different tools were used. For the main structure a circular saw, electric drill and table saw were used to process the aluminum profiles and insulation sheets. In the case of electronics, a multimeter and a soldering iron were mandatory.
Most of the large items were manufactured in the Fine arts workshop and it could not have been done without the help of the design team.
DESIGN CONSIDERATIONS
The ChatterBox’s layout was under many constraints during its design, such as the fact that it had to be delivered from Valencia to Spain. These facts make up the reason for which the hardware was restricted to size it has, perhaps a larger size could have been more useful and real.
An important fact about this project is that Valencia UPV iGEM is a team based in Spain (Europe) were we use 50 Hz, AC 220 V power, so some specific components may not work in your country. Moreover, all the measurements that follow this text have been done using the Metric System and European codes.
The Chatterbox is a high humidity ambient with liquid water flowing, this represents a challenge in terms of security. Our goal was to keep the system as watertight and secure as possible, to achieve this we used different approaches.
The led illumination was chosen with an IP65 protection level, meaning that it can withstand direct water flow
In the case of the electrical connections heat shrinking tubes were used.
The most sensitive equipment was the optogenetic lamps which were protected with epoxy resin and a box.
Cable width was picked taking into account the maximum current and specific regulations.
CHATTER BOX
A necessity in the SynBio world was found at the beginning of ChatterPlant, a Phytotron capable of exploiting Optogenetic systems and biologic sensors did not exist. Therefore, we came to the idea of the ChatterBox and autonomous systems with ability of controlling plant’s growth with cutting edge technologies in the agro alimentary and engineering field. Different systems have been combined but all of them help to deliver a more sustainable way of growing food.
STRUCTURE
Framework
First step is cutting the profiles, a metal saw was used to have the lengths needed and a metal file was necessary to obtain a better finish. An important tip is to drill the holes before mounting the structure to avoid problems later. Assembly of this part is a piece of cake, just introduce the protruding part of the polyamide connectors inside the aluminum profiles.
Aluminum structure.pdf
Aluminum_information.zip
External parts
For the Growing space we used 3 mm sheets of rigid polystyrene maintaining the internal growing conditions. The electrical space was covered with 3 mm methacrylate sheets to protect the internal parts from external dangers. Finally, PVC sheets made up the base and the separation between the electrical space and the growing chamber.
MAIN CONTROL BOARD
The ChatterBox requires a PCB board to connect all the sensors and control systems (mosfets and relays). Having this in mind Valencia UPV designed a board as compact as possible were every component could fit.
First step is to solder all the parts to the Prototyping board (Mosfets and resistors). Then drill holes on the board to fix all the other non-soldered items and put the bolts and nuts.
In the ChatterBox humidity was increased with a Nebulizer that worked with 24 DC volts, so a boost converter (6) was needed. The first step is to solder the input connections from the power source. Then with a multimeter measure the output voltage. After that, rotate the potentiometer to increase or decrease the voltage. Everything will be set when the output is 24. Finally, solder the output signals to the Mosfet for humidity control.
SOFTWARE
In order to connect the ChatterBox to the user, a human - machine interface was developed, this opens the communication between both agents. Having this is possible to monitorize the inner environment of the device and control it to obtain the desired conditions.
Firstly the Arduino Mega 2560 works as a controller, the firmware connects in low level to all the electronics systems that are built-in in the ChatterBox. The Arduino is in charge of performing the temperature control, humidity, illumination, pH, water pump and works as an interface for the camera.
Secondly the Raspberry Pi 3, a single board computer connected to the Arduino via an usb cable. A web service based on the REST architecture (Representational State Transfer) was deployed, with this a wireless communication is open, to use this channel two requirements: an internet connection and pair formed by an id and a password that are provided on the ChatterBox. Also the image processing for the detection system is performed on the Raspberry, this way it is detached from the Arduino so it doesn’t interrupt the control and monitoring routine and we don't overload the end system receiving it. During the image processing it is identified whether if there is a significant change on the leaf color or not. The training was performed by analyzing multiples images from our collection of experiments. The image processing could be trained following the same methodology to identify any other color scheme. The output of this routine is a constructed image highlighting the points of interest from the original one. As well if any of the parameters monitored on the ChatterBox is outside the functional margin, an automated warning message is sent to the owner. As this is a key piece and opens a gate to the world has been strongly secured to avoid any possible undesired interaction
Last for the purpose of consuming the web service for the early adopters a mobile app is the next step to be taken, with it the owner of the ChatterBox could have complete control over it, activating the genetic c by just downloading it and entering the service id and password. A mockup is presented on how the app and workflow should be.
The different tools and environment were carefully selected, the arduino works best when dealing with low level interactions of machinery and routine control. The raspberry has the potential of managing many ChatterBoxes Arduino’s for a industrial level. Furthermore the mobile app is planned for the early stages for an industrial environment a desktop control panel is more adecuated.
CLIMATIC CONTROL
Being able to keep the system as controlled as possible is key to increase the plant’s performance. Here we define all the parts that were design and how to use them.
Power source and electric connections.
For our project we used to separate 12 Volt power sources. The main reason for this was the relatively high power consumption of the refrigeration system. Also with this setup, in case of failure of one power source, we would have the ability to switch on main emergency components.
In the case of the power source a cable with type F plug and monophasic with ground cable was used. Since we are working with high AC voltage this is the most dangerous part of the hardware. Be sure to perform the connections without the power cords connected to the socket and never forget the grounding connections. Furthermore for the 12 Volt connections a cable with 1.5 mm2 was chosen.
Humidity and temperature.
The sensor chosen to have information about Humidity and Temperature was the XSOURCE DHT22 Temperature and Humidity Sensor Module for Arduino. This sensor from the Adafruit company has an Arduino library which we used in our Arduino control code.
nnections to the Arduino MEGA 2560 are:
In order to keep a proper temperature in the ChatterBox we used a Purswave 12 V, 120 W                   refrigeration unit controlled with a Relay.
This unit has all the components necessary for a refrigeration system. It includes: Compressor,                   evaporator, expansion valve and condenser. Also, it includes fans to direct air and promote higher                   transmission of heat.
A test was performed to study the response of the refrigeration system with the Arduino code and a set                   temperature of 20 ºC (68º F). We decided to build a polystyrene box with a similar volume to our growing chamber and install                   the refrigeration unit next to it.
The test conditions were:
External temperature: 27 ºC.
Sensing time: 2s.
Reference T: 20 ºC
Test time: 14 min.
The other part of this segment involves the humidifier. It was designed to work with 24V Nebulizer and a 12 V blower.
Hydroponics.
In order to obtain high production and quality in the crop and to obtain control over the plant                   growth, Chatterbox uses a hydroponic system with a Nutrient Film Technique (NFT) where the basic                   principle is the continuous or intermittent circulation of a thin layer of nutrient solution through the roots,                   which passes through a series of PVC channels.
The solution is collected and accumulated in a tank through a pump that allows the circulation of                   the nutrient solution into the crop channels. This recirculation keeps the roots in permanent contact with                   the nutrient solution, favoring the oxygenation of the roots and a correct supply of mineral nutrients for                   the development of the plants.
The water pump will be submerged inside the tank from where it will carry the water to the channels through a network of primary and secondary pipes. The characteristics of the water pump are: Max. flow: 240 l/h; Max. head: 3 m; Power: 4,5 W
The NFT System consists of a tank and two PVC channels of 3 pots each, in which we introduce                      the substrate for the growth and development o
The chosen substrate is perlite, a material that stands out for a high porosity, low cationexchange                      capacity, high durability and no microbial activity.
To maintain an adequate amount of oxygen in the tank, the prototype is equipped with an                      oxygen pump (aquarium pump). Although the design of the NFT system facilitates the reoxygenation of the water, it is necessary to place it to avoid stagnant water and to prevent nutrient accumulation in the bottom of the tank. The characteristics of the oxygen pump are: Voltage: 220-240V; Adequate water depth: 50 cm / 19.68 "; Power: 2.5 W / 3W (Optional). Air outlet: 1 (2.5 W); 2 (3W); Out of oxygen: 1.8 l / min (2.5 W); 2l / min (3W)
Illumination.
Illumination inside the ChatterBox was obtained with a 720 lumen white LED strip. We prepared 8                   strips of 60 cm each. They were soldered to each other and attached to a 5 mm PVC sheet which was                   mounted to the structure via two methacrylate angles.
PLANT-HUMAN COMMUNICATION INFTERFACE
Camera
In order to detect the color change in the leaves we used an Arducam mini camera OV5642 connected to our Arduino 2560. The connexions to the Arduino 2560 are: CS (pin 7), MOSI (pin 51), MISO (pin 50), SCK (pin 52), GND, VCC, SDA, SCL.
We used 1 m length Arduino male-female jumpers to connect the camera.
As we can see in the image below the recognition software con detect the color change in the leaves. Giving us, in this case, a positive for probable infection.
Optogenetic lamps.
In order to activate and deactivate the genetic circuit special lamps were built. Our team was able to                   condense the prototype into one single design that through a Mosfet and a relay was capable of controlling the plant’s floration..
To activate the Optogenetic circuit we used 660 nm LEDs with 27 mA and a forward voltage of 1,7 V                   controlled through a Mosfet. To turn it off, high power 740 nm far red LEDs connected to a constant current source have been used. They have a maximum forward voltage of 2.75 V and work with an intensity of 350 mA.
3D Printed supports
3d_support.zip
FUTURE LINES
We have reached the end part of this Hardware wiki and here we will explain the objectives that                   our device should aim to in the future.
Moving camera. While building the ChatterBox we realized that this feature could be key in reducing costs per controlled plant. Research was done and using a technology similar to 3D printers the camera could have autonomous movement enabling higher analyzed surface per device.
Ethanol spray. The color detection part in the ChatterBox has an AND gate installed. It is meant to work with hormones and as a team we realized that this system was not viable outside of a laboratory. Having this mind, we propose that this circuit could be implemented with an ethanol spray. This alcohol can be used as an activator for that circuit.
BIBLIOGRAPHY
E. Castelló Ferrer, J. Rye, G. Brander, T. Savas, D. Chambers, H. England, and C. Harper. Personal Food Computer: A new device for controlled-environment agriculture. Preprint https://arxiv.org/abs/1706.05104
Valencia UPV iGEM Team
