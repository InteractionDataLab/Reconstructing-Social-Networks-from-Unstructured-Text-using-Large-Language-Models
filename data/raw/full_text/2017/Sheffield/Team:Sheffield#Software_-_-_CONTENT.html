<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Sheffield_Software skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Sheffield/Software</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><DIV class="navbar-header"><A class="navbar-brand" href="https://2017.igem.org/Team:Sheffield">SHEFFIELD</A></DIV><DIV class="collapse navbar-collapse" id="myNavbar"><UL class="nav navbar-nav navbar-right"><LI class="dropdown"><A class="dropdown-toggle active" data-toggle="dropdown" href="https://2017.igem.org/Team:Sheffield/Description">PROJECT</A></LI><LI><A href="https://2017.igem.org/Team:Sheffield/Description">INTRODUCTION</A></LI><LI><A href="https://2017.igem.org/Team:Sheffield/Hardware">HARDWARE</A></LI><LI><A href="https://2017.igem.org/Team:Sheffield/Software">SOFTWARE</A></LI><LI><A href="https://2017.igem.org/Team:Sheffield/Model">MODELLING</A></LI><LI><A href="https://2017.igem.org/Team:Sheffield/Demonstrate">DEMONSTRATE</A></LI></UL><LI><A class="dropdown-toggle active" href="https://2017.igem.org/Team:Sheffield/Human_Practices">HUMAN PRACTICES</A></LI><LI><A class="dropdown-toggle active" href="https://2017.igem.org/Team:Sheffield/Team">TEAM</A></LI><LI><A class="dropdown-toggle active" href="https://2017.igem.org/Team:Sheffield/Notebook">NOTEBOOK</A></LI><LI><A class="dropdown-toggle active" href="https://2017.igem.org/Team:Sheffield/JUDGING">JUDGING</A></LI></DIV></DIV><DIV class="container-fluid" style=""><DIV class="row"><DIV class="col-md-10"><DIV class="row"><P class="page_head">Software</P></DIV><DIV class="row"><H1 align="center" id="dataColl">Data Collection</H1><H3>Signal types:</H3><P align="center">Electronic sensing circuits typically contain two types of signals, analogue and digital.
Digital signals are discrete signals that can be in one of two states, high or low, 1 or 0, on or off. If the signal is 'high' it will have a set voltage greater than the off state, for our purposes the high voltage is 3.3V and the low voltage is 0V or ground. When we process this signal we just need to be able to categorise the signal into these two approximate categories. The actual voltage is not particularly important.</P><P align="center">Analogue signals are continuous signals that are able to take on any value with a range (for our purposes that range is between 0 and 3.3V). When these signals had been processed, they were categorised into 1 of 1024 boxes.</P><P align="center">A potential divider is used in order to assess the amount of light hitting the diode. This is done by connecting a digital 3.3V signal to one side of a photodiode in reverse bias with a 10K Ohm resistor in series and then grounding the other side (digital low state). The voltage across the resistor is then read as the diode will take a proportion of the voltage dependent on the light hitting it and then the rest is put across the resistor. This analogue signal can then be processed by the microcontroller and give us data on how much light has been scattered by the sample.</P><H3>Multiplexing:</H3><P align="center">Multiplexing is a networking technique that allows a single communication channel to be used instead of multiple communication channels. This means instead of wiring every individual diode to microcontroller, the number of wires required decreases dramatically by soldering them together into a grid. The data is then read from each diode (much in the same way as the LED array below) column by column and then row by row.</P><H4 align="center">Figure 1: A diagram showing how multiplexing works across the array</H4><P align="center">Below is a full circuit diagram of the sensor and multiplexing set-up:</P><H4 align="center">Figure 2: A circuit diagram showing how the photodiode array are connected in circuit with the multiplexers.</H4><P align="center">This is done using a separate analog and digital circuit. The digital circuit flicks through</P><H3>Smoothing:</H3><P align="center">Once the data had been retrieved from ThingSpeak and the results produced using Matlab, the application of a mathematical filter was considered to remove the noise. This resulted in the use of a sliding average filter to act as a basic low pass filter. It used 10 data points in each set to remove the smaller fluctuations. However, major spikes in the data are not counteracted by this effect due to having a large influence on the data set.</P></DIV><DIV class="row"><H1 align="center" id="cloud">ThingSpeak - Cloud Integration</H1><P align="center">Using a nodeMCU board further developed the device to send data in real-time to the ThingSpeak server by WiFi. This is a community database that allows anyone with a login to see public data but will allow only the user to edit their personal data. As the photodiodes produced the data from the growth in the wells, the board sent the data to the server, producing data points every 15 seconds. This allows less loss in information between readings. However, the frequency of data readings can be adjusted to the requirements of the users.</P><P align="center">Producing data and storing it in this manner enables the user to leave an experiment to run overnight, and be able to check the results in the morning with no data points missing. Typically when using a plate reader, the person conducting the experiment has to manually remove the well plate after each reading and place it back in the incubator. However, with the integration of the node board, our plate reader can sit in the incubator and deliver readings automatically. An alternative, when the incubator has no access to WiFi, is to use an Arduino for data storage and retrieve it the following morning. Both methods introduce the capability to allow measurements to be taken without anyone required in the lab out of hours.</P><P align="center">ThingSpeak (figure 3) is a mathworks product, allowing ease of transfer of the data to Matlab. After completing this stage, the results can be smoothed to remove noise and then used to identify growth within the wells.</P><H4 align="center">Figure 3: The above picture is the ThingSpeak homepage. This server can be found at: www.thingspeak.com</H4></DIV><DIV class="row"><H1 align="center" id="privacy">Privacy</H1><H3>Patient Confidentiality:</H3><P align="center">After speaking to hospital labs about the application of the device to rapid detection of AMR, the issue of patient confidentiality was raised, when sending critical patient data to the cloud. Various members of research ethics staff at the university aided in the decision that the best course of action was to design our own encryption software based on discrete mathematical models to ensure all data sent to the cloud did not compromise patient care. They also advised on best practices such as assigning patients anonymous identifier and then not sending information linking identifiers to their actual name through the same medium.</P><H3>Cellular Automata:</H3><P align="center">The software uses a discrete mathematical model (based on cellular automata) similar to conway's game of life to generate a string of pseudo random numbers. It uses a JPEG image as an input, then performs image processing to convert  it to a binary array and then performs the encryption algorithms on this data. This is then applied to data like a shift cypher and sent to the server. To decrypt the data the shift cypher is removed and the original data is obtained.</P><H4 align="center">Figure 4: This shows the encoding software that can be used to encode confidential paitent information.</H4></DIV></DIV><DIV class="col-md-2 contents-sidebar"><UL id="sidebar" class="nav nav-stacked" data-spy="affix"><LI><A href="#dataColl">Data Collection</A></LI><LI><A href="#signal">Signal Types</A></LI><LI><A href="#multiplexing">Multiplexing</A></LI><LI><A href="#smoothing">Smoothing</A></LI></UL><LI><A href="#cloud">ThingSpeak - Cloud Integration</A></LI><LI><A href="#privacy">Privacy</A></LI><LI><A href="#patientcon">Patient Confidentiality</A></LI><LI><A href="#cellauto">Cellular Automata</A></LI></DIV></DIV></DIV></DIV></DIV></DIV></DIV></BODY></HTML>