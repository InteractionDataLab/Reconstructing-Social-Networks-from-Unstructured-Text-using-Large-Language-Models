<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_IISc-Bangalore_Hardware_Design skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:IISc-Bangalore/Hardware/Design</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><DIV id="toc" class="toc"><DIV id="toctitle"><H2>Contents</H2></DIV><UL><LI class="toclevel-1"><A href="#Assembly_Instructions"><SPAN class="tocnumber">1</SPAN><SPAN class="toctext">Assembly Instructions</SPAN></A></LI><LI class="toclevel-2"><A href="#GCODe_Mini"><SPAN class="tocnumber">1.1</SPAN><SPAN class="toctext">GCODe Mini</SPAN></A></LI></UL><LI class="toclevel-1 tocsection-1"><A href="#Parts_list"><SPAN class="tocnumber">2</SPAN><SPAN class="toctext">Parts list</SPAN></A></LI><LI class="toclevel-1 tocsection-2"><A href="#Steps"><SPAN class="tocnumber">3</SPAN><SPAN class="toctext">Steps</SPAN></A></LI><LI class="toclevel-2 tocsection-3"><A href="#Get_the_code"><SPAN class="tocnumber">3.1</SPAN><SPAN class="toctext">Get the code</SPAN></A></LI><LI class="toclevel-2 tocsection-4"><A href="#Arduino_code_upload"><SPAN class="tocnumber">3.2</SPAN><SPAN class="toctext">Arduino code upload</SPAN></A></LI><LI class="toclevel-2 tocsection-5"><A href="#Assembly"><SPAN class="tocnumber">3.3</SPAN><SPAN class="toctext">Assembly</SPAN></A></LI><LI class="toclevel-2 tocsection-6"><A href="#Gain_Adjustment"><SPAN class="tocnumber">3.4</SPAN><SPAN class="toctext">Gain Adjustment</SPAN></A></LI><LI class="toclevel-2 tocsection-7"><A href="#Software"><SPAN class="tocnumber">3.5</SPAN><SPAN class="toctext">Software</SPAN></A></LI><LI class="toclevel-3 tocsection-8"><A href="#Get_your_Pushbullet_access_token"><SPAN class="tocnumber">3.5.1</SPAN><SPAN class="toctext">Get your Pushbullet access token</SPAN></A></LI><LI class="toclevel-3 tocsection-9"><A href="#Installation_on_Ubuntu"><SPAN class="tocnumber">3.5.2</SPAN><SPAN class="toctext">Installation on Ubuntu</SPAN></A></LI></DIV><H1><SPAN class="mw-headline" id="Assembly_Instructions">Assembly Instructions</SPAN></H1><H2><SPAN class="mw-headline" id="GCODe_Mini">GCODe Mini</SPAN></H2><H1><SPAN class="mw-headline" id="Parts_list">Parts list</SPAN></H1><TABLE border="1"><TBODY><TR><TD>Part
</TD><TD>Quantity
</TD><TD>Cost
</TD></TR><TR><TD>Black Acrylic (laser cut)
</TD><TD>2x1 feet
</TD><TD>5$
</TD></TR><TR><TD>GCODe Mini PCB
</TD><TD>1
</TD></TR><TR><TD>1cm corner bends
</TD><TD>8
</TD></TR><TR><TD>5mmx2cm bolts, nuts
</TD><TD>16
</TD></TR><TR><TD>3mmx1cm bolts, nuts
</TD><TD>12
</TD></TR><TR><TD>3mm washers
</TD><TD>10
</TD></TR><TR><TD>Red, Black single-strand wire
</TD><TD>20cm each
</TD></TR><TR><TD>HUDZ 5V Buzzer
</TD><TD>1
</TD></TR><TR><TD>47E resistor
</TD><TD>1
</TD></TR><TR><TD>1k resistor
</TD><TD>2
</TD></TR><TR><TD>3.3k resistor
</TD><TD>1
</TD></TR><TR><TD>10k resistor
</TD><TD>2
</TD></TR><TR><TD>100k resistor
</TD><TD>1
</TD></TR><TR><TD>1 uF electrolytic capacitor
</TD><TD>1
</TD></TR><TR><TD>3/8&quot; square staggered lead variable resistor: 10k
</TD><TD>1
</TD></TR><TR><TD><P>0.1” side-entry screw terminal block: 2-pin
</P></TD><TD><P>4
</P></TD></TR><TR><TD><P>5mm red LED
</P></TD><TD><P>1
</P></TD></TR><TR><TD>BPW34 photodiode
</TD><TD><P>1
</P></TD></TR><TR><TD><P>Male pin headers
</P></TD><TD>32
</TD></TR><TR><TD><P>Arduino Uno
</P></TD><TD><P>1
</P></TD></TR><TR><TD><P>1.5m USB B cable
</P></TD><TD><P>1
</P></TD></TR></TBODY></TABLE><P>You’ll also need two flat-tip screwdrivers (5mm and 2mm long tips), some pliers, a soldering iron, and some solder flux.
</P><H1><SPAN class="mw-headline" id="Steps">Steps</SPAN></H1><H2><SPAN class="mw-headline" id="Get_the_code">Get the code</SPAN></H2><P>Download and unzip this Google Drive folder: [<A rel="nofollow" class="external autonumber" href="https://drive.google.com/open?id=0B1wo-dUMehCUMnI1dGhmaGpSVzA">[1]</A>]
</P><P>
Protip: Hit “Download All” to get the whole folder at once
</P><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image19.png" class="new" title="File:Image19.png">image19.png</A></P><P>
We will call the folder to which you extract this as the “Code” folder.
</P><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image12.png" class="new" title="File:Image12.png">image12.png</A></P><H2><SPAN class="mw-headline" id="Arduino_code_upload">Arduino code upload</SPAN></H2><P>First, we’ll have to upload the code to the Arduino, because the PCB will damage the Arduino board1 if this is not done first.
</P><OL><LI> Obtain the Arduino IDE for your OS (Windows/Linux2)  from [<A rel="nofollow" class="external autonumber" href="https://www.arduino.cc/en/Main/Software">[2]</A>]. Don’t worry, it’s not scary like some other IDEs.</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image16.png" class="new" title="File:Image16.png">image16.png</A></P><OL><LI> Install it. (Mostly involves hitting next)</LI><LI> In your Code folder, open the GCODe_Mini_Setup.ino file in the folder of the same name.</LI><LI> Double-click it to open it in the Arduino IDE.</LI><LI> Connect the Arduino Uno to your PC using the USB cable.</LI><LI> Ensure that the device is selected under Tools-&gt;Port. If it hasn’t, just click on it to select it.</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image2.png" class="new" title="File:Image2.png">image2.png</A></P><OL><LI> Hit the upload button <A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image13.png" class="new" title="File:Image13.png">image13.png</A>.</LI><LI> When it’s done uploading, you can disconnect your Arduino.</LI></OL><H2><SPAN class="mw-headline" id="Assembly">Assembly</SPAN></H2><OL><LI> Break the PCB and solder the parts. Pay attention to the polarity of the LED and photodiode. It’s been marked out in the silk screen (white) and in copper (raised and kinda silvery)</LI><LI> Lay your parts out</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image3.jpg" class="new" title="File:Image3.jpg">image3.jpg</A></P><OL><LI> Attach the LED and photodiode PCBs here</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image14.jpg" class="new" title="File:Image14.jpg">image14.jpg</A></P><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image18.jpg" class="new" title="File:Image18.jpg">image18.jpg</A></P><P>
(don’t attach the wires yet - we will attach them at a later step)
</P><OL><LI> Attach 10 cm of wire to each terminal: red to + and black to -</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image5.jpg" class="new" title="File:Image5.jpg">image5.jpg</A></P><OL><LI> Attach the Arduino Uno to this piece using the 3mm nuts and bolts. If it doesn’t seem to align, try flipping the black plate around.</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image20.jpg" class="new" title="File:Image20.jpg">image20.jpg</A></P><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image9.jpg" class="new" title="File:Image9.jpg">image9.jpg</A></P><OL><LI> Attach the PCB to the Uno</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image6.jpg" class="new" title="File:Image6.jpg">image6.jpg</A></P><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image17.jpg" class="new" title="File:Image17.jpg">image17.jpg</A></P><OL><LI> Assemble the optical chamber</LI></OL><OL><LI> Connect the wires from the LED and photodiode to the screw terminals on the PCB marked “LED” and “PD” respectively, and make sure to get the polarity right here too. Red is + and black is -</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image10.jpg" class="new" title="File:Image10.jpg">image10.jpg</A></P><OL><LI> Attach the optical chamber to the faceplate with a hole (in this orientation). Then attach the test-tube holder plate to it. Finally attach one of the wider plates to the right, with L-bends.</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image8.jpg" class="new" title="File:Image8.jpg">image8.jpg</A></P><OL><LI> Attach the remaining faceplates</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image11.jpg" class="new" title="File:Image11.jpg">image11.jpg</A></P><OL><LI> Put the lid on, and your GCode Mini is complete!</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image15.jpg" class="new" title="File:Image15.jpg">image15.jpg</A></P><H2><SPAN class="mw-headline" id="Gain_Adjustment">Gain Adjustment</SPAN></H2><OL><LI> Make sure your GCODe is connected to your PC.</LI><LI> Open up the Arduino IDE</LI><LI> Open the serial plotter (Ctrl+Shift+L). You may have to set the port again (under Tools-&gt;Port)</LI><LI> Rotate the variable resistor (the blue cuboid on the PCB) using a screwdriver until your graph looks like this (yellow line should saturate at about 700).</LI></OL><UL><LI> If the wiggly line only stays above 900, you probably flipped the polarity on the photodiode.</LI><LI> If the wiggly line basically stays at 0, you have probably misconnected the photodiode wires.</LI><LI> If it doesn’t oscillate with the straight line, you have probably either flipped the polarity on the LED, or haven’t connected the wires properly.</LI></UL><OL><LI> When you’re done with the calibration above, open the GCODe_Mini_User_0.3.ino file in the folder of the same name</LI><LI> Hit the upload button <A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image13.png" class="new" title="File:Image13.png">image13.png</A></LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image22.png" class="new" title="File:Image22.png">image22.png</A></P><H2><SPAN class="mw-headline" id="Software">Software</SPAN></H2><H3><SPAN class="mw-headline" id="Get_your_Pushbullet_access_token">Get your Pushbullet access token</SPAN></H3><P>We use Pushbullet to send notifications to your device.
</P><OL><LI> Sign up for an account at [<A rel="nofollow" class="external autonumber" href="https://www.pushbullet.com/">[3]</A>].</LI><LI> We need a Pushbullet access token; so log in and go to [<A rel="nofollow" class="external autonumber" href="https://www.pushbullet.com/#settings/account">[4]</A>], and scroll down until you see:</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image7.png" class="new" title="File:Image7.png">image7.png</A></P><OL><LI> Hit “Create Access Token” and then copy the text in the black box somewhere.</LI></OL><H3><SPAN class="mw-headline" id="Installation_on_Ubuntu">Installation on Ubuntu</SPAN></H3><OL><LI> Open the Code folder, right click in a blank corner, and hit “Open in terminal” (Or you could navigate to that location using the terminal)</LI><LI> Run:</LI></OL><P>chmod u+x ./install_gcode_mini_ubuntu.sh
</P><P>
sudo -H ./install_gcode_mini_ubuntu.sh
</P><OL><LI> Connect the mini to the PC</LI><LI> Double-click the “GCODe Mini GUI Ubuntu” file</LI><LI> Paste the access token you obtained in the previous section and hit next:</LI></OL><P><A href="/wiki/index.php?title=Special:Upload&amp;wpDestFile=Image21.png" class="new" title="File:Image21.png">image21.png</A></P><OL><LI> Click on the device name in the device selection screen and hit next. It might take a while in the first run.</LI></OL><OL><LI> The internal 3.3v is connected directly to the AREF pin on the PCB. This is to minimise the influence of voltage fluctuations on the USB port - USB isn’t supposed to give clean 5V to anyone. We elected not to connect it in a “safe” manner because that could cause variations on the AREF, which will make the readings bad.</LI><LI> We haven’t tested our software on Mac yet. No reason why the hardware shouldn’t work though.</LI></OL></DIV></DIV></DIV></DIV></DIV></BODY></HTML>