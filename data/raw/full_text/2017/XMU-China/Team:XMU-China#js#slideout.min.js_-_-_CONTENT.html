<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_XMU-China_js_slideout_min_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:XMU-China/js/slideout.min.js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>! function (t) {
</P><PRE>   if (&quot;object&quot; == typeof exports &amp;&amp; &quot;undefined&quot; != typeof module) module.exports = t();
   else if (&quot;function&quot; == typeof define &amp;&amp; define.amd) define([], t);
   else {
       var e;
       &quot;undefined&quot; != typeof window ? e = window : &quot;undefined&quot; != typeof global ? e = global : &quot;undefined&quot; != typeof self &amp;&amp;
           (e = self), e.Slideout = t()
   }
</PRE><P>}(function () {
</P><PRE>   var t, e, n;
   return function i(t, e, n) {
       function o(s, a) {
           if (!e[s]) {
               if (!t[s]) {
                   var u = typeof require == &quot;function&quot; &amp;&amp; require;
                   if (!a &amp;&amp; u) return u(s, !0);
                   if (r) return r(s, !0);
                   var f = new Error(&quot;Cannot find module '&quot; + s + &quot;'&quot;);
                   throw f.code = &quot;MODULE_NOT_FOUND&quot;, f
               }
               var l = e[s] = {
                   exports: {}
               };
               t[s][0].call(l.exports, function (e) {
                   var n = t[s][1][e];
                   return o(n ? n : e)
               }, l, l.exports, i, t, e, n)
           }
           return e[s].exports
       }
       var r = typeof require == &quot;function&quot; &amp;&amp; require;
       for (var s = 0; s &lt; n.length; s++) o(n[s]);
       return o
   }({
       1: [function (t, e, n) {
               &quot;use strict&quot;;
               var i = t(&quot;decouple&quot;);
               var o = t(&quot;emitter&quot;);
               var r;
               var s = false;
               var a = window.document;
               var u = a.documentElement;
               var f = window.navigator.msPointerEnabled;
               var l = {
                   start: f ? &quot;MSPointerDown&quot; : &quot;touchstart&quot;,
                   move: f ? &quot;MSPointerMove&quot; : &quot;touchmove&quot;,
                   end: f ? &quot;MSPointerUp&quot; : &quot;touchend&quot;
               };
               var c = function _() {
                   var t = /^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/;
                   var e = a.getElementsByTagName(&quot;script&quot;)[0].style;
                   for (var n in e) {
                       if (t.test(n)) {
                           return &quot;-&quot; + n.match(t)[0].toLowerCase() + &quot;-&quot;
                       }
                   }
                   if (&quot;WebkitOpacity&quot; in e) {
                       return &quot;-webkit-&quot;
                   }
                   if (&quot;KhtmlOpacity&quot; in e) {
                       return &quot;-khtml-&quot;
                   }
                   return &quot;&quot;
               }();

               function p(t, e) {
                   for (var n in e) {
                       if (e[n]) {
                           t[n] = e[n]
                       }
                   }
                   return t
               }
               function h(t, e) {
                   t.prototype = p(t.prototype || {}, e.prototype)
               }
               function d(t) {
                   t = t || {};
                   this._startOffsetX = 0;
                   this._currentOffsetX = 0;
                   this._opening = false;
                   this._moved = false;
                   this._opened = false;
                   this._preventOpen = false;
                   this._touch = t.touch === undefined ? true : t.touch &amp;&amp; true;
                   this.panel = t.panel;
                   this.menu = t.menu;
                   this.panel.className += &quot; slideout-panel&quot;;
                   this.menu.className += &quot; slideout-menu&quot;;
                   this._fx = t.fx || &quot;ease&quot;;
                   this._duration = parseInt(t.duration, 10) || 300;
                   this._tolerance = parseInt(t.tolerance, 10) || 70;
                   this._padding = this._translateTo = parseInt(t.padding, 10) || 256;
                   this._orientation = t.side === &quot;right&quot; ? -1 : 1;
                   this._translateTo *= this._orientation;
                   if (this._touch) {
                       this._initTouchEvents()
                   }
               }
               h(d, o);
               d.prototype.open = function () {
                   var t = this;
                   this.emit(&quot;beforeopen&quot;);
                   if (u.className.search(&quot;slideout-open&quot;) === -1) {
                       u.className += &quot; slideout-open&quot;
                   }
                   this._setTransition();
                   this._translateXTo(this._translateTo);
                   this._opened = true;
                   setTimeout(function () {
                       t.panel.style.transition = t.panel.style[&quot;-webkit-transition&quot;] = &quot;&quot;;
                       t.emit(&quot;open&quot;)
                   }, this._duration + 50);
                   return this
               };
               d.prototype.close = function () {
                   var t = this;
                   if (!this.isOpen() &amp;&amp; !this._opening) {
                       return this
                   }
                   this.emit(&quot;beforeclose&quot;);
                   this._setTransition();
                   this._translateXTo(0);
                   this._opened = false;
                   setTimeout(function () {
                       u.className = u.className.replace(/ slideout-open/, &quot;&quot;);
                       t.panel.style.transition = t.panel.style[&quot;-webkit-transition&quot;] = t.panel.style[c + &quot;transform&quot;] =
                           t.panel.style.transform = &quot;&quot;;
                       t.emit(&quot;close&quot;)
                   }, this._duration + 50);
                   return this
               };
               d.prototype.toggle = function () {
                   return this.isOpen() ? this.close() : this.open()
               };
               d.prototype.isOpen = function () {
                   return this._opened
               };
               d.prototype._translateXTo = function (t) {
                   this._currentOffsetX = t;
                   this.panel.style[c + &quot;transform&quot;] = this.panel.style.transform = &quot;translate3d(&quot; + t + &quot;px, 0, 0)&quot;
               };
               d.prototype._setTransition = function () {
                   this.panel.style[c + &quot;transition&quot;] = this.panel.style.transition = c + &quot;transform &quot; + this._duration +
                       &quot;ms &quot; + this._fx
               };
               d.prototype._initTouchEvents = function () {
                   var t = this;
                   i(a, &quot;scroll&quot;, function () {
                       if (!t._moved) {
                           clearTimeout(r);
                           s = true;
                           r = setTimeout(function () {
                               s = false
                           }, 250)
                       }
                   });
                   a.addEventListener(l.move, function (e) {
                       if (t._moved) {
                           e.preventDefault()
                       }
                   });
                   this.panel.addEventListener(l.start, function (e) {
                       if (typeof e.touches === &quot;undefined&quot;) {
                           return
                       }
                       t._moved = false;
                       t._opening = false;
                       t._startOffsetX = e.touches[0].pageX;
                       t._preventOpen = !t._touch || !t.isOpen() &amp;&amp; t.menu.clientWidth !== 0
                   });
                   this.panel.addEventListener(&quot;touchcancel&quot;, function () {
                       t._moved = false;
                       t._opening = false
                   });
                   this.panel.addEventListener(l.end, function () {
                       if (t._moved) {
                           t._opening &amp;&amp; Math.abs(t._currentOffsetX) &gt; t._tolerance ? t.open() : t.close()
                       }
                       t._moved = false
                   });
                   this.panel.addEventListener(l.move, function (e) {
                       if (s || t._preventOpen || typeof e.touches === &quot;undefined&quot;) {
                           return
                       }
                       var n = e.touches[0].clientX - t._startOffsetX;
                       var i = t._currentOffsetX = n;
                       if (Math.abs(i) &gt; t._padding) {
                           return
                       }
                       if (Math.abs(n) &gt; 20) {
                           t._opening = true;
                           var o = n * t._orientation;
                           if (t._opened &amp;&amp; o &gt; 0 || !t._opened &amp;&amp; o &lt; 0) {
                               return
                           }
                           if (o &lt;= 0) {
                               i = n + t._padding * t._orientation;
                               t._opening = false
                           }
                           if (!t._moved &amp;&amp; u.className.search(&quot;slideout-open&quot;) === -1) {
                               u.className += &quot; slideout-open&quot;
                           }
                           t.panel.style[c + &quot;transform&quot;] = t.panel.style.transform = &quot;translate3d(&quot; + i + &quot;px, 0, 0)&quot;;
                           t.emit(&quot;translate&quot;, i);
                           t._moved = true
                       }
                   })
               };
               d.prototype.enableTouch = function () {
                   this._touch = true;
                   return this
               };
               d.prototype.disableTouch = function () {
                   this._touch = false;
                   return this
               };
               e.exports = d
           }, {
               decouple: 2,
               emitter: 3
           }],
       2: [function (t, e, n) {
               &quot;use strict&quot;;
               var i = function () {
                   return window.requestAnimationFrame || window.webkitRequestAnimationFrame || function (t) {
                       window.setTimeout(t, 1e3 / 60)
                   }
               }();

               function o(t, e, n) {
                   var o, r = false;

                   function s(t) {
                       o = t;
                       a()
                   }
                   function a() {
                       if (!r) {
                           i(u);
                           r = true
                       }
                   }
                   function u() {
                       n.call(t, o);
                       r = false
                   }
                   t.addEventListener(e, s, false)
               }
               e.exports = o
           }, {}],
       3: [function (t, e, n) {
               &quot;use strict&quot;;
               var i = function (t, e) {
                   if (!(t instanceof e)) {
                       throw new TypeError(&quot;Cannot call a class as a function&quot;)
                   }
               };
               n.__esModule = true;
               var o = function () {
                   function t() {
                       i(this, t)
                   }
                   t.prototype.on = function e(t, n) {
                       this._eventCollection = this._eventCollection || {};
                       this._eventCollection[t] = this._eventCollection[t] || [];
                       this._eventCollection[t].push(n);
                       return this
                   };
                   t.prototype.once = function n(t, e) {
                       var n = this;

                       function i() {
                           n.off(t, i);
                           e.apply(this, arguments)
                       }
                       i.listener = e;
                       this.on(t, i);
                       return this
                   };
                   t.prototype.off = function o(t, e) {
                       var n = undefined;
                       if (!this._eventCollection || !(n = this._eventCollection[t])) {
                           return this
                       }
                       n.forEach(function (t, i) {
                           if (t === e || t.listener === e) {
                               n.splice(i, 1)
                           }
                       });
                       if (n.length === 0) {
                           delete this._eventCollection[t]
                       }
                       return this
                   };
                   t.prototype.emit = function r(t) {
                       var e = this;
                       for (var n = arguments.length, i = Array(n &gt; 1 ? n - 1 : 0), o = 1; o &lt; n; o++) {
                           i[o - 1] = arguments[o]
                       }
                       var r = undefined;
                       if (!this._eventCollection || !(r = this._eventCollection[t])) {
                           return this
                       }
                       r = r.slice(0);
                       r.forEach(function (t) {
                           return t.apply(e, i)
                       });
                       return this
                   };
                   return t
               }();
               n[&quot;default&quot;] = o;
               e.exports = n[&quot;default&quot;]
           }, {}]
   }, {}, [1])(1)
</PRE><P>});
	var slideout = new Slideout({
		'panel': document.getElementById('main'),
		'menu': document.getElementById('menu'),
		'padding': 256,
		'tolerance': 70
	  });
</P><P>	  document.querySelector('.js-slideout-toggle').addEventListener('click', function() {
		slideout.toggle();
	  });
</P><P>	  document.querySelector('.menu').addEventListener('click', function(eve) {
		if (eve.target.nodeName === 'A') { slideout.close(); }
	  });
	 function aload(t){&quot;use strict&quot;;t=t||window.document.querySelectorAll(&quot;[data-aload]&quot;),void 0===t.length&amp;&amp;(t=[t]);var a,e=0,r=t.length;for(e;r&gt;e;e+=1)a=t[e],a[&quot;LINK&quot;!==a.tagName?&quot;src&quot;:&quot;href&quot;]=a.getAttribute(&quot;data-aload&quot;),a.removeAttribute(&quot;data-aload&quot;);return t}
	window.onload = function(){
		aload();
		document.querySelector('.iphone').className += ' shown';
	}
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>