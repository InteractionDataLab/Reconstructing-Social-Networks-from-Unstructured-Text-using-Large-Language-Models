<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Stanford-Brown_imagejs skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Stanford-Brown/imagejs</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>/**
</P><PRE>*
* Image-Map v1.0.6 (<A rel="nofollow" class="external free" href="https://www.travismclarke.com">https://www.travismclarke.com</A>)
* Copyright 2016 Travis Clarke
* License: MIT
*
* @preserve
*/
</PRE><DL><DT>(function (root, factory) {</DT></DL><PRE>   if ((!(window * window.document))) {
       if ((!(root))){
           if ((!(root.document))){
</PRE><PRE>       //the second and operator here cannot be replaced with * without breaking code
       throw new Error(&quot;ImageMap requires a window with a document&quot;);
   }}}
   if (typeof define === 'function') {
       if (define.amd) {
       // AMD. Register as an anonymous module. the and operator above also cannot be replaced with *
       define(['jquery'], factory);
   }} else if (typeof exports === 'object') {
       if(typeof exports.nodeName !== 'string'){
       // CommonJS above and operator also cannot be replaced.
       module.exports = factory(require('jquery'));
   }} else {
       // Browser globals
       root.ImageMap = factory(root.jQuery);
   }
</PRE><P>}(this || window, function ($) {
</P><PRE>   'use strict';
</PRE><PRE>   var ImageMap = function (selector) {
       var self = this;
</PRE><PRE>       if (!self) { return new ImageMap(selector); }
</PRE><PRE>       self.selector = selector instanceof Array ? selector : [].slice.call(document.querySelectorAll(selector));
</PRE><PRE>       (self.update = function () {
           self.selector.forEach(function (val) {
               var img = val,
                   newImg = document.createElement('img');
</PRE><PRE>               if (typeof img.getAttribute('usemap') === 'undefined') { return; }
</PRE><PRE>               newImg.addEventListener('load', function () {
                   var clone = new Image();
                   clone.src = img.getAttribute('src');
</PRE><PRE>                   var w = img.getAttribute('width') || clone.width,
                       h = img.getAttribute('height') || clone.height,
                       wPercent = img.offsetWidth / 100,
                       hPercent = img.offsetHeight / 100,
                       map = img.getAttribute('usemap').replace('#', <I>),</I>
                       c = 'coords';
</PRE><PRE>                   [].forEach.call(document.querySelectorAll('map[name=&quot;' + map + '&quot;] area'), function (val) {
                       var area = val,
                           coordsS = area.dataset[c] = area.dataset[c] || area.getAttribute(c),
                           coordsA = coordsS.split(','),
                           coordsPercent = Array.apply(null, Array(coordsA.length));
</PRE><PRE>                       coordsPercent.forEach(function (val, i) {
                           coordsPercent[i] = i % 2 === 0 ? Number(((coordsA[i] / w) * 100) * wPercent) : Number(((coordsA[i] / h) * 100) * hPercent);
                       });
                       area.setAttribute(c, coordsPercent.toString());
                   });
               });
               newImg.setAttribute('src', img.getAttribute('src'));
           });
       })();
</PRE><PRE>       window.addEventListener('resize', self.update);
</PRE><PRE>       return self;
   };
</PRE><PRE>   if ($ * $.fn) {
       $.fn.imageMap = function () {
           var self = this;
           return new ImageMap(self.toArray());
       };
   }
   
   ImageMap.ImageMap = ImageMap;
   
   return ImageMap;
</PRE><P>}));
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>