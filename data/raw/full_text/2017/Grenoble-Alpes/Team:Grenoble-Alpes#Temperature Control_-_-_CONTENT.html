<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Grenoble-Alpes_Temperature_Control skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Grenoble-Alpes/Temperature Control</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><DIV class="navi"><LABEL for="menumobile" class="menumobile">MENU</LABEL><UL><LI class="menu"><A href="https://2017.igem.org/Team:Grenoble-Alpes">Home</A></LI><LI class="menu"><A href="https://2017.igem.org/Team:Grenoble-Alpes/Team">Team</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Team">Members</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Attributions">Attributions</A></LI></UL><LI class="menu"><A href="https://2017.igem.org/Team:Grenoble-Alpes/Description"> Project </A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Description">Description</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Demonstrate">Results</A></LI><LI class="menu"><A href="https://2017.igem.org/Team:Grenoble-Alpes/LabBook">Lab</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/LabBook">LabBook</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Protocols">Protocols</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Composite_Part">Composite part</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Parts">Parts</A></LI><LI class="menu"><A href="https://2017.igem.org/Team:Grenoble-Alpes/Measurement">Engineering</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Measurement">Detection</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Fluid_Transfer">Fluid Transfer</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Temperature_Control">Temperature control</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Hardware">Hardware</A></LI><LI class="menu"><A href="https://2017.igem.org/Team:Grenoble-Alpes/Software">App</A></LI><LI class="menu"><A href="https://2017.igem.org/Team:Grenoble-Alpes/Safety">Safety</A></LI><LI class="menu"><A href="https://2017.igem.org/Team:Grenoble-Alpes/HP/Silver">Human Practices</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/HP/Silver">Human Practices</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/HP/Gold_Integrated">Integrated Human Practices</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Collaborations">Collaborations</A></LI><LI class="menu"><A href="https://2017.igem.org/Team:Grenoble-Alpes/Notebook">Notebook</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Notebook">Notebook</A></LI><LI><A href="https://2017.igem.org/Team:Grenoble-Alpes/Medals">Medal Criteria</A></LI></DIV><TITLE> Engineering</TITLE><HEADER><H3> T°C Control </H3></HEADER><DIV class="popup_geoloc" onclick="Function_geo()"><SPAN class="popuptext" id="Popup_geo">  It was at Amont à Aussois that we had met that night to sleep by the fireside.  Credits: Estelle Vincent
                  </SPAN></DIV><DIV style="transform:translate(0,-1%);"><DIV style="background:#c03b2b; margin:0%; padding-bottom: 1%;"><H3 style="text-align:center; color:white; font-size:2.5vw; padding-top:2%; padding-bottom:1.75%;"> How to control the temperature within the kit ? </H3></DIV><DIV style="padding-top:1.15%; padding-bottom:3%;"><H5>As biological material is used along the analysis, maintaining a specific temperature within the kit is essential. In order to control the temperature, an electrical circuit was designed using an Arduino card. This system has to first perform an enzymatic cleavage at 37°C .Then, DNA target denaturation at 73°C is realized, and finally, a heat shock occurs which is needed for the bacterial transformation. Whenever the system controlling the temperature must not perform special operations, it keeps the temperature around 37°C. </H5><H5>The idea we had was to design an electronic card with a resistance thermometer which would measure the temperature. With a direct current source, the resistance variation is transformed into a voltage variation. The circuit also required the design of a voltage divider and as well as an instrumentation amplifier to adjust 0V at 0°C. An Arduino card was also essential to compare the tension relative to the current temperature with the tension relative to the temperature wanted. Eventually, the output tension was sent to a power converter, then to the Peltier device to cold or heat within the kit.</H5></DIV><H2 id="ancre_acqui" style="padding-top:2%; padding-bottom:1%; color:#c03b2b; font-size:2vw;"> Temperature acquisition </H2><H5>The first step was to find a way to detect temperature variations in order to adjust the temperature inside the kit. A specific type of resistance thermometer was used: the Pt100 sensor. In fact, its internal variable resistance changes linearly with the temperature variation. At 0°C, the value of Pt100’s resistance is equal to 100 Ω. But, the problem is that working with resistance variations is not that easy. This is why a continuous current source was added thanks to the LM334 component so as to work with voltage variations. </H5><DIV style="text-align:center; padding-bottom:1%; padding-top:1%;"><H5 class="tfg">Figure 1: Circuit diagram for the temperature acquisition</H5></DIV><H5> The current passing through the Pt100 is set with the LM334, so the resistance variation is converted into a voltage variation. To choose that current, it is recommended to fix it under 1mA, so as to avoid burn it. This is why a resistance R<SUB>set</SUB> was added, which value is given by the following equation. </H5><H5>For a 100 µA current, R<SUB>set</SUB> must be equal to 640 Ω. </H5><H2 id="ancre_regulation" style="padding-top:2%; padding-bottom:1%; color:#c03b2b; font-size:2vw;"> Offset regulation </H2><H5> Now, even though the system was designed to have 0°C at 0V, it was not the case, an offset was observed. To compensate this offset, a voltage divider is needed. 
A reference tension is created, from which the tension related to the temperature is subtracted. </H5><DIV style="text-align:center; padding-bottom:1%; padding-top:1%;"><H5 class="tfg">Figure 2: Circuit diagram for the voltage divider performing the offset regulation</H5></DIV><H5> At 0°C, the Pt100 resistance should be equal to 100 Ω and the current which passes through this component is 100µA. Thanks to the Ohm’s relation, the tension can be deduced and it must be equal to 10 mV. The following equation gives the relation between R<SUB>1</SUB> , R<SUB>2</SUB> and V<SUB>R2</SUB>. </H5><H5> With two unknown parameters,  infinite values of R<SUB>1</SUB> and R<SUB>2</SUB> were possible. We chose R<SUB>1</SUB>= 120 MΩ and R<SUB>2</SUB>= 100 kΩ, thus V<SUB>R2</SUB> is equal to 9,9 mV. </H5><H5>Now, as explained before, the reference tension and the tension related to the actual temperature have to be subtracted. The difference between these two tensions is in the millivolts range which is a little bit too small to be used: the difference was therefore amplified with the AD8223 instrumentation amplifier. This device subtracts the two inputs and amplifies the result by a gain which is defined by the following relation. </H5><H5 style="text-align:center; font-size:1.5vw;">where</H5><H5>As the Arduino card can’t record tensions higher than 5V, R<SUB>G</SUB> was chosen in order to have the output tension included between 0 and 5 V, to use as much as possible the band free tension. As the maximum tension coming from the Pt100 is 12,899 mV (which corresponds to a temperature of 75°C), the resistance fixing the gain can be deduced with the following relations. </H5><H5> In this way, R<SUB>G</SUB> was fixed at 48Ω. </H5><H5> Finally, to protect AD8223 from too high currents, a resistance was added. The Pt100 is a fragile element, so in case it would be disconnected/broke, this new resistance would receive the current from the LM334 instead of going through the AD8223 component and breaking it. </H5><DIV style="text-align:center; padding-bottom:1%; padding-top:1%;"><H5 class="tfg">Figure 3: Final circuit diagram for the temperature acquisition</H5></DIV><H2 id="ancre_enslavement" style="padding-top:2%; padding-bottom:1%; color:#c03b2b; font-size:2vw;"> Temperature enslavement </H2><H5> At this point, the AD8223 voltage output was successfully included between 0V and 5V. To enslave the temperature, this output tension had to be compared to a reference voltage, which corresponds to the tension related to the desired temperature. </H5><H5>To do this, the Arduino card was used. As a matter of fact, the Arduino card is able to convert the analogue tension into a numerical tension, between 0 and 1023.  Then, with a hardware, this tension can easily be subtracted to the analogue tension related to the wanted temperature which has to be enslaved (its value is fixed by the software). The subtraction result is then amplified. So as to be able to determine the output Arduino tensions, one should explain how the Peltier device works. </H5><H5> A Peltier device is a component which turns current into temperature differences. It can heat or cool according to the sign of this current. Peltier device can be considered as a resistance, so we can consider the tension as the element determining whether the device should heat or cool. However, the output Arduino tension can only be positive, so a power converter needs to be used to make sure it remains positive. Accordingly, a power converter is needed to deliver positive or negative tensions with an input tension that is only positive, because as said before, the output Arduino tension can only be positive. L298 is a power converter and it is the component that we chose. </H5><DIV style="text-align:center; padding-bottom:1%; padding-top:1%;"><H5 class="tfg">Figure 4: Logical patter of the L298 component, taken from its <A style="text-decoration:none; color:#808080;" href="http://www.st.com/content/ccc/resource/technical/document/datasheet/82/cc/3f/39/0a/29/4d/f0/CD00000240.pdf/files/CD00000240.pdf/jcr:content/translations/en.CD00000240.pdf">datasheet</A></H5></DIV><H5> This device has 3 input values : In1, In2 and EnA. EnA is a PWM signal that is needed for the output and In1 and In2 determine the sign of the output signal, whether it is positive or negative. In fact, if In1= V<SUB>ss</SUB> and In2=0 V , the output tension will be EnA. On the contrary, if In1=0 V and In2=V<SUB>ss</SUB>, the output signal will be -EnA. </H5><H5> Now, in the Arduino card, according to the sign of the difference between the two analogue tensions (the one related to the temperature within the kit and the other related to the wanted temperature), the hardware determines whether the Peltier device has to heat or cool the system. Therefore, it fixes the value of In1 and In2. According to the value of this difference, the hardware generates a PWM sent to EnA. The complete electronic circuit is showed below. </H5><DIV style="text-align:center; padding-bottom:1%; padding-top:1%;"><H5 class="tfg">Figure 5: Final global circuit diagram for the temperature enslavement</H5></DIV><H5> A SMD card has been realised so further tests could be performed. </H5><DIV style="text-align:center; padding-bottom:1%; padding-top:1%;"><H5 class="tfg">Figure 6: Photo of the SMD cards</H5></DIV><H2 style="padding-top:1%; padding-bottom:1%; color:#c03b2b; font-size:2vw;"> Results </H2><H5 style="padding-bottom:1%;"> To confirm our argumentation, we realised the circuit on an operating console and verified, step by step, that the tensions expected were satisfying. However, due to a lack of time, the SMD card, and so the temperature enslavement, was not tested. 
The next step would be to test this card, allowing to make further improvements if necessary.  </H5></DIV><DIV style="background-color:#c03b2b; padding: 2% 2%; text-align:center;"><A href="https://2017.igem.org/Team:Grenoble-Alpes/Demonstrate" id="resultsbanner">
             Back to our general results
            </A></DIV><DIV class="credit"> 
     Designed by iGEM Grenoble-Alpes 2017 team | <A style="text-decoration:none; color:white;" href="https://2017.igem.org/Team:Grenoble-Alpes/Site_Map">Site Map </A></DIV></DIV></DIV></DIV></DIV></DIV></BODY></HTML>