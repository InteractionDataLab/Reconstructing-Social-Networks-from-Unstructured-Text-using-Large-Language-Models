<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_USTC-Software_js_scroll skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:USTC-Software/js/scroll</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>window.onload = function(){
</P><PRE>   window.onscroll=function(){
       var top = document.documentElement.scrollTop || document.body.scrollTop;
       var menus = document.getElementById(&quot;menu&quot;).getElementsByTagName(&quot;a&quot;);
       var items=document.getElementById(&quot;content&quot;).getElementsByClassName(&quot;item&quot;);
</PRE><PRE>       var currentId=&quot;&quot;;
       for(var i=0;i&lt;items.length;i++){
           var _item=items[i];
           var _itemTop = _item.offsetTop;
           if(top&gt;_itemTop-200){
               currentId=_item.id;
           }else{
               break;
           }
       }
       if(currentId!==&quot;&quot;){
           //给正确的menu下的a元素class赋值
           for(var j=0;j&lt;menus.length;j++){
               var _menu=menus[j];
               var _href=_menu.href.split(&quot;#&quot;);//因为只通过href获取的链接为一长串链接，需要通过#分成数组
               if(_href[_href.length-1]!==currentId){
                   _menu.className = &quot;&quot;;
               }else{
                   _menu.className = &quot;focused&quot;;
               }
           }
       }
   }
</PRE><P>}
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>