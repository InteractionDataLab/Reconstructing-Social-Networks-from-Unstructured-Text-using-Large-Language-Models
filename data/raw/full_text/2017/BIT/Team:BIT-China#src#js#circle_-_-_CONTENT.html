<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_BIT-China_src_js_circle skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:BIT-China/src/js/circle</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>jQuery(document).ready(function($){
	var contentSections = $('.cd-section'),
		navigationItems = $('#cd-vertical-nav a');
</P><P>	updateNavigation();
	$(window).on('scroll', function(){
		updateNavigation();
	});
</P><P>	//smooth scroll to the section
	navigationItems.on('click', function(event){
</P><PRE>       event.preventDefault();
       smoothScroll($(this.hash));
   });
   //smooth scroll to second section
   $('.cd-scroll-down').on('click', function(event){
       event.preventDefault();
       smoothScroll($(this.hash));
   });
</PRE><PRE>   //open-close navigation on touch devices
   $('.touch .cd-nav-trigger').on('click', function(){
   	$('.touch #cd-vertical-nav').toggleClass('open');
 
   });
   //close navigation on touch devices when selectin an elemnt from the list
   $('.touch #cd-vertical-nav a').on('click', function(){
   	$('.touch #cd-vertical-nav').removeClass('open');
   });
</PRE><P>	function updateNavigation() {
		contentSections.each(function(){
			$this = $(this);
			var activeSection = $('#cd-vertical-nav a[href=&quot;#'+$this.attr('id')+'&quot;]').data('number') - 1;
			// console.log($this,activeSection,( $this.offset().top - $(window).height()/2 &lt; $(window).scrollTop() ),( $this.offset().top + $this.height() - $(window).height()/2&gt; $(window).scrollTop() ),$this.offset().top + $this.height() - $(window).height()/2+190,$(window).scrollTop());
			if ( ( $this.offset().top - $(window).height()/2 &lt; $(window).scrollTop() ) &amp;&amp; ( $this.offset().top + $this.height() - $(window).height()/2+410&gt; $(window).scrollTop() ) ) {
				navigationItems.eq(activeSection).addClass('is-selected');
			}else {
				navigationItems.eq(activeSection).removeClass('is-selected');
			}
		});
	}
</P><P>	function smoothScroll(target) {
</P><PRE>       $('body,html').animate(
       	{'scrollTop':target.offset().top},
       	600
       );
</PRE><P>	}
});
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>