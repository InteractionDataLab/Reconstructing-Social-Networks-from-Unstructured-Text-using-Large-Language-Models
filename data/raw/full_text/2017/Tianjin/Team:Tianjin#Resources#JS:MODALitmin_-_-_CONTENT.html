<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Tianjin_Resources_JS_MODALitmin skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Tianjin/Resources/JS:MODALitmin</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>/*
</P><PRE>Modalit v0.2.2
<A rel="nofollow" class="external free" href="https://knot-design.jp/modalit/">https://knot-design.jp/modalit/</A></PRE><PRE>Author: Yuji Hisamatsu (<A rel="nofollow" class="external free" href="https://github.com/knot-design">https://github.com/knot-design</A>)
</PRE><PRE>Copyright (C) 2017 Knot Design
Licensed under the MIT license (MIT)
</PRE><UL><LI>/</LI></UL>
!function(t,e){&quot;function&quot;==typeof define&amp;&amp;define.amd?define([],e):&quot;object&quot;==typeof exports?module.exports=e():t.MODALit=e()}(this,function(){&quot;use strict&quot;;function t(t){this.modal=[],this.element=t.el&amp;&amp;&quot;string&quot;!=typeof t.el?t.el:o(t.el||'[data-toggle=&quot;modal&quot;]'),this.element.length&lt;2&amp;&amp;(this.element=0===this.element.length?0:this.element[0]),this.options=r(t,b),this.element.length&gt;1?[].forEach.call(this.element,this.init.bind(this)):this.init(this.element)}var e=document,i=window,n=t.prototype,a=!1,s={capture:!0,passive:!0},o=function(t,i,n){return i=i||e,i=!t.match(/\s/)&amp;&amp;t[0].match(/(#|\.)/)?&quot;#&quot;===t[0]?i.getElementById(t.slice(1)):i.getElementsByClassName(t.slice(1)):i.querySelectorAll(t),n&amp;&amp;void 0!==i.length?i[0]:i},r=function(t,e){for(var i in e)try{e[i].constructor===Object?t[i]=r(t[i],e[i]):void 0===t[i]&amp;&amp;(t[i]=e[i])}catch(n){t[i]=e[i]}return t},l=function(t,n){var a,r,l=t&amp;&amp;t.getAttribute(&quot;data-target&quot;)?t.getAttribute(&quot;data-target&quot;):n.target,u=l?o(l,0,1):&quot;&quot;,v=t&amp;&amp;t.getAttribute(&quot;data-src&quot;)?t.getAttribute(&quot;data-src&quot;):n.src;if(!u){u=e.createElement(&quot;div&quot;),e.body.appendChild(u),t&amp;&amp;[&quot;title&quot;,&quot;content&quot;,&quot;footer&quot;].forEach(function(e){null!==t.getAttribute(&quot;data-&quot;+e)&amp;&amp;(n[e]=t.getAttribute(&quot;data-&quot;+e))}),a='<DIV class="content">'+(v?'':n.content)+&quot;</DIV>&quot;;var f=n.title?&quot;&lt;header&gt;<H3><SPAN class="mw-headline" id=".22.2Bn.title.2B.22">&quot;+n.title+&quot;</SPAN></H3>&lt;/header&gt;&quot;:&quot;&quot;;if(n.footer){var p=n.action.fn?n.cancel:n.action;r='&lt;footer&gt;&lt;button type=&quot;button&quot; data-modal-btn=&quot;dismiss&quot; class=&quot;'+p[&quot;class&quot;]+'&quot;&gt;'+p.label+&quot;&lt;/button&gt;%%&lt;/footer&gt;&quot;,r=r.replace(&quot;%%&quot;,n.action.fn?'&lt;button type=&quot;button&quot; data-modal-btn=&quot;action&quot; class=&quot;'+n.action[&quot;class&quot;]+'&quot;&gt;'+n.action.label+&quot;&lt;/button&gt;&quot;:&quot;&quot;)}else r='';u.innerHTML='<DIV class="dialog">'+f+a+r+&quot;</DIV>&quot;}if([&quot;transition&quot;,&quot;position&quot;,&quot;width&quot;].forEach(function(e){n[e]=t&amp;&amp;null!==t.getAttribute(&quot;data-&quot;+e)?t.getAttribute(&quot;data-&quot;+e):n[e],n[e]&amp;&amp;u.setAttribute(&quot;data-modal-&quot;+e,n[e])}),u.classList.add(&quot;modalit&quot;),u.setAttribute(&quot;aria-hidden&quot;,&quot;true&quot;),n.backdrop&amp;&amp;u.classList.add(&quot;backdrop&quot;),v){var b=o(&quot;.content&quot;,u,1),g=m(v,n.video.autoplay);u.setAttribute(&quot;data-modal-media&quot;,g[1]),u.addEventListener(&quot;modalit.load&quot;,function(){if(b.firstElementChild.classList.contains(&quot;loader&quot;))if(u.setAttribute(&quot;data-modal-load&quot;,!1),&quot;ajax&quot;===g[1])h(v,function(t){b.innerHTML=t,c(u)});else if(&quot;image&quot;===g[1]){var e=new Image,n=t.getAttribute(&quot;data-caption&quot;)||0;e.addEventListener(&quot;load&quot;,function(){this.classList.add(this.height&gt;this.width?&quot;portrait&quot;:&quot;landscape&quot;);var t=88*i.innerHeight/100;b.innerHTML=n?&quot;&lt;figure&gt;&quot;+this.outerHTML+&quot;&lt;figcaption&gt;&quot;+n+&quot;&lt;/figcaption&gt;&lt;/figure&gt;&quot;:this.outerHTML,&quot;full&quot;!==u.getAttribute(&quot;data-modal-width&quot;)&amp;&amp;t&lt;this.naturalHeight?u.firstElementChild.style.width=t*(this.naturalWidth/this.naturalHeight)+&quot;px&quot;:c(u),u.setAttribute(&quot;data-modal-load&quot;,!0)}),e.src=v}else b.innerHTML=g[0],b.firstElementChild.addEventListener(&quot;load&quot;,function(){c(u)})},s)}return d(u),u},d=function(t,e){var i=0,n=t.firstElementChild,a=t.getAttribute(&quot;data-modal-media&quot;),s=o(&quot;.content&quot;,n,1);if(a&amp;&amp;&quot;ajax&quot;!==a){if(&quot;full&quot;!==t.getAttribute(&quot;data-modal-width&quot;)&amp;&amp;/^(video|image)$/.test(a)){var r=s.firstElementChild;r&amp;&amp;(setTimeout(function(){n.clientHeight&lt;s.clientHeight&amp;&amp;(n.style.width=n.clientHeight*(r.clientWidth/r.clientHeight)+&quot;px&quot;)},e?360:1),e&amp;&amp;(n.style.width=&quot;&quot;))}}else{s.style.height=&quot;&quot;,s.classList.remove(&quot;scrollable&quot;),[].forEach.call(n.children,function(t){i+=t.tagName.match(/(header|footer)/i)?t.clientHeight:0});var l=n.offsetHeight-i;s.clientHeight&gt;l&amp;&amp;(s.style.height=l+&quot;px&quot;,s.classList.add(&quot;scrollable&quot;))}!t.classList.contains(&quot;backdrop&quot;)&amp;&amp;&quot;full&quot;!==t.getAttribute(&quot;data-modal-width&quot;)&amp;&amp;/^(centered|left|right)$/.test(t.getAttribute(&quot;data-modal-position&quot;))&amp;&amp;(n.style.marginTop=-(n.offsetHeight/2)+&quot;px&quot;)},c=function(t){t.setAttribute(&quot;data-modal-load&quot;,!0),d(t)},m=function(t,e){var i=t.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&amp;v=))((\w|-){11})(?:\S+)?$/),n=t.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/),a=t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&amp;]+))?/),s=t.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/),o=t.match(/source\.unsplash\.com\/?/),r=t.match(/^.+.(jpg|jpeg|gif|png|svg)$/i);if(s)return['&lt;video src=&quot;'+t+'&quot; width=&quot;640&quot; height=&quot;360&quot; controls=&quot;true&quot;'+(e?&quot; autoplay&quot;:&quot;&quot;)+&quot;&gt;&lt;/video&gt;&quot;,&quot;video&quot;];if(r||o)return[null,&quot;image&quot;];if(i&amp;&amp;11===i[1].length)t=&quot;//www.youtube.com/embed/&quot;+i[1];else if(n&amp;&amp;n[3].length)t=&quot;//player.vimeo.com/video/&quot;+n[3];else{if(!a||!a[2].length)return[null,&quot;ajax&quot;];t=&quot;//www.dailymotion.com/embed/video/&quot;+a[2]}return['&lt;iframe src=&quot;'+t+(e?&quot;?autoplay=1&quot;:&quot;&quot;)+'&quot; allowfullscreen=&quot;true&quot; width=&quot;640&quot; height=&quot;360&quot;&gt;&lt;/iframe&gt;',&quot;video&quot;]},h=function(t,e){var i=new XMLHttpRequest;i.open(&quot;get&quot;,t),i.onload=function(){200==i.status?e(i.responseText):console.error(&quot;Request Error: &quot;+i.status)},i.send()},u=function(t){var e=o('[aria-hidden=&quot;false&quot;].modalit',0,1),i=o(&quot;.content&quot;,e,1),n=/^(video|image)/.test(e.getAttribute(&quot;data-modal-media&quot;))||0;(n||!n&amp;&amp;(!i.classList.contains(&quot;scrollable&quot;)||i.classList.contains(&quot;scrollable&quot;)&amp;&amp;!i.contains(t.target)))&amp;&amp;t.preventDefault()},v=function(t){t?(e.body.style.overflowY=&quot;hidden&quot;,!a&amp;&amp;e.body.addEventListener(&quot;touchmove&quot;,u)):o('[aria-hidden=&quot;false&quot;].modalit.backdrop',0,1)||(e.body.style.overflowY=&quot;&quot;,e.body.removeEventListener(&quot;touchmove&quot;,u))},f=function(t,i,n){var a;try{a=new CustomEvent(t,{bubbles:!0,detail:i})}catch(s){a=document.createEvent(&quot;CustomEvent&quot;),a.initCustomEvent(event,!0,!1,i)}(n||e).dispatchEvent(a)},p=function(t,e){try{return t.closest(e)}catch(i){for(var n=t.webkitMatchesSelector?&quot;webkitMatchesSelector&quot;:t.msMatchesSelector?&quot;msMatchesSelector&quot;:&quot;matches&quot;;t;){if(t&amp;&amp;t[n](e))return t;t=t.parentElement}return null}},b={backdrop:!0,fixed:!0,position:&quot;centered&quot;,footer:!0,action:{label:&quot;OK&quot;,&quot;class&quot;:&quot;btn primary&quot;},cancel:{label:&quot;Cancel&quot;,&quot;class&quot;:&quot;btn light&quot;},video:{autoplay:!1,destroy:!1},slider:!1,navi:!1,dismiss:{backdrop:!0,esc:!0}};return n.init=function(t){var e=l(t,this.options);void 0!==arguments[1]?this.modal[arguments[1]]=e:this.modal=e,t&amp;&amp;t.addEventListener(&quot;click&quot;,this.show.bind(this,e,arguments[1]),s)},n.show=function(t,n){var a=null,s=this.options;t.setAttribute(&quot;aria-hidden&quot;,&quot;false&quot;),this.current=t,f(&quot;modalit.show&quot;,{modal:t}),t.getAttribute(&quot;data-modal-media&quot;)&amp;&amp;f(&quot;modalit.load&quot;,null,t),void 0!==n&amp;&amp;s.slider&amp;&amp;this.slider(n),this.btn={trigger:void 0!==n?this.element[n]:this.element,action:o('[data-modal-btn=&quot;action&quot;]',t,1),cancel:o('[data-modal-btn=&quot;dismiss&quot;]',t,1)},this.btn.trigger&amp;&amp;this.btn.trigger.classList.add(&quot;active&quot;),d(t),this.listener={},s.action.fn&amp;&amp;(this.listener.action=s.action.fn.bind(this),this.btn.action.addEventListener(&quot;click&quot;,this.listener.action)),s.cancel.fn&amp;&amp;(this.listener.cancel=s.cancel.fn.bind(this),this.btn.cancel.addEventListener(&quot;click&quot;,this.listener.cancel)),this.listener.dismiss=this.hide.bind(this),t.addEventListener(&quot;click&quot;,this.listener.dismiss),s.dismiss.esc&amp;&amp;e.addEventListener(&quot;keyup&quot;,this.listener.dismiss),i.addEventListener(&quot;resize&quot;,function(){clearTimeout(a),a=setTimeout(d(t,!0),200)}),s.backdrop&amp;&amp;s.fixed&amp;&amp;v(1)},n.hide=function(t){var i={modal:this.current},n=!t;if(t&amp;&amp;(void 0!==t.keyCode?n=27===t.keyCode:(this.btn.cancel.contains(t.target)||this.options.dismiss.backdrop&amp;&amp;!a&amp;&amp;!this.current.firstElementChild.contains(t.target))&amp;&amp;(n=!0),n&amp;&amp;f(&quot;modalit.dismiss&quot;,i)),n){if(f(&quot;modalit.BeforeHide&quot;,i),this.current.setAttribute(&quot;aria-hidden&quot;,&quot;true&quot;),this.btn.trigger&amp;&amp;this.btn.trigger.classList.remove(&quot;active&quot;),this.options.fixed&amp;&amp;this.options.backdrop&amp;&amp;!a&amp;&amp;v(),this.options.slider){var s=o('[data-modal-role=&quot;navi&quot;]',0,1);s&amp;&amp;s.parentNode.removeChild(s)}this.listener.action&amp;&amp;this.btn.action.removeEventListener(&quot;click&quot;,this.listener.action),this.listener.cancel&amp;&amp;this.btn.cancel.removeEventListener(&quot;click&quot;,this.listener.cancel),this.current.removeEventListener(&quot;click&quot;,this.listener.dismiss),this.options.dismiss.esc&amp;&amp;e.removeEventListener(&quot;keyup&quot;,this.listener.dismiss),&quot;video&quot;===this.current.getAttribute(&quot;data-modal-media&quot;)&amp;&amp;this.options.video.destroy&amp;&amp;(this.current.removeAttribute(&quot;data-modal-load&quot;),o(&quot;.content&quot;,this.current,1).innerHTML=''),f(&quot;modalit.hide&quot;,i)}},n.slider=function(t){function n(){var t,i=e.createElement(&quot;dummyelement&quot;),n={transition:&quot;transitionend&quot;,WebkitTransition:&quot;webkitTransitionEnd&quot;,OTransition:&quot;oTransitionEnd&quot;,MozTransition:&quot;mozTransitionEnd&quot;};for(t in n)if(void 0!==i.style[t])return n[t]}function r(){if(f.options.navi){for(var i=e.createElement(&quot;nav&quot;),n=&quot;<UL>&quot;,a=0;y&gt;a;a++)n+='';return n+=&quot;</UL>&quot;,i.setAttribute(&quot;data-modal-role&quot;,&quot;navi&quot;),i.setAttribute(&quot;aria-hidden&quot;,!0),i.role=&quot;navigation&quot;,i.innerHTML=n,e.body.appendChild(i),{point:o(&quot;li&quot;,i),wrapper:i}}}function l(t){clearTimeout(A.scroll),A.scroll=setTimeout(function(){if(!p(t.target,&quot;.scrollable&quot;)){var e,n=i.event||t;n=n.originalEvent?n.originalEvent:n,e=n.detail?-40*n.detail:n.wheelDelta,e&amp;&amp;(t.preventDefault(),m(-e),b.removeEventListener(E,l,s))}},T.scroll)}function d(t){if(void 0!==t){var e=/^(mouse|pointer)/i.test(t.type)?t:t.changedTouches[0];if(t.type===w.start||t.type===w.move)if(M[t.type]=e.pageX,t.type===w.start)a=!1,b.addEventListener(w.move,d,s);else{a=!0;var i=-(M[w.start]-M[w.move]);g.style.msTransform=&quot;translateX(&quot;+i+&quot;px)&quot;,g.style.transform=&quot;translateX(&quot;+i+&quot;px)&quot;,b.addEventListener(w.end,d,s)}else if(t.type===w.end){var n=M[w.start]-M[w.move];if(!(a&amp;&amp;M[w.move]&gt;0&amp;&amp;Math.abs(n)&gt;M.length))return a=!1,h();m(n)}}}function c(e){37===e.keyCode?u(t-1):39===e.keyCode&amp;&amp;u(t+1)}function m(e){var i=e&gt;0?-400:400;g.style.msTransform=&quot;translateX(&quot;+i+&quot;px)&quot;,g.style.transform=&quot;translateX(&quot;+i+&quot;px)&quot;,g.style.opacity=0,H=h.bind(null,e&gt;0?t+1:t-1),C?g.addEventListener(C,H):(clearTimeout(A.anim),A.anim=setTimeout(H,T.anim))}function h(t){g.style.msTransform=&quot;&quot;,g.style.transform=&quot;&quot;,g.style.opacity=&quot;&quot;,void 0!==t&amp;&amp;(u(t),C&amp;&amp;g.removeEventListener(C,H))}function u(e){return v(),e=&quot;number&quot;!=typeof e?Number(e.target.getAttribute(&quot;data-num&quot;)):e,e===t?!1:(e=0&gt;e?y+e:e===y?0:e,f.hide(),void f.show(f.modal[e],e))}function v(t){a=!1,b.removeEventListener(E,l),b.removeEventListener(w.start,d,s),b.removeEventListener(w.move,d,s),b.removeEventListener(w.end,d,s),e.removeEventListener(&quot;keyup&quot;,c),t&amp;&amp;e.removeEventListener(&quot;modalit.dismiss&quot;,v)}var f=this,b=this.current,g=b.firstElementChild,y=this.modal.length,E=&quot;onwheel&quot;in e?&quot;wheel&quot;:&quot;mousewheel&quot;in e?&quot;mousewheel&quot;:&quot;DOMMouseScroll&quot;,L={touch:&quot;undefined&quot;!=typeof e.ontouchstart,pointer:i.navigator.pointerEnabled,msPointer:i.navigator.msPointerEnabled},w={start:L.pointer?&quot;pointerdown&quot;:L.msPointer?&quot;MSPointerDown&quot;:L.touch?&quot;touchstart&quot;:&quot;mousedown&quot;,move:L.pointer?&quot;pointermove&quot;:L.msPointer?&quot;MSPointerMove&quot;:L.touch?&quot;touchmove&quot;:&quot;mousemove&quot;,end:L.pointer?&quot;pointerup&quot;:L.msPointer?&quot;MSPointerUp&quot;:L.touch?&quot;touchend&quot;:&quot;mouseup&quot;},A={scroll:null,anim:null},k=r(),T={scroll:100,anim:410},M={length:100},H=null,C=n();e.addEventListener(&quot;modalit.dismiss&quot;,v),k&amp;&amp;[].forEach.call(k.point,function(t){t.addEventListener(&quot;click&quot;,u,s,s)}),e.addEventListener(&quot;keyup&quot;,c),b.addEventListener(w.start,d,s),b.addEventListener(E,l)},t});

</DIV></DIV></DIV></DIV></DIV></BODY></HTML>