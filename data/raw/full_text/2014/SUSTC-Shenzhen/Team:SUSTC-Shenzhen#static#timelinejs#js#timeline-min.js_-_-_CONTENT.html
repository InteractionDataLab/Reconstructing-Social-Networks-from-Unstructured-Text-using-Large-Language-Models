<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_SUSTC-Shenzhen_static_timelinejs_js_timeline-min_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P>/*
</P><PRE>   TimelineJS - ver. 2.33.1 - 2014-06-24
   Copyright (c) 2012-2013 Northwestern University
   a project of the Northwestern University Knight Lab, originally created by Zach Wise
   <A href="https://github.com/NUKnightLab/TimelineJS" class="external free" rel="nofollow">https://github.com/NUKnightLab/TimelineJS</A>
   This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
   If a copy of the MPL was not distributed with this file, You can obtain one at <A href="http://mozilla.org/MPL/2.0/" class="external free" rel="nofollow">http://mozilla.org/MPL/2.0/</A>.
</PRE><UL><LI>/
</LI></UL><P>/* **********************************************
</P><PRE>    Begin VMM.js
</PRE><UL><LI> *//**
</LI></UL><P>	* VéritéCo JS Core
	* Designed and built by Zach Wise at VéritéCo zach@verite.co
</P><P>	* This Source Code Form is subject to the terms of the Mozilla Public
	* License, v. 2.0. If a copy of the MPL was not distributed with this
	* file, You can obtain one at <A href="http://mozilla.org/MPL/2.0/" class="external free" rel="nofollow">http://mozilla.org/MPL/2.0/</A>.
</P><UL><LI>//*	Simple JavaScript Inheritance
</LI></UL><P>	By John Resig <A href="http://ejohn.org/" class="external free" rel="nofollow">http://ejohn.org/</A>
	MIT Licensed.
</P>
================================================== */function trace(e){VMM.debug&amp;&amp;(window.console?console.log(e):typeof jsTrace!=&quot;undefined&quot;&amp;&amp;jsTrace.send(e))}function onYouTubePlayerAPIReady(){trace(&quot;GLOBAL YOUTUBE API CALLED&quot;);VMM.ExternalAPI.youtube.onAPIReady()}(function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(n){function o(){!e&amp;&amp;this.init&amp;&amp;this.init.apply(this,arguments)}var r=this.prototype;e=!0;var i=new this;e=!1;for(var s in n)i[s]=typeof n[s]==&quot;function&quot;&amp;&amp;typeof r[s]==&quot;function&quot;&amp;&amp;t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);this._super=n;return i}}(s,n[s]):n[s];o.prototype=i;o.prototype.constructor=o;o.extend=arguments.callee;return o}})();var global=function(){return this||(1,eval)(&quot;this&quot;)}();if(typeof VMM==&quot;undefined&quot;){var VMM=Class.extend({});VMM.debug=!0;VMM.master_config={init:function(){return this},sizes:{api:{width:0,height:0}},vp:&quot;Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo&quot;,api_keys_master:{flickr:&quot;RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==&quot;,google:&quot;uQKadH1VMlCsp560gN2aOiMz4evWkl1s34yryl3F/9FJOsn+/948CbBUvKLN46U=&quot;,twitter:&quot;&quot;},timers:{api:7e3},api:{pushques:[]},twitter:{active:!1,array:[],api_loaded:!1,que:[]},flickr:{active:!1,array:[],api_loaded:!1,que:[]},youtube:{active:!1,array:[],api_loaded:!1,que:[]},vimeo:{active:!1,array:[],api_loaded:!1,que:[]},vine:{active:!1,array:[],api_loaded:!1,que:[]},webthumb:{active:!1,array:[],api_loaded:!1,que:[]},googlemaps:{active:!1,map_active:!1,places_active:!1,array:[],api_loaded:!1,que:[]},googledocs:{active:!1,array:[],api_loaded:!1,que:[]},googleplus:{active:!1,array:[],api_loaded:!1,que:[]},wikipedia:{active:!1,array:[],api_loaded:!1,que:[],tries:0},soundcloud:{active:!1,array:[],api_loaded:!1,que:[]}}.init();VMM.createElement=function(e,t,n,r,i){var s=&quot;&quot;;if(e!=null&amp;&amp;e!=&quot;&quot;){s+=&quot;&lt;&quot;+e;n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(s+=&quot; class='&quot;+n+&quot;'&quot;);r!=null&amp;&amp;r!=&quot;&quot;&amp;&amp;(s+=&quot; &quot;+r);i!=null&amp;&amp;i!=&quot;&quot;&amp;&amp;(s+=&quot; style='&quot;+i+&quot;'&quot;);s+=&quot;&gt;&quot;;t!=null&amp;&amp;t!=&quot;&quot;&amp;&amp;(s+=t);s=s+&quot;&lt;/&quot;+e+&quot;&gt;&quot;}return s};VMM.createMediaElement=function(e,t,n){var r=&quot;&quot;,i=!1;r+=&quot;<DIV class="media">&quot;;if(e!=null&amp;&amp;e!=&quot;&quot;){valid=!0;r+=&quot;&lt;img src='&quot;+e+&quot;'&gt;&quot;;n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(r+=VMM.createElement(&quot;div&quot;,n,&quot;credit&quot;));t!=null&amp;&amp;t!=&quot;&quot;&amp;&amp;(r+=VMM.createElement(&quot;div&quot;,t,&quot;caption&quot;))}r+=&quot;</DIV>&quot;;return r};VMM.hideUrlBar=function(){var e=window,t=e.document;if(!location.hash||!e.addEventListener){window.scrollTo(0,1);var n=1,r=setInterval(function(){if(t.body){clearInterval(r);n=&quot;scrollTop&quot;in t.body?t.body.scrollTop:1;e.scrollTo(0,n===1?0:1)}},15);e.addEventListener(&quot;load&quot;,function(){setTimeout(function(){e.scrollTo(0,n===1?0:1)},0)},!1)}}}Date.prototype.getWeek=function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)};Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)};var is={Null:function(e){return e===null},Undefined:function(e){return e===undefined},nt:function(e){return e===null||e===undefined},Function:function(e){return typeof e==&quot;function&quot;?e.constructor.toString().match(/Function/)!==null:!1},String:function(e){return typeof e==&quot;string&quot;?!0:typeof e==&quot;object&quot;?e.constructor.toString().match(/string/i)!==null:!1},Array:function(e){return typeof e==&quot;object&quot;?e.constructor.toString().match(/array/i)!==null||e.length!==undefined:!1},Boolean:function(e){return typeof e==&quot;boolean&quot;?!0:typeof e==&quot;object&quot;?e.constructor.toString().match(/boolean/i)!==null:!1},Date:function(e){return typeof e==&quot;date&quot;?!0:typeof e==&quot;object&quot;?e.constructor.toString().match(/date/i)!==null:!1},HTML:function(e){return typeof e==&quot;object&quot;?e.constructor.toString().match(/html/i)!==null:!1},Number:function(e){return typeof e==&quot;number&quot;?!0:typeof e==&quot;object&quot;?e.constructor.toString().match(/Number/)!==null:!1},Object:function(e){return typeof e==&quot;object&quot;?e.constructor.toString().match(/object/i)!==null:!1},RegExp:function(e){return typeof e==&quot;function&quot;?e.constructor.toString().match(/regexp/i)!==null:!1}},type={of:function(e){for(var t in is)if(is[t](e))return t.toLowerCase()}};if(typeof VMM!=&quot;undefined&quot;){VMM.smoothScrollTo=function(e,t,n){if(typeof jQuery!=&quot;undefined&quot;){var r=&quot;easein&quot;,i=1e3;t!=null&amp;&amp;(t&lt;1?i=1:i=Math.round(t));n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(r=n);jQuery(window).scrollTop()!=VMM.Lib.offset(e).top&amp;&amp;VMM.Lib.animate(&quot;html,body&quot;,i,r,{scrollTop:VMM.Lib.offset(e).top})}};VMM.attachElement=function(e,t){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).html(t)};VMM.appendElement=function(e,t){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).append(t)};VMM.getHTML=function(e){var t;if(typeof jQuery!=&quot;undefined&quot;){t=jQuery(e).html();return t}};VMM.getElement=function(e,t){var n;if(typeof jQuery!=&quot;undefined&quot;){t?n=jQuery(e).parent().get(0):n=jQuery(e).get(0);return n}};VMM.bindEvent=function(e,t,n,r){var i,s=&quot;click&quot;,o={};n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(s=n);o!=null&amp;&amp;o!=&quot;&quot;&amp;&amp;(o=r);typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).bind(s,o,t)};VMM.unbindEvent=function(e,t,n){var r,i=&quot;click&quot;,s={};n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(i=n);typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).unbind(i,t)};VMM.fireEvent=function(e,t,n){var r,i=&quot;click&quot;,s=[];t!=null&amp;&amp;t!=&quot;&quot;&amp;&amp;(i=t);n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(s=n);typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).trigger(i,s)};VMM.getJSON=function(e,t,n){if(typeof jQuery!=&quot;undefined&quot;){jQuery.ajaxSetup({timeout:3e3});if(VMM.Browser.browser==&quot;Explorer&quot;&amp;&amp;parseInt(VMM.Browser.version,10)&gt;=7&amp;&amp;window.XDomainRequest){trace(&quot;IE JSON&quot;);var r=e;if(r.match(&quot;^http://&quot;))return jQuery.getJSON(r,t,n);if(r.match(&quot;^https://&quot;)){r=r.replace(&quot;https://&quot;,&quot;http://&quot;);return jQuery.getJSON(r,t,n)}return jQuery.getJSON(e,t,n)}return jQuery.getJSON(e,t,n)}};VMM.parseJSON=function(e){if(typeof jQuery!=&quot;undefined&quot;)return jQuery.parseJSON(e)};VMM.appendAndGetElement=function(e,t,n,r){var i,s=&quot;<DIV>&quot;,o=&quot;&quot;,u=&quot;&quot;,a=&quot;&quot;;t!=null&amp;&amp;t!=&quot;&quot;&amp;&amp;(s=t);n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(o=n);r!=null&amp;&amp;r!=&quot;&quot;&amp;&amp;(u=r);if(typeof jQuery!=&quot;undefined&quot;){i=jQuery(t);i.addClass(o);i.html(u);jQuery(e).append(i)}return i};VMM.Lib={init:function(){return this},hide:function(e,t){t!=null&amp;&amp;t!=&quot;&quot;?typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).hide(t):typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).hide()},remove:function(e){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).remove()},detach:function(e){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).detach()},append:function(e,t){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).append(t)},prepend:function(e,t){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).prepend(t)},show:function(e,t){t!=null&amp;&amp;t!=&quot;&quot;?typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).show(t):typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).show()},load:function(e,t,n){var r={elem:e};r!=null&amp;&amp;r!=&quot;&quot;&amp;&amp;(r=n);typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).load(r,t)},addClass:function(e,t){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).addClass(t)},removeClass:function(e,t){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).removeClass(t)},attr:function(e,t,n){if(n!=null&amp;&amp;n!=&quot;&quot;)typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).attr(t,n);else if(typeof jQuery!=&quot;undefined&quot;)return jQuery(e).attr(t)},prop:function(e,t,n){typeof jQuery==&quot;undefined&quot;||!/[1-9]\.[3-9].[1-9]/.test(jQuery.fn.jquery)?VMM.Lib.attribute(e,t,n):jQuery(e).prop(t,n)},attribute:function(e,t,n){if(n!=null&amp;&amp;n!=&quot;&quot;)typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).attr(t,n);else if(typeof jQuery!=&quot;undefined&quot;)return jQuery(e).attr(t)},visible:function(e,t){if(t!=null)typeof jQuery!=&quot;undefined&quot;&amp;&amp;(t?jQuery(e).show(0):jQuery(e).hide(0));else if(typeof jQuery!=&quot;undefined&quot;)return jQuery(e).is(&quot;:visible&quot;)?!0:!1},css:function(e,t,n){if(n!=null&amp;&amp;n!=&quot;&quot;)typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).css(t,n);else if(typeof jQuery!=&quot;undefined&quot;)return jQuery(e).css(t)},cssmultiple:function(e,t){if(typeof jQuery!=&quot;undefined&quot;)return jQuery(e).css(t)},offset:function(e){var t;typeof jQuery!=&quot;undefined&quot;&amp;&amp;(t=jQuery(e).offset());return t},position:function(e){var t;typeof jQuery!=&quot;undefined&quot;&amp;&amp;(t=jQuery(e).position());return t},width:function(e,t){if(t!=null&amp;&amp;t!=&quot;&quot;)typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).width(t);else if(typeof jQuery!=&quot;undefined&quot;)return jQuery(e).width()},height:function(e,t){if(t!=null&amp;&amp;t!=&quot;&quot;)typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).height(t);else if(typeof jQuery!=&quot;undefined&quot;)return jQuery(e).height()},toggleClass:function(e,t){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).toggleClass(t)},each:function(e,t){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).each(t)},html:function(e,t){var n;if(typeof jQuery!=&quot;undefined&quot;){n=jQuery(e).html();return n}if(t!=null&amp;&amp;t!=&quot;&quot;)typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).html(t);else{var n;if(typeof jQuery!=&quot;undefined&quot;){n=jQuery(e).html();return n}}},find:function(e,t){if(typeof jQuery!=&quot;undefined&quot;)return jQuery(e).find(t)},stop:function(e){typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(e).stop()},delay_animate:function(e,t,n,r,i,s){if(VMM.Browser.device==&quot;mobile&quot;||VMM.Browser.device==&quot;tablet&quot;){var o=Math.round(n/1500*10)/10,u=o+&quot;s&quot;;VMM.Lib.css(t,&quot;-webkit-transition&quot;,&quot;all &quot;+u+&quot; ease&quot;);VMM.Lib.css(t,&quot;-moz-transition&quot;,&quot;all &quot;+u+&quot; ease&quot;);VMM.Lib.css(t,&quot;-o-transition&quot;,&quot;all &quot;+u+&quot; ease&quot;);VMM.Lib.css(t,&quot;-ms-transition&quot;,&quot;all &quot;+u+&quot; ease&quot;);VMM.Lib.css(t,&quot;transition&quot;,&quot;all &quot;+u+&quot; ease&quot;);VMM.Lib.cssmultiple(t,_att)}else typeof jQuery!=&quot;undefined&quot;&amp;&amp;jQuery(t).delay(e).animate(i,{duration:n,easing:r})},animate:function(e,t,n,r,i,s){var o=&quot;easein&quot;,u=!1,a=1e3,f={};t!=null&amp;&amp;(t&lt;1?a=1:a=Math.round(t));n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(o=n);i!=null&amp;&amp;i!=&quot;&quot;&amp;&amp;(u=i);r!=null?f=r:f={opacity:0};if(VMM.Browser.device==&quot;mobile&quot;||VMM.Browser.device==&quot;tablet&quot;){var l=Math.round(a/1500*10)/10,c=l+&quot;s&quot;;o=&quot; cubic-bezier(0.33, 0.66, 0.66, 1)&quot;;for(x in f)if(Object.prototype.hasOwnProperty.call(f,x)){trace(x+&quot; to &quot;+f[x]);VMM.Lib.css(e,&quot;-webkit-transition&quot;,x+&quot; &quot;+c+o);VMM.Lib.css(e,&quot;-moz-transition&quot;,x+&quot; &quot;+c+o);VMM.Lib.css(e,&quot;-o-transition&quot;,x+&quot; &quot;+c+o);VMM.Lib.css(e,&quot;-ms-transition&quot;,x+&quot; &quot;+c+o);VMM.Lib.css(e,&quot;transition&quot;,x+&quot; &quot;+c+o)}VMM.Lib.cssmultiple(e,f)}else typeof jQuery!=&quot;undefined&quot;&amp;&amp;(s!=null&amp;&amp;s!=&quot;&quot;?jQuery(e).animate(f,{queue:u,duration:a,easing:o,complete:s}):jQuery(e).animate(f,{queue:u,duration:a,easing:o}))}}}if(typeof jQuery!=&quot;undefined&quot;){(function(e){window.XDomainRequest&amp;&amp;e.ajaxTransport(function(t){if(t.crossDomain&amp;&amp;t.async){if(t.timeout){t.xdrTimeout=t.timeout;delete t.timeout}var n;return{send:function(r,i){function o(t,r,s,o){n.onload=n.onerror=n.ontimeout=e.noop;n=undefined;i(t,r,s,o)}n=new XDomainRequest;n.open(t.type,t.url);n.onload=function(){o(200,&quot;OK&quot;,{text:n.responseText},&quot;Content-Type: &quot;+n.contentType)};n.onerror=function(){o(404,&quot;Not Found&quot;)};if(t.xdrTimeout){n.ontimeout=function(){o(0,&quot;timeout&quot;)};n.timeout=t.xdrTimeout}n.send(t.hasContent&amp;&amp;t.data||null)},abort:function(){if(n){n.onerror=e.noop();n.abort()}}}}})})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:&quot;easeOutQuad&quot;,swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)&lt;1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)&lt;1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n}})}if(typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.Browser==&quot;undefined&quot;){VMM.Browser={init:function(){this.browser=this.searchString(this.dataBrowser)||&quot;An unknown browser&quot;;this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||&quot;an unknown version&quot;;this.tridentVersion=this.searchTridentVersion(navigator.userAgent);this.OS=this.searchString(this.dataOS)||&quot;an unknown OS&quot;;this.device=this.searchDevice(navigator.userAgent);this.orientation=this.searchOrientation(window.orientation)},searchOrientation:function(e){var t=&quot;&quot;;e==0||e==180?t=&quot;portrait&quot;:e==90||e==-90?t=&quot;landscape&quot;:t=&quot;normal&quot;;return t},searchDevice:function(e){var t=&quot;&quot;;e.match(/Android/i)||e.match(/iPhone|iPod/i)?t=&quot;mobile&quot;:e.match(/iPad/i)?t=&quot;tablet&quot;:e.match(/BlackBerry/i)||e.match(/IEMobile/i)?t=&quot;other mobile&quot;:t=&quot;desktop&quot;;return t},searchString:function(e){for(var t=0;t&lt;e.length;t++){var n=e[t].string,r=e[t].prop;this.versionSearchString=e[t].versionSearch||e[t].identity;if(n){if(n.indexOf(e[t].subString)!=-1)return e[t].identity}else if(r)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(t==-1)return;return parseFloat(e.substring(t+this.versionSearchString.length+1))},searchTridentVersion:function(e){var t=e.indexOf(&quot;Trident/&quot;);return t==-1?0:parseFloat(e.substring(t+8))},dataBrowser:[{string:navigator.userAgent,subString:&quot;Chrome&quot;,identity:&quot;Chrome&quot;},{string:navigator.userAgent,subString:&quot;OmniWeb&quot;,versionSearch:&quot;OmniWeb/&quot;,identity:&quot;OmniWeb&quot;},{string:navigator.vendor,subString:&quot;Apple&quot;,identity:&quot;Safari&quot;,versionSearch:&quot;Version&quot;},{prop:window.opera,identity:&quot;Opera&quot;,versionSearch:&quot;Version&quot;},{string:navigator.vendor,subString:&quot;iCab&quot;,identity:&quot;iCab&quot;},{string:navigator.vendor,subString:&quot;KDE&quot;,identity:&quot;Konqueror&quot;},{string:navigator.userAgent,subString:&quot;Firefox&quot;,identity:&quot;Firefox&quot;},{string:navigator.vendor,subString:&quot;Camino&quot;,identity:&quot;Camino&quot;},{string:navigator.userAgent,subString:&quot;Netscape&quot;,identity:&quot;Netscape&quot;},{string:navigator.userAgent,subString:&quot;MSIE&quot;,identity:&quot;Explorer&quot;,versionSearch:&quot;MSIE&quot;},{string:navigator.userAgent,subString:&quot;Gecko&quot;,identity:&quot;Mozilla&quot;,versionSearch:&quot;rv&quot;},{string:navigator.userAgent,subString:&quot;Mozilla&quot;,identity:&quot;Netscape&quot;,versionSearch:&quot;Mozilla&quot;}],dataOS:[{string:navigator.platform,subString:&quot;Win&quot;,identity:&quot;Windows&quot;},{string:navigator.platform,subString:&quot;Mac&quot;,identity:&quot;Mac&quot;},{string:navigator.userAgent,subString:&quot;iPhone&quot;,identity:&quot;iPhone/iPod&quot;},{string:navigator.userAgent,subString:&quot;iPad&quot;,identity:&quot;iPad&quot;},{string:navigator.platform,subString:&quot;Linux&quot;,identity:&quot;Linux&quot;}]};VMM.Browser.init()}typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.FileExtention==&quot;undefined&quot;&amp;&amp;(VMM.FileExtention={googleDocType:function(e){var t=e.replace(/\s\s*$/,&quot;&quot;),n=&quot;&quot;,r=[&quot;DOC&quot;,&quot;DOCX&quot;,&quot;XLS&quot;,&quot;XLSX&quot;,&quot;PPT&quot;,&quot;PPTX&quot;,&quot;PDF&quot;,&quot;PAGES&quot;,&quot;AI&quot;,&quot;PSD&quot;,&quot;TIFF&quot;,&quot;DXF&quot;,&quot;SVG&quot;,&quot;EPS&quot;,&quot;PS&quot;,&quot;TTF&quot;,&quot;XPS&quot;,&quot;ZIP&quot;,&quot;RAR&quot;],i=!1;n=t.substr(t.length-5,5);for(var s=0;s&lt;r.length;s++)if(n.toLowerCase().match(r[s].toString().toLowerCase())||t.match(&quot;docs.google.com&quot;))i=!0;return i}});if(typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.Date==&quot;undefined&quot;){VMM.Date={init:function(){return this},dateformats:{year:&quot;yyyy&quot;,month_short:&quot;mmm&quot;,month:&quot;mmmm yyyy&quot;,full_short:&quot;mmm d&quot;,full:&quot;mmmm d',' yyyy&quot;,time_short:&quot;h:MM:ss TT&quot;,time_no_seconds_short:&quot;h:MM TT&quot;,time_no_seconds_small_date:&quot;h:MM TT'<SMALL>'mmmm d',' yyyy'</SMALL>'&quot;,full_long:&quot;mmm d',' yyyy 'at' hh:MM TT&quot;,full_long_small_date:&quot;hh:MM TT'<SMALL>mmm d',' yyyy'</SMALL>'&quot;},month:[&quot;January&quot;,&quot;February&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;,&quot;December&quot;],month_abbr:[&quot;Jan.&quot;,&quot;Feb.&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;Aug.&quot;,&quot;Sept.&quot;,&quot;Oct.&quot;,&quot;Nov.&quot;,&quot;Dec.&quot;],day:[&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;],day_abbr:[&quot;Sun.&quot;,&quot;Mon.&quot;,&quot;Tues.&quot;,&quot;Wed.&quot;,&quot;Thurs.&quot;,&quot;Fri.&quot;,&quot;Sat.&quot;],hour:[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11,12],hour_suffix:[&quot;am&quot;],bc_format:{year:&quot;yyyy&quot;,month_short:&quot;mmm&quot;,month:&quot;mmmm yyyy&quot;,full_short:&quot;mmm d&quot;,full:&quot;mmmm d',' yyyy&quot;,time_no_seconds_short:&quot;h:MM TT&quot;,time_no_seconds_small_date:&quot;dddd', 'h:MM TT'<SMALL>'mmmm d',' yyyy'</SMALL>'&quot;,full_long:&quot;dddd',' mmm d',' yyyy 'at' hh:MM TT&quot;,full_long_small_date:&quot;hh:MM TT'<SMALL>'dddd',' mmm d',' yyyy'</SMALL>'&quot;},setLanguage:function(e){trace(&quot;SET DATE LANGUAGE&quot;);VMM.Date.dateformats=e.dateformats;VMM.Date.month=e.date.month;VMM.Date.month_abbr=e.date.month_abbr;VMM.Date.day=e.date.day;VMM.Date.day_abbr=e.date.day_abbr;dateFormat.i18n.dayNames=e.date.day_abbr.concat(e.date.day);dateFormat.i18n.monthNames=e.date.month_abbr.concat(e.date.month)},parse:function(e,t){&quot;use strict&quot;;var n,r,i,s,o={year:!1,month:!1,day:!1,hour:!1,minute:!1,second:!1,millisecond:!1};if(type.of(e)==&quot;date&quot;){trace(&quot;DEBUG THIS, ITs A DATE&quot;);n=e}else{n=new Date(0,0,1,0,0,0,0);if(e.match(/,/gi)){r=e.split(&quot;,&quot;);for(var u=0;u&lt;r.length;u++)r[u]=parseInt(r[u],10);if(r[0]){n.setFullYear(r[0]);o.year=!0}if(r[1]){n.setMonth(r[1]-1);o.month=!0}if(r[2]){n.setDate(r[2]);o.day=!0}if(r[3]){n.setHours(r[3]);o.hour=!0}if(r[4]){n.setMinutes(r[4]);o.minute=!0}if(r[5]){n.setSeconds(r[5]);r[5]&gt;=1&amp;&amp;(o.second=!0)}if(r[6]){n.setMilliseconds(r[6]);r[6]&gt;=1&amp;&amp;(o.millisecond=!0)}}else if(e.match(&quot;/&quot;)){if(e.match(&quot; &quot;)){s=e.split(&quot; &quot;);if(e.match(&quot;:&quot;)){i=s[1].split(&quot;:&quot;);if(i[0]&gt;=0){n.setHours(i[0]);o.hour=!0}if(i[1]&gt;=0){n.setMinutes(i[1]);o.minute=!0}if(i[2]&gt;=0){n.setSeconds(i[2]);o.second=!0}if(i[3]&gt;=0){n.setMilliseconds(i[3]);o.millisecond=!0}}r=s[0].split(&quot;/&quot;)}else r=e.split(&quot;/&quot;);if(r[2]){n.setFullYear(r[2]);o.year=!0}if(r[0]&gt;=0){n.setMonth(r[0]-1);o.month=!0}if(r[1]&gt;=0)if(r[1].length&gt;2){n.setFullYear(r[1]);o.year=!0}else{n.setDate(r[1]);o.day=!0}}else if(e.match(&quot;now&quot;)){var a=new Date;n.setFullYear(a.getFullYear());o.year=!0;n.setMonth(a.getMonth());o.month=!0;n.setDate(a.getDate());o.day=!0;if(e.match(&quot;hours&quot;)){n.setHours(a.getHours());o.hour=!0}if(e.match(&quot;minutes&quot;)){n.setHours(a.getHours());n.setMinutes(a.getMinutes());o.hour=!0;o.minute=!0}if(e.match(&quot;seconds&quot;)){n.setHours(a.getHours());n.setMinutes(a.getMinutes());n.setSeconds(a.getSeconds());o.hour=!0;o.minute=!0;o.second=!0}if(e.match(&quot;milliseconds&quot;)){n.setHours(a.getHours());n.setMinutes(a.getMinutes());n.setSeconds(a.getSeconds());n.setMilliseconds(a.getMilliseconds());o.hour=!0;o.minute=!0;o.second=!0;o.millisecond=!0}}else if(e.length&lt;=8){o.year=!0;n.setFullYear(parseInt(e,10));n.setMonth(0);n.setDate(1);n.setHours(0);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0)}else if(e.match(&quot;T&quot;))if(navigator.userAgent.match(/MSIE\s(?!9.0)/)){s=e.split(&quot;T&quot;);if(e.match(&quot;:&quot;)){i=s[1].split(&quot;:&quot;);if(i[0]&gt;=1){n.setHours(i[0]);o.hour=!0}if(i[1]&gt;=1){n.setMinutes(i[1]);o.minute=!0}if(i[2]&gt;=1){n.setSeconds(i[2]);i[2]&gt;=1&amp;&amp;(o.second=!0)}if(i[3]&gt;=1){n.setMilliseconds(i[3]);i[3]&gt;=1&amp;&amp;(o.millisecond=!0)}}r=s[0].split(&quot;-&quot;);if(r[0]){n.setFullYear(r[0]);o.year=!0}if(r[1]&gt;=0){n.setMonth(r[1]-1);o.month=!0}if(r[2]&gt;=0){n.setDate(r[2]);o.day=!0}}else{n=new Date(Date.parse(e));o.year=!0;o.month=!0;o.day=!0;o.hour=!0;o.minute=!0;n.getSeconds()&gt;=1&amp;&amp;(o.second=!0);n.getMilliseconds()&gt;=1&amp;&amp;(o.millisecond=!0)}else{n=new Date(parseInt(e.slice(0,4),10),parseInt(e.slice(4,6),10)-1,parseInt(e.slice(6,8),10),parseInt(e.slice(8,10),10),parseInt(e.slice(10,12),10));o.year=!0;o.month=!0;o.day=!0;o.hour=!0;o.minute=!0;n.getSeconds()&gt;=1&amp;&amp;(o.second=!0);n.getMilliseconds()&gt;=1&amp;&amp;(o.millisecond=!0)}}return t!=null&amp;&amp;t!=&quot;&quot;?{date:n,precision:o}:n},prettyDate:function(e,t,n,r){var i,s,o,u,a=!1,f,l,c;if(r!=null&amp;&amp;r!=&quot;&quot;&amp;&amp;typeof r!=&quot;undefined&quot;){a=!0;trace(&quot;D2 &quot;+r)}if(type.of(e)==&quot;date&quot;){type.of(n)==&quot;object&quot;?n.millisecond||n.second&amp;&amp;e.getSeconds()&gt;=1?t?o=VMM.Date.dateformats.time_short:o=VMM.Date.dateformats.time_short:n.minute?t?o=VMM.Date.dateformats.time_no_seconds_short:o=VMM.Date.dateformats.time_no_seconds_small_date:n.hour?t?o=VMM.Date.dateformats.time_no_seconds_short:o=VMM.Date.dateformats.time_no_seconds_small_date:n.day?t?o=VMM.Date.dateformats.full_short:o=VMM.Date.dateformats.full:n.month?t?o=VMM.Date.dateformats.month_short:o=VMM.Date.dateformats.month:n.year?o=VMM.Date.dateformats.year:o=VMM.Date.dateformats.year:e.getMonth()===0&amp;&amp;e.getDate()==1&amp;&amp;e.getHours()===0&amp;&amp;e.getMinutes()===0?o=VMM.Date.dateformats.year:e.getDate()&lt;=1&amp;&amp;e.getHours()===0&amp;&amp;e.getMinutes()===0?t?o=VMM.Date.dateformats.month_short:o=VMM.Date.dateformats.month:e.getHours()===0&amp;&amp;e.getMinutes()===0?t?o=VMM.Date.dateformats.full_short:o=VMM.Date.dateformats.full:e.getMinutes()===0?t?o=VMM.Date.dateformats.time_no_seconds_short:o=VMM.Date.dateformats.time_no_seconds_small_date:t?o=VMM.Date.dateformats.time_no_seconds_short:o=VMM.Date.dateformats.full_long;i=dateFormat(e,o,!1);u=i.split(&quot; &quot;);for(var h=0;h&lt;u.length;h++)if(parseInt(u[h],10)&lt;0){trace(&quot;YEAR IS BC&quot;);f=u[h];l=Math.abs(parseInt(u[h],10));c=l.toString()+&quot; B.C.&quot;;i=i.replace(f,c)}if(a){s=dateFormat(r,o,!1);u=s.split(&quot; &quot;);for(var p=0;p&lt;u.length;p++)if(parseInt(u[p],10)&lt;0){trace(&quot;YEAR IS BC&quot;);f=u[p];l=Math.abs(parseInt(u[p],10));c=l.toString()+&quot; B.C.&quot;;s=s.replace(f,c)}}}else{trace(&quot;NOT A VALID DATE?&quot;);trace(e)}return a?i+&quot; — &quot;+s:i}}.init();var dateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[WLloSZ]|&quot;[^&quot;]*&quot;|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,r=function(e,t){e=String(e);t=t||2;while(e.length&lt;t)e=&quot;0&quot;+e;return e};return function(i,s,o){var u=dateFormat;if(arguments.length==1&amp;&amp;Object.prototype.toString.call(i)==&quot;[object String]&quot;&amp;&amp;!/\d/.test(i)){s=i;i=undefined}isNaN(i)&amp;&amp;trace(&quot;invalid date &quot;+i);s=String(u.masks[s]||s||u.masks[&quot;default&quot;]);if(s.slice(0,4)==&quot;UTC:&quot;){s=s.slice(4);o=!0}var a=o?&quot;getUTC&quot;:&quot;get&quot;,f=i[a+&quot;Date&quot;](),l=i[a+&quot;Day&quot;](),c=i[a+&quot;Month&quot;](),h=i[a+&quot;FullYear&quot;](),p=i[a+&quot;Hours&quot;](),d=i[a+&quot;Minutes&quot;](),v=i[a+&quot;Seconds&quot;](),m=i[a+&quot;Milliseconds&quot;](),g=i.getWeek(),y=o?0:i.getTimezoneOffset(),b={d:f,dd:r(f),ddd:u.i18n.dayNames[l],dddd:u.i18n.dayNames[l+7],m:c+1,mm:r(c+1),mmm:u.i18n.monthNames[c],mmmm:u.i18n.monthNames[c+12],yy:String(h).slice(2),yyyy:h,h:p%12||12,hh:r(p%12||12),H:p,HH:r(p),M:d,MM:r(d),s:v,ss:r(v),l:r(m,3),L:r(m&gt;99?Math.round(m/10):m),t:p&lt;12?&quot;a&quot;:&quot;p&quot;,tt:p&lt;12?&quot;am&quot;:&quot;pm&quot;,T:p&lt;12?&quot;A&quot;:&quot;P&quot;,TT:p&lt;12?&quot;AM&quot;:&quot;PM&quot;,Z:o?&quot;UTC&quot;:(String(i).match(t)||[&quot;&quot;]).pop().replace(n,&quot;&quot;),o:(y&gt;0?&quot;-&quot;:&quot;+&quot;)+r(Math.floor(Math.abs(y)/60)*100+Math.abs(y)%60,4),S:[&quot;th&quot;,&quot;st&quot;,&quot;nd&quot;,&quot;rd&quot;][f%10&gt;3?0:(f%100-f%10!=10)*f%10],W:g};return s.replace(e,function(e){return e in b?b[e]:e.slice(1,e.length-1)})}}();dateFormat.masks={&quot;default&quot;:&quot;ddd mmm dd yyyy HH:MM:ss&quot;,shortDate:&quot;m/d/yy&quot;,mediumDate:&quot;mmm d, yyyy&quot;,longDate:&quot;mmmm d, yyyy&quot;,fullDate:&quot;dddd, mmmm d, yyyy&quot;,shortTime:&quot;h:MM TT&quot;,mediumTime:&quot;h:MM:ss TT&quot;,longTime:&quot;h:MM:ss TT Z&quot;,isoDate:&quot;yyyy-mm-dd&quot;,isoTime:&quot;HH:MM:ss&quot;,isoDateTime:&quot;yyyy-mm-dd'T'HH:MM:ss&quot;,isoUtcDateTime:&quot;UTC:yyyy-mm-dd'T'HH:MM:ss'Z'&quot;};dateFormat.i18n={dayNames:[&quot;Sun&quot;,&quot;Mon&quot;,&quot;Tue&quot;,&quot;Wed&quot;,&quot;Thu&quot;,&quot;Fri&quot;,&quot;Sat&quot;,&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;],monthNames:[&quot;Jan&quot;,&quot;Feb&quot;,&quot;Mar&quot;,&quot;Apr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;Jul&quot;,&quot;Aug&quot;,&quot;Sep&quot;,&quot;Oct&quot;,&quot;Nov&quot;,&quot;Dec&quot;,&quot;January&quot;,&quot;February&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;,&quot;December&quot;]};Date.prototype.format=function(e,t){return dateFormat(this,e,t)}}typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.Util==&quot;undefined&quot;&amp;&amp;(VMM.Util={init:function(){return this},removeRange:function(e,t,n){var r=e.slice((n||t)+1||e.length);e.length=t&lt;0?e.length+t:t;return e.push.apply(e,r)},correctProtocol:function(e){var t=window.parent.location.protocol.toString(),n=&quot;&quot;,r=e.split(&quot;://&quot;,2);t.match(&quot;http&quot;)?n=t:n=&quot;https&quot;;return n+&quot;://&quot;+r[1]},mergeConfig:function(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&amp;&amp;(e[n]=t[n]);return e},getObjectAttributeByIndex:function(e,t){if(typeof e!=&quot;undefined&quot;){var n=0;for(var r in e){if(t===n)return e[r];n++}return&quot;&quot;}return&quot;&quot;},ordinal:function(e){return[&quot;th&quot;,&quot;st&quot;,&quot;nd&quot;,&quot;rd&quot;][!(e%10&gt;3||Math.floor(e%100/10)==1)*(e%10)]},randomBetween:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},average:function(e){var t={mean:0,variance:0,deviation:0},n=e.length;for(var r,i=0,s=n;s--;i+=e[s]);for(r=t.mean=i/n,s=n,i=0;s--;i+=Math.pow(e[s]-r,2));return t.deviation=Math.sqrt(t.variance=i/n),t},customSort:function(e,t){var n=e,r=t;return n==r?0:n&gt;r?1:-1},deDupeArray:function(e){var t,n=e.length,r=[],i={};for(t=0;t&lt;n;t++)i[e[t]]=0;for(t in i)r.push(t);return r},wordCount:function(e){var t=e+&quot; &quot;,n=/^[^A-Za-z0-9\'\-]+/gi,r=t.replace(n,&quot;&quot;),i=/[^A-Za-z0-9\'\-]+/gi,s=r.replace(i,&quot; &quot;),o=s.split(&quot; &quot;),u=o.length-1;t.length&lt;2&amp;&amp;(u=0);return u},ratio:{fit:function(e,t,n,r){var i={width:0,height:0};i.width=e;i.height=Math.round(e/n*r);if(i.height&gt;t){i.height=t;i.width=Math.round(t/r*n);i.width&gt;e&amp;&amp;trace(&quot;FIT: DIDN'T FIT!!! &quot;)}return i},r16_9:function(e,t){if(e!==null&amp;&amp;e!==&quot;&quot;)return Math.round(t/16*9);if(t!==null&amp;&amp;t!==&quot;&quot;)return Math.round(e/9*16)},r4_3:function(e,t){if(e!==null&amp;&amp;e!==&quot;&quot;)return Math.round(t/4*3);if(t!==null&amp;&amp;t!==&quot;&quot;)return Math.round(e/3*4)}},doubledigit:function(e){return(e&lt;10?&quot;0&quot;:&quot;&quot;)+e},truncateWords:function(e,t,n){t||(t=30);n||(n=t);var r=/^[^A-Za-z0-9\'\-]+/gi,i=e.replace(r,&quot;&quot;),s=i.split(&quot; &quot;),o=[];t=Math.min(s.length,t);n=Math.min(s.length,n);for(var u=0;u&lt;t;u++)o.push(s[u]);for(var a=t;u&lt;n;u++){var f=s[u];o.push(f);if(f.charAt(f.length-1)==&quot;.&quot;)break}return o.join(&quot; &quot;)},linkify:function(e,t,n){var r=/\b(?:https?|ftp):\/\/[a-z0-9-+&amp;@#\/%?=~_|!:,.;]*[a-z0-9-+&amp;@#\/%=~_|]/gim,i=/(^|[^\/])(www\.[\S]+(\b|$))/gim,s=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim;return e.replace(r,&quot;&lt;a target='_blank' href='$&amp;' onclick='void(0)'&gt;$&amp;&lt;/a&gt;&quot;).replace(i,&quot;$1&lt;a target='_blank' onclick='void(0)' href='<A href="http://$2'" class="external free" rel="nofollow">http://$2'</A>&gt;$2&lt;/a&gt;&quot;).replace(s,&quot;&lt;a target='_blank' onclick='void(0)' href='<A href="mailto:$1'" class="external free" rel="nofollow">mailto:$1'</A>&gt;$1&lt;/a&gt;&quot;)},linkify_with_twitter:function(e,t,n){function u(e){var t=/(\b(https?|ftp|file):\/\/([-A-Z0-9+&amp;@#%?=~_|!:,.;]*)([-A-Z0-9+&amp;@#%?\/=~_|!:,.;]*)[-A-Z0-9+&amp;@#\/%=~_|])/ig;return e.replace(t,&quot;&lt;a href='$1' target='_blank'&gt;$3&lt;/a&gt;&quot;)}var r=/\b(?:https?|ftp):\/\/[a-z0-9-+&amp;@#\/%?=~_|!:,.;]*[a-z0-9-+&amp;@#\/%=~_|]/gim,i=/(\()((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&amp;'()*+,;=:\/?#[\]@%]+)(\))|(\[)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&amp;'()*+,;=:\/?#[\]@%]+)(\])|(\{)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&amp;'()*+,;=:\/?#[\]@%]+)(\})|(&lt;|&amp;(?:lt|#60|#x3c);)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&amp;'()*+,;=:\/?#[\]@%]+)(&gt;|&amp;(?:gt|#62|#x3e);)|((?:^|[^=\s'&quot;\]])\s*['&quot;]?|[^=\s]\s+)(\b(?:ht|f)tps?:\/\/[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]+(?:(?!&amp;(?:gt|#0*62|#x0*3e);|&amp;(?:amp|apos|quot|#0*3[49]|#x0*2[27]);[.!&amp;',:?;]?(?:[^a-z0-9\-._~!$&amp;'()*+,;=:\/?#[\]@%]|$))&amp;[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]*)*[a-z0-9\-_~$()*+=\/#[\]@%])/img,s='$1$4$7$10$13&lt;a href=&quot;$2$5$8$11$14&quot; target=&quot;_blank&quot; class=&quot;hyphenate&quot;&gt;$2$5$8$11$14&lt;/a&gt;$3$6$9$12',o=/(^|[^\/])(www\.[\S]+(\b|$))/gim,a=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim,f=/\B@([\w-]+)/gm,l=/(#([\w]+))/g;return e.replace(i,s).replace(o,&quot;$1&lt;a target='_blank' class='hyphenate' onclick='void(0)' href='<A href="http://$2'" class="external free" rel="nofollow">http://$2'</A>&gt;$2&lt;/a&gt;&quot;).replace(a,&quot;&lt;a target='_blank' onclick='void(0)' href='<A href="mailto:$1'" class="external free" rel="nofollow">mailto:$1'</A>&gt;$1&lt;/a&gt;&quot;).replace(f,&quot;&lt;a href='<A href="http://twitter.com/$1'" class="external free" rel="nofollow">http://twitter.com/$1'</A> target='_blank' onclick='void(0)'&gt;@$1&lt;/a&gt;&quot;)},linkify_wikipedia:function(e){var t=/<I>]*&gt;(.*?)&lt;\/i&gt;/gim;return e.replace(t,&quot;&lt;a target='_blank' href='<A href="http://en.wikipedia.org/wiki/$&amp;'" class="external free" rel="nofollow">http://en.wikipedia.org/wiki/$&amp;'</A> onclick='void(0)'&gt;$&amp;&lt;/a&gt;&quot;).replace(/&lt;i\b[^&gt;]*&gt;/gim,&quot;&quot;).replace(/&lt;\/i&gt;/gim,&quot;&quot;).replace(/<B>]*&gt;/gim,&quot;&quot;).replace(/&lt;\/b&gt;/gim,&quot;&quot;)},unlinkify:function(e){if(!e)return e;e=e.replace(/&lt;a\b[^&gt;]*&gt;/i,&quot;&quot;);e=e.replace(/&lt;\/a&gt;/i,&quot;&quot;);return e},untagify:function(e){if(!e)return e;e=e.replace(/&lt;\/?\s*\w.*?&gt;/g,&quot;&quot;);return e},nl2br:function(e){return e.replace(/(\r\n|[\r\n]|\\n|\\r)/g,&quot;&quot;)},unique_ID:function(e){var t=function(e){return Math.floor(Math.random()*e)},n=function(){var e=&quot;abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ&quot;;return e.substr(t(62),1)},r=function(e){var t=&quot;&quot;;for(var r=0;r&lt;e;r++)t+=n();return t};return r(e)},isEven:function(e){return e%2===0?!0:!1},getUrlVars:function(e){var t=e.toString();t.match(&quot;&amp;&quot;)?t=t.replace(&quot;&amp;&quot;,&quot;&amp;&quot;):t.match(&quot;&amp;&quot;)?t=t.replace(&quot;&amp;&quot;,&quot;&amp;&quot;):t.match(&quot;&amp;&quot;)&amp;&amp;(t=t.replace(&quot;&amp;&quot;,&quot;&amp;&quot;));var n=[],r,i=t.slice(t.indexOf(&quot;?&quot;)+1).split(&quot;&amp;&quot;);for(var s=0;s&lt;i.length;s++){r=i[s].split(&quot;=&quot;);n.push(r[0]);n[r[0]]=r[1]}return n},toHTML:function(e){e=this.nl2br(e);e=this.linkify(e);return e.replace(/\s\s/g,&quot;  &quot;)},toCamelCase:function(e,t){t!==!1&amp;&amp;(t=!0);var n=(t?e.toLowerCase():e).split(&quot; &quot;);for(var r=0;r&lt;n.length;r++)n[r]=n[r].substr(0,1).toUpperCase()+n[r].substr(1);return n.join(&quot; &quot;)},properQuotes:function(e){return e.replace(/\&quot;([^\&quot;]*)\&quot;/gi,&quot;“$1”&quot;)},niceNumber:function(e){e+=&quot;&quot;;x=e.split(&quot;.&quot;);x1=x[0];x2=x.length&gt;1?&quot;.&quot;+x[1]:&quot;&quot;;var t=/(\d+)(\d{3})/;while(t.test(x1))x1=x1.replace(t,&quot;$1,$2&quot;);return x1+x2},toTitleCase:function(e){if(VMM.Browser.browser==&quot;Explorer&quot;&amp;&amp;parseInt(VMM.Browser.version,10)&gt;=7)return e.replace(&quot;_&quot;,&quot;%20&quot;);var t={__smallWords:[&quot;a&quot;,&quot;an&quot;,&quot;and&quot;,&quot;as&quot;,&quot;at&quot;,&quot;but&quot;,&quot;by&quot;,&quot;en&quot;,&quot;for&quot;,&quot;if&quot;,&quot;in&quot;,&quot;of&quot;,&quot;on&quot;,&quot;or&quot;,&quot;the&quot;,&quot;to&quot;,&quot;v[.]?&quot;,&quot;via&quot;,&quot;vs[.]?&quot;],init:function(){this.__smallRE=this.__smallWords.join(&quot;|&quot;);this.__lowerCaseWordsRE=new RegExp(&quot;\\b(&quot;+this.__smallRE+&quot;)\\b&quot;,&quot;gi&quot;);this.__firstWordRE=new RegExp(&quot;^([^a-zA-Z0-9 \\r\\n\\t]*)(&quot;+this.__smallRE+&quot;)\\b&quot;,&quot;gi&quot;);this.__lastWordRE=new RegExp(&quot;\\b(&quot;+this.__smallRE+&quot;)([^a-zA-Z0-9 \\r\\n\\t]*)$&quot;,&quot;gi&quot;)},toTitleCase:function(e){var t=&quot;&quot;,n=e.split(/([:.;?!][ ]|(?:[ ]|^)[&quot;“])/);for(var r=0;r&lt;n.length;++r){var i=n[r];i=i.replace(/\b([a-zA-Z][a-z.'’]*)\b/g,this.__titleCaseDottedWordReplacer);i=i.replace(this.__lowerCaseWordsRE,this.__lowerReplacer);i=i.replace(this.__firstWordRE,this.__firstToUpperCase);i=i.replace(this.__lastWordRE,this.__firstToUpperCase);t+=i}t=t.replace(/ V(s?)\. /g,&quot; v$1. &quot;);t=t.replace(/(['’])S\b/g,&quot;$1s&quot;);t=t.replace(/\b(AT&amp;T|Q&amp;A)\b/ig,this.__upperReplacer);return t},__titleCaseDottedWordReplacer:function(e){return e.match(/[a-zA-Z][.][a-zA-Z]/)?e:t.__firstToUpperCase(e)},__lowerReplacer:function(e){return e.toLowerCase()},__upperReplacer:function(e){return e.toUpperCase()},__firstToUpperCase:function(e){var t=e.split(/(^[^a-zA-Z0-9]*[a-zA-Z0-9])(.*)$/);t[1]&amp;&amp;(t[1]=t[1].toUpperCase());return t.join(&quot;&quot;)}};t.init();e=e.replace(/_/g,&quot; &quot;);e=t.toTitleCase(e);return e}}.init());LazyLoad=function(e){function u(t,n){var r=e.createElement(t),i;for(i in n)n.hasOwnProperty(i)&amp;&amp;r.setAttribute(i,n[i]);return r}function a(e){var t=r[e],n,o;if(t){n=t.callback;o=t.urls;o.shift();i=0;if(!o.length){n&amp;&amp;n.call(t.context,t.obj);r[e]=null;s[e].length&amp;&amp;l(e)}}}function f(){var n=navigator.userAgent;t={async:e.createElement(&quot;script&quot;).async===!0};(t.webkit=/AppleWebKit\//.test(n))||(t.ie=/MSIE/.test(n))||(t.opera=/Opera/.test(n))||(t.gecko=/Gecko\//.test(n))||(t.unknown=!0)}function l(i,o,l,p,d){var v=function(){a(i)},m=i===&quot;css&quot;,g=[],y,b,w,E,S,x;t||f();if(o){o=typeof o==&quot;string&quot;?[o]:o.concat();if(m||t.async||t.gecko||t.opera)s[i].push({urls:o,callback:l,obj:p,context:d});else for(y=0,b=o.length;y&lt;b;++y)s[i].push({urls:[o[y]],callback:y===b-1?l:null,obj:p,context:d})}if(r[i]||!(E=r[i]=s[i].shift()))return;n||(n=e.head||e.getElementsByTagName(&quot;head&quot;)[0]);S=E.urls;for(y=0,b=S.length;y&lt;b;++y){x=S[y];if(m)w=t.gecko?u(&quot;style&quot;):u(&quot;link&quot;,{href:x,rel:&quot;stylesheet&quot;});else{w=u(&quot;script&quot;,{src:x});w.async=!1}w.className=&quot;lazyload&quot;;w.setAttribute(&quot;charset&quot;,&quot;utf-8&quot;);if(t.ie&amp;&amp;!m)w.onreadystatechange=function(){if(/loaded|complete/.test(w.readyState)){w.onreadystatechange=null;v()}};else if(m&amp;&amp;(t.gecko||t.webkit))if(t.webkit){E.urls[y]=w.href;h()}else{w.innerHTML='@import &quot;'+x+'&quot;;';c(w)}else w.onload=w.onerror=v;g.push(w)}for(y=0,b=g.length;y&lt;b;++y)n.appendChild(g[y])}function c(e){var t;try{t=!!e.sheet.cssRules}catch(n){i+=1;i&lt;200?setTimeout(function(){c(e)},50):t&amp;&amp;a(&quot;css&quot;);return}a(&quot;css&quot;)}function h(){var e=r.css,t;if(e){t=o.length;while(--t&gt;=0)if(o[t].href===e.urls[0]){a(&quot;css&quot;);break}i+=1;e&amp;&amp;(i&lt;200?setTimeout(h,50):a(&quot;css&quot;))}}var t,n,r={},i=0,s={css:[],js:[]},o=e.styleSheets;return{css:function(e,t,n,r){l(&quot;css&quot;,e,t,n,r)},js:function(e,t,n,r){l(&quot;js&quot;,e,t,n,r)}}}(this.document);LoadLib=function(e){function n(e){var n=0,r=!1;for(n=0;n&lt;t.length;n++)t[n]==e&amp;&amp;(r=!0);if(r)return!0;t.push(e);return!1}var t=[];return{css:function(e,t,r,i){n(e)||LazyLoad.css(e,t,r,i)},js:function(e,t,r,i){n(e)||LazyLoad.js(e,t,r,i)}}}(this.document);typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.Language==&quot;undefined&quot;&amp;&amp;(VMM.Language={lang:&quot;en&quot;,api:{wikipedia:&quot;en&quot;},date:{month:[&quot;January&quot;,&quot;February&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;,&quot;December&quot;],month_abbr:[&quot;Jan.&quot;,&quot;Feb.&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;Aug.&quot;,&quot;Sept.&quot;,&quot;Oct.&quot;,&quot;Nov.&quot;,&quot;Dec.&quot;],day:[&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;],day_abbr:[&quot;Sun.&quot;,&quot;Mon.&quot;,&quot;Tues.&quot;,&quot;Wed.&quot;,&quot;Thurs.&quot;,&quot;Fri.&quot;,&quot;Sat.&quot;]},dateformats:{year:&quot;yyyy&quot;,month_short:&quot;mmm&quot;,month:&quot;mmmm yyyy&quot;,full_short:&quot;mmm d&quot;,full:&quot;mmmm d',' yyyy&quot;,time_short:&quot;h:MM:ss TT&quot;,time_no_seconds_short:&quot;h:MM TT&quot;,time_no_seconds_small_date:&quot;h:MM TT'<SMALL>'mmmm d',' yyyy'</SMALL>'&quot;,full_long:&quot;mmm d',' yyyy 'at' h:MM TT&quot;,full_long_small_date:&quot;h:MM TT'<SMALL>mmm d',' yyyy'</SMALL>'&quot;},messages:{loading_timeline:&quot;Loading Timeline... &quot;,return_to_title:&quot;Return to Title&quot;,expand_timeline:&quot;Expand Timeline&quot;,contract_timeline
<DL><DD>&quot;Contract Timeline&quot;,wikipedia:&quot;From Wikipedia, the free encyclopedia&quot;,loading_content:&quot;Loading Content&quot;,loading:&quot;Loading&quot;}});typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.ExternalAPI==&quot;undefined&quot;&amp;&amp;(VMM.ExternalAPI={keys:{google:&quot;&quot;,flickr:&quot;&quot;,twitter:&quot;&quot;},keys_master:{vp:&quot;Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo&quot;,flickr:&quot;RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==&quot;,google:&quot;jwNGnYw4hE9lmAez4ll0QD+jo6SKBJFknkopLS4FrSAuGfIwyj57AusuR0s8dAo=&quot;,twitter:&quot;&quot;},init:function(){return this},setKeys:function(e){VMM.ExternalAPI.keys=e},pushQues:function(){VMM.master_config.googlemaps.active&amp;&amp;VMM.ExternalAPI.googlemaps.pushQue();VMM.master_config.youtube.active&amp;&amp;VMM.ExternalAPI.youtube.pushQue();VMM.master_config.soundcloud.active&amp;&amp;VMM.ExternalAPI.soundcloud.pushQue();VMM.master_config.googledocs.active&amp;&amp;VMM.ExternalAPI.googledocs.pushQue();VMM.master_config.googleplus.active&amp;&amp;VMM.ExternalAPI.googleplus.pushQue();VMM.master_config.wikipedia.active&amp;&amp;VMM.ExternalAPI.wikipedia.pushQue();VMM.master_config.vimeo.active&amp;&amp;VMM.ExternalAPI.vimeo.pushQue();VMM.master_config.vine.active&amp;&amp;VMM.ExternalAPI.vine.pushQue();VMM.master_config.twitter.active&amp;&amp;VMM.ExternalAPI.twitter.pushQue();VMM.master_config.flickr.active&amp;&amp;VMM.ExternalAPI.flickr.pushQue();VMM.master_config.webthumb.active&amp;&amp;VMM.ExternalAPI.webthumb.pushQue()},twitter:{tweetArray:[],get:function(e){var t={mid:e.id,id:e.uid};VMM.master_config.twitter.que.push(t);VMM.master_config.twitter.active=!0},create:function(e,t){var n=e.mid.toString(),r={twitterid:e.mid},i=&quot;//api.twitter.com/1/statuses/show.json?id=&quot;+e.mid+&quot;&amp;include_entities=true&amp;callback=?&quot;;VMM.ExternalAPI.twitter.getOEmbed(e,t)},errorTimeOut:function(e){trace(&quot;TWITTER JSON ERROR TIMEOUT &quot;+e.mid);VMM.attachElement(&quot;#&quot;+e.id.toString(),VMM.MediaElement.loadingmessage(&quot;Still waiting on Twitter: &quot;+e.mid));VMM.getJSON(&quot;//api.twitter.com/1/account/rate_limit_status.json&quot;,function(t){trace(&quot;REMAINING TWITTER API CALLS &quot;+t.remaining_hits);trace(&quot;TWITTER RATE LIMIT WILL RESET AT &quot;+t.reset_time);var n=&quot;&quot;;if(t.remaining_hits==0){n=&quot;<P>You've reached the maximum number of tweets you can load in an hour.</P>&quot;;n+=&quot;<P>You can view tweets again starting at: &quot;+t.reset_time+&quot;</P>&quot;}else n=&quot;<P>Still waiting on Twitter. &quot;+e.mid+&quot;</P>&quot;;VMM.attachElement(&quot;#&quot;+e.id.toString(),VMM.MediaElement.loadingmessage(n))})},errorTimeOutOembed:function(e){trace(&quot;TWITTER JSON ERROR TIMEOUT &quot;+e.mid);VMM.attachElement(&quot;#&quot;+e.id.toString(),VMM.MediaElement.loadingmessage(&quot;Still waiting on Twitter: &quot;+e.mid))},pushQue:function(){if(VMM.master_config.twitter.que.length&gt;0){VMM.ExternalAPI.twitter.create(VMM.master_config.twitter.que[0],VMM.ExternalAPI.twitter.pushQue);VMM.Util.removeRange(VMM.master_config.twitter.que,0)}},getOEmbed:function(e,t){var n=&quot;//api.twitter.com/1/statuses/oembed.json?id=&quot;+e.mid+&quot;&amp;omit_script=true&amp;include_entities=true&amp;callback=?&quot;,r=setTimeout(VMM.ExternalAPI.twitter.errorTimeOutOembed,VMM.master_config.timers.api,e);VMM.getJSON(n,function(t){var n=&quot;&quot;,r=&quot;&quot;;n+=t.html.split(&quot;&lt;/p&gt;—&quot;)[0]+&quot;&lt;/p&gt;&lt;/blockquote&gt;&quot;;r=t.author_url.split(&quot;twitter.com/&quot;)[1];n+=&quot;<DIV class="vcard author">&quot;;n+=&quot;&lt;a class='screen-name url' href='&quot;+t.author_url+&quot;' target='_blank'&gt;&quot;;n+=&quot;&quot;;n+=&quot;<SPAN class="fn">&quot;+t.author_name+&quot;</SPAN>&quot;;n+=&quot;<SPAN class="nickname">@&quot;+r+&quot;</SPAN>&quot;;n+=&quot;&lt;/a&gt;&quot;;n+=&quot;</DIV>&quot;;VMM.attachElement(&quot;#&quot;+e.id.toString(),n);VMM.attachElement(&quot;#text_thumb_&quot;+e.id.toString(),t.html);VMM.attachElement(&quot;#marker_content_&quot;+e.id.toString(),t.html)}).error(function(t,n,i){trace(&quot;TWITTER error&quot;);trace(&quot;TWITTER ERROR: &quot;+n+&quot; &quot;+t.responseText);clearTimeout(r);VMM.attachElement(&quot;#&quot;+e.id,VMM.MediaElement.loadingmessage(&quot;ERROR LOADING TWEET &quot;+e.mid))}).success(function(e){clearTimeout(r);t()})},getHTML:function(e){var t=&quot;//api.twitter.com/1/statuses/oembed.json?id=&quot;+e+&quot;&amp;omit_script=true&amp;include_entities=true&amp;callback=?&quot;;VMM.getJSON(t,VMM.ExternalAPI.twitter.onJSONLoaded)},onJSONLoaded:function(e){trace(&quot;TWITTER JSON LOADED&quot;);var t=e.id;VMM.attachElement(&quot;#&quot;+t,VMM.Util.linkify_with_twitter(e.html))},parseTwitterDate:function(e){var t=new Date(Date.parse(e));return t},prettyParseTwitterDate:function(e){var t=new Date(Date.parse(e));return VMM.Date.prettyDate(t,!0)},getTweets:function(e){var t=[],n=e.length;for(var r=0;r&lt;e.length;r++){var i=&quot;&quot;;e[r].tweet.match(&quot;status/&quot;)?i=e[r].tweet.split(&quot;status/&quot;)[1]:e[r].tweet.match(&quot;statuses/&quot;)?i=e[r].tweet.split(&quot;statuses/&quot;)[1]:i=&quot;&quot;;var s=&quot;//api.twitter.com/1/statuses/show.json?id=&quot;+i+&quot;&amp;include_entities=true&amp;callback=?&quot;;VMM.getJSON(s,function(e){var r={},i=&quot;<DIV class="twitter"><BLOCKQUOTE><P>&quot;,s=VMM.Util.linkify_with_twitter(e.text,&quot;_blank&quot;);i+=s;i+=&quot;</P>&quot;;i+=&quot;— &quot;+e.user.name+&quot; (&lt;a href='<A href="https://twitter.com/" class="external free" rel="nofollow">https://twitter.com/</A>&quot;+e.user.screen_name+&quot;'&gt;@&quot;+e.user.screen_name+&quot;&lt;/a&gt;) &lt;a href='<A href="https://twitter.com/" class="external free" rel="nofollow">https://twitter.com/</A>&quot;+e.user.screen_name+&quot;/status/&quot;+e.id+&quot;'&gt;&quot;+VMM.ExternalAPI.twitter.prettyParseTwitterDate(e.created_at)+&quot; &lt;/a&gt;</BLOCKQUOTE></DIV>&quot;;r.content=i;r.raw=e;t.push(r);if(t.length==n){var o={tweetdata:t};VMM.fireEvent(global,&quot;TWEETSLOADED&quot;,o)}}).success(function(){trace(&quot;second success&quot;)}).error(function(){trace(&quot;error&quot;)}).complete(function(){trace(&quot;complete&quot;)})}},getTweetSearch:function(e,t){var n=40;t!=null&amp;&amp;t!=&quot;&quot;&amp;&amp;(n=t);var r=&quot;//search.twitter.com/search.json?q=&quot;+e+&quot;&amp;rpp=&quot;+n+&quot;&amp;include_entities=true&amp;result_type=mixed&quot;,i=[];VMM.getJSON(r,function(e){for(var t=0;t&lt;e.results.length;t++){var n={},r=&quot;<DIV class="twitter"><BLOCKQUOTE><P>&quot;,s=VMM.Util.linkify_with_twitter(e.results[t].text,&quot;_blank&quot;);r+=s;r+=&quot;</P>&quot;;r+=&quot;— &quot;+e.results[t].from_user_name+&quot; (&lt;a href='<A href="https://twitter.com/" class="external free" rel="nofollow">https://twitter.com/</A>&quot;+e.results[t].from_user+&quot;'&gt;@&quot;+e.results[t].from_user+&quot;&lt;/a&gt;) &lt;a href='<A href="https://twitter.com/" class="external free" rel="nofollow">https://twitter.com/</A>&quot;+e.results[t].from_user+&quot;/status/&quot;+e.id+&quot;'&gt;&quot;+VMM.ExternalAPI.twitter.prettyParseTwitterDate(e.results[t].created_at)+&quot; &lt;/a&gt;</BLOCKQUOTE></DIV>&quot;;n.content=r;n.raw=e.results[t];i.push(n)}var o={tweetdata:i};VMM.fireEvent(global,&quot;TWEETSLOADED&quot;,o)})},prettyHTML:function(e,t){var e=e.toString(),n={twitterid:e},r=&quot;//api.twitter.com/1/statuses/show.json?id=&quot;+e+&quot;&amp;include_entities=true&amp;callback=?&quot;,i=setTimeout(VMM.ExternalAPI.twitter.errorTimeOut,VMM.master_config.timers.api,e);VMM.getJSON(r,VMM.ExternalAPI.twitter.formatJSON).error(function(t,n,r){trace(&quot;TWITTER error&quot;);trace(&quot;TWITTER ERROR: &quot;+n+&quot; &quot;+t.responseText);VMM.attachElement(&quot;#twitter_&quot;+e,&quot;<P>ERROR LOADING TWEET &quot;+e+&quot;</P>&quot;)}).success(function(e){clearTimeout(i);t&amp;&amp;VMM.ExternalAPI.twitter.secondaryMedia(e)})},formatJSON:function(e){var t=e.id_str,n=&quot;<BLOCKQUOTE><P>&quot;,r=VMM.Util.linkify_with_twitter(e.text,&quot;_blank&quot;);n+=r;n+=&quot;</P></BLOCKQUOTE>&quot;;n+=&quot;<DIV class="vcard author">&quot;;n+=&quot;&lt;a class='screen-name url' href='<A href="https://twitter.com/" class="external free" rel="nofollow">https://twitter.com/</A>&quot;+e.user.screen_name+&quot;' data-screen-name='&quot;+e.user.screen_name+&quot;' target='_blank'&gt;&quot;;n+=&quot;<SPAN class="avatar">&lt;img src=' &quot;+e.user.profile_image_url+&quot;'  alt=<I>&gt;</I></SPAN>&quot;;n+=&quot;<SPAN class="fn">&quot;+e.user.name+&quot;</SPAN>&quot;;n+=&quot;<SPAN class="nickname">@&quot;+e.user.screen_name+&quot;</SPAN>&quot;;n+=&quot;&lt;/a&gt;&quot;;n+=&quot;</DIV>&quot;;typeof e.entities.media!=&quot;undefined&quot;&amp;&amp;e.entities.media[0].type==&quot;photo&quot;&amp;&amp;(n+=&quot;&lt;img src=' &quot;+e.entities.media[0].media_url+&quot;'  alt=&gt;&quot;);VMM.attachElement(&quot;#twitter_&quot;+t.toString(),n);VMM.attachElement(&quot;#text_thumb_&quot;+t.toString(),e.text)}},googlemaps:{maptype:&quot;TERRAIN&quot;,setMapType:function(e){e!=&quot;&quot;&amp;&amp;(VMM.ExternalAPI.googlemaps.maptype=e)},get:function(e){var t,n,r;e.vars=VMM.Util.getUrlVars(e.id);VMM.ExternalAPI.keys.google!=&quot;&quot;?n=VMM.ExternalAPI.keys.google:n=Aes.Ctr.decrypt(VMM.ExternalAPI.keys_master.google,VMM.ExternalAPI.keys_master.vp,256);r=&quot;//maps.googleapis.com/maps/api/js?key=&quot;+n+&quot;&amp;v=3.9&amp;libraries=places&amp;sensor=false&amp;callback=VMM.ExternalAPI.googlemaps.onMapAPIReady&quot;;if(VMM.master_config.googlemaps.active)VMM.master_config.googlemaps.que.push(e);else{VMM.master_config.googlemaps.que.push(e);VMM.master_config.googlemaps.api_loaded||LoadLib.js(r,function(){trace(&quot;Google Maps API Library Loaded&quot;)})}},create:function(e){VMM.ExternalAPI.googlemaps.createAPIMap(e)},createiFrameMap:function(e){var t=e.id+&quot;&amp;output=embed&quot;,n=&quot;&quot;,r=e.uid.toString()+&quot;_gmap&quot;;n+=&quot;<DIV class="google-map" id=".22.2Br.2B.22" style="width=100%;height=100%;">&quot;;n+=&quot;&lt;iframe width='100%' height='100%' frameborder='0' scrolling='no' marginheight='0' marginwidth='0' src='&quot;+t+&quot;'&gt;&lt;/iframe&gt;&quot;;n+=&quot;</DIV>&quot;;VMM.attachElement(&quot;#&quot;+e.uid,n)},createAPIMap:function(e){function d(e){if(e in VMM.ExternalAPI.googlemaps.map_providers){t=VMM.ExternalAPI.googlemaps.map_attribution[VMM.ExternalAPI.googlemaps.map_providers[e].attribution];return VMM.ExternalAPI.googlemaps.map_providers[e]}if(VMM.ExternalAPI.googlemaps.defaultType(e)){trace(&quot;GOOGLE MAP DEFAULT TYPE&quot;);return google.maps.MapTypeId[e.toUpperCase()]}trace(&quot;Not a maptype: &quot;+e)}function g(){var t=new google.maps.Geocoder,n=VMM.Util.getUrlVars(e.id).q,i;if(n.match(&quot;loc:&quot;)){var s=n.split(&quot;:&quot;)[1].split(&quot;+&quot;);u=new google.maps.LatLng(parseFloat(s[0]),parseFloat(s[1]));l=!0}t.geocode({address:n},function(e,t){if(t==google.maps.GeocoderStatus.OK){i=new google.maps.Marker({map:r,position:e[0].geometry.location});typeof e[0].geometry.viewport!=&quot;undefined&quot;?r.fitBounds(e[0].geometry.viewport):typeof e[0].geometry.bounds!=&quot;undefined&quot;?r.fitBounds(e[0].geometry.bounds):r.setCenter(e[0].geometry.location);l&amp;&amp;r.panTo(u);c&amp;&amp;r.setZoom(f)}else{trace(&quot;Geocode for &quot;+n+&quot; was not successful for the following reason: &quot;+t);trace(&quot;TRYING PLACES SEARCH&quot;);l&amp;&amp;r.panTo(u);c&amp;&amp;r.setZoom(f);y()}})}function y(){function h(t,i){if(i==google.maps.places.PlacesServiceStatus.OK){for(var s=0;s&lt;t.length;s++);if(l)r.panTo(u);else if(t.length&gt;=1){r.panTo(t[0].geometry.location);c&amp;&amp;r.setZoom(f)}}else{trace(&quot;Place search for &quot;+n.query+&quot; was not successful for the following reason: &quot;+i);trace(&quot;YOU MAY NEED A GOOGLE MAPS API KEY IN ORDER TO USE THIS FEATURE OF TIMELINEJS&quot;);trace(&quot;FIND OUT HOW TO GET YOUR KEY HERE: <A href="https://developers.google.com/places/documentation/#Authentication" class="external free" rel="nofollow">https://developers.google.com/places/documentation/#Authentication</A>&quot;);if(l){r.panTo(u);c&amp;&amp;r.setZoom(f)}else{trace(&quot;USING SIMPLE IFRAME MAP EMBED&quot;);e.id[0].match(&quot;https&quot;)&amp;&amp;(e.id=e.url[0].replace(&quot;https&quot;,&quot;http&quot;));VMM.ExternalAPI.googlemaps.createiFrameMap(e)}}}function p(e){var t,n;n=e.geometry.location;t=new google.maps.Marker({map:r,position:e.geometry.location});google.maps.event.addListener(t,&quot;click&quot;,function(){i.setContent(e.name);i.open(r,this)})}var t,n,i,s,o,a;place_search=new google.maps.places.PlacesService(r);i=new google.maps.InfoWindow;n={query:&quot;&quot;,types:[&quot;country&quot;,&quot;neighborhood&quot;,&quot;political&quot;,&quot;locality&quot;,&quot;geocode&quot;]};type.of(VMM.Util.getUrlVars(e.id)[&quot;q&quot;])==&quot;string&quot;&amp;&amp;(n.query=VMM.Util.getUrlVars(e.id).q);if(l){n.location=u;n.radius=&quot;15000&quot;}else{o=new google.maps.LatLng(-89.999999,-179.999999);a=new google.maps.LatLng(89.999999,179.999999);s=new google.maps.LatLngBounds(o,a)}place_search.textSearch(n,h)}function b(){var t,n,i=!1;trace(&quot;LOADING PLACES API FOR GOOGLE MAPS&quot;);if(VMM.ExternalAPI.keys.google!=&quot;&quot;){t=VMM.ExternalAPI.keys.google;i=!0}else{trace(&quot;YOU NEED A GOOGLE MAPS API KEY IN ORDER TO USE THIS FEATURE OF TIMELINEJS&quot;);trace(&quot;FIND OUT HOW TO GET YOUR KEY HERE: <A href="https://developers.google.com/places/documentation/#Authentication" class="external free" rel="nofollow">https://developers.google.com/places/documentation/#Authentication</A>&quot;)}n=&quot;<A href="https://maps.googleapis.com/maps/api/place/textsearch/json?key=" class="external free" rel="nofollow">https://maps.googleapis.com/maps/api/place/textsearch/json?key=</A>&quot;+t+&quot;&amp;sensor=false&amp;language=&quot;+e.lang+&quot;&amp;&quot;;type.of(VMM.Util.getUrlVars(e.id)[&quot;q&quot;])==&quot;string&quot;&amp;&amp;(n+=&quot;query=&quot;+VMM.Util.getUrlVars(e.id).q);l&amp;&amp;(n+=&quot;&amp;location=&quot;+u);if(i)VMM.getJSON(n,function(t){trace(&quot;PLACES JSON&quot;);var n=&quot;&quot;,i=&quot;&quot;,s=&quot;&quot;,o=&quot;&quot;;trace(t);if(t.status==&quot;OVER_QUERY_LIMIT&quot;){trace(&quot;OVER_QUERY_LIMIT&quot;);if(l){r.panTo(u);c&amp;&amp;r.setZoom(f)}else{trace(&quot;DOING TRADITIONAL MAP IFRAME EMBED UNTIL QUERY LIMIT RESTORED&quot;);h=!0;VMM.ExternalAPI.googlemaps.createiFrameMap(e)}}else{if(t.results.length&gt;=1){s=new google.maps.LatLng(parseFloat(t.results[0].geometry.viewport.northeast.lat),parseFloat(t.results[0].geometry.viewport.northeast.lng));o=new google.maps.LatLng(parseFloat(t.results[0].geometry.viewport.southwest.lat),parseFloat(t.results[0].geometry.viewport.southwest.lng));i=new google.maps.LatLngBounds(o,s);r.fitBounds(i)}else trace(&quot;NO RESULTS&quot;);l&amp;&amp;r.panTo(u);c&amp;&amp;r.setZoom(f)}}).error(function(e,t,n){trace(&quot;PLACES JSON ERROR&quot;);trace(&quot;PLACES JSON ERROR: &quot;+t+&quot; &quot;+e.responseText)}).success(function(e){trace(&quot;PLACES JSON SUCCESS&quot;)});else if(l){r.panTo(u);c&amp;&amp;r.setZoom(f)}else{trace(&quot;DOING TRADITIONAL MAP IFRAME EMBED BECAUSE NO GOOGLE MAP API KEY WAS PROVIDED&quot;);VMM.ExternalAPI.googlemaps.createiFrameMap(e)}}function w(){var t,n,i,s;t=e.id+&quot;&amp;output=kml&quot;;t=t.replace(&quot;&amp;output=embed&quot;,&quot;&quot;);n=new google.maps.KmlLayer(t,{preserveViewport:!0});i=new google.maps.InfoWindow;n.setMap(r);google.maps.event.addListenerOnce(n,&quot;defaultviewport_changed&quot;,function(){l?r.panTo(u):r.fitBounds(n.getDefaultViewport());c&amp;&amp;r.setZoom(f)});google.maps.event.addListener(n,&quot;click&quot;,function(e){function t(e){i.setContent(e);i.open(r)}s=e.featureData.description;t(s)})}var t=&quot;&quot;,n,r,i,s=e.uid.toString()+&quot;_gmap&quot;,o=&quot;&quot;,u=new google.maps.LatLng(41.875696,-87.624207),a,f=11,l=!1,c=!1,h=!1,p;google.maps.VeriteMapType=function(e){if(VMM.ExternalAPI.googlemaps.defaultType(e))return google.maps.MapTypeId[e.toUpperCase()];var t=d(e);return google.maps.ImageMapType.call(this,{getTileUrl:function(e,n){var r=(n+e.x+e.y)%VMM.ExternalAPI.googlemaps.map_subdomains.length,i=t.url.replace(&quot;{S}&quot;,VMM.ExternalAPI.googlemaps.map_subdomains[r]).replace(&quot;{Z}&quot;,n).replace(&quot;{X}&quot;,e.x).replace(&quot;{Y}&quot;,e.y).replace(&quot;{z}&quot;,n).replace(&quot;{x}&quot;,e.x).replace(&quot;{y}&quot;,e.y);return i},tileSize:new google.maps.Size(256,256),name:e,minZoom:t.minZoom,maxZoom:t.maxZoom})};google.maps.VeriteMapType.prototype=new google.maps.ImageMapType(&quot;_&quot;);VMM.ExternalAPI.googlemaps.maptype!=&quot;&quot;?VMM.ExternalAPI.googlemaps.defaultType(VMM.ExternalAPI.googlemaps.maptype)?n=google.maps.MapTypeId[VMM.ExternalAPI.googlemaps.maptype.toUpperCase()]:n=VMM.ExternalAPI.googlemaps.maptype:n=google.maps.MapTypeId.TERRAIN;var v=new RegExp(/@([0-9\.\-]+),([0-9\.\-]+),(\d+)z/);if(e.id.match(v)){var m=e.id.match(v);lat=parseFloat(m[1]);lng=parseFloat(m[2]);u=new google.maps.LatLng(lat,lng);f=parseFloat(m[3]);l=c=!0}else{if(type.of(VMM.Util.getUrlVars(e.id)[&quot;ll&quot;])==&quot;string&quot;){l=!0;a=VMM.Util.getUrlVars(e.id).ll.split(&quot;,&quot;);u=new google.maps.LatLng(parseFloat(a[0]),parseFloat(a[1]))}else if(type.of(VMM.Util.getUrlVars(e.id)[&quot;sll&quot;])==&quot;string&quot;){a=VMM.Util.getUrlVars(e.id).sll.split(&quot;,&quot;);u=new google.maps.LatLng(parseFloat(a[0]),parseFloat(a[1]))}if(type.of(VMM.Util.getUrlVars(e.id)[&quot;z&quot;])==&quot;string&quot;){c=!0;f=parseFloat(VMM.Util.getUrlVars(e.id).z)}}i={zoom:f,draggable:!1,disableDefaultUI:!0,mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_RIGHT},center:u,mapTypeId:n,mapTypeControlOptions:{mapTypeIds:[n]}};VMM.attachElement(&quot;#&quot;+e.uid,&quot;&quot;);r=new google.maps.Map(document.getElementById(s),i);if(!VMM.ExternalAPI.googlemaps.defaultType(VMM.ExternalAPI.googlemaps.maptype)){r.mapTypes.set(n,new google.maps.VeriteMapType(n));o=&quot;<DIV class="map-attribution"><DIV class="attribution-text">&quot;+t+&quot;</DIV></DIV>&quot;;VMM.appendElement(&quot;#&quot;+s,o)}type.of(VMM.Util.getUrlVars(e.id)[&quot;msid&quot;])==&quot;string&quot;?w():type.of(VMM.Util.getUrlVars(e.id)[&quot;q&quot;])==&quot;string&quot;&amp;&amp;g()},pushQue:function(){for(var e=0;e&lt;VMM.master_config.googlemaps.que.length;e++)VMM.ExternalAPI.googlemaps.create(VMM.master_config.googlemaps.que[e]);VMM.master_config.googlemaps.que=[]},onMapAPIReady:function(){VMM.master_config.googlemaps.map_active=!0;VMM.master_config.googlemaps.places_active=!0;VMM.ExternalAPI.googlemaps.onAPIReady()},onPlacesAPIReady:function(){VMM.master_config.googlemaps.places_active=!0;VMM.ExternalAPI.googlemaps.onAPIReady()},onAPIReady:function(){if(!VMM.master_config.googlemaps.active&amp;&amp;VMM.master_config.googlemaps.map_active&amp;&amp;VMM.master_config.googlemaps.places_active){VMM.master_config.googlemaps.active=!0;VMM.ExternalAPI.googlemaps.pushQue()}},defaultType:function(e){return e.toLowerCase()==&quot;satellite&quot;||e.toLowerCase()==&quot;hybrid&quot;||e.toLowerCase()==&quot;terrain&quot;||e.toLowerCase()==&quot;roadmap&quot;?!0:!1},map_subdomains:[&quot;&quot;,&quot;a.&quot;,&quot;b.&quot;,&quot;c.&quot;,&quot;d.&quot;],map_attribution:{stamen:&quot;Map tiles by &lt;a href='<A href="http://stamen.com'" class="external free" rel="nofollow">http://stamen.com'</A>&gt;Stamen Design&lt;/a&gt;, under &lt;a href='<A href="http://creativecommons.org/licenses/by/3.0'" class="external free" rel="nofollow">http://creativecommons.org/licenses/by/3.0'</A>&gt;CC BY 3.0&lt;/a&gt;. Data by &lt;a href='<A href="http://openstreetmap.org'" class="external free" rel="nofollow">http://openstreetmap.org'</A>&gt;OpenStreetMap&lt;/a&gt;, under &lt;a href='<A href="http://creativecommons.org/licenses/by-sa/3.0'" class="external free" rel="nofollow">http://creativecommons.org/licenses/by-sa/3.0'</A>&gt;CC BY SA&lt;/a&gt;.&quot;,apple:&quot;Map data © 2012  Apple, Imagery © 2012 Apple&quot;,osm:&quot;©&lt;a href='<A href="http://www.openstreetmap.org/copyright'" class="external free" rel="nofollow">http://www.openstreetmap.org/copyright'</A>&gt;OpenStreetMap&lt;/a&gt; contributors&quot;},map_providers:{toner:{url:&quot;//{S}tile.stamen.com/toner/{Z}/{X}/{Y}.png&quot;,minZoom:0,maxZoom:20,attribution:&quot;stamen&quot;},&quot;toner-lines&quot;:{url:&quot;//{S}tile.stamen.com/toner-lines/{Z}/{X}/{Y}.png&quot;,minZoom:0,maxZoom:20,attribution:&quot;stamen&quot;},&quot;toner-labels&quot;:{url:&quot;//{S}tile.stamen.com/toner-labels/{Z}/{X}/{Y}.png&quot;,minZoom:0,maxZoom:20,attribution:&quot;stamen&quot;},sterrain:{url:&quot;//{S}tile.stamen.com/terrain/{Z}/{X}/{Y}.jpg&quot;,minZoom:4,maxZoom:20,attribution:&quot;stamen&quot;},apple:{url:&quot;//gsp2.apple.com/tile?api=1&amp;style=slideshow&amp;layers=default&amp;lang=en_US&amp;z={z}&amp;x={x}&amp;y={y}&amp;v=9&quot;,minZoom:4,maxZoom:14,attribution:&quot;apple&quot;},watercolor:{url:&quot;//{S}tile.stamen.com/watercolor/{Z}/{X}/{Y}.jpg&quot;,minZoom:3,maxZoom:16,attribution:&quot;stamen&quot;},osm:{url:&quot;//tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,minZoom:3,maxZoom:18,attribution:&quot;osm&quot;}}},googleplus:{get:function(e){var t,n={user:e.user,activity:e.id,id:e.uid};VMM.master_config.googleplus.que.push(n);VMM.master_config.googleplus.active=!0},create:function(e,t){var n=&quot;&quot;,r=&quot;&quot;,i=&quot;&quot;,s=&quot;&quot;,o=&quot;&quot;,u,a;googleplus_timeout=setTimeout(VMM.ExternalAPI.googleplus.errorTimeOut,VMM.master_config.timers.api,e),callback_timeout=setTimeout(t,VMM.master_config.timers.api,e);VMM.master_config.Timeline.api_keys.google!=&quot;&quot;?r=VMM.master_config.Timeline.api_keys.google:r=Aes.Ctr.decrypt(VMM.master_config.api_keys_master.google,VMM.master_config.vp,256);u=&quot;<A href="https://www.googleapis.com/plus/v1/people/" class="external free" rel="nofollow">https://www.googleapis.com/plus/v1/people/</A>&quot;+e.user+&quot;/activities/public?alt=json&amp;maxResults=100&amp;fields=items(id,url)&amp;key=&quot;+r;n=&quot;GOOGLE PLUS API CALL&quot;;VMM.getJSON(u,function(t){for(var u=0;u&lt;t.items.length;u++){trace(&quot;loop&quot;);if(t.items[u].url.split(&quot;posts/&quot;)[1]==e.activity){trace(&quot;FOUND IT!!&quot;);i=t.items[u].id;a=&quot;<A href="https://www.googleapis.com/plus/v1/activities/" class="external free" rel="nofollow">https://www.googleapis.com/plus/v1/activities/</A>&quot;+i+&quot;?alt=json&amp;key=&quot;+r;VMM.getJSON(a,function(t){trace(t);if(typeof t.annotation!=&quot;undefined&quot;){s+=&quot;<DIV class="googleplus-annotation">'&quot;+t.annotation+&quot;</DIV>&quot;;s+=t.object.content}else s+=t.object.content;if(typeof t.object.attachments!=&quot;undefined&quot;){for(var r=0;r&lt;t.object.attachments.length;r++){if(t.object.attachments[r].objectType==&quot;photo&quot;)o=&quot;&lt;a href='&quot;+t.object.url+&quot;' target='_blank'&gt;&quot;+&quot;&lt;img src='&quot;+t.object.attachments[r].image.url+&quot;' class='article-thumb'&gt;&lt;/a&gt;&quot;+o;else if(t.object.attachments[r].objectType==&quot;video&quot;){o=&quot;&lt;img src='&quot;+t.object.attachments[r].image.url+&quot;' class='article-thumb'&gt;&quot;+o;o+=&quot;<DIV>&quot;;o+=&quot;&lt;a href='&quot;+t.object.attachments[r].url+&quot;' target='_blank'&gt;&quot;;o+=&quot;<TABLE id="toc" class="toc"><TBODY><TR><TD><DIV id="toctitle"><H2>Contents</H2></DIV></TD></TR></TBODY></TABLE></DIV></DD></DL><UL><LI class="toclevel-1"><A href="#.22.2Bt.object.attachments.5Br.5D.displayName.2B.22"><SPAN class="tocnumber">1</SPAN><SPAN class="toctext">&quot;+t.object.attachments[r].displayName+&quot;</SPAN></A></LI><LI class="toclevel-1"><A href="#.22.2Bt.object.attachments.5Br.5D.displayName.2B.22_2"><SPAN class="tocnumber">2</SPAN><SPAN class="toctext">&quot;+t.object.attachments[r].displayName+&quot;</SPAN></A></LI><LI class="toclevel-1"><A href="#.3Ca_href.3D.27http:.2F.2F.22.2BVMM.master_config.language.api.wikipedia.2B.22.wikipedia.org.2Fwiki.2F.22.2Be.id.2B.22.27_target.3D.27_blank.27.3E.22.2Be.url.2B.22.3C.2Fa.3E"><SPAN class="tocnumber">3</SPAN><SPAN class="toctext">&lt;a href='http://&quot;+VMM.master_config.language.api.wikipedia+&quot;.wikipedia.org/wiki/&quot;+e.id+&quot;' target='_blank'&gt;&quot;+e.url+&quot;&lt;/a&gt;</SPAN></A></LI><LI class="toclevel-1"><A href="#.3Ca_href.3D.27http:.2F.2F.22.2BVMM.master_config.language.api.wikipedia.2B.22.wikipedia.org.2Fwiki.2F.22.2Br.2B.22.27_target.3D.27_blank.27.3E.22.2Br.2B.22.3C.2Fa.3E"><SPAN class="tocnumber">4</SPAN><SPAN class="toctext">&lt;a href='http://&quot;+VMM.master_config.language.api.wikipedia+&quot;.wikipedia.org/wiki/&quot;+r+&quot;' target='_blank'&gt;&quot;+r+&quot;&lt;/a&gt;</SPAN></A></LI><LI class="toclevel-1"><A href="#.22.2Bv.2B.22"><SPAN class="tocnumber">5</SPAN><SPAN class="toctext">&quot;+v+&quot;</SPAN></A></LI><LI class="toclevel-1"><A href="#.22.2Bv.2B.22_2"><SPAN class="tocnumber">6</SPAN><SPAN class="toctext">&quot;+v+&quot;</SPAN></A></LI><LI class="toclevel-1"><A href="#.22.2Bv.2B.22_3"><SPAN class="tocnumber">7</SPAN><SPAN class="toctext">&quot;+v+&quot;</SPAN></A></LI><LI class="toclevel-1"><A href="#.22.2BA.5Bi.5D.2B.22"><SPAN class="tocnumber">8</SPAN><SPAN class="toctext">&quot;+A[i]+&quot;</SPAN></A></LI></UL><H5><SPAN class="mw-headline" id=".22.2Bt.object.attachments.5Br.5D.displayName.2B.22">&quot;+t.object.attachments[r].displayName+&quot;</SPAN></H5>&quot;;o+=&quot;&lt;/a&gt;&quot;;o+=&quot;</B></I></DIV>&quot;}else if(t.object.attachments[r].objectType==&quot;article&quot;){o+=&quot;<DIV>&quot;;o+=&quot;&lt;a href='&quot;+t.object.attachments[r].url+&quot;' target='_blank'&gt;&quot;;o+=&quot;<H5><SPAN class="mw-headline" id=".22.2Bt.object.attachments.5Br.5D.displayName.2B.22_2">&quot;+t.object.attachments[r].displayName+&quot;</SPAN></H5>&quot;;o+=&quot;<P>&quot;+t.object.attachments[r].content+&quot;</P>&quot;;o+=&quot;&lt;/a&gt;&quot;;o+=&quot;</DIV>&quot;}trace(t.object.attachments[r])}o=&quot;<DIV class="googleplus-attachments">&quot;+o+&quot;</DIV>&quot;}n=&quot;<DIV class="googleplus-content">&quot;+s+o+&quot;</DIV>&quot;;n+=&quot;<DIV class="vcard author">&lt;a class='screen-name url' href='&quot;+t.url+&quot;' target='_blank'&gt;&quot;;n+=&quot;<SPAN class="avatar">&lt;img src='&quot;+t.actor.image.url+&quot;' style='max-width: 32px; max-height: 32px;'&gt;</SPAN>&quot;;n+=&quot;<SPAN class="fn">&quot;+t.actor.displayName+&quot;</SPAN>&quot;;n+=&quot;&quot;;n+=&quot;&lt;/a&gt;</DIV>&quot;;VMM.attachElement(&quot;#googleplus_&quot;+e.activity,n)});break}}}).error(function(t,n,r){var i=VMM.parseJSON(t.responseText);trace(i.error.message);VMM.attachElement(&quot;#googleplus_&quot;+e.activity,VMM.MediaElement.loadingmessage(&quot;<P>ERROR LOADING GOOGLE+ </P><P>&quot;+i.error.message+&quot;</P>&quot;))}).success(function(e){clearTimeout(googleplus_timeout);clearTimeout(callback_timeout);t()})},pushQue:function(){if(VMM.master_config.googleplus.que.length&gt;0){VMM.ExternalAPI.googleplus.create(VMM.master_config.googleplus.que[0],VMM.ExternalAPI.googleplus.pushQue);VMM.Util.removeRange(VMM.master_config.googleplus.que,0)}},errorTimeOut:function(e){trace(&quot;GOOGLE+ JSON ERROR TIMEOUT &quot;+e.activity);VMM.attachElement(&quot;#googleplus_&quot;+e.activity,VMM.MediaElement.loadingmessage(&quot;<P>Still waiting on GOOGLE+ </P><P>&quot;+e.activity+&quot;</P>&quot;))}},googledocs:{get:function(e){VMM.master_config.googledocs.que.push(e);VMM.master_config.googledocs.active=!0},create:function(e){var t=&quot;&quot;;e.id.match(/docs.google.com/i)?t=&quot;&lt;iframe class='doc' frameborder='0' width='100%' height='100%' src='&quot;+e.id+&quot;&amp;embedded=true'&gt;&lt;/iframe&gt;&quot;:t=&quot;&lt;iframe class='doc' frameborder='0' width='100%' height='100%' src='//docs.google.com/viewer?url=&quot;+e.id+&quot;&amp;embedded=true'&gt;&lt;/iframe&gt;&quot;;VMM.attachElement(&quot;#&quot;+e.uid,t)},pushQue:function(){for(var e=0;e&lt;VMM.master_config.googledocs.que.length;e++)VMM.ExternalAPI.googledocs.create(VMM.master_config.googledocs.que[e]);VMM.master_config.googledocs.que=[]}},flickr:{get:function(e){VMM.master_config.flickr.que.push(e);VMM.master_config.flickr.active=!0},create:function(e,t){var n,r=setTimeout(t,VMM.master_config.timers.api,e);typeof VMM.master_config.Timeline!=&quot;undefined&quot;&amp;&amp;VMM.master_config.Timeline.api_keys.flickr!=&quot;&quot;?n=VMM.master_config.Timeline.api_keys.flickr:n=Aes.Ctr.decrypt(VMM.master_config.api_keys_master.flickr,VMM.master_config.vp,256);var i=&quot;<A href="https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&amp;api_key=" class="external free" rel="nofollow">https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&amp;api_key=</A>&quot;+n+&quot;&amp;photo_id=&quot;+e.id+&quot;&amp;format=json&amp;jsoncallback=?&quot;;VMM.getJSON(i,function(t){var n=VMM.ExternalAPI.flickr.getFlickrIdFromUrl(t.sizes.size[0].url),r=&quot;#&quot;+e.uid,i=&quot;#&quot;+e.uid+&quot;_thumb&quot;,s,o,u=!1,a=&quot;Large&quot;;a=VMM.ExternalAPI.flickr.sizes(VMM.master_config.sizes.api.height);for(var f=0;f&lt;t.sizes.size.length;f++)if(t.sizes.size[f].label==a){u=!0;s=t.sizes.size[f].source}u||(s=t.sizes.size[t.sizes.size.length-2].source);o=t.sizes.size[0].source;VMM.Lib.attr(r,&quot;src&quot;,s);VMM.attachElement(i,&quot;&lt;img src='&quot;+o+&quot;'&gt;&quot;)}).error(function(e,t,n){trace(&quot;FLICKR error&quot;);trace(&quot;FLICKR ERROR: &quot;+t+&quot; &quot;+e.responseText)}).success(function(e){clearTimeout(r);t()})},pushQue:function(){if(VMM.master_config.flickr.que.length&gt;0){VMM.ExternalAPI.flickr.create(VMM.master_config.flickr.que[0],VMM.ExternalAPI.flickr.pushQue);VMM.Util.removeRange(VMM.master_config.flickr.que,0)}},sizes:function(e){var t=&quot;&quot;;e&lt;=75?t=&quot;Thumbnail&quot;:e&lt;=180?t=&quot;Small&quot;:e&lt;=240?t=&quot;Small 320&quot;:e&lt;=375?t=&quot;Medium&quot;:e&lt;=480?t=&quot;Medium 640&quot;:e&lt;=600?t=&quot;Large&quot;:t=&quot;Large&quot;;return t},getFlickrIdFromUrl:function(e){var t=e.indexOf(&quot;flickr.com/photos/&quot;);if(t==-1)return null;var n=t+&quot;flickr.com/photos/&quot;.length,r=e.substr(n);if(r.indexOf(&quot;/&quot;)==-1)return null;r.indexOf(&quot;/&quot;)==0&amp;&amp;(r=r.substr(1));return r.split(&quot;/&quot;)[1]}},instagram:{get:function(e,t){return t?&quot;//instagr.am/p/&quot;+e.id+&quot;/media/?size=t&quot;:&quot;//instagr.am/p/&quot;+e.id+&quot;/media/?size=&quot;+VMM.ExternalAPI.instagram.sizes(VMM.master_config.sizes.api.height)},sizes:function(e){var t=&quot;&quot;;e&lt;=150?t=&quot;t&quot;:e&lt;=306?t=&quot;m&quot;:t=&quot;l&quot;;return t},isInstagramUrl:function(e){return e.match(&quot;instagr.am/p/&quot;)||e.match(&quot;instagram.com/p/&quot;)},getInstagramIdFromUrl:function(e){try{return e.split(&quot;/p/&quot;)[1].split(&quot;/&quot;)[0]}catch(t){trace(&quot;Invalid Instagram url: &quot;+e);return null}}},soundcloud:{get:function(e){VMM.master_config.soundcloud.que.push(e);VMM.master_config.soundcloud.active=!0},create:function(e,t){var n=&quot;//soundcloud.com/oembed?url=&quot;+e.id+&quot;&amp;maxheight=168&amp;format=js&amp;callback=?&quot;;VMM.getJSON(n,function(n){VMM.attachElement(&quot;#&quot;+e.uid,n.html);t()})},pushQue:function(){if(VMM.master_config.soundcloud.que.length&gt;0){VMM.ExternalAPI.soundcloud.create(VMM.master_config.soundcloud.que[0],VMM.ExternalAPI.soundcloud.pushQue);VMM.Util.removeRange(VMM.master_config.soundcloud.que,0)}}},wikipedia:{get:function(e){VMM.master_config.wikipedia.que.push(e);VMM.master_config.wikipedia.active=!0},create:function(e,t){var n=&quot;//&quot;+e.lang+&quot;.wikipedia.org/w/api.php?action=query&amp;prop=extracts&amp;redirects=&amp;titles=&quot;+e.id+&quot;&amp;exintro=1&amp;format=json&amp;callback=?&quot;;callback_timeout=setTimeout(t,VMM.master_config.timers.api,e);if(VMM.Browser.browser==&quot;Explorer&quot;&amp;&amp;parseInt(VMM.Browser.version,10)&gt;=7&amp;&amp;window.XDomainRequest){var r=&quot;<H4><SPAN class="mw-headline" id=".3Ca_href.3D.27http:.2F.2F.22.2BVMM.master_config.language.api.wikipedia.2B.22.wikipedia.org.2Fwiki.2F.22.2Be.id.2B.22.27_target.3D.27_blank.27.3E.22.2Be.url.2B.22.3C.2Fa.3E">&lt;a href='http://&quot;+VMM.master_config.language.api.wikipedia+&quot;.wikipedia.org/wiki/&quot;+e.id+&quot;' target='_blank'&gt;&quot;+e.url+&quot;&lt;/a&gt;</SPAN></H4>&quot;;r+=&quot;<SPAN class="wiki-source">&quot;+VMM.master_config.language.messages.wikipedia+&quot;</SPAN>&quot;;r+=&quot;<P>Wikipedia entry unable to load using Internet Explorer 8 or below.</P>&quot;;VMM.attachElement(&quot;#&quot;+e.uid,r)}VMM.getJSON(n,function(t){if(t.query){var n,r,i=&quot;&quot;,s=&quot;&quot;,o=1,u=[];n=VMM.Util.getObjectAttributeByIndex(t.query.pages,0).extract;r=VMM.Util.getObjectAttributeByIndex(t.query.pages,0).title;n.match(&quot;<P>&quot;)?u=n.split(&quot;&lt;p&gt;&quot;):u.push(n);for(var a=0;a&lt;u.length;a++)a+1&lt;=o&amp;&amp;a+1&lt;u.length&amp;&amp;(s+=&quot;&lt;p&gt;&quot;+u[a+1]);i=&quot;</P><H4><SPAN class="mw-headline" id=".3Ca_href.3D.27http:.2F.2F.22.2BVMM.master_config.language.api.wikipedia.2B.22.wikipedia.org.2Fwiki.2F.22.2Br.2B.22.27_target.3D.27_blank.27.3E.22.2Br.2B.22.3C.2Fa.3E">&lt;a href='http://&quot;+VMM.master_config.language.api.wikipedia+&quot;.wikipedia.org/wiki/&quot;+r+&quot;' target='_blank'&gt;&quot;+r+&quot;&lt;/a&gt;</SPAN></H4>&quot;;i+=&quot;<SPAN class="wiki-source">&quot;+VMM.master_config.language.messages.wikipedia+&quot;</SPAN>&quot;;i+=VMM.Util.linkify_wikipedia(s);n.match(&quot;REDIRECT&quot;)||VMM.attachElement(&quot;#&quot;+e.uid,i)}}).error(function(n,r,i){trace(&quot;WIKIPEDIA error&quot;);trace(&quot;WIKIPEDIA ERROR: &quot;+r+&quot; &quot;+n.responseText);trace(i);VMM.attachElement(&quot;#&quot;+e.uid,VMM.MediaElement.loadingmessage(&quot;&lt;p&gt;Wikipedia is not responding&quot;));clearTimeout(callback_timeout);if(VMM.master_config.wikipedia.tries&lt;4){trace(&quot;WIKIPEDIA ATTEMPT &quot;+VMM.master_config.wikipedia.tries);trace(e);VMM.master_config.wikipedia.tries++;VMM.ExternalAPI.wikipedia.create(e,t)}else t()}).success(function(e){VMM.master_config.wikipedia.tries=0;clearTimeout(callback_timeout);t()})},pushQue:function(){if(VMM.master_config.wikipedia.que.length&gt;0){trace(&quot;WIKIPEDIA PUSH QUE &quot;+VMM.master_config.wikipedia.que.length);VMM.ExternalAPI.wikipedia.create(VMM.master_config.wikipedia.que[0],VMM.ExternalAPI.wikipedia.pushQue);VMM.Util.removeRange(VMM.master_config.wikipedia.que,0)}}},youtube:{get:function(e){var t=&quot;//gdata.youtube.com/feeds/api/videos/&quot;+e.id+&quot;?v=2&amp;alt=jsonc&amp;callback=?&quot;;VMM.master_config.youtube.que.push(e);VMM.master_config.youtube.active||VMM.master_config.youtube.api_loaded||LoadLib.js(&quot;//www.youtube.com/player_api&quot;,function(){trace(&quot;YouTube API Library Loaded&quot;)});VMM.getJSON(t,function(t){VMM.ExternalAPI.youtube.createThumb(t,e)})},create:function(e){if(typeof e.start!=&quot;undefined&quot;){var t=e.start.toString(),n=0,r=0;if(t.match(&quot;m&quot;)){n=parseInt(t.split(&quot;m&quot;)[0],10);r=parseInt(t.split(&quot;m&quot;)[1].split(&quot;s&quot;)[0],10);e.start=n*60+r}else e.start=0}else e.start=0;var i={active:!1,player:{},name:e.uid,playing:!1,hd:!1};typeof e.hd!=&quot;undefined&quot;&amp;&amp;(i.hd=!0);i.player[e.id]=new YT.Player(e.uid,{height:&quot;390&quot;,width:&quot;640&quot;,playerVars:{enablejsapi:1,color:&quot;white&quot;,showinfo:0,theme:&quot;light&quot;,start:e.start,rel:0},videoId:e.id,events:{onReady:VMM.ExternalAPI.youtube.onPlayerReady,onStateChange:VMM.ExternalAPI.youtube.onStateChange}});VMM.master_config.youtube.array.push(i)},createThumb:function(e,t){trace(&quot;CREATE THUMB&quot;);trace(e);trace(t);if(typeof e.data!=&quot;undefined&quot;){var n=&quot;#&quot;+t.uid+&quot;_thumb&quot;;VMM.attachElement(n,&quot;&lt;img src='&quot;+e.data.thumbnail.sqDefault+&quot;'&gt;&quot;)}},pushQue:function(){for(var e=0;e&lt;VMM.master_config.youtube.que.length;e++)VMM.ExternalAPI.youtube.create(VMM.master_config.youtube.que[e]);VMM.master_config.youtube.que=[]},onAPIReady:function(){VMM.master_config.youtube.active=!0;VMM.ExternalAPI.youtube.pushQue()},stopPlayers:function(){for(var e=0;e&lt;VMM.master_config.youtube.array.length;e++)VMM.master_config.youtube.array[e].playing&amp;&amp;typeof VMM.master_config.youtube.array[e].player.the_name!=&quot;undefined&quot;&amp;&amp;VMM.master_config.youtube.array[e].player.the_name.stopVideo()},onStateChange:function(e){for(var t=0;t&lt;VMM.master_config.youtube.array.length;t++){for(var n in VMM.master_config.youtube.array[t].player)VMM.master_config.youtube.array[t].player[n]==e.target&amp;&amp;(VMM.master_config.youtube.array[t].player.the_name=VMM.master_config.youtube.array[t].player[n]);if(VMM.master_config.youtube.array[t].player.the_name==e.target&amp;&amp;e.data==YT.PlayerState.PLAYING){VMM.master_config.youtube.array[t].playing=!0;if(VMM.master_config.youtube.array[t].hd===!1){VMM.master_config.youtube.array[t].hd=!0;VMM.master_config.youtube.array[t].player.the_name.setPlaybackQuality(&quot;hd720&quot;)}}}},onPlayerReady:function(e){}},vimeo:{get:function(e){VMM.master_config.vimeo.que.push(e);VMM.master_config.vimeo.active=!0},create:function(e,t){trace(&quot;VIMEO CREATE&quot;);var n=&quot;//vimeo.com/api/v2/video/&quot;+e.id+&quot;.json&quot;,r=&quot;//player.vimeo.com/video/&quot;+e.id+&quot;?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff&quot;;VMM.getJSON(n,function(n){VMM.ExternalAPI.vimeo.createThumb(n,e);t()});VMM.attachElement(&quot;#&quot;+e.uid,&quot;&lt;iframe autostart='false' frameborder='0' width='100%' height='100%' src='&quot;+r+&quot;'&gt;&lt;/iframe&gt;&quot;)},createThumb:function(e,t){trace(&quot;VIMEO CREATE THUMB&quot;);var n=&quot;#&quot;+t.uid+&quot;_thumb&quot;;VMM.attachElement(n,&quot;&lt;img src='&quot;+e[0].thumbnail_small+&quot;'&gt;&quot;)},pushQue:function(){if(VMM.master_config.vimeo.que.length&gt;0){VMM.ExternalAPI.vimeo.create(VMM.master_config.vimeo.que[0],VMM.ExternalAPI.vimeo.pushQue);VMM.Util.removeRange(VMM.master_config.vimeo.que,0)}}},vine:{get:function(e){VMM.master_config.vine.que.push(e);VMM.master_config.vine.active=!0},create:function(e,t){trace(&quot;VINE CREATE&quot;);var n=&quot;<A href="https://vine.co/v/" class="external free" rel="nofollow">https://vine.co/v/</A>&quot;+e.id+&quot;/embed/simple&quot;;VMM.attachElement(&quot;#&quot;+e.uid,&quot;&lt;iframe frameborder='0' width='100%' height='100%' src='&quot;+n+&quot;'&gt;&lt;/iframe&gt;&lt;script async src='<A href="http://platform.vine.co/static/scripts/embed.js'" class="external free" rel="nofollow">http://platform.vine.co/static/scripts/embed.js'</A> charset='utf-8'&gt;&lt;/script&gt;&quot;)},pushQue:function(){if(VMM.master_config.vine.que.length&gt;0){VMM.ExternalAPI.vine.create(VMM.master_config.vine.que[0],VMM.ExternalAPI.vine.pushQue);VMM.Util.removeRange(VMM.master_config.vine.que,0)}}},webthumb:{get:function(e,t){VMM.master_config.webthumb.que.push(e);VMM.master_config.webthumb.active=!0},sizes:function(e){var t=&quot;&quot;;e&lt;=150?t=&quot;t&quot;:e&lt;=306?t=&quot;m&quot;:t=&quot;l&quot;;return t},create:function(e){trace(&quot;WEB THUMB CREATE&quot;);var t=&quot;//api.pagepeeker.com/v2/thumbs.php?&quot;;url=e.id.replace(&quot;http://&quot;,&quot;&quot;);VMM.attachElement(&quot;#&quot;+e.uid,&quot;&lt;a href='&quot;+e.id+&quot;' target='_blank'&gt;&lt;img src='&quot;+t+&quot;size=x&amp;url=&quot;+url+&quot;'&gt;&lt;/a&gt;&quot;);VMM.attachElement(&quot;#&quot;+e.uid+&quot;_thumb&quot;,&quot;&lt;img src='&quot;+t+&quot;size=t&amp;url=&quot;+url+&quot;'&gt;&quot;)},pushQue:function(){for(var e=0;e&lt;VMM.master_config.webthumb.que.length;e++)VMM.ExternalAPI.webthumb.create(VMM.master_config.webthumb.que[e]);VMM.master_config.webthumb.que=[]}}}.init());typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.MediaElement==&quot;undefined&quot;&amp;&amp;(VMM.MediaElement={init:function(){return this},loadingmessage:function(e){return&quot;<DIV class="vco-loading"><DIV class="vco-loading-container"><DIV class="vco-message"><P>&quot;+e+&quot;</P></DIV></DIV></DIV>&quot;},thumbnail:function(e,t,n,r){var i=16,s=24,o=&quot;&quot;;t!=null&amp;&amp;t!=&quot;&quot;&amp;&amp;(i=t);n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(s=n);r!=null&amp;&amp;r!=&quot;&quot;&amp;&amp;(o=r);if(e.thumbnail!=null&amp;&amp;e.thumbnail!=&quot;&quot;){trace(&quot;CUSTOM THUMB&quot;);a=&quot;<DIV class="thumbnail thumb-custom" id=".22.2Br.2B.22_custom_thumb">&lt;img src='&quot;+e.thumbnail+&quot;'&gt;</DIV>&quot;;return a}if(e.media!=null&amp;&amp;e.media!=&quot;&quot;){var u=!0,a=&quot;&quot;,f=VMM.MediaType(e.media);if(f.type==&quot;image&quot;){a=&quot;&quot;;return a}if(f.type==&quot;flickr&quot;){a=&quot;&quot;;return a}if(f.type==&quot;instagram&quot;){a=&quot;<DIV class="thumbnail thumb-instagram" id=".22.2Br.2B.22_thumb">&lt;img src='&quot;+VMM.ExternalAPI.instagram.get(f,!0)+&quot;'&gt;</DIV>&quot;;return a}if(f.type==&quot;youtube&quot;){a=&quot;&quot;;return a}if(f.type==&quot;googledoc&quot;){a=&quot;&quot;;return a}if(f.type==&quot;vimeo&quot;){a=&quot;&quot;;return a}if(f.type==&quot;vine&quot;){a=&quot;&quot;;return a}if(f.type==&quot;dailymotion&quot;){a=&quot;&quot;;return a}if(f.type==&quot;twitter&quot;){a=&quot;&quot;;return a}if(f.type==&quot;twitter-ready&quot;){a=&quot;&quot;;return a}if(f.type==&quot;soundcloud&quot;){a=&quot;&quot;;return a}if(f.type==&quot;google-map&quot;){a=&quot;&quot;;return a}if(f.type==&quot;googleplus&quot;){a=&quot;&quot;;return a}if(f.type==&quot;wikipedia&quot;){a=&quot;&quot;;return a}if(f.type==&quot;storify&quot;){a=&quot;&quot;;return a}if(f.type==&quot;quote&quot;){a=&quot;&quot;;return a}if(f.type==&quot;iframe&quot;){a=&quot;&quot;;return a}if(f.type==&quot;unknown&quot;){f.id.match(&quot;blockquote&quot;)?a=&quot;&quot;:a=&quot;&quot;;return a}if(f.type==&quot;website&quot;){a=&quot;&quot;;return a}a=&quot;&quot;;return a}},create:function(e,t){var n=!1,r=VMM.MediaElement.loadingmessage(VMM.master_config.language.messages.loading+&quot;...&quot;);if(e.media!=null&amp;&amp;e.media!=&quot;&quot;){var i=&quot;&quot;,s=&quot;&quot;,o=&quot;&quot;,u=&quot;&quot;,a=!1,f;f=VMM.MediaType(e.media);f.uid=t;n=!0;e.credit!=null&amp;&amp;e.credit!=&quot;&quot;&amp;&amp;(o=&quot;<DIV class="credit">&quot;+VMM.Util.linkify_with_twitter(e.credit,&quot;_blank&quot;)+&quot;</DIV>&quot;);e.caption!=null&amp;&amp;e.caption!=&quot;&quot;&amp;&amp;(s=&quot;<DIV class="caption">&quot;+VMM.Util.linkify_with_twitter(e.caption,&quot;_blank&quot;)+&quot;</DIV>&quot;);if(f.type==&quot;image&quot;){f.id.match(&quot;https://&quot;)&amp;&amp;(f.id=f.id.replace(&quot;https://&quot;,&quot;http://&quot;));i=&quot;<DIV class="media-image media-shadow">&lt;img src='&quot;+f.id+&quot;' class='media-image'&gt;</DIV>&quot;}else if(f.type==&quot;flickr&quot;){i=&quot;<DIV class="media-image media-shadow">&lt;a href='&quot;+f.link+&quot;' target='_blank'&gt;&lt;img id='&quot;+t+&quot;'&gt;&lt;/a&gt;</DIV>&quot;;VMM.ExternalAPI.flickr.get(f)}else if(f.type==&quot;instagram&quot;)i=&quot;<DIV class="media-image media-shadow">&lt;a href='&quot;+f.link+&quot;' target='_blank'&gt;&lt;img src='&quot;+VMM.ExternalAPI.instagram.get(f)+&quot;'&gt;&lt;/a&gt;</DIV>&quot;;else if(f.type==&quot;googledoc&quot;){i=&quot;<DIV class="media-frame media-shadow doc" id=".22.2Bf.uid.2B.22">&quot;+r+&quot;</DIV>&quot;;VMM.ExternalAPI.googledocs.get(f)}else if(f.type==&quot;youtube&quot;){i=&quot;<DIV class="media-shadow"><DIV class="media-frame video youtube" id=".22.2Bf.uid.2B.22">&quot;+r+&quot;</DIV></DIV>&quot;;VMM.ExternalAPI.youtube.get(f)}else if(f.type==&quot;vimeo&quot;){i=&quot;<DIV class="media-shadow media-frame video vimeo" id=".22.2Bf.uid.2B.22">&quot;+r+&quot;</DIV>&quot;;VMM.ExternalAPI.vimeo.get(f)}else if(f.type==&quot;dailymotion&quot;)i=&quot;<DIV class="media-shadow">&lt;iframe class='media-frame video dailymotion' autostart='false' frameborder='0' width='100%' height='100%' src='<A href="http://www.dailymotion.com/embed/video/" class="external free" rel="nofollow">http://www.dailymotion.com/embed/video/</A>&quot;+f.id+&quot;'&gt;&lt;/iframe&gt;</DIV>&quot;;else if(f.type==&quot;vine&quot;){i=&quot;<DIV class="media-shadow media-frame video vine" id=".22.2Bf.uid.2B.22">&quot;+r+&quot;</DIV>&quot;;VMM.ExternalAPI.vine.get(f)}else if(f.type==&quot;twitter&quot;){i=&quot;<DIV class="twitter" id=".22.2Bf.uid.2B.22">&quot;+r+&quot;</DIV>&quot;;a=!0;VMM.ExternalAPI.twitter.get(f)}else if(f.type==&quot;twitter-ready&quot;){a=!0;i=f.id}else if(f.type==&quot;soundcloud&quot;){i=&quot;<DIV class="media-frame media-shadow soundcloud" id=".22.2Bf.uid.2B.22">&quot;+r+&quot;</DIV>&quot;;VMM.ExternalAPI.soundcloud.get(f)}else if(f.type==&quot;google-map&quot;){i=&quot;<DIV class="media-frame media-shadow map" id=".22.2Bf.uid.2B.22">&quot;+r+&quot;</DIV>&quot;;VMM.ExternalAPI.googlemaps.get(f)}else if(f.type==&quot;googleplus&quot;){u=&quot;googleplus_&quot;+f.id;i=&quot;<DIV class="googleplus" id=".22.2Bu.2B.22">&quot;+r+&quot;</DIV>&quot;;a=!0;VMM.ExternalAPI.googleplus.get(f)}else if(f.type==&quot;wikipedia&quot;){i=&quot;<DIV class="wikipedia" id=".22.2Bf.uid.2B.22">&quot;+r+&quot;</DIV>&quot;;a=!0;VMM.ExternalAPI.wikipedia.get(f)}else if(f.type==&quot;storify&quot;){a=!0;i=&quot;<DIV class="plain-text-quote">&quot;+f.id+&quot;</DIV>&quot;}else if(f.type==&quot;iframe&quot;){a=!0;i=&quot;<DIV class="media-shadow">&lt;iframe class='media-frame video' autostart='false' frameborder='0' width='100%' height='100%' src='&quot;+f.id+&quot;'&gt;&lt;/iframe&gt;</DIV>&quot;}else if(f.type==&quot;quote&quot;){a=!0;i=&quot;<DIV class="plain-text-quote">&quot;+f.id+&quot;</DIV>&quot;}else if(f.type==&quot;unknown&quot;){trace(&quot;NO KNOWN MEDIA TYPE FOUND TRYING TO JUST PLACE THE HTML&quot;);a=!0;i=&quot;<DIV class="plain-text"><DIV class="container">&quot;+VMM.Util.properQuotes(f.id)+&quot;</DIV></DIV>&quot;}else if(f.type==&quot;website&quot;){i=&quot;<DIV class="media-shadow website" id=".22.2Bf.uid.2B.22">&quot;+r+&quot;</DIV>&quot;;VMM.ExternalAPI.webthumb.get(f)}else{trace(&quot;NO KNOWN MEDIA TYPE FOUND&quot;);trace(f.type)}i=&quot;<DIV class="media-container">&quot;+i+o+s+&quot;</DIV>&quot;;return a?&quot;<DIV class="text-media"><DIV class="media-wrapper">&quot;+i+&quot;</DIV></DIV>&quot;:&quot;<DIV class="media-wrapper">&quot;+i+&quot;</DIV>&quot;}}}.init());typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.MediaType==&quot;undefined&quot;&amp;&amp;(VMM.MediaType=function(e){var t=e.replace(/^\s\s*/,&quot;&quot;).replace(/\s\s*$/,&quot;&quot;),n=!1,r={type:&quot;unknown&quot;,id:&quot;&quot;,start:0,hd:!1,link:&quot;&quot;,lang:VMM.Language.lang,uniqueid:VMM.Util.unique_ID(6)};if(t.match(&quot;div class='twitter'&quot;)){r.type=&quot;twitter-ready&quot;;r.id=t;n=!0}else if(t.match(&quot;&lt;blockquote&quot;)){r.type=&quot;quote&quot;;r.id=t;n=!0}else if(t.match(&quot;&lt;iframe&quot;)){r.type=&quot;iframe&quot;;trace(&quot;IFRAME&quot;);regex=/src=['&quot;](\S+?)['&quot;]/;group=t.match(regex);group&amp;&amp;(r.id=group[1]);trace(&quot;iframe url: &quot;+r.id);n=Boolean(r.id)}else if(t.match(&quot;(www.)?youtube|youtu.be&quot;)){t.match(&quot;v=&quot;)?r.id=VMM.Util.getUrlVars(t).v:t.match(&quot;/embed/&quot;)?r.id=t.split(&quot;embed/&quot;)[1].split(/[?&amp;]/)[0]:t.match(/v\/|v=|youtu\.be\//)?r.id=t.split(/v\/|v=|youtu\.be\//)[1].split(/[?&amp;]/)[0]:trace(&quot;YOUTUBE IN URL BUT NOT A VALID VIDEO&quot;);r.start=VMM.Util.getUrlVars(t).t;r.hd=VMM.Util.getUrlVars(t).hd;r.type=&quot;youtube&quot;;n=!0}else if(t.match(&quot;(player.)?vimeo.com&quot;)){r.type=&quot;vimeo&quot;;r.id=t.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&amp;]/)[0];n=!0}else if(t.match(&quot;(www.)?dailymotion.com&quot;)){r.id=t.split(/video\/|\/\/dailymotion\.com\//)[1];r.type=&quot;dailymotion&quot;;n=!0}else if(t.match(&quot;(www.)?vine.co&quot;)){trace(&quot;VINE&quot;);if(t.match(&quot;vine.co/v/&quot;)){r.id=t.split(&quot;vine.co/v/&quot;)[1];trace(r.id)}trace(t);r.type=&quot;vine&quot;;n=!0}else if(t.match(&quot;(player.)?soundcloud.com&quot;)){r.type=&quot;soundcloud&quot;;r.id=t;n=!0}else if(t.match(&quot;(www.)?twitter.com&quot;)&amp;&amp;t.match(&quot;status&quot;)){t.match(&quot;status/&quot;)?r.id=t.split(&quot;status/&quot;)[1]:t.match(&quot;statuses/&quot;)?r.id=t.split(&quot;statuses/&quot;)[1]:r.id=&quot;&quot;;r.type=&quot;twitter&quot;;n=!0}else if(t.match(&quot;maps.google&quot;)&amp;&amp;!t.match(&quot;staticmap&quot;)&amp;&amp;!t.match(&quot;streetview&quot;)){r.type=&quot;google-map&quot;;r.id=t;n=!0}else if(t.match(/www.google.\w+\/maps/)){r.type=&quot;google-map&quot;;r.id=t;n=!0}else if(t.match(&quot;plus.google&quot;)){r.type=&quot;googleplus&quot;;r.id=t.split(&quot;/posts/&quot;)[1];t.split(&quot;/posts/&quot;)[0].match(&quot;u/0/&quot;)?r.user=t.split(&quot;u/0/&quot;)[1].split(&quot;/posts&quot;)[0]:r.user=t.split(&quot;google.com/&quot;)[1].split(&quot;/posts/&quot;)[0];n=!0}else if(t.match(&quot;flickr.com/photos/&quot;)){r.type=&quot;flickr&quot;;r.id=VMM.ExternalAPI.flickr.getFlickrIdFromUrl(t);r.link=t;n=Boolean(r.id)}else if(VMM.ExternalAPI.instagram.isInstagramUrl(t)){r.type=&quot;instagram&quot;;r.link=t;r.id=VMM.ExternalAPI.instagram.getInstagramIdFromUrl(t);n=Boolean(r.id)}else if(t.match(/jpg|jpeg|png|gif|svg|bmp/i)||t.match(&quot;staticmap&quot;)||t.match(&quot;yfrog.com&quot;)||t.match(&quot;twitpic.com&quot;)||t.match(&quot;maps.googleapis.com/maps/api/streetview&quot;)){r.type=&quot;image&quot;;r.id=t;n=!0}else if(VMM.FileExtention.googleDocType(t)){r.type=&quot;googledoc&quot;;r.id=t;n=!0}else if(t.match(&quot;(www.)?wikipedia.org&quot;)){r.type=&quot;wikipedia&quot;;var i=t.split(&quot;wiki/&quot;)[1].split(&quot;#&quot;)[0].replace(&quot;_&quot;,&quot; &quot;);r.id=i.replace(&quot; &quot;,&quot;%20&quot;);r.lang=t.split(&quot;//&quot;)[1].split(&quot;.wikipedia&quot;)[0];n=!0}else if(t.indexOf(&quot;http://&quot;)==0){r.type=&quot;website&quot;;r.id=t;n=!0}else if(t.match(&quot;storify&quot;)){r.type=&quot;storify&quot;;r.id=t;n=!0}else{trace(&quot;unknown media&quot;);r.type=&quot;unknown&quot;;r.id=t;n=!0}if(n)return r;trace(&quot;No valid media id detected&quot;);trace(t);return!1});typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.TextElement==&quot;undefined&quot;&amp;&amp;(VMM.TextElement={init:function(){return this},create:function(e){return e}}.init());typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.DragSlider==&quot;undefined&quot;&amp;&amp;(VMM.DragSlider=function(){function o(e,n){VMM.bindEvent(e,a,t.down,{element:n,delement:e});VMM.bindEvent(e,f,t.up,{element:n,delement:e});VMM.bindEvent(e,u,t.leave,{element:n,delement:e})}function u(n){VMM.unbindEvent(n.data.delement,l,t.move);e.touch||n.preventDefault();n.stopPropagation();if(e.sliding){e.sliding=!1;h(n.data.element,n.data.delement,n);return!1}return!0}function a(t){c(t.data.element,t.data.delement,t);e.touch||t.preventDefault();return!0}function f(t){e.touch||t.preventDefault();if(e.sliding){e.sliding=!1;h(t.data.element,t.data.delement,t);return!1}return!0}function l(e){p(e.data.element,e)}function c(n,r,i){if(e.touch){trace(&quot;IS TOUCH&quot;);VMM.Lib.css(n,&quot;-webkit-transition-duration&quot;,&quot;0&quot;);e.pagex.start=i.originalEvent.touches[0].screenX;e.pagey.start=i.originalEvent.touches[0].screenY}else{e.pagex.start=i.pageX;e.pagey.start=i.pageY}e.left.start=v(n);e.time.start=(new Date).getTime();VMM.Lib.stop(n);VMM.bindEvent(r,l,t.move,{element:n})}function h(e,n,r){VMM.unbindEvent(n,l,t.move);d(e,r)}function p(t,n){var r,i;e.sliding=!0;if(e.touch){e.pagex.end=n.originalEvent.touches[0].screenX;e.pagey.end=n.originalEvent.touches[0].screenY}else{e.pagex.end=n.pageX;e.pagey.end=n.pageY}e.left.end=v(t);r=-(e.pagex.start-e.pagex.end-e.left.start);if(Math.abs(e.pagey.start)-Math.abs(e.pagey.end)&gt;10){trace(&quot;SCROLLING Y&quot;);trace(Math.abs(e.pagey.start)-Math.abs(e.pagey.end))}if(Math.abs(r-e.left.start)&gt;10){VMM.Lib.css(t,&quot;left&quot;,r);n.preventDefault();n.stopPropagation()}}function d(t,n){var r={left:e.left.end,left_adjust:0,change:{x:0},time:((new Date).getTime()-e.time.start)*10,time_adjust:((new Date).getTime()-e.time.start)*10},o=3e3;e.touch&amp;&amp;(o=6e3);r.change.x=o*(Math.abs(e.pagex.end)-Math.abs(e.pagex.start));r.left_adjust=Math.round(r.change.x/r.time);r.left=Math.min(r.left+r.left_adjust);if(e.constraint)if(r.left&gt;e.constraint.left){r.left=e.constraint.left;r.time&gt;5e3&amp;&amp;(r.time=5e3)}else if(r.left&lt;e.constraint.right){r.left=e.constraint.right;r.time&gt;5e3&amp;&amp;(r.time=5e3)}VMM.fireEvent(i,&quot;DRAGUPDATE&quot;,[r]);s||r.time&gt;0&amp;&amp;(e.touch?VMM.Lib.animate(t,r.time,&quot;easeOutCirc&quot;,{left:r.left}):VMM.Lib.animate(t,r.time,e.ease,{left:r.left}))}function v(e){return parseInt(VMM.Lib.css(e,&quot;left&quot;).substring(0,VMM.Lib.css(e,&quot;left&quot;).length-2),10)}var e={element:&quot;&quot;,element_move:&quot;&quot;,constraint:&quot;&quot;,sliding:!1,pagex:{start:0,end:0},pagey:{start:0,end:0},left:{start:0,end:0},time:{start:0,end:0},touch:!1,ease:&quot;easeOutExpo&quot;},t={down:&quot;mousedown&quot;,up:&quot;mouseup&quot;,leave:&quot;mouseleave&quot;,move:&quot;mousemove&quot;},n={down:&quot;mousedown&quot;,up:&quot;mouseup&quot;,leave:&quot;mouseleave&quot;,move:&quot;mousemove&quot;},r={down:&quot;touchstart&quot;,up:&quot;touchend&quot;,leave:&quot;mouseleave&quot;,move:&quot;touchmove&quot;},i=this,s=!1;this.createPanel=function(i,u,a,f,l){e.element=i;e.element_move=u;l!=null&amp;&amp;l!=&quot;&quot;&amp;&amp;(s=l);a!=null&amp;&amp;a!=&quot;&quot;?e.constraint=a:e.constraint=!1;f?e.touch=f:e.touch=!1;trace(&quot;TOUCH&quot;+e.touch);e.touch?t=r:t=n;o(e.element,e.element_move)};this.updateConstraint=function(t){trace(&quot;updateConstraint&quot;);e.constraint=t};this.cancelSlide=function(n){VMM.unbindEvent(e.element,l,t.move);return!0}});typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.Slider==&quot;undefined&quot;&amp;&amp;(VMM.Slider=function(e,t){function S(){trace(&quot;onConfigSet&quot;)}function x(e,t){var r=!0,i=!1;e!=null&amp;&amp;(r=e);t!=null&amp;&amp;(i=t);m=n.slider.width;n.slider.nav.height=VMM.Lib.height(E.prevBtnContainer);VMM.Browser.device==&quot;mobile&quot;||m&lt;=640?n.slider.content.padding=10:n.slider.content.padding=n.slider.content.padding_default;n.slider.content.width=m-n.slider.content.padding*2;VMM.Lib.width(u,h.length*n.slider.content.width);i&amp;&amp;VMM.Lib.css(o,&quot;left&quot;,h[v].leftpos());B();j();VMM.Lib.css(E.nextBtn,&quot;left&quot;,m-n.slider.nav.width);VMM.Lib.height(E.prevBtn,n.slider.height);VMM.Lib.height(E.nextBtn,n.slider.height);VMM.Lib.css(E.nextBtnContainer,&quot;top&quot;,n.slider.height/2-n.slider.nav.height/2+10);VMM.Lib.css(E.prevBtnContainer,&quot;top&quot;,n.slider.height/2-n.slider.nav.height/2+10);VMM.Lib.height(s,n.slider.height);VMM.Lib.width(s,m);r&amp;&amp;I(v,&quot;linear&quot;,1);v==0&amp;&amp;VMM.Lib.visible(E.prevBtn,!1)}function T(e,t){trace(&quot;DRAG FINISH&quot;);trace(t.left_adjust);trace(n.slider.width/2);if(t.left_adjust&lt;0)if(Math.abs(t.left_adjust)&gt;n.slider.width/2)if(v==h.length-1)q();else{I(v+1,&quot;easeOutExpo&quot;);O()}else q();else if(Math.abs(t.left_adjust)&gt;n.slider.width/2)if(v==0)q();else{I(v-1,&quot;easeOutExpo&quot;);O()}else q()}function N(e){if(v==h.length-1)q();else{I(v+1);O()}}function C(e){if(v==0)q();else{I(v-1);O()}}function k(e){switch(e.keyCode){case 39:N(e);break;case 37:C(e)}}function L(e,t){if(p.length==0)for(var r=0;r&lt;h.length;r++)p.push(h[r].leftpos());if(typeof t.left==&quot;number&quot;){var i=t.left,s=-h[v].leftpos();i<S>s+n.slider_width/3?C():VMM.Lib.animate(o,n.duration,n.ease,{left:s})}else VMM.Lib.animate(o,n.duration,n.ease,{left:s});typeof t.top==&quot;number&quot;&amp;&amp;VMM.Lib.animate(o,n.duration,n.ease,{top:-t.top})}function A(e){z()}function O(){n.current_slide=v;VMM.fireEvent(w,&quot;UPDATE&quot;)}function M(e){c=e}function _(e){var t=0;VMM.attachElement(u,&quot;&quot;);h=[];for(t=0;t&lt;e.length;t++){var n=new VMM.Slider.Slide(e[t],u);h.push(n)}}function D(e){var t=0;if(e)P();else{for(t=0;t&lt;h.length;t++)h[t].clearTimers();r=setTimeout(P,n.duration)}}function P(){var e=0;for(e=0;e&lt;h.length;e++)h[e].enqueue=!0;for(e=0;e&lt;n.preload;e++){if(!(v+e&gt;h.length-1)){h[v+e].show();h[v+e].enqueue=!1}if(!(v-e&lt;0)){h[v-e].show();h[v-e].enqueue=!1}}if(h.length&gt;50)for(e=0;e&lt;h.length;e++)h[e].enqueue&amp;&amp;h[e].hide();B()}function H(e){}function B(){var e=0,t=&quot;.slider-item .layout-text-media .media .media-container &quot;,r=&quot;.slider-item .layout-media .media .media-container &quot;,i=&quot;.slider-item .media .media-container&quot;,s=&quot;.slider-item .media .media-container .media-shadow .caption&quot;,o=!1,u={text_media:{width:n.slider.content.width/100*60,height:n.slider.height-60,video:{width:0,height:0},text:{width:n.slider.content.width/100*40-30,height:n.slider.height}},media:{width:n.slider.content.width,height:n.slider.height-110,video:{width:0,height:0}}};if(VMM.Browser.device==&quot;mobile&quot;||m&lt;641)o=!0;VMM.master_config.sizes.api.width=u.media.width;VMM.master_config.sizes.api.height=u.media.height;u.text_media.video=VMM.Util.ratio.fit(u.text_media.width,u.text_media.height,16,9);u.media.video=VMM.Util.ratio.fit(u.media.width,u.media.height,16,9);VMM.Lib.css(&quot;.slider-item&quot;,&quot;width&quot;,n.slider.content.width);VMM.Lib.height(&quot;.slider-item&quot;,n.slider.height);if(o){u.text_media.width=n.slider.content.width-n.slider.content.padding*2;u.media.width=n.slider.content.width-n.slider.content.padding*2;u.text_media.height=n.slider.height/100*50-50;u.media.height=n.slider.height/100*70-40;u.text_media.video=VMM.Util.ratio.fit(u.text_media.width,u.text_media.height,16,9);u.media.video=VMM.Util.ratio.fit(u.media.width,u.media.height,16,9);VMM.Lib.css(&quot;.slider-item .layout-text-media .text&quot;,&quot;width&quot;,&quot;100%&quot;);VMM.Lib.css(&quot;.slider-item .layout-text-media .text&quot;,&quot;display&quot;,&quot;block&quot;);VMM.Lib.css(&quot;.slider-item .layout-text-media .text .container&quot;,&quot;display&quot;,&quot;block&quot;);VMM.Lib.css(&quot;.slider-item .layout-text-media .text .container&quot;,&quot;width&quot;,u.media.width);VMM.Lib.css(&quot;.slider-item .layout-text-media .text .container .start&quot;,&quot;width&quot;,&quot;auto&quot;);VMM.Lib.css(&quot;.slider-item .layout-text-media .media&quot;,&quot;float&quot;,&quot;none&quot;);VMM.Lib.addClass(&quot;.slider-item .content-container&quot;,&quot;pad-top&quot;);VMM.Lib.css(&quot;.slider-item .media blockquote p&quot;,&quot;line-height&quot;,&quot;18px&quot;);VMM.Lib.css(&quot;.slider-item .media blockquote p&quot;,&quot;font-size&quot;,&quot;16px&quot;);VMM.Lib.css(&quot;.slider-item&quot;,&quot;overflow-y&quot;,&quot;auto&quot;)}else{VMM.Lib.css(&quot;.slider-item .layout-text-media .text&quot;,&quot;width&quot;,&quot;40%&quot;);VMM.Lib.css(&quot;.slider-item .layout-text-media .text&quot;,&quot;display&quot;,&quot;table-cell&quot;);VMM.Lib.css(&quot;.slider-item .layout-text-media .text .container&quot;,&quot;display&quot;,&quot;table-cell&quot;);VMM.Lib.css(&quot;.slider-item .layout-text-media .text .container&quot;,&quot;width&quot;,&quot;auto&quot;);VMM.Lib.css(&quot;.slider-item .layout-text-media .text .container .start&quot;,&quot;width&quot;,u.text_media.text.width);VMM.Lib.removeClass(&quot;.slider-item .content-container&quot;,&quot;pad-top&quot;);VMM.Lib.css(&quot;.slider-item .layout-text-media .media&quot;,&quot;float&quot;,&quot;left&quot;);VMM.Lib.css(&quot;.slider-item .layout-text-media&quot;,&quot;display&quot;,&quot;table&quot;);VMM.Lib.css(&quot;.slider-item .media blockquote p&quot;,&quot;line-height&quot;,&quot;36px&quot;);VMM.Lib.css(&quot;.slider-item .media blockquote p&quot;,&quot;font-size&quot;,&quot;28px&quot;);VMM.Lib.css(&quot;.slider-item&quot;,&quot;display&quot;,&quot;table&quot;);VMM.Lib.css(&quot;.slider-item&quot;,&quot;overflow-y&quot;,&quot;auto&quot;)}VMM.Lib.css(t+&quot;.media-frame&quot;,&quot;max-width&quot;,u.text_media.width);VMM.Lib.height(t+&quot;.media-frame&quot;,u.text_media.height);VMM.Lib.width(t+&quot;.media-frame&quot;,u.text_media.width);VMM.Lib.css(t+&quot;img&quot;,&quot;max-height&quot;,u.text_media.height);VMM.Lib.css(r+&quot;img&quot;,&quot;max-height&quot;,u.media.height);VMM.Lib.css(t+&quot;img&quot;,&quot;max-width&quot;,u.text_media.width);VMM.Lib.css(t+&quot;.avatar img&quot;,&quot;max-width&quot;,32);VMM.Lib.css(t+&quot;.avatar img&quot;,&quot;max-height&quot;,32);VMM.Lib.css(r+&quot;.avatar img&quot;,&quot;max-width&quot;,32);VMM.Lib.css(r+&quot;.avatar img&quot;,&quot;max-height&quot;,32);VMM.Lib.css(t+&quot;.article-thumb&quot;,&quot;max-width&quot;,&quot;50%&quot;);VMM.Lib.css(r+&quot;.article-thumb&quot;,&quot;max-width&quot;,200);VMM.Lib.width(t+&quot;.media-frame&quot;,u.text_media.video.width);VMM.Lib.height(t+&quot;.media-frame&quot;,u.text_media.video.height);VMM.Lib.width(r+&quot;.media-frame&quot;,u.media.video.width);VMM.Lib.height(r+&quot;.media-frame&quot;,u.media.video.height);VMM.Lib.css(r+&quot;.media-frame&quot;,&quot;max-height&quot;,u.media.video.height);VMM.Lib.css(r+&quot;.media-frame&quot;,&quot;max-width&quot;,u.media.video.width);VMM.Lib.height(r+&quot;.soundcloud&quot;,168);VMM.Lib.height(t+&quot;.soundcloud&quot;,168);VMM.Lib.width(r+&quot;.soundcloud&quot;,u.media.width);VMM.Lib.width(t+&quot;.soundcloud&quot;,u.text_media.width);VMM.Lib.css(i+&quot;.soundcloud&quot;,&quot;max-height&quot;,168);VMM.Lib.height(t+&quot;.map&quot;,u.text_media.height);VMM.Lib.width(t+&quot;.map&quot;,u.text_media.width);VMM.Lib.css(r+&quot;.map&quot;,&quot;max-height&quot;,u.media.height);VMM.Lib.width(r+&quot;.map&quot;,u.media.width);VMM.Lib.height(t+&quot;.doc&quot;,u.text_media.height);VMM.Lib.width(t+&quot;.doc&quot;,u.text_media.width);VMM.Lib.height(r+&quot;.doc&quot;,u.media.height);VMM.Lib.width(r+&quot;.doc&quot;,u.media.width);VMM.Lib.width(r+&quot;.wikipedia&quot;,u.media.width);VMM.Lib.width(r+&quot;.twitter&quot;,u.media.width);VMM.Lib.width(r+&quot;.plain-text-quote&quot;,u.media.width);VMM.Lib.width(r+&quot;.plain-text&quot;,u.media.width);VMM.Lib.css(i,&quot;max-width&quot;,u.media.width);VMM.Lib.css(t+&quot;.caption&quot;,&quot;max-width&quot;,u.text_media.video.width);VMM.Lib.css(r+&quot;.caption&quot;,&quot;max-width&quot;,u.media.video.width);for(e=0;e&lt;h.length;e++){h[e].layout(o);h[e].content_height()&gt;n.slider.height+20?h[e].css(&quot;display&quot;,&quot;block&quot;):h[e].css(&quot;display&quot;,&quot;table&quot;)}}function j(){var e=0,t=0;for(t=0;t&lt;h.length;t++){e=t*(n.slider.width+n.spacing);h[t].leftpos(e)}}function F(e){var t=&quot;linear&quot;,r=0;for(r=0;r&lt;h.length;r++)r==v?h[r].animate(n.duration,t,{opacity:1}):r==v-1||r==v+1?h[r].animate(n.duration,t,{opacity:.1}):h[r].opacity(e)}function I(e,t,r,s,u){var a=n.ease,f=n.duration,l=!1,p=!1,d=&quot;&quot;,m;VMM.ExternalAPI.youtube.stopPlayers();v=e;m=h[v].leftpos();v==0&amp;&amp;(p=!0);v+1&gt;=h.length&amp;&amp;(l=!0);t!=null&amp;&amp;t!=&quot;&quot;&amp;&amp;(a=t);r!=null&amp;&amp;r!=&quot;&quot;&amp;&amp;(f=r);if(VMM.Browser.device==&quot;mobile&quot;){VMM.Lib.visible(E.prevBtn,!1);VMM.Lib.visible(E.nextBtn,!1)}else{if(p)VMM.Lib.visible(E.prevBtn,!1);else{VMM.Lib.visible(E.prevBtn,!0);d=VMM.Util.unlinkify(c[v-1].title);if(n.type==&quot;timeline&quot;)if(typeof c[v-1].date==&quot;undefined&quot;){VMM.attachElement(E.prevDate,d);VMM.attachElement(E.prevTitle,&quot;&quot;)}else{VMM.attachElement(E.prevDate,VMM.Date.prettyDate(c[v-1].startdate,!1,c[v-1].precisiondate));VMM.attachElement(E.prevTitle,d)}else VMM.attachElement(E.prevTitle,d)}if(l)VMM.Lib.visible(E.nextBtn,!1);else{VMM.Lib.visible(E.nextBtn,!0);d=VMM.Util.unlinkify(c[v+1].title);if(n.type==&quot;timeline&quot;)if(typeof c[v+1].date==&quot;undefined&quot;){VMM.attachElement(E.nextDate,d);VMM.attachElement(E.nextTitle,&quot;&quot;)}else{VMM.attachElement(E.nextDate,VMM.Date.prettyDate(c[v+1].startdate,!1,c[v+1].precisiondate));VMM.attachElement(E.nextTitle,d)}else VMM.attachElement(E.nextTitle,d)}}if(s)VMM.Lib.css(o,&quot;left&quot;,-(m-n.slider.content.padding));else{VMM.Lib.stop(o);VMM.Lib.animate(o,f,a,{left:-(m-n.slider.content.padding)})}u&amp;&amp;VMM.fireEvent(w,&quot;LOADED&quot;);if(h[v].height()&gt;n.slider_height)VMM.Lib.css(&quot;.slider&quot;,&quot;overflow-y&quot;,&quot;scroll&quot;);else{VMM.Lib.css(w,&quot;overflow-y&quot;,&quot;hidden&quot;);var g=0;try{g=VMM.Lib.prop(w,&quot;scrollHeight&quot;);VMM.Lib.animate(w,f,a,{scrollTop:g-VMM.Lib.height(w)})}catch(y){g=VMM.Lib.height(w)}}D();VMM.fireEvent(i,&quot;MESSAGE&quot;,&quot;TEST&quot;)}function q(){VMM.Lib.stop(o);VMM.Lib.animate(o,n.duration,&quot;easeOutExpo&quot;,{left:-h[v].leftpos()+n.slider.content.padding})}function R(e,t,n){trace(&quot;showMessege &quot;+t);VMM.attachElement(f,&quot;<DIV class="vco-explainer"><DIV class="vco-explainer-container"><DIV class="vco-bezel"><DIV class="vco-message"><P>&quot;+t+&quot;</P></DIV></DIV></DIV></DIV>&quot;)}function U(){VMM.Lib.animate(f,n.duration,n.ease,{opacity:0},z)}function z(){VMM.Lib.detach(f)}function W(){var e=&quot;<DIV class="icon"> </DIV>&quot;;E.nextBtn=VMM.appendAndGetElement(i,&quot;<DIV>&quot;,&quot;nav-next&quot;);E.prevBtn=VMM.appendAndGetElement(i,&quot;<DIV>&quot;,&quot;nav-previous&quot;);E.nextBtnContainer=VMM.appendAndGetElement(E.nextBtn,&quot;<DIV>&quot;,&quot;nav-container&quot;,e);E.prevBtnContainer=VMM.appendAndGetElement(E.prevBtn,&quot;<DIV>&quot;,&quot;nav-container&quot;,e);if(n.type==&quot;timeline&quot;){E.nextDate=VMM.appendAndGetElement(E.nextBtnContainer,&quot;<DIV>&quot;,&quot;date&quot;,&quot;&quot;);E.prevDate=VMM.appendAndGetElement(E.prevBtnContainer,&quot;<DIV>&quot;,&quot;date&quot;,&quot;&quot;)}E.nextTitle=VMM.appendAndGetElement(E.nextBtnContainer,&quot;<DIV>&quot;,&quot;title&quot;,&quot;&quot;);E.prevTitle=VMM.appendAndGetElement(E.prevBtnContainer,&quot;<DIV>&quot;,&quot;title&quot;,&quot;&quot;);VMM.bindEvent(&quot;.nav-next&quot;,N);VMM.bindEvent(&quot;.nav-previous&quot;,C);VMM.bindEvent(window,k,&quot;keydown&quot;)}function X(){var e=3e3;VMM.attachElement(w,&quot;&quot;);i=VMM.getElement(w);s=VMM.appendAndGetElement(i,&quot;<DIV>&quot;,&quot;slider-container-mask&quot;);o=VMM.appendAndGetElement(s,&quot;<DIV>&quot;,&quot;slider-container&quot;);u=VMM.appendAndGetElement(o,&quot;<DIV>&quot;,&quot;slider-item-container&quot;);W();_(c);if(VMM.Browser.device==&quot;tablet&quot;||VMM.Browser.device==&quot;mobile&quot;){n.duration=500;e=1e3;a=new VMM.DragSlider;a.createPanel(i,o,&quot;&quot;,n.touch,!0);VMM.bindEvent(a,T,&quot;DRAGUPDATE&quot;);f=VMM.appendAndGetElement(s,&quot;<DIV>&quot;,&quot;vco-feedback&quot;,&quot;&quot;);R(null,&quot;Swipe to Navigate&quot;);VMM.Lib.height(f,n.slider.height);VMM.bindEvent(f,A);VMM.bindEvent(f,A,&quot;touchend&quot;)}x(!1,!0);VMM.Lib.visible(E.prevBtn,!1);I(n.current_slide,&quot;easeOutExpo&quot;,e,!0,!0);b=!0}var n,r,i,s,o,u,a,f,l={},c=[],h=[],p=[],d=&quot;&quot;,v=0,m=960,g={move:!1,x:10,y:0,off:0,dampen:48},y=&quot;&quot;,b=!1,w=e,E={nextBtn:&quot;&quot;,prevBtn:&quot;&quot;,nextDate:&quot;&quot;,prevDate:&quot;&quot;,nextTitle:&quot;&quot;,prevTitle:&quot;&quot;};typeof t!=&quot;undefined&quot;?n=t:n={preload:4,current_slide:0,interval:10,something:0,width:720,height:400,ease:&quot;easeInOutExpo&quot;,duration:1e3,timeline:!1,spacing:15,slider:{width:720,height:400,content:{width:720,height:400,padding:120,padding_default:120},nav:{width:100,height:200}}};this.ver=&quot;0.6&quot;;n.slider.width=n.width;n.slider.height=n.height;this.init=function(e){h=[];p=[];typeof e!=&quot;undefined&quot;?this.setData(e):trace(&quot;WAITING ON DATA&quot;)};this.width=function(e){if(e==null||e==&quot;&quot;)return n.slider.width;n.slider.width=e;x()};this.height=function(e){if(e==null||e==&quot;&quot;)return n.slider.height;n.slider.height=e;x()};this.setData=function(e){if(typeof e!=&quot;undefined&quot;){c=e;X()}else trace(&quot;NO DATA&quot;)};this.getData=function(){return c};this.setConfig=function(e){typeof e!=&quot;undefined&quot;?n=e:trace(&quot;NO CONFIG DATA&quot;)};this.getConfig=function(){return n};this.setSize=function(e,t){e!=null&amp;&amp;(n.slider.width=e);t!=null&amp;&amp;(n.slider.height=t);b&amp;&amp;x()};this.active=function(){return b};this.getCurrentNumber=function(){return v};this.setSlide=function(e){I(e)}});typeof VMM.Slider!=&quot;undefined&quot;&amp;&amp;(VMM.Slider.Slide=function(e,t){var n,r,i,s,o,u,a=e,f={},o=&quot;&quot;,l=&quot;&quot;,c=!1,h=!1,p=!1,d=!0,v=!1,m=&quot;slide_&quot;,g=0,y={pushque:&quot;&quot;,render:&quot;&quot;,relayout:&quot;&quot;,remove:&quot;&quot;,skinny:!1},b={pushque:500,render:100,relayout:100,remove:3e4};m+=a.uniqueid;this.enqueue=d;this.id=m;o=VMM.appendAndGetElement(t,&quot;<DIV>&quot;,&quot;slider-item&quot;);if(typeof a.classname!=&quot;undefined&quot;){trace(&quot;HAS CLASSNAME&quot;);VMM.Lib.addClass(o,a.classname)}else{trace(&quot;NO CLASSNAME&quot;);trace(a)}u={slide:&quot;&quot;,text:&quot;&quot;,media:&quot;&quot;,media_element:&quot;&quot;,layout:&quot;content-container layout&quot;,has:{headline:!1,text:!1,media:!1}};this.show=function(e){d=!1;y.skinny=e;v=!1;clearTimeout(y.remove);if(!c)if(h){clearTimeout(y.relayout);y.relayout=setTimeout(S,b.relayout)}else w(e)};this.hide=function(){if(c&amp;&amp;!v){v=!0;clearTimeout(y.remove);y.remove=setTimeout(E,b.remove)}};this.clearTimers=function(){clearTimeout(y.relayout);clearTimeout(y.pushque);clearTimeout(y.render)};this.layout=function(e){c&amp;&amp;h&amp;&amp;x(e)};this.elem=function(){return o};this.position=function(){return VMM.Lib.position(o)};this.leftpos=function(e){if(typeof e==&quot;undefined&quot;)return VMM.Lib.position(o).left;VMM.Lib.css(o,&quot;left&quot;,e)};this.animate=function(e,t,n){VMM.Lib.animate(o,e,t,n)};this.css=function(e,t){VMM.Lib.css(o,e,t)};this.opacity=function(e){VMM.Lib.css(o,&quot;opacity&quot;,e)};this.width=function(){return VMM.Lib.width(o)};this.height=function(){return VMM.Lib.height(o)};this.content_height=function(){var e=VMM.Lib.find(o,&quot;.content&quot;)[0];return e!=&quot;undefined&quot;&amp;&amp;e!=null?VMM.Lib.height(e):0};var w=function(e){trace(&quot;RENDER &quot;+m);c=!0;h=!0;y.skinny=e;T();clearTimeout(y.pushque);clearTimeout(y.render);y.pushque=setTimeout(VMM.ExternalAPI.pushQues,b.pushque)},E=function(){trace(&quot;REMOVE SLIDE TIMER FINISHED&quot;);c=!1;VMM.Lib.detach(r);VMM.Lib.detach(n)},S=function(){c=!0;x(y.skinny,!0)},x=function(e,t){if(u.has.text){if(e){if(!p||t){VMM.Lib.removeClass(i,&quot;pad-left&quot;);VMM.Lib.detach(r);VMM.Lib.detach(n);VMM.Lib.append(i,r);VMM.Lib.append(i,n);p=!0}}else if(p||t){VMM.Lib.addClass(i,&quot;pad-left&quot;);VMM.Lib.detach(r);VMM.Lib.detach(n);VMM.Lib.append(i,n);VMM.Lib.append(i,r);p=!1}}else if(t){if(u.has.headline){VMM.Lib.detach(r);VMM.Lib.append(i,r)}VMM.Lib.detach(n);VMM.Lib.append(i,n)}},T=function(){trace(&quot;BUILDSLIDE&quot;);s=VMM.appendAndGetElement(o,&quot;<DIV>&quot;,&quot;content&quot;);i=VMM.appendAndGetElement(s,&quot;<DIV>&quot;);if(a.startdate!=null&amp;&amp;a.startdate!=&quot;&quot;&amp;&amp;type.of(a.startdate)==&quot;date&quot;&amp;&amp;a.type!=&quot;start&quot;){var e=VMM.Date.prettyDate(a.startdate,!1,a.precisiondate),t=VMM.Date.prettyDate(a.enddate,!1,a.precisiondate),f=&quot;&quot;;a.tag!=null&amp;&amp;a.tag!=&quot;&quot;&amp;&amp;(f=VMM.createElement(&quot;span&quot;,a.tag,&quot;slide-tag&quot;));e!=t?u.text+=VMM.createElement(&quot;h2&quot;,e+&quot; — &quot;+t+f,&quot;date&quot;):u.text+=VMM.createElement(&quot;h2&quot;,e+f,&quot;date&quot;)}if(a.headline!=null&amp;&amp;a.headline!=&quot;&quot;){u.has.headline=!0;a.type==&quot;start&quot;?u.text+=VMM.createElement(&quot;h2&quot;,VMM.Util.linkify_with_twitter(a.headline,&quot;_blank&quot;),&quot;start&quot;):u.text+=VMM.createElement(&quot;h3&quot;,VMM.Util.linkify_with_twitter(a.headline,&quot;_blank&quot;))}if(a.text!=null&amp;&amp;a.text!=&quot;&quot;){u.has.text=!0;u.text+=VMM.createElement(&quot;p&quot;,VMM.Util.linkify_with_twitter(a.text,&quot;_blank&quot;))}if(u.has.text||u.has.headline){u.text=VMM.createElement(&quot;div&quot;,u.text,&quot;container&quot;);r=VMM.appendAndGetElement(i,&quot;<DIV>&quot;,&quot;text&quot;,VMM.TextElement.create(u.text))}a.needs_slug;if(a.asset!=null&amp;&amp;a.asset!=&quot;&quot;&amp;&amp;a.asset.media!=null&amp;&amp;a.asset.media!=&quot;&quot;){u.has.media=!0;n=VMM.appendAndGetElement(i,&quot;<DIV>&quot;,&quot;media&quot;,VMM.MediaElement.create(a.asset,a.uniqueid))}u.has.text&amp;&amp;(u.layout+=&quot;-text&quot;);u.has.media&amp;&amp;(u.layout+=&quot;-media&quot;);if(u.has.text)if(y.skinny){VMM.Lib.addClass(i,u.layout);p=!0}else{VMM.Lib.addClass(i,u.layout);VMM.Lib.addClass(i,&quot;pad-left&quot;);VMM.Lib.detach(r);VMM.Lib.append(i,r)}else VMM.Lib.addClass(i,u.layout)}});var Aes={};Aes.cipher=function(e,t){var n=4,r=t.length/n-1,i=[[],[],[],[]];for(var s=0;s&lt;4*n;s++)i[s%4][Math.floor(s/4)]=e[s];i=Aes.addRoundKey(i,t,0,n);for(var o=1;o&lt;r;o++){i=Aes.subBytes(i,n);i=Aes.shiftRows(i,n);i=Aes.mixColumns(i,n);i=Aes.addRoundKey(i,t,o,n)}i=Aes.subBytes(i,n);i=Aes.shiftRows(i,n);i=Aes.addRoundKey(i,t,r,n);var u=new Array(4*n);for(var s=0;s&lt;4*n;s++)u[s]=i[s%4][Math.floor(s/4)];return u};Aes.keyExpansion=function(e){var t=4,n=e.length/4,r=n+6,i=new Array(t*(r+1)),s=new Array(4);for(var o=0;o&lt;n;o++){var u=[e[4*o],e[4*o+1],e[4*o+2],e[4*o+3]];i[o]=u}for(var o=n;o&lt;t*(r+1);o++){i[o]=new Array(4);for(var a=0;a&lt;4;a++)s[a]=i[o-1][a];if(o%n==0){s=Aes.subWord(Aes.rotWord(s));for(var a=0;a&lt;4;a++)s[a]^=Aes.rCon[o/n][a]}else n&gt;6&amp;&amp;o%n==4&amp;&amp;(s=Aes.subWord(s));for(var a=0;a&lt;4;a++)i[o][a]=i[o-n][a]^s[a]}return i};Aes.subBytes=function(e,t){for(var n=0;n&lt;4;n++)for(var r=0;r&lt;t;r++)e[n][r]=Aes.sBox[e[n][r]];return e};Aes.shiftRows=function(e,t){var n=new Array(4);for(var r=1;r&lt;4;r++){for(var i=0;i&lt;4;i++)n[i]=e[r][(i+r)%t];for(var i=0;i&lt;4;i++)e[r][i]=n[i]}return e};Aes.mixColumns=function(e,t){for(var n=0;n&lt;4;n++){var r=new Array(4),i=new Array(4);for(var s=0;s&lt;4;s++){r[s]=e[s][n];i[s]=e[s][n]&amp;128?e[s][n]&lt;&lt;1^283:e[s][n]&lt;&lt;1}e[0][n]=i[0]^r[1]^i[1]^r[2]^r[3];e[1][n]=r[0]^i[1]^r[2]^i[2]^r[3];e[2][n]=r[0]^r[1]^i[2]^r[3]^i[3];e[3][n]=r[0]^i[0]^r[1]^r[2]^i[3]}return e};Aes.addRoundKey=function(e,t,n,r){for(var i=0;i&lt;4;i++)for(var s=0;s&lt;r;s++)e[i][s]^=t[n*4+s][i];return e};Aes.subWord=function(e){for(var t=0;t&lt;4;t++)e[t]=Aes.sBox[e[t]];return e};Aes.rotWord=function(e){var t=e[0];for(var n=0;n&lt;3;n++)e[n]=e[n+1];e[3]=t;return e};Aes.sBox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];Aes.rCon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]];Aes.Ctr={};Aes.Ctr.encrypt=function(e,t,n){var r=16;if(n!=128&amp;&amp;n!=192&amp;&amp;n!=256)return&quot;&quot;;e=Utf8.encode(e);t=Utf8.encode(t);var i=n/8,s=new Array(i);for(var o=0;o&lt;i;o++)s[o]=isNaN(t.charCodeAt(o))?0:t.charCodeAt(o);var u=Aes.cipher(s,Aes.keyExpansion(s));u=u.concat(u.slice(0,i-16));var a=new Array(r),f=(new Date).getTime(),l=f%1e3,c=Math.floor(f/1e3),h=Math.floor(Math.random()*65535);for(var o=0;o&lt;2;o++)a[o]=l&gt;&gt;&gt;o*8&amp;255;for(var o=0;o&lt;2;o++)a[o+2]=h&gt;&gt;&gt;o*8&amp;255;for(var o=0;o&lt;4;o++)a[o+4]=c&gt;&gt;&gt;o*8&amp;255;var p=&quot;&quot;;for(var o=0;o&lt;8;o++)p+=String.fromCharCode(a[o]);var d=Aes.keyExpansion(u),v=Math.ceil(e.length/r),m=new Array(v);for(var g=0;g&lt;v;g++){for(var y=0;y&lt;4;y++)a[15-y]=g&gt;&gt;&gt;y*8&amp;255;for(var y=0;y&lt;4;y++)a[15-y-4]=g/4294967296&gt;&gt;&gt;y*8;var b=Aes.cipher(a,d),w=g&lt;v-1?r:(e.length-1)%r+1,E=new Array(w);for(var o=0;o&lt;w;o++){E[o]=b[o]^e.charCodeAt(g*r+o);E[o]=String.fromCharCode(E[o])}m[g]=E.join(&quot;&quot;)}var S=p+m.join(&quot;&quot;);S=Base64.encode(S);return S};Aes.Ctr.decrypt=function(e,t,n){var r=16;if(n!=128&amp;&amp;n!=192&amp;&amp;n!=256)return&quot;&quot;;e=Base64.decode(e);t=Utf8.encode(t);var i=n/8,s=new Array(i);for(var o=0;o&lt;i;o++)s[o]=isNaN(t.charCodeAt(o))?0:t.charCodeAt(o);var u=Aes.cipher(s,Aes.keyExpansion(s));u=u.concat(u.slice(0,i-16));var a=new Array(8);ctrTxt=e.slice(0,8);for(var o=0;o&lt;8;o++)a[o]=ctrTxt.charCodeAt(o);var f=Aes.keyExpansion(u),l=Math.ceil((e.length-8)/r),c=new Array(l);for(var h=0;h&lt;l;h++)c[h]=e.slice(8+h*r,8+h*r+r);e=c;var p=new Array(e.length);for(var h=0;h&lt;l;h++){for(var d=0;d&lt;4;d++)a[15-d]=h&gt;&gt;&gt;d*8&amp;255;for(var d=0;d&lt;4;d++)a[15-d-4]=(h+1)/4294967296-1&gt;&gt;&gt;d*8&amp;255;var v=Aes.cipher(a,f),m=new Array(e[h].length);for(var o=0;o&lt;e[h].length;o++){m[o]=v[o]^e[h].charCodeAt(o);m[o]=String.fromCharCode(m[o])}p[h]=m.join(&quot;&quot;)}var g=p.join(&quot;&quot;);g=Utf8.decode(g);return g};var Base64={};Base64.code=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&quot;;Base64.encode=function(e,t){t=typeof t==&quot;undefined&quot;?!1:t;var n,r,i,s,o,u,a,f,l=[],c=&quot;&quot;,h,p,d,v=Base64.code;p=t?e.encodeUTF8():e;h=p.length%3;if(h&gt;0)while(h++&lt;3){c+=&quot;=&quot;;p+=&quot;\0&quot;}for(h=0;h&lt;p.length;h+=3){n=p.charCodeAt(h);r=p.charCodeAt(h+1);i=p.charCodeAt(h+2);s=n&lt;&lt;16|r&lt;&lt;8|i;o=s&gt;&gt;18&amp;63;u=s&gt;&gt;12&amp;63;a=s&gt;&gt;6&amp;63;f=s&amp;63;l[h/3]=v.charAt(o)+v.charAt(u)+v.charAt(a)+v.charAt(f)}d=l.join(&quot;&quot;);d=d.slice(0,d.length-c.length)+c;return d};Base64.decode=function(e,t){t=typeof t==&quot;undefined&quot;?!1:t;var n,r,i,s,o,u,a,f,l=[],c,h,p=Base64.code;h=t?e.decodeUTF8():e;for(var d=0;d&lt;h.length;d+=4){s=p.indexOf(h.charAt(d));o=p.indexOf(h.charAt(d+1));u=p.indexOf(h.charAt(d+2));a=p.indexOf(h.charAt(d+3));f=s&lt;&lt;18|o&lt;&lt;12|u&lt;&lt;6|a;n=f&gt;&gt;&gt;16&amp;255;r=f&gt;&gt;&gt;8&amp;255;i=f&amp;255;l[d/4]=String.fromCharCode(n,r,i);a==64&amp;&amp;(l[d/4]=String.fromCharCode(n,r));u==64&amp;&amp;(l[d/4]=String.fromCharCode(n))}c=l.join(&quot;&quot;);return t?c.decodeUTF8():c};var Utf8={};Utf8.encode=function(e){var t=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t&gt;&gt;6,128|t&amp;63)});t=t.replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t&gt;&gt;12,128|t&gt;&gt;6&amp;63,128|t&amp;63)});return t};Utf8.decode=function(e){var t=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(e.charCodeAt(0)&amp;15)&lt;&lt;12|(e.charCodeAt(1)&amp;63)&lt;&lt;6|e.charCodeAt(2)&amp;63;return String.fromCharCode(t)});t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(e.charCodeAt(0)&amp;31)&lt;&lt;6|e.charCodeAt(1)&amp;63;return String.fromCharCode(t)});return t};!function(e){&quot;use strict&quot;;var t=function(e,t){this.init(&quot;tooltip&quot;,e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t;this.$element=e(n);this.options=this.getOptions(r);this.enabled=!0;if(this.options.trigger!=&quot;manual&quot;){i=this.options.trigger==&quot;hover&quot;?&quot;mouseenter&quot;:&quot;focus&quot;;s=this.options.trigger==&quot;hover&quot;?&quot;mouseleave&quot;:&quot;blur&quot;;this.$element.on(i,this.options.selector,e.proxy(this.enter,this));this.$element.on(s,this.options.selector,e.proxy(this.leave,this))}this.options.selector?this._options=e.extend({},this.options,{trigger:&quot;manual&quot;,selector:&quot;&quot;}):this.fixTitle()},getOptions:function(t){t=e.extend({},e.fn[this.type].defaults,t,this.$element.data());t.delay&amp;&amp;typeof t.delay==&quot;number&quot;&amp;&amp;(t.delay={show:t.delay,hide:t.delay});return t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)n.show();else{n.hoverState=&quot;in&quot;;setTimeout(function(){n.hoverState==&quot;in&quot;&amp;&amp;n.show()},n.options.delay.show)}},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.hide)n.hide();else{n.hoverState=&quot;out&quot;;setTimeout(function(){n.hoverState==&quot;out&quot;&amp;&amp;n.hide()},n.options.delay.hide)}},show:function(){var e,t,n,r,i,s,o;if(
this.hasContent()&amp;&amp;this.enabled){e=this.tip();this.setContent();this.options.animation&amp;&amp;e.addClass(&quot;fade&quot;);s=typeof this.options.placement==&quot;function&quot;?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;t=/in/.test(s);e.remove().css({top:0,left:0,display:&quot;block&quot;}).appendTo(t?this.$element:document.body);n=this.getPosition(t);r=e[0].offsetWidth;i=e[0].offsetHeight;switch(t?s.split(&quot; &quot;)[1]:s){case&quot;bottom&quot;:o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case&quot;top&quot;:o={top:n.top-i,left:n.left+n.width/2-r/2};break;case&quot;left&quot;:o={top:n.top+n.height/2-i/2,left:n.left-r};break;case&quot;right&quot;:o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o).addClass(s).addClass(&quot;in&quot;)}},setContent:function(){var e=this.tip();e.find(&quot;.timeline-tooltip-inner&quot;).html(this.getTitle());e.removeClass(&quot;fade in top bottom left right&quot;)},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t);n.remove()})}var t=this,n=this.tip();n.removeClass(&quot;in&quot;);e.support.transition&amp;&amp;this.$tip.hasClass(&quot;fade&quot;)?r():n.remove()},fixTitle:function(){var e=this.$element;(e.attr(&quot;title&quot;)||typeof e.attr(&quot;data-original-title&quot;)!=&quot;string&quot;)&amp;&amp;e.attr(&quot;data-original-title&quot;,e.attr(&quot;title&quot;)||&quot;&quot;).removeAttr(&quot;title&quot;)},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;e=t.attr(&quot;data-original-title&quot;)||(typeof n.title==&quot;function&quot;?n.title.call(t[0]):n.title);e=e.toString().replace(/(^\s*|\s*$)/,&quot;&quot;);return e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass(&quot;in&quot;)?&quot;hide&quot;:&quot;show&quot;]()}};e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data(&quot;tooltip&quot;),s=typeof n==&quot;object&quot;&amp;&amp;n;i||r.data(&quot;tooltip&quot;,i=new t(this,s));typeof n==&quot;string&quot;&amp;&amp;i[n]()})};e.fn.tooltip.Constructor=t;e.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:&quot;top&quot;,trigger:&quot;hover&quot;,title:&quot;&quot;,template:''}}(window.jQuery);typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.StoryJS==&quot;undefined&quot;&amp;&amp;(VMM.StoryJS=function(){this.init=function(e){}});if(typeof VMM!=&quot;undefined&quot;&amp;&amp;typeof VMM.Timeline==&quot;undefined&quot;){VMM.Timeline=function(e,t,n){function S(e){typeof embed_config==&quot;object&quot;&amp;&amp;(timeline_config=embed_config);if(typeof timeline_config==&quot;object&quot;){trace(&quot;HAS TIMELINE CONFIG&quot;);m=VMM.Util.mergeConfig(m,timeline_config)}else typeof e==&quot;object&quot;&amp;&amp;(m=VMM.Util.mergeConfig(m,e));if(VMM.Browser.device==&quot;mobile&quot;||VMM.Browser.device==&quot;tablet&quot;)m.touch=!0;m.nav.width=m.width;m.nav.height=200;m.feature.width=m.width;m.feature.height=m.height-m.nav.height;m.nav.zoom.adjust=parseInt(m.start_zoom_adjust,10);VMM.Timeline.Config=m;VMM.master_config.Timeline=VMM.Timeline.Config;this.events=m.events;m.gmap_key!=&quot;&quot;&amp;&amp;(m.api_keys.google=m.gmap_key);trace(&quot;VERSION &quot;+m.version);c=m.version}function x(){r=VMM.getElement(h);VMM.Lib.addClass(r,&quot;vco-timeline&quot;);VMM.Lib.addClass(r,&quot;vco-storyjs&quot;);i=VMM.appendAndGetElement(r,&quot;<DIV>&quot;,&quot;vco-container vco-main&quot;);s=VMM.appendAndGetElement(i,&quot;<DIV>&quot;,&quot;vco-feature&quot;);u=VMM.appendAndGetElement(s,&quot;<DIV>&quot;,&quot;vco-slider&quot;);a=VMM.appendAndGetElement(i,&quot;<DIV>&quot;,&quot;vco-navigation&quot;);o=VMM.appendAndGetElement(r,&quot;<DIV>&quot;,&quot;vco-feedback&quot;,&quot;&quot;);typeof m.language.right_to_left!=&quot;undefined&quot;&amp;&amp;VMM.Lib.addClass(r,&quot;vco-right-to-left&quot;);f=new VMM.Slider(u,m);l=new VMM.Timeline.TimeNav(a);g?VMM.Lib.width(r,m.width):m.width=VMM.Lib.width(r);y?VMM.Lib.height(r,m.height):m.height=VMM.Lib.height(r);m.touch?VMM.Lib.addClass(r,&quot;vco-touch&quot;):VMM.Lib.addClass(r,&quot;vco-notouch&quot;)}function T(e,t){trace(&quot;onDataReady&quot;);d=t.timeline;type.of(d.era)!=&quot;array&quot;&amp;&amp;(d.era=[]);W()}function N(){U()}function C(){z();f.setSize(m.feature.width,m.feature.height);l.setSize(m.width,m.height);j()&amp;&amp;H()}function k(e){m.loaded.slider=!0;L()}function L(e){m.loaded.percentloaded=m.loaded.percentloaded+25;m.loaded.slider&amp;&amp;m.loaded.timenav&amp;&amp;q()}function A(e){m.loaded.timenav=!0;L()}function O(e){w=!0;m.current_slide=f.getCurrentNumber();D(m.current_slide);l.setMarker(m.current_slide,m.ease,m.duration)}function M(e){w=!0;m.current_slide=l.getCurrentNumber();D(m.current_slide);f.setSlide(m.current_slide)}function _(e){if(e&lt;=v.length-1&amp;&amp;e&gt;=0){m.current_slide=e;f.setSlide(m.current_slide);l.setMarker(m.current_slide,m.ease,m.duration)}}function D(e){m.hash_bookmark&amp;&amp;(window.location.hash=&quot;#&quot;+e.toString())}function P(){}function H(){var e=&quot;&quot;,t=B(window.orientation);VMM.Browser.device==&quot;mobile&quot;?t==&quot;portrait&quot;?e=&quot;width=device-width; initial-scale=0.5, maximum-scale=0.5&quot;:t==&quot;landscape&quot;?e=&quot;width=device-width; initial-scale=0.5, maximum-scale=0.5&quot;:e=&quot;width=device-width, initial-scale=1, maximum-scale=1.0&quot;:VMM.Browser.device==&quot;tablet&quot;;document.getElementById(&quot;viewport&quot;)}function B(e){var t=&quot;&quot;;e==0||e==180?t=&quot;portrait&quot;:e==90||e==-90?t=&quot;landscape&quot;:t=&quot;normal&quot;;return t}function j(){var e=B(window.orientation);if(e==m.orientation)return!1;m.orientation=e;return!0}function F(e){VMM.getJSON(e,function(e){d=VMM.Timeline.DataObj.getData(e);VMM.fireEvent(global,m.events.data_ready)})}function I(e,t,n){trace(&quot;showMessege &quot;+t);n?VMM.attachElement(o,t):VMM.attachElement(o,VMM.MediaElement.loadingmessage(t))}function q(){VMM.Lib.animate(o,m.duration,m.ease*4,{opacity:0},R)}function R(){VMM.Lib.detach(o)}function U(){parseInt(m.start_at_slide)&gt;0&amp;&amp;m.current_slide==0&amp;&amp;(m.current_slide=parseInt(m.start_at_slide));m.start_at_end&amp;&amp;m.current_slide==0&amp;&amp;(m.current_slide=v.length-1);if(b){b=!0;VMM.fireEvent(global,m.events.messege,&quot;Internet Explorer &quot;+VMM.Browser.version+&quot; is not supported by TimelineJS. Please update your browser to version 8 or higher. If you are using a recent version of Internet Explorer you may need to disable compatibility mode in your browser.&quot;)}else{R();C();VMM.bindEvent(u,k,&quot;LOADED&quot;);VMM.bindEvent(a,A,&quot;LOADED&quot;);VMM.bindEvent(u,O,&quot;UPDATE&quot;);VMM.bindEvent(a,M,&quot;UPDATE&quot;);f.init(v);l.init(v,d.era);VMM.bindEvent(global,C,m.events.resize)}}function z(){trace(&quot;UPDATE SIZE&quot;);m.width=VMM.Lib.width(r);m.height=VMM.Lib.height(r);m.nav.width=m.width;m.feature.width=m.width;m.feature.height=m.height-m.nav.height-3;VMM.Browser.device==&quot;mobile&quot;;m.width&lt;641?VMM.Lib.addClass(r,&quot;vco-skinny&quot;):VMM.Lib.removeClass(r,&quot;vco-skinny&quot;)}function W(){v=[];VMM.fireEvent(global,m.events.messege,&quot;Building Dates&quot;);z();for(var e=0;e&lt;d.date.length;e++)if(d.date[e].startDate!=null&amp;&amp;d.date[e].startDate!=&quot;&quot;){var t={},n=VMM.Date.parse(d.date[e].startDate,!0),r;t.startdate=n.date;t.precisiondate=n.precision;if(!isNaN(t.startdate)){d.date[e].endDate!=null&amp;&amp;d.date[e].endDate!=&quot;&quot;?t.enddate=VMM.Date.parse(d.date[e].endDate):t.enddate=t.startdate;t.needs_slug=!1;d.date[e].headline==&quot;&quot;&amp;&amp;d.date[e].slug!=null&amp;&amp;d.date[e].slug!=&quot;&quot;&amp;&amp;(t.needs_slug=!0);t.title=d.date[e].headline;t.headline=d.date[e].headline;t.type=d.date[e].type;t.date=VMM.Date.prettyDate(t.startdate,!1,t.precisiondate);t.asset=d.date[e].asset;t.fulldate=t.startdate.getTime();t.text=d.date[e].text;t.content=&quot;&quot;;t.tag=d.date[e].tag;t.slug=d.date[e].slug;t.uniqueid=VMM.Util.unique_ID(7);t.classname=d.date[e].classname;v.push(t)}}d.type!=&quot;storify&quot;&amp;&amp;v.sort(function(e,t){return e.fulldate-t.fulldate});if(d.headline!=null&amp;&amp;d.headline!=&quot;&quot;&amp;&amp;d.text!=null&amp;&amp;d.text!=&quot;&quot;){var i,n,t={},s=0,o;if(typeof d.startDate!=&quot;undefined&quot;){n=VMM.Date.parse(d.startDate,!0);i=n.date}else i=!1;trace(&quot;HAS STARTPAGE&quot;);trace(i);if(i&amp;&amp;i&lt;v[0].startdate)t.startdate=new Date(i);else{o=v[0].startdate;t.startdate=new Date(v[0].startdate);o.getMonth()===0&amp;&amp;o.getDate()==1&amp;&amp;o.getHours()===0&amp;&amp;o.getMinutes()===0?t.startdate.setFullYear(o.getFullYear()-1):o.getDate()&lt;=1&amp;&amp;o.getHours()===0&amp;&amp;o.getMinutes()===0?t.startdate.setMonth(o.getMonth()-1):o.getHours()===0&amp;&amp;o.getMinutes()===0?t.startdate.setDate(o.getDate()-1):o.getMinutes()===0?t.startdate.setHours(o.getHours()-1):t.startdate.setMinutes(o.getMinutes()-1)}t.uniqueid=VMM.Util.unique_ID(7);t.enddate=t.startdate;t.precisiondate=n.precision;t.title=d.headline;t.headline=d.headline;t.text=d.text;t.type=&quot;start&quot;;t.date=VMM.Date.prettyDate(d.startDate,!1,t.precisiondate);t.asset=d.asset;t.slug=!1;t.needs_slug=!1;t.fulldate=t.startdate.getTime();m.embed&amp;&amp;VMM.fireEvent(global,m.events.headline,t.headline);v.unshift(t)}d.type!=&quot;storify&quot;&amp;&amp;v.sort(function(e,t){return e.fulldate-t.fulldate});N()}var r,i,s,o,u,a,f,l,c=&quot;2.x&quot;,h=&quot;#timelinejs&quot;,p={},d={},v=[],m={},g=!1,y=!1,b=!1,w=!1;type.of(e)==&quot;string&quot;?e.match(&quot;#&quot;)?h=e:h=&quot;#&quot;+e:h=&quot;#timelinejs&quot;;m={embed:!1,events:{data_ready:&quot;DATAREADY&quot;,messege:&quot;MESSEGE&quot;,headline:&quot;HEADLINE&quot;,slide_change:&quot;SLIDE_CHANGE&quot;,resize:&quot;resize&quot;},id:h,source:&quot;nothing&quot;,type:&quot;timeline&quot;,touch:!1,orientation:&quot;normal&quot;,maptype:&quot;&quot;,version:&quot;2.x&quot;,preload:4,current_slide:0,hash_bookmark:!1,start_at_end:!1,start_at_slide:0,start_zoom_adjust:0,start_page:!1,api_keys:{google:&quot;&quot;,flickr:&quot;&quot;,twitter:&quot;&quot;},interval:10,something:0,width:960,height:540,spacing:15,loaded:{slider:!1,timenav:!1,percentloaded:0},nav:{start_page:!1,interval_width:200,density:4,minor_width:0,minor_left:0,constraint:{left:0,right:0,right_min:0,right_max:0},zoom:{adjust:0},multiplier:{current:6,min:.1,max:50},rows:[1,1,1],width:960,height:200,marker:{width:150,height:50}},feature:{width:960,height:540},slider:{width:720,height:400,content:{width:720,height:400,padding:130,padding_default:130},nav:{width:100,height:200}},ease:&quot;easeInOutExpo&quot;,duration:1e3,gmap_key:&quot;&quot;,language:VMM.Language};if(t!=null&amp;&amp;t!=&quot;&quot;){m.width=t;g=!0}if(n!=null&amp;&amp;n!=&quot;&quot;){m.height=n;y=!0}if(window.location.hash){var E=window.location.hash.substring(1);isNaN(E)||(m.current_slide=parseInt(E))}window.onhashchange=function(){var e=window.location.hash.substring(1);m.hash_bookmark?w?_(parseInt(e)):w=!1:_(parseInt(e))};this.init=function(e,t){trace(&quot;INIT&quot;);H();S(e);x();type.of(t)==&quot;string&quot;&amp;&amp;(m.source=t);VMM.Date.setLanguage(m.language);VMM.master_config.language=m.language;VMM.ExternalAPI.setKeys(m.api_keys);VMM.ExternalAPI.googlemaps.setMapType(m.maptype);VMM.bindEvent(global,T,m.events.data_ready);VMM.bindEvent(global,I,m.events.messege);VMM.fireEvent(global,m.events.messege,m.language.messages.loading_timeline);(VMM.Browser.browser==&quot;Explorer&quot;||VMM.Browser.browser==&quot;MSIE&quot;)&amp;&amp;parseInt(VMM.Browser.version,10)&lt;=7&amp;&amp;(VMM.Browser.tridentVersion==null||VMM.Browser.tridentVersion&lt;4)&amp;&amp;(b=!0);type.of(m.source)==&quot;string&quot;||type.of(m.source)==&quot;object&quot;?VMM.Timeline.DataObj.getData(m.source):VMM.fireEvent(global,m.events.messege,&quot;No data source provided&quot;)};this.iframeLoaded=function(){trace(&quot;iframeLoaded&quot;)};this.reload=function(e){trace(&quot;Load new timeline data&quot;+e);VMM.fireEvent(global,m.events.messege,m.language.messages.loading_timeline);d={};VMM.Timeline.DataObj.getData(e);m.current_slide=0;f.setSlide(0);l.setMarker(0,m.ease,m.duration)}};VMM.Timeline.Config={}}typeof VMM.Timeline!=&quot;undefined&quot;&amp;&amp;typeof VMM.Timeline.TimeNav==&quot;undefined&quot;&amp;&amp;(VMM.Timeline.TimeNav=function(e,t,n){function U(){trace(&quot;onConfigSet&quot;)}function z(e){b.nav.constraint.left=b.width/2;b.nav.constraint.right=b.nav.constraint.right_min-b.width/2;y.updateConstraint(b.nav.constraint);VMM.Lib.css(h,&quot;left&quot;,Math.round(b.width/2)+2);VMM.Lib.css(p,&quot;left&quot;,Math.round(b.width/2)-8);Y(b.current_slide,b.ease,b.duration,!0,e)}function W(){VMM.fireEvent(x,&quot;UPDATE&quot;)}function X(){y.cancelSlide();if(b.nav.multiplier.current&gt;b.nav.multiplier.min){b.nav.multiplier.current&lt;=1?b.nav.multiplier.current=b.nav.multiplier.current-.25:b.nav.multiplier.current&gt;5?b.nav.multiplier.current&gt;16?b.nav.multiplier.current=Math.round(b.nav.multiplier.current-10):b.nav.multiplier.current=Math.round(b.nav.multiplier.current-4):b.nav.multiplier.current=Math.round(b.nav.multiplier.current-1);b.nav.multiplier.current&lt;=0&amp;&amp;(b.nav.multiplier.current=b.nav.multiplier.min);K()}}function V(){y.cancelSlide();if(b.nav.multiplier.current&lt;b.nav.multiplier.max){b.nav.multiplier.current&gt;4?b.nav.multiplier.current&gt;16?b.nav.multiplier.current=Math.round(b.nav.multiplier.current+10):b.nav.multiplier.current=Math.round(b.nav.multiplier.current+4):b.nav.multiplier.current=Math.round(b.nav.multiplier.current+1);b.nav.multiplier.current&gt;=b.nav.multiplier.max&amp;&amp;(b.nav.multiplier.current=b.nav.multiplier.max);K()}}function $(e){y.cancelSlide();Y(0);W()}function J(e){var t=0,n=0;e||(e=window.event);e.originalEvent&amp;&amp;(e=e.originalEvent);if(typeof e.wheelDeltaX!=&quot;undefined&quot;){t=e.wheelDeltaY/6;Math.abs(e.wheelDeltaX)&gt;Math.abs(e.wheelDeltaY)?t=e.wheelDeltaX/6:t=0}if(t){e.preventDefault&amp;&amp;e.preventDefault();e.returnValue=!1}n=VMM.Lib.position(r).left+t;n&gt;b.nav.constraint.left?n=b.width/2:n&lt;b.nav.constraint.right&amp;&amp;(n=b.nav.constraint.right);VMM.Lib.css(r,&quot;left&quot;,n)}function K(){trace(&quot;config.nav.multiplier &quot;+b.nav.multiplier.current);ut(!0);at(!0);ft(a,k,!0,!0);ft(f,L,!0);b.nav.constraint.left=b.width/2;b.nav.constraint.right=b.nav.constraint.right_min-b.width/2;y.updateConstraint(b.nav.constraint)}function Q(e){y.cancelSlide();Y(e.data.number);W()}function G(e){VMM.Lib.toggleClass(e.data.elem,&quot;zFront&quot;)}function Y(e,t,n,i,s){trace(&quot;GO TO MARKER&quot;);var o=b.ease,u=b.duration,a=!1,f=!1;O=e;H.left=b.width/2-C[O].pos_left;H.visible.left=Math.abs(H.left)-100;H.visible.right=Math.abs(H.left)+b.width+100;O==0&amp;&amp;(f=!0);O+1==C.length&amp;&amp;(a=!0);t!=null&amp;&amp;t!=&quot;&quot;&amp;&amp;(o=t);n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(u=n);for(var l=0;l&lt;C.length;l++)VMM.Lib.removeClass(C[l].marker,&quot;active&quot;);if(b.start_page&amp;&amp;C[0].type==&quot;start&quot;){VMM.Lib.visible(C[0].marker,!1);VMM.Lib.addClass(C[0].marker,&quot;start&quot;)}VMM.Lib.addClass(C[O].marker,&quot;active&quot;);VMM.Lib.stop(r);VMM.Lib.animate(r,u,o,{left:H.left})}function Z(e,t){VMM.Lib.animate(r,t.time/2,b.ease,{left:t.left})}function et(){var e=0,t=0,n=0,r=[],i=0;for(i=0;i&lt;C.length;i++)if(T[i].type!=&quot;start&quot;){var s=ot(F,C[i].relative_pos),e=t;t=s.begin;n=t-e;r.push(n)}return VMM.Util.average(r).mean}function tt(){var e=0,t=0,n=&quot;&quot;,r=0,i=[],s=!0,o=0;for(o=0;o&lt;T.length;o++)if(T[o].type==&quot;start&quot;)trace(&quot;DATA DATE IS START&quot;);else{n=T[o].startdate;e=t;t=n;r=t-e;i.push(r)}return VMM.Util.average(i)}function nt(){var e=b.nav.multiplier.current,t=0;for(t=0;t&lt;e;t++)et()&lt;75&amp;&amp;b.nav.multiplier.current&gt;1&amp;&amp;(b.nav.multiplier.current=b.nav.multiplier.current-1)}function rt(){var e=it(T[0].startdate),t=it(T[T.length-1].enddate);R.eon.type=&quot;eon&quot;;R.eon.first=e.eons;R.eon.base=Math.floor(e.eons);R.eon.last=t.eons;R.eon.number=S.eons;R.eon.multiplier=B.eons;R.eon.minor=B.eons;R.era.type=&quot;era&quot;;R.era.first=e.eras;R.era.base=Math.floor(e.eras);R.era.last=t.eras;R.era.number=S.eras;R.era.multiplier=B.eras;R.era.minor=B.eras;R.epoch.type=&quot;epoch&quot;;R.epoch.first=e.epochs;R.epoch.base=Math.floor(e.epochs);R.epoch.last=t.epochs;R.epoch.number=S.epochs;R.epoch.multiplier=B.epochs;R.epoch.minor=B.epochs;R.age.type=&quot;age&quot;;R.age.first=e.ages;R.age.base=Math.floor(e.ages);R.age.last=t.ages;R.age.number=S.ages;R.age.multiplier=B.ages;R.age.minor=B.ages;R.millenium.type=&quot;millenium&quot;;R.millenium.first=e.milleniums;R.millenium.base=Math.floor(e.milleniums);R.millenium.last=t.milleniums;R.millenium.number=S.milleniums;R.millenium.multiplier=B.millenium;R.millenium.minor=B.millenium;R.century.type=&quot;century&quot;;R.century.first=e.centuries;R.century.base=Math.floor(e.centuries);R.century.last=t.centuries;R.century.number=S.centuries;R.century.multiplier=B.century;R.century.minor=B.century;R.decade.type=&quot;decade&quot;;R.decade.first=e.decades;R.decade.base=Math.floor(e.decades);R.decade.last=t.decades;R.decade.number=S.decades;R.decade.multiplier=B.decade;R.decade.minor=B.decade;R.year.type=&quot;year&quot;;R.year.first=e.years;R.year.base=Math.floor(e.years);R.year.last=t.years;R.year.number=S.years;R.year.multiplier=1;R.year.minor=B.month;R.month.type=&quot;month&quot;;R.month.first=e.months;R.month.base=Math.floor(e.months);R.month.last=t.months;R.month.number=S.months;R.month.multiplier=1;R.month.minor=Math.round(B.week);R.week.type=&quot;week&quot;;R.week.first=e.weeks;R.week.base=Math.floor(e.weeks);R.week.last=t.weeks;R.week.number=S.weeks;R.week.multiplier=1;R.week.minor=7;R.day.type=&quot;day&quot;;R.day.first=e.days;R.day.base=Math.floor(e.days);R.day.last=t.days;R.day.number=S.days;R.day.multiplier=1;R.day.minor=24;R.hour.type=&quot;hour&quot;;R.hour.first=e.hours;R.hour.base=Math.floor(e.hours);R.hour.last=t.hours;R.hour.number=S.hours;R.hour.multiplier=1;R.hour.minor=60;R.minute.type=&quot;minute&quot;;R.minute.first=e.minutes;R.minute.base=Math.floor(e.minutes);R.minute.last=t.minutes;R.minute.number=S.minutes;R.minute.multiplier=1;R.minute.minor=60;R.second.type=&quot;decade&quot;;R.second.first=e.seconds;R.second.base=Math.floor(e.seconds);R.second.last=t.seconds;R.second.number=S.seconds;R.second.multiplier=1;R.second.minor=10}function it(e,t){var n={};n.days=e/j.day;n.weeks=n.days/j.week;n.months=n.days/j.month;n.years=n.months/j.year;n.hours=n.days*j.hour;n.minutes=n.days*j.minute;n.seconds=n.days*j.second;n.decades=n.years/j.decade;n.centuries=n.years/j.century;n.milleniums=n.years/j.millenium;n.ages=n.years/j.age;n.epochs=n.years/j.epoch;n.eras=n.years/j.era;n.eons=n.years/j.eon;return n}function st(e,t,n){var r,i,s=e.type,o={start:&quot;&quot;,end:&quot;&quot;,type:s};r=it(t);o.start=t.months;s==&quot;eon&quot;?o.start=r.eons:s==&quot;era&quot;?o.start=r.eras:s==&quot;epoch&quot;?o.start=r.epochs:s==&quot;age&quot;?o.start=r.ages:s==&quot;millenium&quot;?o.start=t.milleniums:s==&quot;century&quot;?o.start=r.centuries:s==&quot;decade&quot;?o.start=r.decades:s==&quot;year&quot;?o.start=r.years:s==&quot;month&quot;?o.start=r.months:s==&quot;week&quot;?o.start=r.weeks:s==&quot;day&quot;?o.start=r.days:s==&quot;hour&quot;?o.start=r.hours:s==&quot;minute&quot;&amp;&amp;(o.start=r.minutes);if(type.of(n)==&quot;date&quot;){i=it(n);o.end=n.months;s==&quot;eon&quot;?o.end=i.eons:s==&quot;era&quot;?o.end=i.eras:s==&quot;epoch&quot;?o.end=i.epochs:s==&quot;age&quot;?o.end=i.ages:s==&quot;millenium&quot;?o.end=n.milleniums:s==&quot;century&quot;?o.end=i.centuries:s==&quot;decade&quot;?o.end=i.decades:s==&quot;year&quot;?o.end=i.years:s==&quot;month&quot;?o.end=i.months:s==&quot;week&quot;?o.end=i.weeks:s==&quot;day&quot;?o.end=i.days:s==&quot;hour&quot;?o.end=i.hours:s==&quot;minute&quot;&amp;&amp;(o.end=i.minutes)}else o.end=o.start;return o}function ot(e,t){return{begin:(t.start-F.base)*(b.nav.interval_width/b.nav.multiplier.current),end:(t.end-F.base)*(b.nav.interval_width/b.nav.multiplier.current)}}function ut(e){var t=2,n=0,i=-2,s=0,o=0,u=150,a=6,f=0,l=b.width,c=[],h=6,p={left:H.visible.left-l,right:H.visible.right+l},d=0,v=0;b.nav.minor_width=b.width;VMM.Lib.removeClass(&quot;.flag&quot;,&quot;row1&quot;);VMM.Lib.removeClass(&quot;.flag&quot;,&quot;row2&quot;);VMM.Lib.removeClass(&quot;.flag&quot;,&quot;row3&quot;);for(d=0;d&lt;C.length;d++){var m,g=C[d],y=ot(F,C[d].relative_pos),w=0,E=!1,S={id:d,pos:0,row:0},x=0;y.begin=Math.round(y.begin+i);y.end=Math.round(y.end+i);m=Math.round(y.end-y.begin);g.pos_left=y.begin;if(O==d){H.left=b.width/2-y;H.visible.left=Math.abs(H.left);H.visible.right=Math.abs(H.left)+b.width;p.left=H.visible.left-l;p.right=H.visible.right+l}Math.abs(y.begin)&gt;=p.left&amp;&amp;Math.abs(y.begin)&lt;=p.right&amp;&amp;(E=!0);if(e){VMM.Lib.stop(g.marker);VMM.Lib.animate(g.marker,b.duration/2,b.ease,{left:y.begin})}else{VMM.Lib.stop(g.marker);VMM.Lib.css(g.marker,&quot;left&quot;,y.begin)}d==O&amp;&amp;(f=y.begin);if(m&gt;5){VMM.Lib.css(g.lineevent,&quot;height&quot;,a);VMM.Lib.css(g.lineevent,&quot;top&quot;,u);e?VMM.Lib.animate(g.lineevent,b.duration/2,b.ease,{width:m}):VMM.Lib.css(g.lineevent,&quot;width&quot;,m)}if(A.length&gt;0){for(v=0;v&lt;A.length;v++)if(v&lt;b.nav.rows.current.length&amp;&amp;g.tag==A[v]){t=v;if(v==b.nav.rows.current.length-1){trace(&quot;ON LAST ROW&quot;);VMM.Lib.addClass(g.flag,&quot;flag-small-last&quot;)}}w=b.nav.rows.current[t]}else{if(y.begin-n.begin&lt;b.nav.marker.width+b.spacing)if(t&lt;b.nav.rows.current.length-1)t++;else{t=0;s++}else{s=1;t=1}w=b.nav.rows.current[t]}n=y;S.pos=y;S.row=t;c.push(S);c.length&gt;h&amp;&amp;VMM.Util.removeRange(c,0);if(e){VMM.Lib.stop(g.flag);VMM.Lib.animate(g.flag,b.duration,b.ease,{top:w})}else{VMM.Lib.stop(g.flag);VMM.Lib.css(g.flag,&quot;top&quot;,w)}b.start_page&amp;&amp;C[d].type==&quot;start&quot;&amp;&amp;VMM.Lib.visible(g.marker,!1);y&gt;b.nav.minor_width&amp;&amp;(b.nav.minor_width=y);y&lt;b.nav.minor_left&amp;&amp;(b.nav.minor_left=y)}if(e){VMM.Lib.stop(r);VMM.Lib.animate(r,b.duration/2,b.ease,{left:b.width/2-f})}}function at(e){var t=0,n=0;for(t=0;t&lt;N.length;t++){var r=N[t],i=ot(F,r.relative_pos),s=0,o=0,u=b.nav.marker.height*b.nav.rows.full.length,a=i.end-i.begin;if(r.tag!=&quot;&quot;){u=b.nav.marker.height*b.nav.rows.full.length/b.nav.rows.current.length;for(n=0;n&lt;A.length;n++)n&lt;b.nav.rows.current.length&amp;&amp;r.tag==A[n]&amp;&amp;(o=n);s=b.nav.rows.current[o]}else s=-1;if(e){VMM.Lib.stop(r.content);VMM.Lib.stop(r.text_content);VMM.Lib.animate(r.content,b.duration/2,b.ease,{top:s,left:i.begin,width:a,height:u});VMM.Lib.animate(r.text_content,b.duration/2,b.ease,{left:i.begin})}else{VMM.Lib.stop(r.content);VMM.Lib.stop(r.text_content);VMM.Lib.css(r.content,&quot;left&quot;,i.begin);VMM.Lib.css(r.content,&quot;width&quot;,a);VMM.Lib.css(r.content,&quot;height&quot;,u);VMM.Lib.css(r.content,&quot;top&quot;,s);VMM.Lib.css(r.text_content,&quot;left&quot;,i.begin)}}}function ft(e,t,n,r){var s=0,o=0,u=b.width,a={left:H.visible.left-u,right:H.visible.right+u};not_too_many=!0,i=0;b.nav.minor_left=0;if(t.length&gt;100){not_too_many=!1;trace(&quot;TOO MANY &quot;+t.length)}for(i=0;i&lt;t.length;i++){var f=t[i].element,l=t[i].date,c=t[i].visible,h=ot(F,t[i].relative_pos),p=h.begin,v=t[i].animation,m=!0,g=!1,y=50;v.pos=p;v.animate=!1;Math.abs(p)&gt;=a.left&amp;&amp;Math.abs(p)&lt;=a.right&amp;&amp;(g=!0);b.nav.multiplier.current&gt;16&amp;&amp;r?m=!1:p-s&lt;65&amp;&amp;(p-s&lt;35?i%4==0?p==0&amp;&amp;(m=!1):m=!1:VMM.Util.isEven(i)||(m=!1));if(m){if(t[i].is_detached){VMM.Lib.append(e,f);t[i].is_detached=!1}}else{t[i].is_detached=!0;VMM.Lib.detach(f)}if(c)if(!m){v.opacity=&quot;0&quot;;n&amp;&amp;not_too_many&amp;&amp;(v.animate=!0);t[i].interval_visible=!1}else{v.opacity=&quot;100&quot;;n&amp;&amp;g&amp;&amp;(v.animate=!0)}else{v.opacity=&quot;100&quot;;if(m){n&amp;&amp;not_too_many?v.animate=!0:n&amp;&amp;g&amp;&amp;(v.animate=!0);t[i].interval_visible=!0}else n&amp;&amp;not_too_many&amp;&amp;(v.animate=!0)}s=p;p&gt;b.nav.minor_width&amp;&amp;(b.nav.minor_width=p);p&lt;b.nav.minor_left&amp;&amp;(b.nav.minor_left=p);if(v.animate)VMM.Lib.animate(f,b.duration/2,b.ease,{opacity:v.opacity,left:v.pos});else{VMM.Lib.css(f,&quot;opacity&quot;,v.opacity);VMM.Lib.css(f,&quot;left&quot;,p)}}b.nav.constraint.right_min=-b.nav.minor_width+b.width;b.nav.constraint.right=b.nav.constraint.right_min+b.width/2;VMM.Lib.css(d,&quot;left&quot;,b.nav.minor_left-b.width/2);VMM.Lib.width(d,b.nav.minor_width+b.width+Math.abs(b.nav.minor_left))}function lt(e,t,n){var r=0,i=!0,s=0,o=0,u,a,f,l=Math.ceil(e.number)+2,c={flag:!1,offset:0},h=0;VMM.attachElement(n,&quot;&quot;);e.date=new Date(T[0].startdate.getFullYear(),0,1,0,0,0);u=e.date.getTimezoneOffset();for(h=0;h&lt;l;h++){trace(e.type);var p=!1,v={element:VMM.appendAndGetElement(n,&quot;<DIV>&quot;,e.classname),date:new Date(T[0].startdate.getFullYear(),0,1,0,0,0),visible:!1,date_string:&quot;&quot;,type:e.interval_type,relative_pos:0,is_detached:!1,animation:{animate:!1,pos:&quot;&quot;,opacity:&quot;100&quot;}};if(e.type==&quot;eon&quot;){i&amp;&amp;(a=Math.floor(T[0].startdate.getFullYear()/5e8)*5e8);v.date.setFullYear(a+r*5e8);p=!0}else if(e.type==&quot;era&quot;){i&amp;&amp;(a=Math.floor(T[0].startdate.getFullYear()/1e8)*1e8);v.date.setFullYear(a+r*1e8);p=!0}else if(e.type==&quot;epoch&quot;){i&amp;&amp;(a=Math.floor(T[0].startdate.getFullYear()/1e7)*1e7);v.date.setFullYear(a+r*1e7);p=!0}else if(e.type==&quot;age&quot;){i&amp;&amp;(a=Math.floor(T[0].startdate.getFullYear()/1e6)*1e6);v.date.setFullYear(a+r*1e6);p=!0}else if(e.type==&quot;millenium&quot;){i&amp;&amp;(a=Math.floor(T[0].startdate.getFullYear()/1e3)*1e3);v.date.setFullYear(a+r*1e3);p=!0}else if(e.type==&quot;century&quot;){i&amp;&amp;(a=Math.floor(T[0].startdate.getFullYear()/100)*100);v.date.setFullYear(a+r*100);p=!0}else if(e.type==&quot;decade&quot;){i&amp;&amp;(a=Math.floor(T[0].startdate.getFullYear()/10)*10);v.date.setFullYear(a+r*10);p=!0}else if(e.type==&quot;year&quot;){i&amp;&amp;(a=T[0].startdate.getFullYear());v.date.setFullYear(a+r);p=!0}else if(e.type==&quot;month&quot;){i&amp;&amp;(a=T[0].startdate.getMonth());v.date.setMonth(a+r)}else if(e.type==&quot;week&quot;){i&amp;&amp;(a=T[0].startdate.getMonth());v.date.setMonth(T[0].startdate.getMonth());v.date.setDate(a+r*7)}else if(e.type==&quot;day&quot;){i&amp;&amp;(a=T[0].startdate.getDate());v.date.setMonth(T[0].startdate.getMonth());v.date.setDate(a+r)}else if(e.type==&quot;hour&quot;){i&amp;&amp;(a=T[0].startdate.getHours());v.date.setMonth(T[0].startdate.getMonth());v.date.setDate(T[0].startdate.getDate());v.date.setHours(a+r)}else if(e.type==&quot;minute&quot;){i&amp;&amp;(a=T[0].startdate.getMinutes());v.date.setMonth(T[0].startdate.getMonth());v.date.setDate(T[0].startdate.getDate());v.date.setHours(T[0].startdate.getHours());v.date.setMinutes(a+r)}else if(e.type==&quot;second&quot;){i&amp;&amp;(a=T[0].startdate.getSeconds());v.date.setMonth(T[0].startdate.getMonth());v.date.setDate(T[0].startdate.getDate());v.date.setHours(T[0].startdate.getHours());v.date.setMinutes(T[0].startdate.getMinutes());v.date.setSeconds(a+r)}else if(e.type==&quot;millisecond&quot;){i&amp;&amp;(a=T[0].startdate.getMilliseconds());v.date.setMonth(T[0].startdate.getMonth());v.date.setDate(T[0].startdate.getDate());v.date.setHours(T[0].startdate.getHours());v.date.setMinutes(T[0].startdate.getMinutes());v.date.setSeconds(T[0].startdate.getSeconds());v.date.setMilliseconds(a+r)}if(VMM.Browser.browser==&quot;Firefox&quot;)if(v.date.getFullYear()==&quot;1970&quot;&amp;&amp;v.date.getTimezoneOffset()!=u){trace(&quot;FIREFOX 1970 TIMEZONE OFFSET &quot;+v.date.getTimezoneOffset()+&quot; SHOULD BE &quot;+u);trace(e.type+&quot; &quot;+e.date);c.offset=v.date.getTimezoneOffset()/60;c.flag=!0;v.date.setHours(v.date.getHours()+c.offset)}else if(c.flag){c.flag=!1;v.date.setHours(v.date.getHours()+c.offset);p&amp;&amp;(c.flag=!0)}p?v.date.getFullYear()&lt;0?v.date_string=Math.abs(v.date.getFullYear()).toString()+&quot; B.C.&quot;:v.date_string=v.date.getFullYear():v.date_string=VMM.Date.prettyDate(v.date,!0);r+=1;i=!1;v.relative_pos=st(F,v.date);s=v.relative_pos.begin;v.relative_pos.begin&gt;o&amp;&amp;(o=v.relative_pos.begin);VMM.appendElement(v.element,v.date_string);VMM.Lib.css(v.element,&quot;text-indent&quot;,-(VMM.Lib.width(v.element)/2));VMM.Lib.css(v.element,&quot;opacity&quot;,&quot;0&quot;);t.push(v)}VMM.Lib.width(d,o);ft(n,t)}function ct(){var e=0,t=0;VMM.attachElement(x,&quot;&quot;);r=VMM.appendAndGetElement(x,&quot;<DIV>&quot;,&quot;timenav&quot;);s=VMM.appendAndGetElement(r,&quot;<DIV>&quot;,&quot;content&quot;);o=VMM.appendAndGetElement(r,&quot;<DIV>&quot;,&quot;time&quot;);u=VMM.appendAndGetElement(o,&quot;<DIV>&quot;,&quot;time-interval-minor&quot;);d=VMM.appendAndGetElement(u,&quot;<DIV>&quot;,&quot;minor&quot;);f=VMM.appendAndGetElement(o,&quot;<DIV>&quot;,&quot;time-interval-major&quot;);a=VMM.appendAndGetElement(o,&quot;<DIV>&quot;,&quot;time-interval&quot;);l=VMM.appendAndGetElement(x,&quot;<DIV>&quot;,&quot;timenav-background&quot;);h=VMM.appendAndGetElement(l,&quot;<DIV>&quot;,&quot;timenav-line&quot;);p=VMM.appendAndGetElement(l,&quot;<DIV>&quot;,&quot;timenav-indicator&quot;);c=VMM.appendAndGetElement(l,&quot;<DIV>&quot;,&quot;timenav-interval-background&quot;,&quot;&quot;);v=VMM.appendAndGetElement(x,&quot;<DIV>&quot;,&quot;vco-toolbar&quot;);ht();pt();dt();nt();ut(!1);at();ft(a,k,!1,!0);ft(f,L);if(b.start_page){$backhome=VMM.appendAndGetElement(v,&quot;<DIV>&quot;,&quot;back-home&quot;,&quot;&quot;);VMM.bindEvent(&quot;.back-home&quot;,$,&quot;click&quot;);VMM.Lib.attribute($backhome,&quot;title&quot;,VMM.master_config.language.messages.return_to_title);VMM.Lib.attribute($backhome,&quot;rel&quot;,&quot;timeline-tooltip&quot;)}y=new VMM.DragSlider;y.createPanel(x,r,b.nav.constraint,b.touch);if(b.touch&amp;&amp;b.start_page){VMM.Lib.addClass(v,&quot;touch&quot;);VMM.Lib.css(v,&quot;top&quot;,55);VMM.Lib.css(v,&quot;left&quot;,10)}else{b.start_page&amp;&amp;VMM.Lib.css(v,&quot;top&quot;,27);m=VMM.appendAndGetElement(v,&quot;<DIV>&quot;,&quot;zoom-in&quot;,&quot;&quot;);g=VMM.appendAndGetElement(v,&quot;<DIV>&quot;,&quot;zoom-out&quot;,&quot;&quot;);VMM.bindEvent(m,X,&quot;click&quot;);VMM.bindEvent(g,V,&quot;click&quot;);VMM.Lib.attribute(m,&quot;title&quot;,VMM.master_config.language.messages.expand_timeline);VMM.Lib.attribute(m,&quot;rel&quot;,&quot;timeline-tooltip&quot;);VMM.Lib.attribute(g,&quot;title&quot;,VMM.master_config.language.messages.contract_timeline);VMM.Lib.attribute(g,&quot;rel&quot;,&quot;timeline-tooltip&quot;);v.tooltip({selector:&quot;div[rel=timeline-tooltip]&quot;,placement:&quot;right&quot;});VMM.bindEvent(x,J,&quot;DOMMouseScroll&quot;);VMM.bindEvent(x,J,&quot;mousewheel&quot;)}if(b.nav.zoom.adjust!=0)if(b.nav.zoom.adjust&lt;0)for(e=0;e&lt;Math.abs(b.nav.zoom.adjust);e++)V();else for(t=0;t&lt;b.nav.zoom.adjust;t++)X();M=!0;z(!0);VMM.fireEvent(x,&quot;LOADED&quot;)}function ht(){var e=0,t=0;S=it(T[T.length-1].enddate-T[0].startdate,!0);trace(S);rt();if(S.centuries&gt;T.length/b.nav.density){F=R.century;I=R.millenium;q=R.decade}else if(S.decades&gt;T.length/b.nav.density){F=R.decade;I=R.century;q=R.year}else if(S.years&gt;T.length/b.nav.density){F=R.year;I=R.decade;q=R.month}else if(S.months&gt;T.length/b.nav.density){F=R.month;I=R.year;q=R.day}else if(S.days&gt;T.length/b.nav.density){F=R.day;I=R.month;q=R.hour}else if(S.hours&gt;T.length/b.nav.density){F=R.hour;I=R.day;q=R.minute}else if(S.minutes&gt;T.length/b.nav.density){F=R.minute;I=R.hour;q=R.second}else if(S.seconds&gt;T.length/b.nav.density){F=R.second;I=R.minute;q=R.second}else{trace(&quot;NO IDEA WHAT THE TYPE SHOULD BE&quot;);F=R.day;I=R.month;q=R.hour}trace(&quot;INTERVAL TYPE: &quot;+F.type);trace(&quot;INTERVAL MAJOR TYPE: &quot;+I.type);lt(F,k,a);lt(I,L,f);for(e=0;e&lt;k.length;e++)for(t=0;t&lt;L.length;t++)k[e].date_string==L[t].date_string&amp;&amp;VMM.attachElement(k[e].element,&quot;&quot;)}function pt(){var e=2,t=0,n=0,r=0,i=0,o=0;C=[];N=[];for(r=0;r&lt;T.length;r++){var u,a,f,c,h,p,d,v=&quot;&quot;,m=!1;u=VMM.appendAndGetElement(s,&quot;<DIV>&quot;,&quot;marker&quot;);a=VMM.appendAndGetElement(u,&quot;<DIV>&quot;,&quot;flag&quot;);f=VMM.appendAndGetElement(a,&quot;<DIV>&quot;,&quot;flag-content&quot;);c=VMM.appendAndGetElement(u,&quot;<DIV>&quot;,&quot;dot&quot;);h=VMM.appendAndGetElement(u,&quot;<DIV>&quot;,&quot;line&quot;);p=VMM.appendAndGetElement(h,&quot;<DIV>&quot;,&quot;event-line&quot;);_marker_relative_pos=st(F,T[r].startdate,T[r].enddate);_marker_thumb=&quot;&quot;;T[r].asset!=null&amp;&amp;T[r].asset!=&quot;&quot;?VMM.appendElement(f,VMM.MediaElement.thumbnail(T[r].asset,24,24,T[r].uniqueid)):VMM.appendElement(f,&quot;&quot;);if(T[r].title==&quot;&quot;||T[r].title==&quot; &quot;){trace(&quot;TITLE NOTHING&quot;);if(typeof T[r].slug!=&quot;undefined&quot;&amp;&amp;T[r].slug!=&quot;&quot;){trace(&quot;SLUG&quot;);v=VMM.Util.untagify(T[r].slug);m=!0}else{var g=VMM.MediaType(T[r].asset.media);if(g.type==&quot;quote&quot;||g.type==&quot;unknown&quot;){v=VMM.Util.untagify(g.id);m=!0}else m=!1}}else if(T[r].title!=&quot;&quot;||T[r].title!=&quot; &quot;){trace(T[r].title);v=VMM.Util.untagify(T[r].title);m=!0}else trace(&quot;TITLE SLUG NOT FOUND &quot;+T[r].slug);if(m)VMM.appendElement(f,&quot;<H3><SPAN class="mw-headline" id=".22.2Bv.2B.22">&quot;+v+&quot;</SPAN></H3>&quot;);else{VMM.appendElement(f,&quot;<H3><SPAN class="mw-headline" id=".22.2Bv.2B.22_2">&quot;+v+&quot;</SPAN></H3>&quot;);VMM.appendElement(f,&quot;<H3 id="marker_content_.22.2BT.5Br.5D.uniqueid.2B.22"><SPAN class="mw-headline" id=".22.2Bv.2B.22_3">&quot;+v+&quot;</SPAN></H3>&quot;)}VMM.Lib.attr(u,&quot;id&quot;,(&quot;marker_&quot;+T[r].uniqueid).toString());VMM.bindEvent(a,Q,&quot;&quot;,{number:r});VMM.bindEvent(a,G,&quot;mouseenter mouseleave&quot;,{number:r,elem:a});d={marker:u,flag:a,lineevent:p,type:&quot;marker&quot;,full:!0,relative_pos:_marker_relative_pos,tag:T[r].tag,pos_left:0};if(T[r].type==&quot;start&quot;){trace(&quot;BUILD MARKER HAS START PAGE&quot;);b.start_page=!0;d.type=&quot;start&quot;}T[r].type==&quot;storify&quot;&amp;&amp;(d.type=&quot;storify&quot;);T[r].tag&amp;&amp;A.push(T[r].tag);C.push(d)}A=VMM.Util.deDupeArray(A);A.length&gt;3?b.nav.rows.current=b.nav.rows.half:b.nav.rows.current=b.nav.rows.full;for(i=0;i&lt;A.length;i++)if(i&lt;b.nav.rows.current.length){var y=VMM.appendAndGetElement(l,&quot;<DIV>&quot;,&quot;timenav-tag&quot;);VMM.Lib.addClass(y,&quot;timenav-tag-row-&quot;+(i+1));A.length&gt;3?VMM.Lib.addClass(y,&quot;timenav-tag-size-half&quot;):VMM.Lib.addClass(y,&quot;timenav-tag-size-full&quot;);VMM.appendElement(y,&quot;<DIV><H3><SPAN class="mw-headline" id=".22.2BA.5Bi.5D.2B.22">&quot;+A[i]+&quot;</SPAN></H3></DIV>&quot;)}if(A.length&gt;3)for(o=0;o&lt;C.length;o++){VMM.Lib.addClass(C[o].flag,&quot;flag-small&quot;);C[o].full=!1}}function dt(){var e=6,t=0,n=0;for(n=0;n&lt;_.length;n++){var r={content:VMM.appendAndGetElement(s,&quot;<DIV>&quot;,&quot;era&quot;),text_content:VMM.appendAndGetElement(a,&quot;<DIV>&quot;,&quot;era&quot;),startdate:VMM.Date.parse(_[n].startDate),enddate:VMM.Date.parse(_[n].endDate),title:_[n].headline,uniqueid:VMM.Util.unique_ID(6),tag:&quot;&quot;,relative_pos:&quot;&quot;},i=VMM.Date.prettyDate(r.startdate),o=VMM.Date.prettyDate(r.enddate),u=&quot;<DIV> </DIV>&quot;;typeof _[n].tag!=&quot;undefined&quot;&amp;&amp;(r.tag=_[n].tag);r.relative_pos=st(F,r.startdate,r.enddate);VMM.Lib.attr(r.content,&quot;id&quot;,r.uniqueid);VMM.Lib.attr(r.text_content,&quot;id&quot;,r.uniqueid+&quot;_text&quot;);VMM.Lib.addClass(r.content,&quot;era&quot;+(t+1));VMM.Lib.addClass(r.text_content,&quot;era&quot;+(t+1));t&lt;e?t++:t=0;VMM.appendElement(r.content,u);VMM.appendElement(r.text_content,VMM.Util.unlinkify(r.title));N.push(r)}}trace(&quot;VMM.Timeline.TimeNav&quot;);var r,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b=VMM.Timeline.Config,w,E={},S={},x=e,T=[],N=[],C=[],k=[],L=[],A=[],O=0,M=!1,_,D,P={interval_position:&quot;&quot;},H={left:&quot;&quot;,visible:{left:&quot;&quot;,right:&quot;&quot;}},B={day:24,month:12,year:10,hour:60,minute:60,second:1e3,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8,week:4.34812141,days_in_month:30.4368499,days_in_week:7,weeks_in_month:4.34812141,weeks_in_year:52.177457,days_in_year:365.242199,hours_in_day:24},j={day:864e5,week:7,month:30.4166666667,year:12,hour:24,minute:1440,second:86400,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8},F={type:&quot;year&quot;,number:10,first:1970,last:2011,multiplier:100,classname:&quot;_idd&quot;,interval_type:&quot;interval&quot;},I={type:&quot;year&quot;,number:10,first:1970,last:2011,multiplier:100,classname:&quot;major&quot;,interval_type:&quot;interval major&quot;},q={type:&quot;year&quot;,number:10,first:1970,last:2011,multiplier:100,classname:&quot;_dd_minor&quot;,interval_type:&quot;interval minor&quot;},R={day:{},month:{},year:{},hour:{},minute:{},second:{},decade:{},century:{},millenium:{},week:{},age:{},epoch:{},era:{},eon:{}}
<DL><DT>w=b.nav.marker.height/2;b.nav.rows={full</DT><DD>[1,w*2,w*4],half:[1,w,w*2,w*3,w*4,w*5],current:[]};t!=null&amp;&amp;t!=&quot;&quot;&amp;&amp;(b.nav.width=t);n!=null&amp;&amp;n!=&quot;&quot;&amp;&amp;(b.nav.height=n);this.init=function(e,t){trace(&quot;VMM.Timeline.TimeNav init&quot;);typeof e!=&quot;undefined&quot;?this.setData(e,t):trace(&quot;WAITING ON DATA&quot;)};this.setData=function(e,t){if(typeof e!=&quot;undefined&quot;){T={};T=e;_=t;ct()}else trace(&quot;NO DATA&quot;)};this.setSize=function(e,t){e!=null&amp;&amp;(b.width=e);t!=null&amp;&amp;(b.height=t);M&amp;&amp;z()};this.setMarker=function(e,t,n,r){Y(e,t,n)};this.getCurrentNumber=function(){return O}});typeof VMM.Timeline!=&quot;undefined&quot;&amp;&amp;typeof VMM.Timeline.DataObj==&quot;undefined&quot;&amp;&amp;(VMM.Timeline.DataObj={data_obj:{},model_array:[],getData:function(e){VMM.Timeline.DataObj.data_obj={};VMM.fireEvent(global,VMM.Timeline.Config.events.messege,VMM.Timeline.Config.language.messages.loading_timeline);if(type.of(e)==&quot;object&quot;){trace(&quot;DATA SOURCE: JSON OBJECT&quot;);VMM.Timeline.DataObj.parseJSON(e)}else if(type.of(e)==&quot;string&quot;)if(e.match(&quot;%23&quot;)){trace(&quot;DATA SOURCE: TWITTER SEARCH&quot;);VMM.Timeline.DataObj.model.tweets.getData(&quot;%23medill&quot;)}else if(e.match(&quot;spreadsheet&quot;)){trace(&quot;DATA SOURCE: GOOGLE SPREADSHEET&quot;);VMM.Timeline.DataObj.model.googlespreadsheet.getData(e)}else if(e.match(&quot;storify.com&quot;)){trace(&quot;DATA SOURCE: STORIFY&quot;);VMM.Timeline.DataObj.model.storify.getData(e)}else if(e.match(&quot;.jsonp&quot;)){trace(&quot;DATA SOURCE: JSONP&quot;);LoadLib.js(e,VMM.Timeline.DataObj.onJSONPLoaded)}else{trace(&quot;DATA SOURCE: JSON&quot;);var t=&quot;&quot;;e.indexOf(&quot;?&quot;)&gt;-1?t=e+&quot;&amp;callback=onJSONP_Data&quot;:t=e+&quot;?callback=onJSONP_Data&quot;;VMM.getJSON(t,VMM.Timeline.DataObj.parseJSON)}else if(type.of(e)==&quot;html&quot;){trace(&quot;DATA SOURCE: HTML&quot;);VMM.Timeline.DataObj.parseHTML(e)}else trace(&quot;DATA SOURCE: UNKNOWN&quot;)},onJSONPLoaded:function(){trace(&quot;JSONP IS LOADED&quot;);VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,storyjs_jsonp_data)},parseHTML:function(e){trace(&quot;parseHTML&quot;);trace(&quot;WARNING: THIS IS STILL ALPHA AND WILL NOT WORK WITH ID's other than #timeline&quot;);var t=VMM.Timeline.DataObj.data_template_obj;if(VMM.Lib.find(&quot;#timeline section&quot;,&quot;time&quot;)[0]){t.timeline.startDate=VMM.Lib.html(VMM.Lib.find(&quot;#timeline section&quot;,&quot;time&quot;)[0]);t.timeline.headline=VMM.Lib.html(VMM.Lib.find(&quot;#timeline section&quot;,&quot;h2&quot;));t.timeline.text=VMM.Lib.html(VMM.Lib.find(&quot;#timeline section&quot;,&quot;article&quot;));var n=!1;if(VMM.Lib.find(&quot;#timeline section&quot;,&quot;figure img&quot;).length!=0){n=!0;t.timeline.asset.media=VMM.Lib.attr(VMM.Lib.find(&quot;#timeline section&quot;,&quot;figure img&quot;),&quot;src&quot;)}else if(VMM.Lib.find(&quot;#timeline section&quot;,&quot;figure a&quot;).length!=0){n=!0;t.timeline.asset.media=VMM.Lib.attr(VMM.Lib.find(&quot;#timeline section&quot;,&quot;figure a&quot;),&quot;href&quot;)}if(n){VMM.Lib.find(&quot;#timeline section&quot;,&quot;cite&quot;).length!=0&amp;&amp;(t.timeline.asset.credit=VMM.Lib.html(VMM.Lib.find(&quot;#timeline section&quot;,&quot;cite&quot;)));VMM.Lib.find(this,&quot;figcaption&quot;).length!=0&amp;&amp;(t.timeline.asset.caption=VMM.Lib.html(VMM.Lib.find(&quot;#timeline section&quot;,&quot;figcaption&quot;)))}}VMM.Lib.each(&quot;#timeline li&quot;,function(e,n){var r=!1,i={type:&quot;default&quot;,startDate:&quot;&quot;,headline:&quot;&quot;,text:&quot;&quot;,asset:{media:&quot;&quot;,credit:&quot;&quot;,caption:&quot;&quot;},tags:&quot;Optional&quot;};if(VMM.Lib.find(this,&quot;time&quot;)!=0){r=!0;i.startDate=VMM.Lib.html(VMM.Lib.find(this,&quot;time&quot;)[0]);VMM.Lib.find(this,&quot;time&quot;)[1]&amp;&amp;(i.endDate=VMM.Lib.html(VMM.Lib.find(this,&quot;time&quot;)[1]));i.headline=VMM.Lib.html(VMM.Lib.find(this,&quot;h3&quot;));i.text=VMM.Lib.html(VMM.Lib.find(this,&quot;article&quot;));var s=!1;if(VMM.Lib.find(this,&quot;figure img&quot;).length!=0){s=!0;i.asset.media=VMM.Lib.attr(VMM.Lib.find(this,&quot;figure img&quot;),&quot;src&quot;)}else if(VMM.Lib.find(this,&quot;figure a&quot;).length!=0){s=!0;i.asset.media=VMM.Lib.attr(VMM.Lib.find(this,&quot;figure a&quot;),&quot;href&quot;)}if(s){VMM.Lib.find(this,&quot;cite&quot;).length!=0&amp;&amp;(i.asset.credit=VMM.Lib.html(VMM.Lib.find(this,&quot;cite&quot;)));VMM.Lib.find(this,&quot;figcaption&quot;).length!=0&amp;&amp;(i.asset.caption=VMM.Lib.html(VMM.Lib.find(this,&quot;figcaption&quot;)))}trace(i);t.timeline.date.push(i)}});VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,t)},parseJSON:function(e){trace(&quot;parseJSON&quot;);if(e.timeline.type==&quot;default&quot;){trace(&quot;DATA SOURCE: JSON STANDARD TIMELINE&quot;);VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,e)}else if(e.timeline.type==&quot;twitter&quot;){trace(&quot;DATA SOURCE: JSON TWEETS&quot;);VMM.Timeline.DataObj.model_Tweets.buildData(e)}else{trace(&quot;DATA SOURCE: UNKNOWN JSON&quot;);trace(type.of(e.timeline))}},model:{googlespreadsheet:{extractSpreadsheetKey:function(e){var t=VMM.Util.getUrlVars(e).key;if(!t&amp;&amp;e.match(&quot;docs.google.com/spreadsheets/d/&quot;)){var n=e.indexOf(&quot;docs.google.com/spreadsheets/d/&quot;)+&quot;docs.google.com/spreadsheets/d/&quot;.length,r=e.substr(n);t=r.split(&quot;/&quot;)[0]}t||(t=e);return t},getData:function(e){function u(){t=VMM.getJSON(i,function(e){clearTimeout(s);VMM.Timeline.DataObj.model.googlespreadsheet.buildData(e)}).error(function(e,t,n){if(e.status==400){VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Error reading Google spreadsheet. Check the URL and make sure it's published to the web.&quot;);clearTimeout(s);return}trace(&quot;Google Docs ERROR&quot;);trace(&quot;Google Docs ERROR: &quot;+t+&quot; &quot;+e.responseText)}).success(function(e){clearTimeout(s)})}var t,n,r,i,s,o=0;n=VMM.Timeline.DataObj.model.googlespreadsheet.extractSpreadsheetKey(e);r=VMM.Util.getUrlVars(e).worksheet;typeof r==&quot;undefined&quot;&amp;&amp;(r=&quot;od6&quot;);i=&quot;<A href="https://spreadsheets.google.com/feeds/list/" class="external free" rel="nofollow">https://spreadsheets.google.com/feeds/list/</A>&quot;+n+&quot;/&quot;+r+&quot;/public/values?alt=json&quot;;s=setTimeout(function(){trace(&quot;Google Docs timeout &quot;+i);trace(i);if(o&lt;3){VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Still waiting on Google Docs, trying again &quot;+o);o++;t.abort();u()}else VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Google Docs is not responding&quot;)},16e3);u()},buildData:function(e){function r(e){return typeof e!=&quot;undefined&quot;?e.$t:&quot;&quot;}var t=VMM.Timeline.DataObj.data_template_obj,n=!1;VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Parsing Google Doc Data&quot;);if(typeof e.feed.entry==&quot;undefined&quot;)VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Error parsing spreadsheet. Make sure you have no blank rows and that the headers have not been changed.&quot;);else{n=!0;for(var i=0;i&lt;e.feed.entry.length;i++){var s=e.feed.entry[i],o=&quot;&quot;;typeof s.gsx$type!=&quot;undefined&quot;?o=s.gsx$type.$t:typeof s.gsx$titleslide!=&quot;undefined&quot;&amp;&amp;(o=s.gsx$titleslide.$t);if(o.match(&quot;start&quot;)||o.match(&quot;title&quot;)){t.timeline.startDate=r(s.gsx$startdate);t.timeline.headline=r(s.gsx$headline);t.timeline.asset.media=r(s.gsx$media);t.timeline.asset.caption=r(s.gsx$mediacaption);t.timeline.asset.credit=r(s.gsx$mediacredit);t.timeline.text=r(s.gsx$text);t.timeline.type=&quot;google spreadsheet&quot;}else if(o.match(&quot;era&quot;)){var u={startDate:r(s.gsx$startdate),endDate:r(s.gsx$enddate),headline:r(s.gsx$headline),text:r(s.gsx$text),tag:r(s.gsx$tag)};t.timeline.era.push(u)}else{var a={type:&quot;google spreadsheet&quot;,startDate:r(s.gsx$startdate),endDate:r(s.gsx$enddate),headline:r(s.gsx$headline),text:r(s.gsx$text),tag:r(s.gsx$tag),asset:{media:r(s.gsx$media),credit:r(s.gsx$mediacredit),caption:r(s.gsx$mediacaption),thumbnail:r(s.gsx$mediathumbnail)}};t.timeline.date.push(a)}}}if(n){VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Finished Parsing Data&quot;);VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,t)}else{VMM.fireEvent(global,VMM.Timeline.Config.events.messege,VMM.Language.messages.loading+&quot; Google Doc Data (cells)&quot;);trace(&quot;There may be too many entries. Still trying to load data. Now trying to load cells to avoid Googles limitation on cells&quot;);VMM.Timeline.DataObj.model.googlespreadsheet.getDataCells(e.feed.link[0].href)}},getDataCells:function(e){function o(){t=VMM.getJSON(r,function(e){clearTimeout(i);VMM.Timeline.DataObj.model.googlespreadsheet.buildDataCells(e)}).error(function(e,t,n){trace(&quot;Google Docs ERROR&quot;);trace(&quot;Google Docs ERROR: &quot;+t+&quot; &quot;+e.responseText)}).success(function(e){clearTimeout(i)})}var t,n,r,i,s=0;n=VMM.Timeline.DataObj.model.googlespreadsheet.extractSpreadsheetKey(e);r=&quot;<A href="https://spreadsheets.google.com/feeds/cells/" class="external free" rel="nofollow">https://spreadsheets.google.com/feeds/cells/</A>&quot;+n+&quot;/od6/public/values?alt=json&quot;;i=setTimeout(function(){trace(&quot;Google Docs timeout &quot;+r);trace(r);if(s&lt;3){VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Still waiting on Google Docs, trying again &quot;+s);s++;t.abort();o()}else VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Google Docs is not responding&quot;)},16e3);o()},buildDataCells:function(e){function a(e){return typeof e!=&quot;undefined&quot;?e.$t:&quot;&quot;}var t=VMM.Timeline.DataObj.data_template_obj,n=!1,r=[&quot;timeline&quot;],i=[],s=0,o=0,u=0;VMM.fireEvent(global,VMM.Timeline.Config.events.messege,VMM.Language.messages.loading_timeline+&quot; Parsing Google Doc Data (cells)&quot;);if(typeof e.feed.entry!=&quot;undefined&quot;){n=!0;for(o=0;o&lt;e.feed.entry.length;o++){var f=e.feed.entry[o];parseInt(f.gs$cell.row)&gt;s&amp;&amp;(s=parseInt(f.gs$cell.row))}for(var o=0;o&lt;s+1;o++){var l={type:&quot;&quot;,startDate:&quot;&quot;,endDate:&quot;&quot;,headline:&quot;&quot;,text:&quot;&quot;,tag:&quot;&quot;,asset:{media:&quot;&quot;,credit:&quot;&quot;,caption:&quot;&quot;,thumbnail:&quot;&quot;}};i.push(l)}for(o=0;o&lt;e.feed.entry.length;o++){var f=e.feed.entry[o],c=&quot;&quot;,h=&quot;&quot;,p={content:a(f.gs$cell),col:f.gs$cell.col,row:f.gs$cell.row,name:&quot;&quot;};if(p.row==1){p.content==&quot;Start Date&quot;?h=&quot;startDate&quot;:p.content==&quot;End Date&quot;?h=&quot;endDate&quot;:p.content==&quot;Headline&quot;?h=&quot;headline&quot;:p.content==&quot;Text&quot;?h=&quot;text&quot;:p.content==&quot;Media&quot;?h=&quot;media&quot;:p.content==&quot;Media Credit&quot;?h=&quot;credit&quot;:p.content==&quot;Media Caption&quot;?h=&quot;caption&quot;:p.content==&quot;Media Thumbnail&quot;?h=&quot;thumbnail&quot;:p.content==&quot;Type&quot;?h=&quot;type&quot;:p.content==&quot;Tag&quot;&amp;&amp;(h=&quot;tag&quot;);r.push(h)}else{p.name=r[p.col];i[p.row][p.name]=p.content}}for(o=0;o&lt;i.length;o++){var l=i[o];if(l.type.match(&quot;start&quot;)||l.type.match(&quot;title&quot;)){t.timeline.startDate=l.startDate;t.timeline.headline=l.headline;t.timeline.asset.media=l.media;t.timeline.asset.caption=l.caption;t.timeline.asset.credit=l.credit;t.timeline.text=l.text;t.timeline.type=&quot;google spreadsheet&quot;}else if(l.type.match(&quot;era&quot;)){var d={startDate:l.startDate,endDate:l.endDate,headline:l.headline,text:l.text,tag:l.tag};t.timeline.era.push(d)}else if(l.startDate){var l={type:&quot;google spreadsheet&quot;,startDate:l.startDate,endDate:l.endDate,headline:l.headline,text:l.text,tag:l.tag,asset:{media:l.media,credit:l.credit,caption:l.caption,thumbnail:l.thumbnail}};t.timeline.date.push(l)}else trace(&quot;Skipping item &quot;+o+&quot; in list: no start date.&quot;)}}n=t.timeline.date.length&gt;0;if(n){VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Finished Parsing Data&quot;);VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,t)}else VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Unable to load Google Doc data source. Make sure you have no blank rows and that the headers have not been changed.&quot;)}},storify:{getData:function(e){var t,n,r;VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Loading Storify...&quot;);t=e.split(&quot;storify.com/&quot;)[1];n=&quot;//api.storify.com/v1/stories/&quot;+t+&quot;?per_page=300&amp;callback=?&quot;;r=setTimeout(function(){trace(&quot;STORIFY timeout&quot;);VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Storify is not responding&quot;)},6e3);VMM.getJSON(n,VMM.Timeline.DataObj.model.storify.buildData).error(function(e,t,n){trace(&quot;STORIFY error&quot;);trace(&quot;STORIFY ERROR: &quot;+t+&quot; &quot;+e.responseText)}).success(function(e){clearTimeout(r)})},buildData:function(e){VMM.fireEvent(global,VMM.Timeline.Config.events.messege,&quot;Parsing Data&quot;);var t=VMM.Timeline.DataObj.data_template_obj;t.timeline.startDate=new Date(e.content.date.created);t.timeline.headline=e.content.title;trace(e);var n=&quot;&quot;,r=e.content.author.username,i=&quot;&quot;;if(typeof e.content.author.name!=&quot;undefined&quot;){r=e.content.author.name;i=e.content.author.username+&quot; &quot;}typeof e.content.description!=&quot;undefined&quot;&amp;&amp;e.content.description!=null&amp;&amp;(n+=e.content.description);n+=&quot;<DIV class="storify">&quot;;n+=&quot;<DIV class="vcard author">&lt;a class='screen-name url' href='&quot;+e.content.author.permalink+&quot;' target='_blank'&gt;&quot;;n+=&quot;<SPAN class="avatar">&lt;img src='&quot;+e.content.author.avatar+&quot;' style='max-width: 32px; max-height: 32px;'&gt;</SPAN>&quot;;n+=&quot;<SPAN class="fn">&quot;+r+&quot;</SPAN>&quot;;n+=&quot;<SPAN class="nickname">&quot;+i+&quot;</SPAN>&quot;;n+=&quot;&lt;/a&gt;&quot;;n+=&quot;</DIV>&quot;;n+=&quot;</DIV>&quot;;t.timeline.text=n;t.timeline.asset.media=e.content.thumbnail;t.timeline.type=&quot;storify&quot;;for(var s=0;s&lt;e.content.elements.length;s++){var o=e.content.elements[s],u=!1,a=new Date(o.posted_at);trace(o.type);var f={type:&quot;storify&quot;,startDate:o.posted_at,endDate:o.posted_at,headline:&quot; &quot;,slug:&quot;&quot;,text:&quot;&quot;,asset:{media:&quot;&quot;,credit:&quot;&quot;,caption:&quot;&quot;}};if(o.type==&quot;image&quot;){if(typeof o.source.name!=&quot;undefined&quot;)if(o.source.name==&quot;flickr&quot;){f.asset.media=&quot;//flickr.com/photos/&quot;+o.meta.pathalias+&quot;/&quot;+o.meta.id+&quot;/&quot;;f.asset.credit=&quot;&lt;a href='&quot;+f.asset.media+&quot;'&gt;&quot;+o.attribution.name+&quot;&lt;/a&gt;&quot;;f.asset.credit+=&quot; on &lt;a href='&quot;+o.source.href+&quot;'&gt;&quot;+o.source.name+&quot;&lt;/a&gt;&quot;}else if(o.source.name==&quot;instagram&quot;){f.asset.media=o.permalink;f.asset.credit=&quot;&lt;a href='&quot;+o.permalink+&quot;'&gt;&quot;+o.attribution.name+&quot;&lt;/a&gt;&quot;;f.asset.credit+=&quot; on &lt;a href='&quot;+o.source.href+&quot;'&gt;&quot;+o.source.name+&quot;&lt;/a&gt;&quot;}else{f.asset.credit=&quot;&lt;a href='&quot;+o.permalink+&quot;'&gt;&quot;+o.attribution.name+&quot;&lt;/a&gt;&quot;;typeof o.source.href!=&quot;undefined&quot;&amp;&amp;(f.asset.credit+=&quot; on &lt;a href='&quot;+o.source.href+&quot;'&gt;&quot;+o.source.name+&quot;&lt;/a&gt;&quot;);f.asset.media=o.data.image.src}else{f.asset.credit=&quot;&lt;a href='&quot;+o.permalink+&quot;'&gt;&quot;+o.attribution.name+&quot;&lt;/a&gt;&quot;;f.asset.media=o.data.image.src}f.slug=o.attribution.name;if(typeof o.data.image.caption!=&quot;undefined&quot;&amp;&amp;o.data.image.caption!=&quot;undefined&quot;){f.asset.caption=o.data.image.caption;f.slug=o.data.image.caption}}else if(o.type==&quot;quote&quot;){if(o.permalink.match(&quot;twitter&quot;)){f.asset.media=o.permalink;f.slug=VMM.Util.untagify(o.data.quote.text)}else if(o.permalink.match(&quot;storify&quot;)){u=!0;f.asset.media=&quot;<BLOCKQUOTE>&quot;+o.data.quote.text.replace(/&lt;\s*\/?\s*b\s*.*?&gt;/g,&quot;&quot;)+&quot;</BLOCKQUOTE>&quot;}}else if(o.type==&quot;link&quot;){f.headline=o.data.link.title;f.text=o.data.link.description;o.data.link.thumbnail!=&quot;undefined&quot;&amp;&amp;o.data.link.thumbnail!=&quot;&quot;?f.asset.media=o.data.link.thumbnail:f.asset.media=o.permalink;f.asset.caption=&quot;&lt;a href='&quot;+o.permalink+&quot;' target='_blank'&gt;&quot;+o.data.link.title+&quot;&lt;/a&gt;&quot;;f.slug=o.data.link.title}else if(o.type==&quot;text&quot;){if(o.permalink.match(&quot;storify&quot;)){u=!0;var l=e.content.author.username,c=&quot;&quot;;if(typeof o.attribution.name!=&quot;undefined&quot;){r=o.attribution.name;i=o.attribution.username+&quot; &quot;}var h=&quot;<DIV class="storify">&quot;;h+=&quot;<BLOCKQUOTE><P>&quot;+o.data.text.replace(/&lt;\s*\/?\s*b\s*.*?&gt;/g,&quot;&quot;)+&quot;</P></BLOCKQUOTE>&quot;;h+=&quot;<DIV class="vcard author">&lt;a class='screen-name url' href='&quot;+o.attribution.href+&quot;' target='_blank'&gt;&quot;;h+=&quot;<SPAN class="avatar">&lt;img src='&quot;+o.attribution.thumbnail+&quot;' style='max-width: 32px; max-height: 32px;'&gt;</SPAN>&quot;;h+=&quot;<SPAN class="fn">&quot;+r+&quot;</SPAN>&quot;;h+=&quot;<SPAN class="nickname">&quot;+i+&quot;</SPAN>&quot;;h+=&quot;&lt;/a&gt;</DIV></DIV>&quot;;f.text=h;if(s+1&gt;=e.content.elements.length)f.startDate=e.content.elements[s-1].posted_at;else if(e.content.elements[s+1].type==&quot;text&quot;&amp;&amp;e.content.elements[s+1].permalink.match(&quot;storify&quot;))if(s+2&gt;=e.content.elements.length)f.startDate=e.content.elements[s-1].posted_at;else if(e.content.elements[s+2].type==&quot;text&quot;&amp;&amp;e.content.elements[s+2].permalink.match(&quot;storify&quot;))if(s+3&gt;=e.content.elements.length)f.startDate=e.content.elements[s-1].posted_at;else if(e.content.elements[s+3].type==&quot;text&quot;&amp;&amp;e.content.elements[s+3].permalink.match(&quot;storify&quot;))f.startDate=e.content.elements[s-1].posted_at;else{trace(&quot;LEVEL 3&quot;);f.startDate=e.content.elements[s+3].posted_at}else{trace(&quot;LEVEL 2&quot;);f.startDate=e.content.elements[s+2].posted_at}else{trace(&quot;LEVEL 1&quot;);f.startDate=e.content.elements[s+1].posted_at}f.endDate=f.startDate}}else if(o.type==&quot;video&quot;){f.headline=o.data.video.title;f.asset.caption=o.data.video.description;f.asset.caption=o.source.username;f.asset.media=o.data.video.src}else{trace(&quot;NO MATCH &quot;);trace(o)}u&amp;&amp;(f.slug=VMM.Util.untagify(o.data.text));t.timeline.date.push(f)}VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,t)}},tweets:{type:&quot;twitter&quot;,buildData:function(e){VMM.bindEvent(global,VMM.Timeline.DataObj.model.tweets.onTwitterDataReady,&quot;TWEETSLOADED&quot;);VMM.ExternalAPI.twitter.getTweets(e.timeline.tweets)},getData:function(e){VMM.bindEvent(global,VMM.Timeline.DataObj.model.tweets.onTwitterDataReady,&quot;TWEETSLOADED&quot;);VMM.ExternalAPI.twitter.getTweetSearch(e)},onTwitterDataReady:function(e,t){var n=VMM.Timeline.DataObj.data_template_obj;for(var r=0;r&lt;t.tweetdata.length;r++){var i={type:&quot;tweets&quot;,startDate:&quot;&quot;,headline:&quot;&quot;,text:&quot;&quot;,asset:{media:&quot;&quot;,credit:&quot;&quot;,caption:&quot;&quot;},tags:&quot;Optional&quot;};i.startDate=t.tweetdata[r].raw.created_at;type.of(t.tweetdata[r].raw.from_user_name)?i.headline=t.tweetdata[r].raw.from_user_name+&quot; (&lt;a href='<A href="https://twitter.com/" class="external free" rel="nofollow">https://twitter.com/</A>&quot;+t.tweetdata[r].raw.from_user+&quot;'&gt;&quot;+&quot;@&quot;+t.tweetdata[r].raw.from_user+&quot;&lt;/a&gt;)&quot;:i.headline=t.tweetdata[r].raw.user.name+&quot; (&lt;a href='<A href="https://twitter.com/" class="external free" rel="nofollow">https://twitter.com/</A>&quot;+t.tweetdata[r].raw.user.screen_name+&quot;'&gt;&quot;+&quot;@&quot;+t.tweetdata[r].raw.user.screen_name+&quot;&lt;/a&gt;)&quot;;i.asset.media=t.tweetdata[r].content;n.timeline.date.push(i)}VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,n)}}},data_template_obj:{timeline:{headline:&quot;&quot;,description:&quot;&quot;,asset:{media:&quot;&quot;,credit:&quot;&quot;,caption:&quot;&quot;},date:[],era:[]}},date_obj:{startDate:&quot;2012,2,2,11,30&quot;,headline:&quot;&quot;,text:&quot;&quot;,asset:{media:&quot;<A href="http://youtu.be/vjVfu8-Wp6s" class="external free" rel="nofollow">http://youtu.be/vjVfu8-Wp6s</A>&quot;,credit:&quot;&quot;,caption:&quot;&quot;},tags:&quot;Optional&quot;}});VMM.debug=!1;</DD></DL></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js">http://2014.igem.org/Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js</A>&quot;</DIV></S></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:SUSTC-Shenzhen/static/timelinejs/js/timeline-min.js&amp;oldid=239695" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>