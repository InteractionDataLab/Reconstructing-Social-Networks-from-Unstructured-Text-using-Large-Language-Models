<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_UESTC-Software_API_html"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:UESTC-Software/API.html">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:UESTC-Software/API.html&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:UESTC-Software/API.html&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:UESTC-Software/API.html&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:UESTC-Software/API.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:UESTC-Software/API.html</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P><TITLE>UESTC-Software</TITLE></P><DIV id="body" style="overflow:auto;"><DIV class="midBoard" style="padding-bottom:80px;"><H1 style="padding-top: 30px">API Documentation</H1><DIV class="parts" style="padding: 20px 50px 20px 100px;overflow:hidden;"><DIV class="question" id="p1">Documentation &amp; Download</DIV><DIV class="docDownload" style="float:left;margin-left:20px;"><DIV class="name"><H2>Service API Doc</H2></DIV><DIV class="type"><A href="https://static.igem.org/mediawiki/2014/5/55/Crisper-X-Service-API.pdf">Crisper-X-API-Document.pdf</A></DIV><DIV class="type"><A href="#p2">View On Line</A></DIV></DIV><DIV class="docDownload" style="float:left;margin-left:20px;"><DIV class="name"><H2>Program API Doc</H2></DIV><DIV class="type"><A href="https://static.igem.org/mediawiki/2014/3/36/Crisper-X-Program-API.zip">Crisper-X-Program-API.zip</A></DIV></DIV></DIV><DIV class="parts" style="padding: 20px 50px 20px 100px;"><DIV class="question" id="p2">Service API Documentation</DIV><H2>1 Main functions</H2><H3>1.1 Submit a Crisper-X request</H3><P>URL: getMain.php</P><H3>1.2 Get result</H3><P>Get the result given the request id.</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>getResult.php</TD></TR><TR><TD class="ti">POST</TD><TD>id</TD></TR><TR><TD class="ti">Return</TD><TD>Result in json style,with status=0, 1, 2 means ok, error and not finished respectively.</TD></TR><TR><TD class="ti">Example</TD><TD>POST: id=355Return: {“status”:2,“message”:“not finished yet”}</TD></TR></TBODY></TABLE><H3>1.3 Get requests History</H3><P>Get requests history. Unregistered users will get the global history.</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>getHistory.php</TD></TR><TR><TD class="ti">POST</TD><TD>token</TD></TR><TR><TD class="ti">Return</TD><TD>Top ten records, ordered by time, in Json array style</TD></TR><TR><TD class="ti">Example</TD><TD>POST: token=005536bf21179e54370c75b6fb136f2aReturn: [{“request id”:“351”,“status”:“0”},{“request id”:“355”,“status”:“2”}]</TD></TR><TR><TD>See also</TD><TD>Login [ section 2.1 ]</TD></TR></TBODY></TABLE><H2>2 User Management</H2><H3>2.1 Login</H3><P>Login(Sign in) using Username and Password. A token will be returned for future authentication.</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>login/</TD></TR><TR><TD class="ti">POST</TD><TD>name(username), pswd(password)</TD></TR><TR><TD class="ti">Return</TD><TD>32 byte token when login succeed, or ’-’ otherwise.</TD></TR><TR><TD class="ti">Example</TD><TD>POST: name=guest&amp;pswd=1234Return: 005536bf21179e54370c75b6fb136f2a</TD></TR></TBODY></TABLE><H3>2.2 Log out</H3><P>Delete user log information and Log out.</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>login/logout.php</TD></TR><TR><TD class="ti">POST</TD><TD>token</TD></TR><TR><TD class="ti">Return</TD><TD>Nothing.</TD></TR><TR><TD class="ti">See also</TD><TD>Login [ section 2.1 ]</TD></TR></TBODY></TABLE><H3>2.3 Sign Up</H3><P>Create a new account with username, password and email.</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>login/signup.php</TD></TR><TR><TD class="ti">POST</TD><TD>name(username, unique),pswd(password, encrypt using md5),email(unique).</TD></TR><TR><TD class="ti">Return</TD><TD>”Sign In Succeed” or error information.</TD></TR></TBODY></TABLE><H3>2.4 Update user’s Information</H3><P>Update your password and/or email address.</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>login/signup.php</TD></TR><TR><TD class="ti">POST</TD><TD>name(username),pswd(old password),newpswd(new password *),newemail(new email *),* Not necessary</TD></TR><TR><TD class="ti">Return</TD><TD>’+’: ok, ’-’: failed.</TD></TR></TBODY></TABLE><H2>3 File/Specie Upload</H2><H3>3.1 Check upload</H3><P>Check if this token can upload files</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>upload/check.php</TD></TR><TR><TD class="ti">POST</TD><TD>status=0(Yes)/1(No) and message if status=1 in JSON.</TD></TR><TR><TD class="ti">Return</TD><TD>’+’: ok, ’-’: failed.</TD></TR><TR><TD class="ti">Example</TD><TD>{”status”:1, ”message”:”Authentication failed”}</TD></TR></TBODY></TABLE><H3>3.2 Upload file</H3><P>Upload your file.</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>upload/</TD></TR><TR><TD class="ti">POST</TD><TD>token, filename(no longer than 255),note(no longer than 1000), file</TD></TR><TR><TD class="ti">Return</TD><TD>A(Upload succeed) or N(Something goes wrong)</TD></TR></TBODY></TABLE><H3>3.3 Import</H3><P>Import data from file(s).</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>upload/import.php</TD></TR><TR><TD class="ti">POST</TD><TD>token, command(in json, see section3.7)</TD></TR><TR><TD class="ti">Return</TD><TD>New specie Name(start with number), or ’N’ for ’Something goes wrong’</TD></TR></TBODY></TABLE><H3>3.4 Viewmyfiles</H3><P>View all my files.</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>upload/viewmyfiles.php</TD></TR><TR><TD class="ti">POST</TD><TD>token</TD></TR><TR><TD class="ti">Return</TD><TD>All my files in JSON Array Style</TD></TR><TR><TD class="ti">Example</TD><TD>[{”fileName”:”NC 001133-chromosome1”,”note”:”Saccharomycetes’s chromosome”}]</TD></TR></TBODY></TABLE><H3>3.5 Viewmyspecies</H3><P>View all my species.</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>upload/viewmyspecies.php</TD></TR><TR><TD class="ti">POST</TD><TD>token</TD></TR><TR><TD class="ti">Return</TD><TD>All my species in JSON Array Style</TD></TR><TR><TD class="ti">Example</TD><TD>[ {”specie”:”Saccharomyces-cerevisiae”, ”PAMs”:[{”PAM”:”NGG”},{”PAM”:”NRG”}], ”chromosomes”:[{”chromosome”:”NC 001147-chromosome1”}, {”chromosome”:”NC 001147-chromosome16”} ]</TD></TR></TBODY></TABLE><H3>3.6 Deletemyfiles</H3><P>Delete your file.</P><TABLE border="1px" cellspacing="0px" style="border-collapse:collapse;word-break:break-word;border-color: #c7d3af;
color: #999;max-width:400px;position: relative;margin: 20px auto;"><TBODY><TR><TD class="ti">URL</TD><TD>upload/deletemyfiles.php</TD></TR><TR><TD class="ti">POST</TD><TD>token, filename</TD></TR><TR><TD class="ti">Return</TD><TD>A(Delete succeed) or N(Something goes wrong)</TD></TR></TBODY></TABLE><H3>3.7 json.command.txt</H3><P>How to write commands in Import(section 3.3) method.</P><P>The structure of a command:</P><PRE style="font-size: xx-small;">		{
		specie 			varchar(96) 		Name of the new Specie.
		files 				array 			All correlative chromosome files(.fna).
		[
			fileName varchar(255) File name
		]
		PAM 			varchar(20)			PAM
		}</PRE><P>Example:</P><P style="font-size: xx-small;text-indent: 4em;">{”specie”:”testSpecie”,”files”:[{”fileName”:”NC 012971”}],”PAM”:”NGG”}</P><H2>4 josn.txt</H2><H3>4.1 Input</H3><PRE style="font-size: xx-small;">		type 1 1=Knockout
		specie E.coil Specie
		gene thrA Gene Name
		location Chr2:336..2798 Location
		pam NGG PAM Sequence [1]
		r1 0.65 r1, r2=1-r1
		length 20 nt length
		region ”0000” Region filter. 1 for in and 0 for out.
		EXON,INTRON,UTR,INTERGENIC
		rfc ”000000” 1 for use and 0 for not.
		RFC: 10, 12, 12a, 21, 23, 25</PRE><H3>4.2 Input Example</H3><PRE style="font-size: xx-small;">		{
		“specie”	:	“Saccharomyces-cerevisiae”,
		“location”	:	“NC 001144-chromosome12:1..500”,
		“pam”		:	“NGG”,
		“rfc”		:	“100101”
		}</PRE><H3>4.3 Output</H3><PRE style="font-size: xx-small;">
		status 		0 				Request Status. (0: ok, 1: failed, 2: still running)
		message  	no args 			Return message
		specie  		E.coil 			Specie
		gene  		thrA 				Gene name
		location  		Chr2:336..2798 	Location
		region  		array[]			Selected sequence information
		{
		endpoint		1807			Region end point
		description		intergenic		Region information
		}
		result array[] Top 50 Only
		{
		grna TC. . . CGG(20) sgRNA sequence
		position Chr2:15413205 Location
		strand + Which DNA chain (+/-)
		region exon Region of this sgRNA
		total score 86 Sguide
		Sspe 93 Sspe
		Seff 7 Seff
		count 2 Nmm
		offtarget array[] Top 20 Only
		{
		osequence CT. . . TGGG(20) possible-offtarget sgRNA sequence
		oscore 3.5 Smm
		omms 4 Nmm
		oposition Chr3:4158 Location of po-sgRNA
		ostrand + Which DNA chain (+/-)
		oregion Intergenic Region of this sgRNA
		}
		}
</PRE><H3>4.4 Output example when ok:</H3><PRE style="font-size: xx-small;">		{
		”status”: 0,
		”message”: {
		”specie”: ”E.coli”,
		”kind”: ”E.coli K12-MG1655”,
		”gene”: ””,
		”location”: ”1:336..2798”
		},
		”result”: [{”key”: ”#1”,
		”grna”: ”GAAGTTCGGCGGTACATCAGTGG”,
		”position”: ”1:368”,
		”total score”: 100,
		”count”: 0,
		”offtarget”: []
		}, {
		”key”: ”#2”,
		”grna”: ”TAATGAAAAAGGCGAACTGGTGG”,
		”position”: ”1:935”,
		”total score”: 100,
		”count”: 0,
		”offtarget”: []
		}, {
		”key”: ”#3”,
		”grna”: ”TGGAAAGCAATGCCAGGCAGGGG”,
		”position”: ”1:427”,
		”total score”: 100,
		”count”: 0,
		”offtarget”: []
		}, {
		”key”: ”#4”,
		”grna”: ”CAAAATCACCAACCACCTGGTGG”,
		”position”: ”1:479”,
		”total score”: 100,
		”count”: 0,
		”offtarget”: []
		},{
		”key”: ”#44”,
		”grna”: ”ATTTTTGCCGAACTTTTGACGGG”,
		”position”: ”1:564”,
		”total score”: 91,
		”count”: 2,
		”offtarget”: [{
		”osequence”: ”ATTTTCGCCAAACATTTGGCAGG”,
		”oscore”: 0.954750,
		”omms”: 4,
		”ostrand”: ”-”,
		”oposition”: ”1:1924344”,
		”oregion”: ”exco”
		}, {
		”osequence”: ”ATTGTTGCGCAACTTTTGGCTGG”,
		”oscore”: 0.480417,
		”omms”: 4,
		”ostrand”: ”-”,
		”oposition”: ”1:3827949”,
		”oregion”: ”exco”
		}]
		}]
		}</PRE><H3>4.5 Output example when failed:</H3><PRE style="font-size: xx-small;">	{
		“status”: 1,
		“message”: “illegal args”
		}</PRE><H3>4.6 Appendix. Equations</H3><P style="font-size: xx-small;text-indent: 4em;">R=A,G; M=A,C; W=A,T; S=C,G; K=G,T; Y=C,T;
H=A,C,T; V=A,C,G; B=C,G,T; D=A,G,T; N=A, G, C, T</P></DIV><DIV class="leftMenu"><DIV id="go1" class="go" style="width: 142px;text-align: left;">Documentation &amp; Download</DIV><DIV id="go2" class="go" style="width: 142px;text-align: left;">Service API Documentation</DIV></DIV><DIV class="navbar"><UL class="leftUl UL"><LI><A href="Overview.html">Overview</A></LI><LI><A href="Modeling.html">Modeling</A></LI><LI><A href="Demo.html">Demo</A></LI><LI><A href="Validation.html">Validation</A></LI><LI><A href="Download.html">Download</A></LI><LI><A href="safety.html">Safety</A></LI></UL><UL class="rightUl UL"><LI><A href="journal.html">Journal</A></LI><LI><A href="HumanPractice.html">Human Practice</A></LI></UL><LI><A href="Requirement.html">Requirements</A></LI><LI><A href="Medal.html">Medal Fulfillment</A></LI><LI><A href="API.html">API Documentation</A></LI><LI><A href="Testing.html">Testing Documentation</A></LI><LI><A href="Installation.html">Installation</A></LI><LI><A href="UserGuide.html">User Guide</A></LI></DIV></DIV><DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:UESTC-Software/API.html">http://2014.igem.org/Team:UESTC-Software/API.html</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:UESTC-Software/API.html" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:UESTC-Software/API.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:UESTC-Software/API.html&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:UESTC-Software/API.html&amp;oldid=339470" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></DIV></BODY></HTML>