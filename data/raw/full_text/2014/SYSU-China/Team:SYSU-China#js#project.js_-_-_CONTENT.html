<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_SYSU-China_js_project_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:SYSU-China/js/project.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:SYSU-China/js/project.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:SYSU-China/js/project.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:SYSU-China/js/project.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:SYSU-China/js/project.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:SYSU-China/js/project.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P>$(function() {
	var navicon = [&quot;Project&quot;, &quot;Judging&quot;, &quot;HumanPractice&quot;, &quot;Team&quot;];
	var urlHash = [&quot;Project/Background&quot;, &quot;Judging/Safetyform&quot;, &quot;HumanPractice/iGEMCC&quot;, &quot;Team/Ourteam&quot;];
	var colors = [&quot;#b5c90f&quot;, &quot;#ed8f6b&quot;, &quot;#7aa59e&quot;, &quot;#ed9d60&quot;];
</P><P>	function navigationSet() {
		var icon1 = [&quot;&quot;,
			&quot;&quot;,
			&quot;&quot;,
			&quot;&quot;];
		var icon2 = [&quot;&quot;,
			&quot;&quot;,
			&quot;&quot;,
			&quot;&quot;];
		$(&quot;.dl-menu&quot;).each(function(i) {
			$(this).css(&quot;background-color&quot;, colors[i]);
			$(this).children().each(function() {
				$($(this).children()[1]).css(&quot;background-color&quot;, colors[i]);
			});
		});	
		$(&quot;.navibar img&quot;).each(function(index) {
			$(this).hover(function() {
				var newSrc = $(this).attr(&quot;src&quot;).replace(icon2[index], icon1[index]);
				$(this).attr(&quot;src&quot;, newSrc);
				//$(this).css({&quot;width&quot; : &quot;45px&quot;, &quot;height&quot; : &quot;45px&quot;});
			}, function() {
				var newSrc = $(this).attr(&quot;src&quot;).replace(icon1[index], icon2[index]);
				$(this).attr(&quot;src&quot;, newSrc);
				//$(this).css({&quot;width&quot; : &quot;40px&quot;, &quot;height&quot; : &quot;40px&quot;});
			}).trigger(&quot;mousehover&quot;);
</P><P>			$(this).click(function() {
				gotoTop(1);
				var hrefhash = urlHash[index];
				$.locationHash(hrefhash);
			});
		});
	}
</P><P>	function fixscroll() {
		//获取要定位元素距离浏览器顶部的距离 	
		var navH = $($(&quot;.navibar&quot;)[0]).position().top;
		var nav2H = $($(&quot;.navigation2&quot;)[0]).position().top;
</P><P>		//滚动条事件 
		$(window).scroll(function(){ 
			//获取滚动条的滑动距离 
			var scroH = $(document).scrollTop();
			//滚动条的滑动距离大于等于定位元素距离浏览器顶部的距离，就固定，反之就不固定 
			if(scroH &gt;= navH){ 			
				$(&quot;.navibar&quot;).css({&quot;position&quot;:&quot;fixed&quot;,&quot;top&quot;:&quot;0&quot;}); 
			} else if(scroH &lt; navH){ 
				$(&quot;.navibar&quot;).css({&quot;position&quot;:&quot;absolute&quot;, &quot;top&quot; : &quot;204px&quot;}); 
			}
</P><P>			if(scroH &gt;= nav2H){ 			
				$(&quot;.navigation2&quot;).css({&quot;position&quot;:&quot;fixed&quot;,&quot;top&quot;: &quot;60px&quot;}); 
			} else if(scroH &lt; nav2H){ 
				$(&quot;.navigation2&quot;).css({&quot;position&quot;:&quot;absolute&quot;, &quot;top&quot; : &quot;264px&quot;}); 
			}
		});	
	}
</P><P>
	function stopBubble(e) {
	   	// 如果提供了事件对象，则这是一个非IE浏览器
</P><PRE>   	if ( e &amp;&amp; e.stopPropagation ) {
       // 因此它支持W3C的stopPropagation()方法 
       	e.stopPropagation();
   	} else { 
      	// 否则，我们需要使用IE的方式来取消事件冒泡
       	window.event.cancelBubble = true;
</PRE><P>	    }
	}
</P><P>	function requestFile() {
		var lochash = $.locationHash();
		$.get(
			&quot;<A href="https://2014.igem.org/Team:SYSU-China/file/" class="external free" rel="nofollow">https://2014.igem.org/Team:SYSU-China/file/</A>&quot; + lochash + &quot;.html?action=raw&quot;,
</P><P>			function(data){
				var realdata =  data.substring(data.indexOf(&quot;&quot;),data.indexOf(&quot;&quot;));
</P><PRE>               setTimeout(function() {
</PRE><P>	                $($(&quot;.content&quot;)[0]).html(realdata);
</P><PRE>               }, 100);
</PRE><P>			}
		);
</P><PRE>               gotoTop(1);
</PRE><P>	}
</P><P>	function gotoTop(speed) {
		$('body,html').animate({scrollTop:0},speed);  
	}
</P><P>	function top() {
		$(&quot;#gotop&quot;).click(function() {
			gotoTop(100);
</P><P>		});
	}
</P><P>	function jQueryHash() { // hash change listener
		$(window).hashchange(function() {
			/*change page position*/
			/*change file*/
			requestFile();
			$('.single-item div').each(function() {
				$(this).hide();
			});
			/*change top image*/
			var hash = $.locationHash();
			var hashlist = hash = hash.split('/');
			var hashnum = hashlist.length;
			var index = navicon.indexOf(hashlist[0]);
			if (hash != &quot;&quot; &amp;&amp; hashnum == 0) {
				hashlist.push(hash);
				hashnum  = 1;
			}
			if (hashnum == 0) {
				$($('.single-item div')[0]).show();	
			} else {				
				if (index != -1)
					$($('.single-item div')[index]).show();	
			}
			$(&quot;.dl-menu&quot;).each(function() {
				$(this).hide();
			});
			$($(&quot;.dl-menu&quot;)[index]).show();				
			$($(&quot;#sidenav button&quot;)[0]).css(&quot;background-color&quot;, colors[index]);
		});
	}
</P><P>	var showTip = false;
</P><P>	function Tips() {
		$(&quot;#tip em&quot;).each(function(i, v) {
			$(this).hoverDelay({
				hoverDuring: 200,
				outDuring: 200,
				hoverEvent: function() {
					var tooltipPosTop 	= $(this).position().top- $(&quot;#tipImg&quot;).outerHeight();
					//alert(tooltipPosTop);
					var tooltipPosLeft = $(this).position().left;
					var tooltipPosLeft = tooltipPosLeft - (($(&quot;#tipImg&quot;).outerWidth()/2) - $(this).outerWidth()/2);		
</P><P>					$(&quot;#tipImg&quot;).css({ 'left': tooltipPosLeft + &quot;px&quot;, 'top': tooltipPosTop+&quot;px&quot; }).animate({'opacity':'1', 'marginTop':'0'}, 500);
					$(&quot;#tipImg&quot;).show();
				},
				outEvent: function() {
					showTip = true;
</P><P>					setTimeout(function() {
						if (showTip) {
							$(&quot;#tipImg&quot;).fadeOut(100);
							showTip = false;// do nothing						
						}						
					}, 200);					
				}
			});
		});
</P><P>		$(&quot;#tipImg&quot;).hoverDelay({
			hoverDuring: 200,
			outDuring: 200,
			hoverEvent: function() {
				showTip = false;
			},
			outEvent: function() {				
				$(&quot;#tipImg&quot;).fadeOut(100);
			}
		});
	}
</P><P>	function linkHome() {
		$(&quot;.single-item img&quot;).each(function() {
			$(this).click(function() {
				location.href = &quot;<A href="https://2014.igem.org/Team:SYSU-China" class="external free" rel="nofollow">https://2014.igem.org/Team:SYSU-China</A>&quot;;
			});
		});
	}
	function imgbox() {
		$(&quot;.fancybox&quot;).fancybox();
	}
</P><P>	function flexnavi() {
		$(&quot;.flexnav&quot;).flexNav();
	}
</P><P>	var Navhover = [false, false, false, false, false];
	function navigation() {
		$(&quot;.navibar img&quot;).each(function(index) {
			$(this).hover( function() {
				$($(&quot;.firstNav&quot;)[index]).show();
</P><P>			}, function() {
</P><P>				setTimeout(function(){
					if (!Navhover[index]) {
						//$($(&quot;.firstNav&quot;)[index]).trigger(&quot;mouseleave&quot;);
						$($(&quot;.firstNav&quot;)[index]).hide();
						Navhover[index] = false;
					}
				}, 50);					
			});
</P><PRE>   	});
</PRE><PRE>   	$(&quot;.firstNav&quot;).each(function(index) {
   		$(this).hover(function() {
   			Navhover[index] = true;
   		}, function() {
   			Navhover[index] = false;
   			$($(&quot;.firstNav&quot;)[index]).hide();
   		}).trigger(&quot;mousehover&quot;);
   	});
</PRE><PRE>   	$(&quot;.firstNav&quot;).each(function() {
</PRE><P>			$(this).hide();
		});
</P><P>		$(window).resize(function() { 
</P><PRE>   		//document.location.reload();
</PRE><P>		});
</P><PRE>   }
</PRE><P>/*
	function modal() {
		$('#myModal').reveal({
</P><PRE>   		animation: 'fadeAndPop',                   //fade, fadeAndPop, none
   		animationspeed: 300,                       //how fast animtions are
   		closeonbackgroundclick: true,              //if you click background will modal close?
   		dismissmodalclass: 'close-reveal-modal',    //the class of a button or element that will close an open modal
</PRE><P>		});
	}
</P><UL><LI>/
</LI></UL><P>	function sidenav() {
		$( '#dl-menu' ).dlmenu();
		$($(&quot;#dl-menu button&quot;)[0]).trigger(&quot;click&quot;);
	}
</P><P>
	function ini() {
		//alert(&quot;sd&quot;);
		$(&quot;.dl-menu&quot;).each(function() {
			$(this).hide();
		});
		$($(&quot;.dl-menu&quot;)[0]).show();
</P><P>		$(&quot;#tipImg&quot;).hide();
</P><P>		$($(&quot;.dl-menu&quot;)[0]).show();
</P><P>		var currentHash = $.locationHash();
</P><P>		//getPage();
		//routeTree();
		navigationSet();
</P><P>		
		jQueryHash();
		flexnavi();
		//Tips();	
		setTimeout(fixscroll, 10);
		setTimeout(Tips, 50); 
		linkHome();
		//imgbox();
		navigation();
		//modal();
		sidenav();
</P><PRE>               top();
</PRE><P>	}
</P><P>
	ini();
</P><P>});
</P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:SYSU-China/js/project.js">http://2014.igem.org/Team:SYSU-China/js/project.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:SYSU-China/js/project.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:SYSU-China/js/project.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:SYSU-China/js/project.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:SYSU-China/js/project.js&amp;oldid=384060" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>