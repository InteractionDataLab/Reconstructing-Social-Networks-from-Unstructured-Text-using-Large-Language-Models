<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Fudan_js_templatemo_script_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:Fudan/js/templatemo_script.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Fudan/js/templatemo_script.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Fudan/js/templatemo_script.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Fudan/js/templatemo_script.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Fudan/js/templatemo_script.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Fudan/js/templatemo script.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P>jQuery(function(){
</P><PRE>   $ = jQuery ;
   //main menu
   $(&quot;#templatemo_banner_menu ul&quot;).singlePageNav({offset: $('#templatemo_banner_menu').outerHeight()});
   //banner slide
   $('.banner').unslider({fluid: true});
   $(window).on(&quot;load scroll resize&quot;, function(){
       banner_height = ($(document).width()/1920) * 760;
       $('.banner').height(banner_height);
       $('.banner ul li').height(banner_height);
       if(banner_height &gt; 250){
           caption_margin_top = (banner_height-100)/2;
           $('.banner .slide_caption:hidden').show();
           $('.banner .slide_caption').css({&quot;margin-top&quot;:caption_margin_top});
       }else{
           $('.banner .slide_caption').hide();
       }
       $(&quot;#templatemo_banner_slide &gt; ul &gt; li&quot;).css({&quot;background-size&quot;:&quot;cover&quot;});
   });
   //about icon
   $(window).on(&quot;load scroll resize&quot;, function(){
       about_wap_width = $(&quot;.about_icon&quot;).width();
       about_icon_padding_left = (about_wap_width/100)*30;
       about_icon_width = (about_wap_width/100)*40;
       about_icon_size = (about_icon_width/100)*50;
       about_icon_padding_top = (about_icon_width/100)*25;
       $(&quot;.about_icon .imgwap&quot;).css({
                                                   'margin-left': about_icon_padding_left,
                                                   'width': about_icon_width,
                                                   'height': about_icon_width,
                                                   });
       $(&quot;#templatemo_about .about_icon .imgwap i&quot;).css({
                                                                                   &quot;font-size&quot;:about_icon_size,
                                                                                   &quot;padding-top&quot;:about_icon_padding_top,
                                                                                 });
       $(&quot;.about_icon p&quot;).css({
                                           'padding-left': &quot;10%&quot;,
                                           'padding-right': &quot;10%&quot;,
                                           });
   });
   //about textimonial
   $.current_testimonial = $(&quot;div.testimonial_text&quot;).first() ;
   $(&quot;div.testimonial_text&quot;).hide();
   $.current_testimonial.show();
   $(window).on(&quot;load scroll resize&quot;, function(){
       testimonial_child_height = $(&quot;.testimonial_text&quot;).height();
       $(&quot;#testimonial_text_wap&quot;).height(testimonial_child_height);
       $(&quot;.pre_next_wap&quot;).height(testimonial_child_height);
   });
   $(&quot;#prev_testimonial&quot;).click(function(){
       $.current_testimonial.effect(&quot;fade&quot;,{},200,function(){
               $.current_testimonial_prev = ($.current_testimonial.index() == 0) ? $(&quot;.testimonial_text&quot;).last() : $.current_testimonial.prev() ;
               $.current_testimonial_prev.fadeIn();
               $.current_testimonial = $.current_testimonial_prev;
       });
       return false;
   });
   $(&quot;#next_testimonial&quot;).click(function(){
       $.current_testimonial.effect(&quot;fade&quot;,{},200,function(){
               $.current_testimonial_next = ($.current_testimonial.index() == $(&quot;.testimonial_text&quot;).last().index() ) ? $(&quot;.testimonial_text&quot;).first() : $.current_testimonial.next() ;
               $.current_testimonial_next.fadeIn();
               $.current_testimonial = $.current_testimonial_next;
       });
       return false;
   });
   //event
   $(&quot;.event_box_img&quot;).load(function(){
       img_height = $(this).height();
       $(this).parent(&quot;.event_box_wap&quot;).height(img_height);
   });
   $(window).on(&quot;load resize&quot;, function(){
       img_height = $(&quot;.event_box_img&quot;).height();
       if($(window).width()&gt;550){
           $(&quot;.event_box_wap&quot;).height(img_height);
           $(&quot;.event_box_wap&quot;).each(function(){
               total_height = $(this).children(&quot;.event_box_caption&quot;).outerHeight();
               header_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;h1&quot;).outerHeight();
               admin_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;p&quot;).eq(0).outerHeight();
               paragraph_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;p&quot;).eq(1).outerHeight();
               hide_paragraph_height = header_height + admin_height + 10 ;
               $(this).children(&quot;.event_box_caption&quot;).css({&quot;top&quot;: &quot;-&quot; + hide_paragraph_height + &quot;px&quot;});
           });
       }else{
           $(&quot;.event_box_wap&quot;).height(img_height);
           $(&quot;.event_box_wap&quot;).each(function(){
               total_height = $(this).children(&quot;.event_box_caption&quot;).outerHeight();
               header_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;h1&quot;).outerHeight();
               admin_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;p&quot;).eq(0).outerHeight();
               paragraph_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;p&quot;).eq(1).outerHeight();
               hide_paragraph_height = header_height + admin_height + 10 ;
               $(this).height(total_height+img_height);
               $(this).children(&quot;.event_box_caption&quot;).css({&quot;top&quot;: &quot;0px&quot;});
           });
       }
   });
   $(&quot;.event_box_wap&quot;).hover(function(){
       if($(window).width()&gt;550){
           total_height = $(this).children(&quot;.event_box_caption&quot;).outerHeight();
           header_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;h1&quot;).outerHeight();
           admin_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;p&quot;).eq(0).outerHeight();
           paragraph_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;p&quot;).eq(1).outerHeight();
           hide_paragraph_height = header_height + admin_height + paragraph_height + 10 ;
           $(this).children(&quot;.event_box_caption&quot;).stop().animate({&quot;top&quot;: &quot;-&quot; + hide_paragraph_height + &quot;px&quot;});
       }
   },function(){
       if($(window).width()&gt;550){
           total_height = $(this).children(&quot;.event_box_caption&quot;).outerHeight();
           header_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;h1&quot;).outerHeight();
           admin_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;p&quot;).eq(0).outerHeight();
           paragraph_height = $(this).children(&quot;.event_box_caption&quot;).children(&quot;p&quot;).eq(1).outerHeight();
           hide_paragraph_height = header_height + admin_height + 10 ;
           $(this).children(&quot;.event_box_caption&quot;).stop().animate({&quot;top&quot;: &quot;-&quot; + hide_paragraph_height + &quot;px&quot;});
       }
   });
   //timeline
   $(window).on(&quot;load resize&quot;, function(){
       $.timeline_right_position_top = 0 ;
       $.timeline_old_right_position_top = 0 ;
       $.timeline_left_position_top = 0 ;
       $.timeline_old_left_position_top = 0 ;
       w_width = ($(window).width()&gt;1600) ? 1600 : $(window).width() ;
       $.timeline_item_width = ( w_width - 50) / 2;
       $(&quot;.time_line_wap&quot;).each(function(){
           //if class name already exit remove
           $(this).children(&quot;a.left_timer&quot;).remove();
           $(this).children(&quot;a.right_timer&quot;).remove();
           $(this).removeClass(&quot;left_timeline&quot;);
           $(this).removeClass(&quot;right_timeline&quot;);
           if($(window).width()&lt;970){
               $(&quot;#templatemo_timeline .container-fluid&quot;).css({&quot;position&quot;:&quot;absolute&quot;});
               positon_left = $(&quot;#templatemo_timeline .container-fluid&quot;).position().left +100;
               //put on right
               $(this).css({   
                                   'left': 70,
                                   'top':$.timeline_right_position_top,
                                   'width': $(window).width() - positon_left
                                });
               $(this).addClass(&quot;right_timeline&quot;);
               $.timeline_old_right_position_top = $.timeline_right_position_top;
               $.timeline_right_position_top = $.timeline_right_position_top + $(this).outerHeight() + 40 ;
               $(this).prepend(&quot;&lt;a href=\&quot;#\&quot; class=\&quot;right_timer\&quot;&gt;&lt;/a&gt;&quot;);
               $(this).children(&quot;a.right_timer&quot;).css({left:-86, width: 60 ,});
           }else if($.timeline_left_position_top == 0){
               $(&quot;#templatemo_timeline .container-fluid&quot;).css({&quot;position&quot;:&quot;relative&quot;});
               //put on left
               $(this).css({   
                                   'left':0,
                                   'top':0,
                                   'width': $.timeline_item_width - 50
                                });
               $(this).addClass(&quot;left_timeline&quot;);
               $.timeline_old_left_position_top = $.timeline_left_position_top;
               $.timeline_left_position_top = $.timeline_left_position_top + $(this).outerHeight() + 40 ;
               $(this).prepend(&quot;&lt;a href=\&quot;#\&quot; class=\&quot;left_timer\&quot;&gt;&lt;/a&gt;&quot;);
               $(this).children(&quot;a.left_timer&quot;).css({left:$.timeline_item_width-50,});
           }else if( $.timeline_right_position_top &lt; $.timeline_left_position_top ){
               $(&quot;#templatemo_timeline .container-fluid&quot;).css({&quot;position&quot;:&quot;relative&quot;});
               $.timeline_right_position_top = ($.timeline_old_left_position_top + 40) &lt; $.timeline_right_position_top  ? $.timeline_right_position_top : $.timeline_right_position_top + 40;
               //put on right
               $(this).css({   
                                   'left': $.timeline_item_width + 79,
                                   'top':$.timeline_right_position_top,
                                   'width': $.timeline_item_width - 50
                                });
               $(this).addClass(&quot;right_timeline&quot;);
               $.timeline_old_right_position_top = $.timeline_right_position_top;
               $.timeline_right_position_top = $.timeline_right_position_top + $(this).outerHeight() + 40 ;
               $(this).prepend(&quot;&lt;a href=\&quot;#\&quot; class=\&quot;right_timer\&quot;&gt;&lt;/a&gt;&quot;);
               $(this).children(&quot;a.right_timer&quot;).css({left:-99,});
           }else{
               $(&quot;#templatemo_timeline .container-fluid&quot;).css({&quot;position&quot;:&quot;relative&quot;});
               $.timeline_left_position_top = ($.timeline_old_right_position_top + 40) &lt; $.timeline_left_position_top ? $.timeline_left_position_top : $.timeline_left_position_top + 40;
               //put on left
               $(this).css({
                                   'left':0,
                                   'top':$.timeline_left_position_top,
                                   'width': $.timeline_item_width - 50
                                });
               $(this).addClass(&quot;left_timeline&quot;);
               $.timeline_old_left_position_top = $.timeline_left_position_top;
               $.timeline_left_position_top = $.timeline_left_position_top + $(this).outerHeight() + 40 ;
               $(this).prepend(&quot;&lt;a href=\&quot;#\&quot; class=\&quot;left_timer\&quot;&gt;&lt;/a&gt;&quot;);
               $(this).children(&quot;a.left_timer&quot;).css({left:$.timeline_item_width-50,});
           }
           //calculate and define container height
           if($.timeline_left_position_top &gt; $.timeline_right_position_top ){
               $(&quot;#templatemo_timeline .container-fluid&quot;).height($.timeline_left_position_top-40);
               $(&quot;#templatemo_timeline&quot;).height($.timeline_left_position_top+200);
           }else{
               $(&quot;#templatemo_timeline .container-fluid&quot;).height($.timeline_right_position_top-40);
               $(&quot;#templatemo_timeline&quot;).height($.timeline_right_position_top+200);
           }
           $(this).fadeIn();
       });
   });
   //mobile menu and desktop menu
   $(&quot;#templatemo_mobile_menu&quot;).css({&quot;right&quot;:-1500});
   $(&quot;#mobile_menu&quot;).click(function(){
           $(&quot;#templatemo_mobile_menu&quot;).show();
           $(&quot;#templatemo_mobile_menu&quot;).animate({&quot;right&quot;:0});
           return false;
   });
   $(window).on(&quot;load resize&quot;, function(){
           if($(window).width()&gt;768){
               $(&quot;#templatemo_mobile_menu&quot;).css({&quot;right&quot;:-1500});
           }
   });
</PRE><PRE>   jQuery.fn.anchorAnimate = function(settings) {
       settings = jQuery.extend({
           speed : 1100
       }, settings);	
       return this.each(function(){
           var caller = this
           $(caller).click(function (event){
               event.preventDefault();
               var locationHref = window.location.href;
               var elementClick = $(caller).attr(&quot;href&quot;);
               var destination = $(elementClick).offset().top - $('#templatemo_banner_menu').outerHeight() ;
               $(&quot;#templatemo_mobile_menu&quot;).animate({&quot;right&quot;:-1500});
               $(&quot;#templatemo_mobile_menu&quot;).fadeOut() ;
               $(&quot;html,body&quot;).css({&quot;overflow&quot;:&quot;auto&quot;});
               $(&quot;html,body&quot;).stop().animate({ scrollTop: destination}, settings.speed, function(){
                   // Detect if pushState is available
                   if(history.pushState) {
                       history.pushState(null, null, elementClick);
                   }
               });
               return false;
           });
       });
   }
   //animate scroll function calll
   $(&quot;#templatemo_mobile_menu a&quot;).anchorAnimate();    
   //about
   $(document).scroll(function(){
       document_top = $(document).scrollTop();
       event_wapper_top = $(&quot;#templatemo_about&quot;).position().top - $('#templatemo_banner_menu').outerHeight();
       if(document_top&lt;event_wapper_top){
           degree = (360/event_wapper_top)*(document_top);
           event_animate_num = event_wapper_top - document_top;
           event_animate_alpha = (1/document_top)*(event_wapper_top);
           $(&quot;#templatemo_about .imgwap&quot;).css({
                       '-webkit-transform': 'rotate(' + degree + 'deg)',
                       '-moz-transform': 'rotate(' + degree + 'deg)',
                       '-ms-transform': 'rotate(' + degree + 'deg)',
                       '-o-transform': 'rotate(' + degree + 'deg)',
                       'transform': 'rotate(' + degree + 'deg)',
           });
           $(&quot;#templatemo_about .about_icon&quot;).css({
                       'opacity':event_animate_alpha
           });
       }else{
           $(&quot;#templatemo_about .imgwap&quot;).css({
                       '-webkit-transform': 'rotate(' + 360 + 'deg)',
                       '-moz-transform': 'rotate(' + 360 + 'deg)',
                       '-ms-transform': 'rotate(' + 360 + 'deg)',
                       '-o-transform': 'rotate(' + 360 + 'deg)',
                       'transform': 'rotate(' + 360 + 'deg)',
           });
           $(&quot;#templatemo_about .about_icon&quot;).css({
                       'opacity':1
           });
       }
   });
   //events
   //event
   $(document).scroll(function(){
       document_top = $(document).scrollTop();
       event_wapper_top = $(&quot;#templatemo_events&quot;).position().top - $('#templatemo_banner_menu').outerHeight();
       if(document_top&lt;event_wapper_top){
           event_animate_num = event_wapper_top - document_top;
           event_animate_alpha = (1/event_wapper_top)*(document_top);
           $(&quot;#templatemo_events .event_animate_left&quot;).css({'left': -event_animate_num,'opacity':event_animate_alpha});
           $(&quot;#templatemo_events .event_animate_right&quot;).css({'left':event_animate_num,'opacity':event_animate_alpha});
       }else{
           $(&quot;#templatemo_events .event_animate_left&quot;).css({'left': 0,'opacity':1});
           $(&quot;#templatemo_events .event_animate_right&quot;).css({'left':0,'opacity':1});
       }
   }); 
</PRE><P>$('.igem_bar a').unbind();
</P>
$('.dropdown ul').html($('.left-menu ul').html() + <I> +  $('.right-menu ul').html() + '</I><LI style="height: 50px;"><I>&lt;a href=&quot;<A href="https://igem.org/Main_Page" class="external free" rel="nofollow">https://igem.org/Main_Page</A>&quot;&gt;&lt;img src=&quot;&quot;&gt;&lt;/a&gt;&lt;/li&gt;');</I>
$('.dropdown ul li').css('height','45px');
$('.dropdown ul a').css('height','30px');
});
//google map

<DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:Fudan/js/templatemo_script.js">http://2014.igem.org/Team:Fudan/js/templatemo_script.js</A>&quot;</DIV></LI></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Fudan/js/templatemo_script.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Fudan/js/templatemo_script.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Fudan/js/templatemo_script.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Fudan/js/templatemo_script.js&amp;oldid=323352" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>