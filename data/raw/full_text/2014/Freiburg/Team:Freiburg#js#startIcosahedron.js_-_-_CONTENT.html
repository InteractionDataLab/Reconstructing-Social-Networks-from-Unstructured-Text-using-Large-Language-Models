<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Freiburg_js_startIcosahedron_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:Freiburg/js/startIcosahedron.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Freiburg/js/startIcosahedron.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Freiburg/js/startIcosahedron.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Freiburg/js/startIcosahedron.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Freiburg/js/startIcosahedron.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Freiburg/js/startIcosahedron.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P>var startIcosahedron = function(){
</P><PRE> var container;
 var camera, scene, renderer;
 var mesh, group, light;
 var tspeed = 1;
 var showColor = false;
 var linewidth = 1.5;
</PRE><PRE> init();
 animate();
</PRE><PRE> function init() {
   container = document.getElementById( 'icosahedron' );
</PRE><PRE>   camera = new THREE.PerspectiveCamera( 3.5, 1, 1, 10000 );
   camera.position.z = 1800;
</PRE><PRE>   scene = new THREE.Scene();
</PRE><PRE>   light = new THREE.DirectionalLight( 0xffffff );
   light.position.set( 0, 0, 1 );
   scene.add( light );
</PRE><PRE>   var canvas = document.createElement( 'canvas' );
   canvas.width = container.width;
   canvas.height = container.height;
</PRE><PRE>   var faceIndices = [ 'a', 'b', 'c', 'd' ];
</PRE><PRE>   var color, f, p, n, vertexIndex,
</PRE><PRE>     radius = 50,
</PRE><PRE> geometry = new THREE.IcosahedronGeometry( radius );
</PRE><PRE>   for ( var i = 0; i &lt; geometry.faces.length; i ++ ) {
</PRE><PRE>     f = geometry.faces[ i ];
</PRE><PRE>     n = ( f instanceof THREE.Face3 ) ? 3 : 4;
</PRE><PRE>     for( var j = 0; j &lt; n; j++ ) {
</PRE><PRE>       vertexIndex = f[ faceIndices[ j ] ];
</PRE><PRE>       p = geometry.vertices[ vertexIndex ];
</PRE><PRE>       color = new THREE.Color( 0xffffff );
       color.setHSL( ( p.y / radius + 1 ) / 2, 1.0, 0.5 );
</PRE><PRE>       f.vertexColors[ j ] = color;
     }
   }
</PRE><PRE>   var materials = [
     new THREE.MeshLambertMaterial( { color: 0xffffff, shading: THREE.FlatShading, vertexColors: THREE.VertexColors } ),
     new THREE.MeshBasicMaterial( { color: 0x000000, shading: THREE.FlatShading, wireframe: true, transparent: true } )
   ];
</PRE><PRE>   var material2 = new THREE.LineBasicMaterial({
     color: 0xffffff,
     linewidth: linewidth,
     overdraw: true
   });
   group2 = new THREE.Object3D();
   geometry3 = new THREE.IcosahedronGeometry( radius + 1 );
</PRE><PRE>   for ( var i = 0; i &lt; geometry3.faces.length; i ++ ) {
     f = geometry3.faces[ i ];
     n = ( f instanceof THREE.Face3 ) ? 3 : 4;
     var line = new THREE.Geometry();
     for( var j = 0; j &lt; n; j++ ) {
       vertexIndex = f[ faceIndices[ j ] ];
       p = geometry3.vertices[ vertexIndex ];
       line.vertices.push(p);
     }
     group2.add( new THREE.Line( line, material2 ) );
   }
</PRE><PRE>   group = THREE.SceneUtils.createMultiMaterialObject( geometry, materials );
   group.position.x = 0;
   group.rotation.x = 0;
   group2.rotation.x = -Math.PI/4.0;
   if (showColor) {
     group2.add(group);
   }
   scene.add( group2 );
</PRE><PRE>   renderer = new THREE.WebGLRenderer( {
     antialias: true,
     canvas: container,
     alpha: true
   } );
   renderer.setSize( canvas.width, canvas.height );
 }
</PRE><PRE> function animate() {
   requestAnimationFrame( animate );
   // rotate the thingy
   group2.rotation.y += 0.012 * tspeed;
   group2.rotation.x += 0.005 * tspeed;
   render();
 }
</PRE><PRE> function render() {
   renderer.render( scene, camera );
 }
</PRE><P>};
</P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:Freiburg/js/startIcosahedron.js">http://2014.igem.org/Team:Freiburg/js/startIcosahedron.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Freiburg/js/startIcosahedron.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Freiburg/js/startIcosahedron.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Freiburg/js/startIcosahedron.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Freiburg/js/startIcosahedron.js&amp;oldid=185255" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>