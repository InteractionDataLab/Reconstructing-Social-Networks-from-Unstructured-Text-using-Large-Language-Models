<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_BNU-China_js_jquery_jcarousel_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:BNU-China/js/jquery.jcarousel.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:BNU-China/js/jquery.jcarousel.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:BNU-China/js/jquery.jcarousel.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:BNU-China/js/jquery.jcarousel.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:BNU-China/js/jquery.jcarousel.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:BNU-China/js/jquery.jcarousel.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P>/*!
</P><PRE>* jCarousel - Riding carousels with jQuery
*   <A href="http://sorgalla.com/jcarousel/" class="external free" rel="nofollow">http://sorgalla.com/jcarousel/</A>
*
* Copyright (c) 2006 Jan Sorgalla (<A href="http://sorgalla.com" class="external free" rel="nofollow">http://sorgalla.com</A>)
* Dual licensed under the MIT (<A href="http://www.opensource.org/licenses/mit-license.php" class="external free" rel="nofollow">http://www.opensource.org/licenses/mit-license.php</A>)
* and GPL (<A href="http://www.opensource.org/licenses/gpl-license.php" class="external free" rel="nofollow">http://www.opensource.org/licenses/gpl-license.php</A>) licenses.
*
* Built on top of the jQuery library
*   <A href="http://jquery.com" class="external free" rel="nofollow">http://jquery.com</A>
*
* Inspired by the &quot;Carousel Component&quot; by Bill Scott
*   <A href="http://billwscott.com/carousel/" class="external free" rel="nofollow">http://billwscott.com/carousel/</A>
*/
</PRE><P>(function($) {
</P><PRE>   /**
    * Creates a carousel for all matched elements.
    *
    * @example $(&quot;#mycarousel&quot;).jcarousel();
</PRE>
     * @before <UL id="mycarousel" class="jcarousel-skin-name"><LI>First item</LI><LI>Second item</LI></UL><PRE>    * @result
    *
</PRE>
     * <DIV class="jcarousel-skin-name">
     *   <DIV class="jcarousel-container">
     *     <DIV class="jcarousel-clip">
     *       <UL class="jcarousel-list">
     *         <LI class="jcarousel-item-1">First item</LI>
     *         <LI class="jcarousel-item-2">Second item</LI>
     *       </UL>
     *     </DIV>
     *     
     *     
     *   </DIV>
     * </DIV><PRE>    *
    * @method jcarousel
    * @return jQuery
    * @param o {Hash|String} A set of key/value pairs to set as configuration properties or a method name to call on a formerly created instance.
    */
   $.fn.jcarousel = function(o) {
       if (typeof o == 'string') {
           var instance = $(this).data('jcarousel'), args = Array.prototype.slice.call(arguments, 1);
           return instance[o].apply(instance, args);
       } else
           return this.each(function() {
               $(this).data('jcarousel', new $jc(this, o));
           });
   };
</PRE><PRE>   // Default configuration properties.
   var defaults = {
       vertical: false,
       start: 1,
       offset: 1,
       size: null,
       scroll: 3,
       visible: null,
       animation: 'normal',
       easing: 'swing',
       auto: 0,
       wrap: null,
       initCallback: null,
       reloadCallback: null,
       itemLoadCallback: null,
       itemFirstInCallback: null,
       itemFirstOutCallback: null,
       itemLastInCallback: null,
       itemLastOutCallback: null,
       itemVisibleInCallback: null,
       itemVisibleOutCallback: null,
</PRE>
        buttonNextHTML: '',
        buttonPrevHTML: '',
<PRE>       buttonNextEvent: 'click',
       buttonPrevEvent: 'click',
       buttonNextCallback: null,
       buttonPrevCallback: null
   };
</PRE><PRE>   /**
    * The jCarousel object.
    *
    * @constructor
    * @class jcarousel
    * @param e {HTMLElement} The element to create the carousel for.
    * @param o {Object} A set of key/value pairs to set as configuration properties.
    * @cat Plugins/jCarousel
    */
   $.jcarousel = function(e, o) {
       this.options    = $.extend({}, defaults, o || {});
</PRE><PRE>       this.locked     = false;
</PRE><PRE>       this.container  = null;
       this.clip       = null;
       this.list       = null;
       this.buttonNext = null;
       this.buttonPrev = null;
</PRE><PRE>       this.wh = !this.options.vertical ? 'width' : 'height';
       this.lt = !this.options.vertical ? 'left' : 'top';
</PRE><PRE>       // Extract skin class
       var skin = <I>, split = e.className.split(' ');</I></PRE><PRE>       for (var i = 0; i &lt; split.length; i++) {
           if (split[i].indexOf('jcarousel-skin') != -1) {
               $(e).removeClass(split[i]);
               skin = split[i];
               break;
           }
       }
</PRE><PRE>       if (e.nodeName == 'UL' || e.nodeName == 'OL') {
           this.list = $(e);
           this.container = this.list.parent();
</PRE><PRE>           if (this.container.hasClass('jcarousel-clip')) {
               if (!this.container.parent().hasClass('jcarousel-container'))
</PRE>
                    this.container = this.container.wrap('');
<PRE>               this.container = this.container.parent();
           } else if (!this.container.hasClass('jcarousel-container'))
</PRE>
                this.container = this.list.wrap('').parent();
<PRE>       } else {
           this.container = $(e);
           this.list = this.container.find('ul,ol').eq(0);
       }
</PRE><PRE>       if (skin != <I>&amp;&amp; this.container.parent()[0].className.indexOf('jcarousel-skin') == -1)</I></PRE>
            this.container.wrap('');
<PRE>       this.clip = this.list.parent();
</PRE><PRE>       if (!this.clip.length || !this.clip.hasClass('jcarousel-clip'))
</PRE>
            this.clip = this.list.wrap('').parent();
<PRE>       this.buttonNext = $('.jcarousel-next', this.container);
</PRE><PRE>       if (this.buttonNext.size() == 0 &amp;&amp; this.options.buttonNextHTML != null)
           this.buttonNext = this.clip.after(this.options.buttonNextHTML).next();
</PRE><PRE>       this.buttonNext.addClass(this.className('jcarousel-next'));
</PRE><PRE>       this.buttonPrev = $('.jcarousel-prev', this.container);
</PRE><PRE>       if (this.buttonPrev.size() == 0 &amp;&amp; this.options.buttonPrevHTML != null)
           this.buttonPrev = this.clip.after(this.options.buttonPrevHTML).next();
</PRE><PRE>       this.buttonPrev.addClass(this.className('jcarousel-prev'));
</PRE><PRE>       this.clip.addClass(this.className('jcarousel-clip')).css({
           overflow: 'hidden',
           position: 'relative'
       });
       this.list.addClass(this.className('jcarousel-list')).css({
           overflow: 'hidden',
           position: 'relative',
           top: 0,
           left: 0,
           margin: 0,
           padding: 0
       });
       this.container.addClass(this.className('jcarousel-container')).css({
           position: 'relative'
       });
</PRE><PRE>       var di = this.options.visible != null ? Math.ceil(this.clipping() / this.options.visible) : null;
       var li = this.list.children('li');
</PRE><PRE>       var self = this;
</PRE><PRE>       if (li.size() &gt; 0) {
           var wh = 0, i = this.options.offset;
           li.each(function() {
               self.format(this, i++);
               wh += self.dimension(this, di);
           });
</PRE><PRE>           this.list.css(this.wh, wh + 'px');
</PRE><PRE>           // Only set if not explicitly passed as option
           if (!o || o.size === undefined)
               this.options.size = li.size();
       }
</PRE><PRE>       // For whatever reason, .show() does not work in Safari...
       this.container.css('display', 'block');
       this.buttonNext.css('display', 'block');
       this.buttonPrev.css('display', 'block');
</PRE><PRE>       this.funcNext   = function() { self.next(); };
       this.funcPrev   = function() { self.prev(); };
       this.funcResize = function() { self.reload(); };
</PRE><PRE>       if (this.options.initCallback != null)
           this.options.initCallback(this, 'init');
</PRE><PRE>       if ($.browser.safari) {
           this.buttons(false, false);
           $(window).bind('load.jcarousel', function() { self.setup(); });
       } else
           this.setup();
   };
</PRE><PRE>   // Create shortcut for internal use
   var $jc = $.jcarousel;
</PRE><PRE>   $jc.fn = $jc.prototype = {
       jcarousel: '0.2.4'
   };
</PRE><PRE>   $jc.fn.extend = $jc.extend = $.extend;
</PRE><PRE>   $jc.fn.extend({
       /**
        * Setups the carousel.
        *
        * @method setup
        * @return undefined
        */
       setup: function() {
           this.first     = null;
           this.last      = null;
           this.prevFirst = null;
           this.prevLast  = null;
           this.animating = false;
           this.timer     = null;
           this.tail      = null;
           this.inTail    = false;
</PRE><PRE>           if (this.locked)
               return;
</PRE><PRE>           this.list.css(this.lt, this.pos(this.options.offset) + 'px');
           var p = this.pos(this.options.start);
           this.prevFirst = this.prevLast = null;
           this.animate(p, false);
</PRE><PRE>           $(window).unbind('resize.jcarousel', this.funcResize).bind('resize.jcarousel', this.funcResize);
       },
</PRE><PRE>       /**
        * Clears the list and resets the carousel.
        *
        * @method reset
        * @return undefined
        */
       reset: function() {
           this.list.empty();
</PRE><PRE>           this.list.css(this.lt, '0px');
           this.list.css(this.wh, '10px');
</PRE><PRE>           if (this.options.initCallback != null)
               this.options.initCallback(this, 'reset');
</PRE><PRE>           this.setup();
       },
</PRE><PRE>       /**
        * Reloads the carousel and adjusts positions.
        *
        * @method reload
        * @return undefined
        */
       reload: function() {
           if (this.tail != null &amp;&amp; this.inTail)
               this.list.css(this.lt, $jc.intval(this.list.css(this.lt)) + this.tail);
</PRE><PRE>           this.tail   = null;
           this.inTail = false;
</PRE><PRE>           if (this.options.reloadCallback != null)
               this.options.reloadCallback(this);
</PRE><PRE>           if (this.options.visible != null) {
               var self = this;
               var di = Math.ceil(this.clipping() / this.options.visible), wh = 0, lt = 0;
               $('li', this.list).each(function(i) {
                   wh += self.dimension(this, di);
                   if (i + 1 &lt; self.first)
                       lt = wh;
               });
</PRE><PRE>               this.list.css(this.wh, wh + 'px');
               this.list.css(this.lt, -lt + 'px');
           }
</PRE><PRE>           this.scroll(this.first, false);
       },
</PRE><PRE>       /**
        * Locks the carousel.
        *
        * @method lock
        * @return undefined
        */
       lock: function() {
           this.locked = true;
           this.buttons();
       },
</PRE><PRE>       /**
        * Unlocks the carousel.
        *
        * @method unlock
        * @return undefined
        */
       unlock: function() {
           this.locked = false;
           this.buttons();
       },
</PRE><PRE>       /**
        * Sets the size of the carousel.
        *
        * @method size
        * @return undefined
        * @param s {Number} The size of the carousel.
        */
       size: function(s) {
           if (s != undefined) {
               this.options.size = s;
               if (!this.locked)
                   this.buttons();
           }
</PRE><PRE>           return this.options.size;
       },
</PRE><PRE>       /**
        * Checks whether a list element exists for the given index (or index range).
        *
        * @method get
        * @return bool
        * @param i {Number} The index of the (first) element.
        * @param i2 {Number} The index of the last element.
        */
       has: function(i, i2) {
           if (i2 == undefined || !i2)
               i2 = i;
</PRE><PRE>           if (this.options.size !== null &amp;&amp; i2 &gt; this.options.size)
               i2 = this.options.size;
</PRE><PRE>           for (var j = i; j &lt;= i2; j++) {
               var e = this.get(j);
               if (!e.length || e.hasClass('jcarousel-item-placeholder'))
                   return false;
           }
</PRE><PRE>           return true;
       },
</PRE><PRE>       /**
        * Returns a jQuery object with list element for the given index.
        *
        * @method get
        * @return jQuery
        * @param i {Number} The index of the element.
        */
       get: function(i) {
           return $('.jcarousel-item-' + i, this.list);
       },
</PRE><PRE>       /**
        * Adds an element for the given index to the list.
        * If the element already exists, it updates the inner html.
        * Returns the created element as jQuery object.
        *
        * @method add
        * @return jQuery
        * @param i {Number} The index of the element.
        * @param s {String} The innerHTML of the element.
        */
       add: function(i, s) {
           var e = this.get(i), old = 0, add = 0;
</PRE><PRE>           if (e.length == 0) {
               var c, e = this.create(i), j = $jc.intval(i);
               while (c = this.get(--j)) {
                   if (j &lt;= 0 || c.length) {
                       j &lt;= 0 ? this.list.prepend(e) : c.after(e);
                       break;
                   }
               }
           } else
               old = this.dimension(e);
</PRE><PRE>           e.removeClass(this.className('jcarousel-item-placeholder'));
           typeof s == 'string' ? e.html(s) : e.empty().append(s);
</PRE><PRE>           var di = this.options.visible != null ? Math.ceil(this.clipping() / this.options.visible) : null;
           var wh = this.dimension(e, di) - old;
</PRE><PRE>           if (i &gt; 0 &amp;&amp; i &lt; this.first)
               this.list.css(this.lt, $jc.intval(this.list.css(this.lt)) - wh + 'px');
</PRE><PRE>           this.list.css(this.wh, $jc.intval(this.list.css(this.wh)) + wh + 'px');
</PRE><PRE>           return e;
       },
</PRE><PRE>       /**
        * Removes an element for the given index from the list.
        *
        * @method remove
        * @return undefined
        * @param i {Number} The index of the element.
        */
       remove: function(i) {
           var e = this.get(i);
</PRE><PRE>           // Check if item exists and is not currently visible
           if (!e.length || (i &gt;= this.first &amp;&amp; i &lt;= this.last))
               return;
</PRE><PRE>           var d = this.dimension(e);
</PRE><PRE>           if (i &lt; this.first)
               this.list.css(this.lt, $jc.intval(this.list.css(this.lt)) + d + 'px');
</PRE><PRE>           e.remove();
</PRE><PRE>           this.list.css(this.wh, $jc.intval(this.list.css(this.wh)) - d + 'px');
       },
</PRE><PRE>       /**
        * Moves the carousel forwards.
        *
        * @method next
        * @return undefined
        */
       next: function() {
           this.stopAuto();
</PRE><PRE>           if (this.tail != null &amp;&amp; !this.inTail)
               this.scrollTail(false);
           else
               this.scroll(((this.options.wrap == 'both' || this.options.wrap == 'last') &amp;&amp; this.options.size != null &amp;&amp; this.last == this.options.size) ? 1 : this.first + this.options.scroll);
       },
</PRE><PRE>       /**
        * Moves the carousel backwards.
        *
        * @method prev
        * @return undefined
        */
       prev: function() {
           this.stopAuto();
</PRE><PRE>           if (this.tail != null &amp;&amp; this.inTail)
               this.scrollTail(true);
           else
               this.scroll(((this.options.wrap == 'both' || this.options.wrap == 'first') &amp;&amp; this.options.size != null &amp;&amp; this.first == 1) ? this.options.size : this.first - this.options.scroll);
       },
</PRE><PRE>       /**
        * Scrolls the tail of the carousel.
        *
        * @method scrollTail
        * @return undefined
        * @param b {Boolean} Whether scroll the tail back or forward.
        */
       scrollTail: function(b) {
           if (this.locked || this.animating || !this.tail)
               return;
</PRE><PRE>           var pos  = $jc.intval(this.list.css(this.lt));
</PRE><PRE> !b ? pos -= this.tail : pos += this.tail;
           this.inTail = !b;
</PRE><PRE>           // Save for callbacks
           this.prevFirst = this.first;
           this.prevLast  = this.last;
</PRE><PRE>           this.animate(pos);
       },
</PRE><PRE>       /**
        * Scrolls the carousel to a certain position.
        *
        * @method scroll
        * @return undefined
        * @param i {Number} The index of the element to scoll to.
        * @param a {Boolean} Flag indicating whether to perform animation.
        */
       scroll: function(i, a) {
           if (this.locked || this.animating)
               return;
</PRE><PRE>           this.animate(this.pos(i), a);
       },
</PRE><PRE>       /**
        * Prepares the carousel and return the position for a certian index.
        *
        * @method pos
        * @return {Number}
        * @param i {Number} The index of the element to scoll to.
        */
       pos: function(i) {
           var pos  = $jc.intval(this.list.css(this.lt));
</PRE><PRE>           if (this.locked || this.animating)
               return pos;
</PRE><PRE>           if (this.options.wrap != 'circular')
               i = i &lt; 1 ? 1 : (this.options.size &amp;&amp; i &gt; this.options.size ? this.options.size : i);
</PRE><PRE>           var back = this.first &gt; i;
</PRE><PRE>           // Create placeholders, new list width/height
           // and new list position
           var f = this.options.wrap != 'circular' &amp;&amp; this.first &lt;= 1 ? 1 : this.first;
           var c = back ? this.get(f) : this.get(this.last);
           var j = back ? f : f - 1;
           var e = null, l = 0, p = false, d = 0, g;
</PRE><PRE>           while (back ? --j &gt;= i : ++j &lt; i) {
               e = this.get(j);
               p = !e.length;
               if (e.length == 0) {
                   e = this.create(j).addClass(this.className('jcarousel-item-placeholder'));
                   c[back ? 'before' : 'after' ](e);
</PRE><PRE>                   if (this.first != null &amp;&amp; this.options.wrap == 'circular' &amp;&amp; this.options.size !== null &amp;&amp; (j &lt;= 0 || j &gt; this.options.size)) {
                       g = this.get(this.index(j));
                       if (g.length)
                           this.add(j, g.children().clone(true));
                   }
               }
</PRE><PRE>               c = e;
               d = this.dimension(e);
</PRE><PRE>               if (p)
                   l += d;
</PRE><PRE>               if (this.first != null &amp;&amp; (this.options.wrap == 'circular' || (j &gt;= 1 &amp;&amp; (this.options.size == null || j &lt;= this.options.size))))
                   pos = back ? pos + d : pos - d;
           }
</PRE><PRE>           // Calculate visible items
           var clipping = this.clipping();
           var cache = [];
           var visible = 0, j = i, v = 0;
           var c = this.get(i - 1);
</PRE><PRE>           while (++visible) {
               e = this.get(j);
               p = !e.length;
               if (e.length == 0) {
                   e = this.create(j).addClass(this.className('jcarousel-item-placeholder'));
                   // This should only happen on a next scroll
                   c.length == 0 ? this.list.prepend(e) : c[back ? 'before' : 'after' ](e);
</PRE><PRE>                   if (this.first != null &amp;&amp; this.options.wrap == 'circular' &amp;&amp; this.options.size !== null &amp;&amp; (j &lt;= 0 || j &gt; this.options.size)) {
                       g = this.get(this.index(j));
                       if (g.length)
                           this.add(j, g.find('&gt;*').clone(true));
                   }
               }
</PRE><PRE>               c = e;
               var d = this.dimension(e);
               if (d == 0) {
                   alert('jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...');
                   return 0;
               }
</PRE><PRE>               if (this.options.wrap != 'circular' &amp;&amp; this.options.size !== null &amp;&amp; j &gt; this.options.size)
                   cache.push(e);
               else if (p)
                   l += d;
</PRE><PRE>               v += d;
</PRE><PRE>               if (v &gt;= clipping)
                   break;
</PRE><PRE>               j++;
           }
</PRE><PRE>            // Remove out-of-range placeholders
           for (var x = 0; x &lt; cache.length; x++)
               cache[x].remove();
</PRE><PRE>           // Resize list
           if (l &gt; 0) {
               this.list.css(this.wh, this.dimension(this.list) + l + 'px');
</PRE><PRE>               if (back) {
                   pos -= l;
                   this.list.css(this.lt, $jc.intval(this.list.css(this.lt)) - l + 'px');
               }
           }
</PRE><PRE>           // Calculate first and last item
           var last = i + visible - 1;
           if (this.options.wrap != 'circular' &amp;&amp; this.options.size &amp;&amp; last &gt; this.options.size)
               last = this.options.size;
</PRE><PRE>           if (j &gt; last) {
               visible = 0, j = last, v = 0;
               while (++visible) {
                   var e = this.get(j--);
                   if (!e.length)
                       break;
                   v += this.dimension(e);
                   if (v &gt;= clipping)
                       break;
               }
           }
</PRE><PRE>           var first = last - visible + 1;
           if (this.options.wrap != 'circular' &amp;&amp; first &lt; 1)
               first = 1;
</PRE><PRE>           if (this.inTail &amp;&amp; back) {
               pos += this.tail;
               this.inTail = false;
           }
</PRE><PRE>           this.tail = null;
           if (this.options.wrap != 'circular' &amp;&amp; last == this.options.size &amp;&amp; (last - visible + 1) &gt;= 1) {
               var m = $jc.margin(this.get(last), !this.options.vertical ? 'marginRight' : 'marginBottom');
               if ((v - m) &gt; clipping)
                   this.tail = v - clipping - m;
           }
</PRE><PRE>           // Adjust position
           while (i-- &gt; first)
               pos += this.dimension(this.get(i));
</PRE><PRE>           // Save visible item range
           this.prevFirst = this.first;
           this.prevLast  = this.last;
           this.first     = first;
           this.last      = last;
</PRE><PRE>           return pos;
       },
</PRE><PRE>       /**
        * Animates the carousel to a certain position.
        *
        * @method animate
        * @return undefined
        * @param p {Number} Position to scroll to.
        * @param a {Boolean} Flag indicating whether to perform animation.
        */
       animate: function(p, a) {
           if (this.locked || this.animating)
               return;
</PRE><PRE>           this.animating = true;
</PRE><PRE>           var self = this;
           var scrolled = function() {
               self.animating = false;
</PRE><PRE>               if (p == 0)
                   self.list.css(self.lt,  0);
</PRE><PRE>               if (self.options.wrap == 'circular' || self.options.wrap == 'both' || self.options.wrap == 'last' || self.options.size == null || self.last &lt; self.options.size)
                   self.startAuto();
</PRE><PRE>               self.buttons();
               self.notify('onAfterAnimation');
           };
</PRE><PRE>           this.notify('onBeforeAnimation');
</PRE><PRE>           // Animate
           if (!this.options.animation || a == false) {
               this.list.css(this.lt, p + 'px');
               scrolled();
           } else {
               var o = !this.options.vertical ? {'left': p} : {'top': p};
               this.list.animate(o, this.options.animation, this.options.easing, scrolled);
           }
       },
</PRE><PRE>       /**
        * Starts autoscrolling.
        *
        * @method auto
        * @return undefined
        * @param s {Number} Seconds to periodically autoscroll the content.
        */
       startAuto: function(s) {
           if (s != undefined)
               this.options.auto = s;
</PRE><PRE>           if (this.options.auto == 0)
               return this.stopAuto();
</PRE><PRE>           if (this.timer != null)
               return;
</PRE><PRE>           var self = this;
           this.timer = setTimeout(function() { self.next(); }, this.options.auto * 1000);
       },
</PRE><PRE>       /**
        * Stops autoscrolling.
        *
        * @method stopAuto
        * @return undefined
        */
       stopAuto: function() {
           if (this.timer == null)
               return;
</PRE><PRE>           clearTimeout(this.timer);
           this.timer = null;
       },
</PRE><PRE>       /**
        * Sets the states of the prev/next buttons.
        *
        * @method buttons
        * @return undefined
        */
       buttons: function(n, p) {
           if (n == undefined || n == null) {
               var n = !this.locked &amp;&amp; this.options.size !== 0 &amp;&amp; ((this.options.wrap &amp;&amp; this.options.wrap != 'first') || this.options.size == null || this.last &lt; this.options.size);
               if (!this.locked &amp;&amp; (!this.options.wrap || this.options.wrap == 'first') &amp;&amp; this.options.size != null &amp;&amp; this.last &gt;= this.options.size)
                   n = this.tail != null &amp;&amp; !this.inTail;
           }
</PRE><PRE>           if (p == undefined || p == null) {
               var p = !this.locked &amp;&amp; this.options.size !== 0 &amp;&amp; ((this.options.wrap &amp;&amp; this.options.wrap != 'last') || this.first &gt; 1);
               if (!this.locked &amp;&amp; (!this.options.wrap || this.options.wrap == 'last') &amp;&amp; this.options.size != null &amp;&amp; this.first == 1)
                   p = this.tail != null &amp;&amp; this.inTail;
           }
</PRE><PRE>           var self = this;
</PRE><PRE>           this.buttonNext[n ? 'bind' : 'unbind'](this.options.buttonNextEvent + '.jcarousel', this.funcNext)[n ? 'removeClass' : 'addClass'](this.className('jcarousel-next-disabled')).attr('disabled', n ? false : true);
           this.buttonPrev[p ? 'bind' : 'unbind'](this.options.buttonPrevEvent + '.jcarousel', this.funcPrev)[p ? 'removeClass' : 'addClass'](this.className('jcarousel-prev-disabled')).attr('disabled', p ? false : true);
</PRE><PRE>           if (this.buttonNext.length &gt; 0 &amp;&amp; (this.buttonNext[0].jcarouselstate == undefined || this.buttonNext[0].jcarouselstate != n) &amp;&amp; this.options.buttonNextCallback != null) {
               this.buttonNext.each(function() { self.options.buttonNextCallback(self, this, n); });
               this.buttonNext[0].jcarouselstate = n;
           }
</PRE><PRE>           if (this.buttonPrev.length &gt; 0 &amp;&amp; (this.buttonPrev[0].jcarouselstate == undefined || this.buttonPrev[0].jcarouselstate != p) &amp;&amp; this.options.buttonPrevCallback != null) {
               this.buttonPrev.each(function() { self.options.buttonPrevCallback(self, this, p); });
               this.buttonPrev[0].jcarouselstate = p;
           }
       },
</PRE><PRE>       /**
        * Notify callback of a specified event.
        *
        * @method notify
        * @return undefined
        * @param evt {String} The event name
        */
       notify: function(evt) {
           var state = this.prevFirst == null ? 'init' : (this.prevFirst &lt; this.first ? 'next' : 'prev');
</PRE><PRE>           // Load items
           this.callback('itemLoadCallback', evt, state);
</PRE><PRE>           if (this.prevFirst !== this.first) {
               this.callback('itemFirstInCallback', evt, state, this.first);
               this.callback('itemFirstOutCallback', evt, state, this.prevFirst);
           }
</PRE><PRE>           if (this.prevLast !== this.last) {
               this.callback('itemLastInCallback', evt, state, this.last);
               this.callback('itemLastOutCallback', evt, state, this.prevLast);
           }
</PRE><PRE>           this.callback('itemVisibleInCallback', evt, state, this.first, this.last, this.prevFirst, this.prevLast);
           this.callback('itemVisibleOutCallback', evt, state, this.prevFirst, this.prevLast, this.first, this.last);
       },
</PRE><PRE>       callback: function(cb, evt, state, i1, i2, i3, i4) {
           if (this.options[cb] == undefined || (typeof this.options[cb] != 'object' &amp;&amp; evt != 'onAfterAnimation'))
               return;
</PRE><PRE>           var callback = typeof this.options[cb] == 'object' ? this.options[cb][evt] : this.options[cb];
</PRE><PRE>           if (!$.isFunction(callback))
               return;
</PRE><PRE>           var self = this;
</PRE><PRE>           if (i1 === undefined)
               callback(self, state, evt);
           else if (i2 === undefined)
               this.get(i1).each(function() { callback(self, this, i1, state, evt); });
           else {
               for (var i = i1; i &lt;= i2; i++)
                   if (i !== null &amp;&amp; !(i &gt;= i3 &amp;&amp; i &lt;= i4))
                       this.get(i).each(function() { callback(self, this, i, state, evt); });
           }
       },
</PRE><PRE>       create: function(i) {
</PRE>
            return this.format('<LI>&lt;/li&gt;', i);
        },

        format: function(e, i) {
            var $e = $(e).addClass(this.className('jcarousel-item')).addClass(this.className('jcarousel-item-' + i)).css({
                'float': 'left',
                'list-style': 'none'
            });
            $e.attr('jcarouselindex', i);
            return $e;
        },

        className: function(c) {
            return c + ' ' + c + (!this.options.vertical ? '-horizontal' : '-vertical');
        },

        dimension: function(e, d) {
            var el = e.jquery != undefined ? e[0] : e;

            var old = !this.options.vertical ?
                el.offsetWidth + $jc.margin(el, 'marginLeft') + $jc.margin(el, 'marginRight') :
                el.offsetHeight + $jc.margin(el, 'marginTop') + $jc.margin(el, 'marginBottom');

            if (d == undefined || old == d)
                return old;

            var w = !this.options.vertical ?
                d - $jc.margin(el, 'marginLeft') - $jc.margin(el, 'marginRight') :
                d - $jc.margin(el, 'marginTop') - $jc.margin(el, 'marginBottom');

            $(el).css(this.wh, w + 'px');

            return this.dimension(el);
        },

        clipping: function() {
            return !this.options.vertical ?
                this.clip[0].offsetWidth - $jc.intval(this.clip.css('borderLeftWidth')) - $jc.intval(this.clip.css('borderRightWidth')) :
                this.clip[0].offsetHeight - $jc.intval(this.clip.css('borderTopWidth')) - $jc.intval(this.clip.css('borderBottomWidth'));
        },

        index: function(i, s) {
            if (s == undefined)
                s = this.options.size;

            return Math.round((((i-1) / s) - Math.floor((i-1) / s)) * s) + 1;
        }
    });

    $jc.extend({
        /**
         * Gets/Sets the global default configuration properties.
         *
         * @method defaults
         * @return {Object}
         * @param d {Object} A set of key/value pairs to set as configuration properties.
         */
        defaults: function(d) {
            return $.extend(defaults, d || {});
        },

        margin: function(e, p) {
            if (!e)
                return 0;

            var el = e.jquery != undefined ? e[0] : e;

            if (p == 'marginRight' &amp;&amp; $.browser.safari) {
                var old = {'display': 'block', 'float': 'none', 'width': 'auto'}, oWidth, oWidth2;

                $.swap(el, old, function() { oWidth = el.offsetWidth; });

                old['marginRight'] = 0;
                $.swap(el, old, function() { oWidth2 = el.offsetWidth; });

                return oWidth2 - oWidth;
            }

            return $jc.intval($.css(el, p));
        },

        intval: function(v) {
            v = parseInt(v);
            return isNaN(v) ? 0 : v;
        }
    });

})(jQuery);

<DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:BNU-China/js/jquery.jcarousel.js">http://2014.igem.org/Team:BNU-China/js/jquery.jcarousel.js</A>&quot;</DIV></LI></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:BNU-China/js/jquery.jcarousel.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:BNU-China/js/jquery.jcarousel.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:BNU-China/js/jquery.jcarousel.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:BNU-China/js/jquery.jcarousel.js&amp;oldid=33960" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>