<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_BNU-China_js_jquery_slickforms_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:BNU-China/js/jquery.slickforms.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:BNU-China/js/jquery.slickforms.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:BNU-China/js/jquery.slickforms.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:BNU-China/js/jquery.slickforms.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:BNU-China/js/jquery.slickforms.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:BNU-China/js/jquery.slickforms.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P>/*
</P><PRE>* DC jQuery Slick Forms - jQuery Slick Forms
* Copyright (c) 2011 Design Chemical
* <A href="http://www.designchemical.com" class="external free" rel="nofollow">http://www.designchemical.com</A>
*
* Dual licensed under the MIT and GPL licenses:
* 	<A href="http://www.opensource.org/licenses/mit-license.php" class="external free" rel="nofollow">http://www.opensource.org/licenses/mit-license.php</A>
* 	<A href="http://www.gnu.org/licenses/gpl.html" class="external free" rel="nofollow">http://www.gnu.org/licenses/gpl.html</A>
*
*/
</PRE><P>(function($){
</P><P>	//define the plugin
	$.fn.dcSlickForms = function(options) {
</P><P>		//set default options
		var defaults = {
			classError: 'error',
			classForm: 'slick-form',
			align: 'left',
			animateError: true,
			animateD: 10,
			ajaxSubmit: true
		};
</P><P>		//call in the default otions
		var options = $.extend(defaults, options);
</P><P>		//act upon the element that is passed into the design    
		return this.each(function(options){
</P><P>			// Declare the function variables:
			var formAction = $(this).attr('action');
			var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
			var textError = $('#v-error', this).val();
			var textEmail = $('#v-email', this).val();
			var $error = $('');
			var $form = this;
</P>
			var $loading = $('');
<P>			var errorText = '* Required Fields';
			$('input',$form).focus(function(){
				$(this).addClass('focus');
			});
			$('input',$form).blur(function(){
				$(this).removeClass('focus');
			});
			$('.nocomment').hide();
			$('.defaultText',this).dcDefaultText();
			$('.'+defaults.classForm+' label').hide();
</P><P>			// Form submit &amp; Validation
			$(this).submit(function(){
</P><P>				formReset($form);
				$('.defaultText',$form).dcDefaultText({action: 'remove'});
</P><P>				// Validate all inputs with the class &quot;required&quot;
				$('.required',$form).each(function(){
					var label = $(this).attr('title');
					var inputVal = $(this).val();
					var $parentTag = $(this).parent();
					if(inputVal == <I>){</I>
						$parentTag.addClass('error').append($error.clone().text(textError));
					}
</P><P>					// Run the email validation using the regex for those input items also having class &quot;email&quot;
					if($(this).hasClass('email') == true){
						if(!emailReg.test(inputVal)){
							$parentTag.addClass('error').append($error.clone().text(textEmail));
						}
					}
				});
</P><P>				// All validation complete - Check if any errors exist
				// If has errors
				if ($('.error',$form).length) {
					$('.btn-submit',this).before($error.clone().text(textError));
				} else {
					if(defaults.ajaxSubmit == true){
						var $response = $(this).next();
						$(this).addClass('submit').after($loading.clone());
						$('.defaultText',$form).dcDefaultText({action: 'remove'});
						$.post(formAction, $(this).serialize(),function(data){
							$('.loading').fadeOut().remove();
							$response.html(data).fadeIn();
							$('fieldset',this).slideUp();
						});
					} else {
						$form.submit();
					}
				}
				// Prevent form submission
				return false;
			});
</P><P>		// Fade out error message when input field gains focus
			$('input, textarea').focus(function(){
				var $parent = $(this).parent();
				$parent.addClass('focus');
				$parent.removeClass('error');
</P><P>			});
			$('input, textarea').blur(function(){
				var $parent = $(this).parent();
				var checkVal = $(this).attr('title');
				if (!$(this).val() == checkVal){
					$(this).removeClass('defaulttextActive');
				}
				$parent.removeClass('error focus');
				$('span.error',$parent).hide();
			});
</P><P>			function formReset(obj){
				$('li',obj).removeClass('error');
				$('span.error',obj).remove();
			}
		});
	};
})(jQuery);
/*
</P><PRE>* DC jQuery Default Text - jQuery Default Text
* Copyright (c) 2011 Design Chemical
* <A href="http://www.designchemical.com" class="external free" rel="nofollow">http://www.designchemical.com</A>
*/
</PRE><P>(function($){
</P><P>	//define the plugin
	$.fn.dcDefaultText = function(options) {
</P><P>		//set default options
		var defaults = {
			action: 'add', // alternative 'remove'
			classActive: 'defaultTextActive'
		};
</P><P>		//call in the default otions
		var options = $.extend(defaults, options);
</P><P>		return this.each(function(options){
</P><P>			if(defaults.action == 'add'){
</P><P>				$(this).focus(function(srcc) {
					if ($(this).val() == $(this)[0].title) {
						$(this).removeClass(defaults.classActive);
						$(this).val(<I>);</I>
					}
				});
</P><P>				$(this).blur(function() {
					if ($(this).val() == &quot;&quot;) {
						$(this).addClass(defaults.classActive);
						$(this).val($(this)[0].title);
					}
				});
				$(this).addClass(defaults.classActive).blur();
			}
</P><P>			if(defaults.action == 'remove'){
</P><P>				var checkVal = $(this).attr('title');
				if ($(this).val() == checkVal){
					$(this).val(<I>);</I>
				}
</P><P>			}
		});
	};
})(jQuery);
</P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:BNU-China/js/jquery.slickforms.js">http://2014.igem.org/Team:BNU-China/js/jquery.slickforms.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:BNU-China/js/jquery.slickforms.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:BNU-China/js/jquery.slickforms.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:BNU-China/js/jquery.slickforms.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:BNU-China/js/jquery.slickforms.js&amp;oldid=55511" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>