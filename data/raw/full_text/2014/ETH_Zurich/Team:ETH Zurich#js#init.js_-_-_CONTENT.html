<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_ETH_Zurich_js_init_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:ETH_Zurich/js/init.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:ETH_Zurich/js/init.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:ETH_Zurich/js/init.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:ETH_Zurich/js/init.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:ETH_Zurich/js/init.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:ETH Zurich/js/init.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P>/*
	Helios 1.5 by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
</P><UL><LI>/
</LI></UL><P>/*********************************************************************************/
/* Settings                                                                      */
/*********************************************************************************/
</P><P>	var helios_settings = {
</P><P>		// Header (homepage only)
			header: {
				fullScreen: true,
				fadeIn: true,
				fadeDelay: 500
			},
</P><P>		// Carousels
			carousels: {
				speed: 4,
				fadeIn: true,
				fadeDelay: 250
			},
</P><P>		// Dropotron (dropdown menus)
			dropotron: {
				mode: 'fade',
				speed: 350,
				noOpenerFade: true,
				alignment: 'center',
				offsetX: -1,
				offsetY: -16
			},
</P><P>		// skelJS (probably don't need to change anything here unless you know what you're doing)
			skelJS: {
				prefix: '<A href="https://2014.igem.org/Team:ETH_Zurich/css/style'" class="external free" rel="nofollow">https://2014.igem.org/Team:ETH_Zurich/css/style'</A>,
				resetCSS: true,
				boxModel: 'border',
				grid: {
					gutters: 48
				},
				breakpoints: {
					'widest':	{ range: '1680-', hasStyleSheet: false, containers: 1400 },
					'wide':		{ range: '-1680', containers: 1200 },
					'normal':	{ range: '-1280', containers: 'fluid', grid: { gutters: 36 }, viewportWidth: 1140 },
					'narrow':	{ range: '-960', containers: 'fluid', grid: { gutters: 32 } },
					'narrower': 	{ range: '-840', containers: 'fluid', grid: { gutters: 32, collapse: true } },
					'mobile':	{ range: '-640', containers: 'fluid', grid: { gutters: 32, collapse: true }, lockViewport: true }
				}
			},
</P><P>		// skelJS Plugins (ditto; don't change unless you know what you're doing)
			skelJSPlugins: {
				panels: {
					transformBreakpoints: 'mobile',
					panels: {
						navPanel: {
							breakpoints: 'mobile',
							position: 'top',
							size: '75%',
</P>
							html: ''
<P>						}
					},
					overlays: {
						navButton: {
							breakpoints: 'mobile',
							position: 'top-center',
							width: 100,
							height: 50,
</P>
							html: ''
<P>						}
					}
				}
			}
</P><P>	}
</P><P>/*********************************************************************************/
/* Don't modify beyond this point unless you know what you're doing!             */
/*********************************************************************************/
</P><P>// Initialize skelJS
	skel.init(helios_settings.skelJS, helios_settings.skelJSPlugins);
</P><P>// jQuery functions
</P><P>	// scrolly
		jQuery.fn.n33_scrolly = function() {				
			jQuery(this).click(function(e) {
				var h = jQuery(this).attr('href'), target;
</P><P>				if (h.charAt(0) == '#' &amp;&amp; h.length &gt; 1 &amp;&amp; (target = jQuery(h)).length &gt; 0)
				{
					var pos = Math.max(target.offset().top, 0);
					e.preventDefault();
					jQuery('body,html').animate({ scrollTop: pos }, 'slow', 'swing');
				}
			});
		};
</P><P>	// preloadImage
		jQuery.n33_preloadImage = function(url, onload) {
			var	$img = $('&lt;img /&gt;'),
				_IEVersion = (navigator.userAgent.match(/MSIE ([0-9]+)\./) ? parseInt(RegExp.$1) : 99);
</P><P>			$img.attr('src', url);
</P><P>			if ($img.get(0).complete
			||	_IEVersion &lt; 9)
				(onload)();
			else
				$img.load(onload);
		};
</P><P>	// formerize
</P>
		jQuery.fn.n33_formerize=function(){var _fakes=new Array(),_form = jQuery(this);_form.find('input[type=text],textarea').each(function() { var e = jQuery(this); if (e.val() == <I> || e.val() == e.attr('placeholder')) { e.addClass('formerize-placeholder'); e.val(e.attr('placeholder')); } }).blur(function() { var e = jQuery(this); if (e.attr('name').match(/_fakeformerizefield$/)) return; if (e.val() == </I>) { e.addClass('formerize-placeholder'); e.val(e.attr('placeholder')); } }).focus(function() { var e = jQuery(this); if (e.attr('name').match(/_fakeformerizefield$/)) return; if (e.val() == e.attr('placeholder')) { e.removeClass('formerize-placeholder'); e.val(<I>); } }); _form.find('input[type=password]').each(function() { var e = jQuery(this); var x = jQuery(jQuery('<DIV>').append(e.clone()).remove().html().replace(/type=&quot;password&quot;/i, 'type=&quot;text&quot;').replace(/type=password/i, 'type=text')); if (e.attr('id') != ) x.attr('id', e.attr('id') + '_fakeformerizefield'); if (e.attr('name') != <I>) x.attr('name', e.attr('name') + '_fakeformerizefield'); x.addClass('formerize-placeholder').val(x.attr('placeholder')).insertAfter(e); if (e.val() == </I>) e.hide(); else x.hide(); e.blur(function(event) { event.preventDefault(); var e = jQuery(this); var x = e.parent().find('input[name=' + e.attr('name') + '_fakeformerizefield]'); if (e.val() == <I>) { e.hide(); x.show(); } }); x.focus(function(event) { event.preventDefault(); var x = jQuery(this); var e = x.parent().find('input[name=' + x.attr('name').replace('_fakeformerizefield', </I>) + ']'); x.hide(); e.show().focus(); }); x.keypress(function(event) { event.preventDefault(); x.val(<I>); }); });  _form.submit(function() { jQuery(this).find('input[type=text],input[type=password],textarea').each(function(event) { var e = jQuery(this); if (e.attr('name').match(/_fakeformerizefield$/)) e.attr('name', </I>); if (e.val() == e.attr('placeholder')) { e.removeClass('formerize-placeholder'); e.val(<I>); } }); }).bind(&quot;reset&quot;, function(event) { event.preventDefault(); jQuery(this).find('select').val(jQuery('option:first').val()); jQuery(this).find('input,textarea').each(function() { var e = jQuery(this); var x; e.removeClass('formerize-placeholder'); switch (this.type) { case 'submit': case 'reset': break; case 'password': e.val(e.attr('defaultValue')); x = e.parent().find('input[name=' + e.attr('name') + '_fakeformerizefield]'); if (e.val() == </I>) { e.hide(); x.show(); } else { e.show(); x.hide(); } break; case 'checkbox': case 'radio': e.attr('checked', e.attr('defaultValue')); break; case 'text': case 'textarea': e.val(e.attr('defaultValue')); if (e.val() == <I>) { e.addClass('formerize-placeholder'); e.val(e.attr('placeholder')); } break; default: e.val(e.attr('defaultValue')); break; } }); window.setTimeout(function() { for (x in _fakes) _fakes[x].trigger('formerize_sync'); }, 10); }); return _form; };</I><P>	// onVisible
		(function() {
</P><P>			// Vars
				var $window = jQuery(window),
					elements = [],
					delay = 10,
					pad = 0,
					timerId,
					poll = function() {
						var l = elements.length,
							x = $window.scrollTop() + $window.height(),
							i, e;
</P><P>						for (i=0; i &lt; l; i++)
						{
							e = elements[i];
</P><P>							if (!e.state &amp;&amp; x - e.pad &gt; e.o.offset().top)
							{
								e.state = true;
								(e.fn)();
							}
						}
					};
</P><P>			// Event bindings
				$window.load(function() {
</P><P>					$window.on('scroll resize', function() {
</P><P>						// Clear existing timeout (if one exists)
							window.clearTimeout(timerId);
</P><P>						// Set our poll function to run after (delay)ms (prevents it from running until the user's done scrolling/resizing)
							timerId = window.setTimeout(function() { (poll)(); }, delay);
</P><P>					}).trigger('resize');
</P><P>				});
</P><P>			// onVisible jQuery function (pretty much just adds the element to our list of elements to poll)
				jQuery.fn.n33_onVisible = function(fn, p) {
					elements.push({ o: jQuery(this), fn: fn, pad: (p ? p : pad), state: false });
				};
</P><P>		})();
</P><P>// Ready stuff
	jQuery(function() {
</P><P>		var $window = $(window),
			$body = $('body'),
			$header = $('#header'),
			_IEVersion = (navigator.userAgent.match(/MSIE ([0-9]+)\./) ? parseInt(RegExp.$1) : 99),
			_isTouch = !!('ontouchstart' in window),
			_isMobile = !!(navigator.userAgent.match(/(iPod|iPhone|iPad|Android|IEMobile)/));
</P><P>		// Pause CSS transitions until the page has loaded (prevents &quot;flickering&quot;)
			$body.addClass('paused');
			$window.load(function() {
				$body.removeClass('paused');
			});
</P><P>		// Add input &quot;placeholder&quot; support to IE &lt;= 9
			if (_IEVersion &lt; 10)
				$('form').n33_formerize();
</P><P>		// Initialize scrolly links
			$('.scrolly').n33_scrolly();
</P><P>		// Initialize dropotron
			$('#nav &gt; ul').dropotron(helios_settings.dropotron);
</P><P>		// Initialize carousels 
/*
			$('.carousel').each(function() {
</P><P>				var	$t = $(this),
					$forward = $(''),
					$backward = $(''),
					$reel = $t.children('.reel'),
					$items = $reel.children('article');
</P><P>				var	pos = 0,
					leftLimit,
					rightLimit,
					itemWidth,
					reelWidth,
					timerId;
</P><P>				// Items
					if (helios_settings.carousels.fadeIn)
					{
						$items.addClass('loading');
</P><P>						$t.n33_onVisible(function() {
							var	timerId,
								limit = $items.length - Math.ceil($window.width() / itemWidth);
</P><P>							timerId = window.setInterval(function() {
								var x = $items.filter('.loading'), xf = x.first();
</P><P>								if (x.length &lt;= limit)
								{
									window.clearInterval(timerId);
									$items.removeClass('loading');
									return;
								}
</P><P>								if (_IEVersion &lt; 10)
								{
									xf.fadeTo(750, 1.0);
									window.setTimeout(function() {
										xf.removeClass('loading');
									}, 50);
								}
								else
									xf.removeClass('loading');
</P><P>							}, helios_settings.carousels.fadeDelay);
						}, 50);
					}
</P><P>				// Main
					$t._update = function() {
						pos = 0;
						rightLimit = (-1 * reelWidth) + $window.width();
						leftLimit = 0;
						$t._updatePos();
					};
</P><P>					if (_IEVersion &lt; 9)
						$t._updatePos = function() { $reel.css('left', pos); };
					else
						$t._updatePos = function() { $reel.css('transform', 'translate(' + pos + 'px, 0)'); };
</P><P>				// Forward
					$forward
						.appendTo($t)
						.hide()
						.mouseenter(function(e) {
							timerId = window.setInterval(function() {
								pos -= helios_settings.carousels.speed;
</P><P>								if (pos &lt;= rightLimit)
								{
									window.clearInterval(timerId);
									pos = rightLimit;
								}
</P><P>								$t._updatePos();
							}, 10);
						})
						.mouseleave(function(e) {
							window.clearInterval(timerId);
						});
</P><P>				// Backward	
					$backward
						.appendTo($t)
						.hide()
						.mouseenter(function(e) {
							timerId = window.setInterval(function() {
								pos += helios_settings.carousels.speed;
</P><P>								if (pos &gt;= leftLimit)
								{
									window.clearInterval(timerId);
									pos = leftLimit;
								}
</P><P>								$t._updatePos();
							}, 10);
						})
						.mouseleave(function(e) {
							window.clearInterval(timerId);
						});
</P><P>				// Init
					$window.load(function() {
</P><P>						reelWidth = $reel[0].scrollWidth;
</P><P>						skel.onStateChange(function() {
</P><P>							if (_isTouch)
							{
								$reel
									.css('overflow-y', 'hidden')
									.css('overflow-x', 'scroll')
									.scrollLeft(0);
								$forward.hide();
								$backward.hide();
							}
							else
							{
								$reel
									.css('overflow', 'visible')
									.scrollLeft(0);
								$forward.show();
								$backward.show();
							}
</P><P>							$t._update();
						});
</P><P>						$window.resize(function() {
							reelWidth = $reel[0].scrollWidth;
							$t._update();
						}).trigger('resize');
</P><P>					});
</P><P>			});
</P><UL><LI>/
</LI></UL><P>		// Initialize header
</P><P>			// Mobile devices don't do so well with fixed backgrounds and the fullscreen header :/
				if (_isMobile)
				{
					$header.css('background-attachment', 'scroll');
					helios_settings.header.fullScreen = false;
				}
</P><P>			// Homepage header
				if ($(&quot;div&quot;).hasClass('homepage'))
				{
					if (helios_settings.header.fullScreen)
					{
						$window.bind('resize.helios', function() {
							window.setTimeout(function() {
								var s = $header.children('.inner');
								var sh = s.outerHeight(), hh = $window.height(), h = Math.ceil((hh - sh) / 2) + 1;
</P><P>								$header
									.css('padding-top', h)
									.css('padding-bottom', h);
							}, 0);
						}).trigger('resize');
					}
</P><P>					if (helios_settings.header.fadeIn)
					{
						$('&lt;div class=&quot;overlay&quot; /&gt;').appendTo($header);
</P><P>						$window
							.load(function() {
								var imageURL = $header.css('background-image').replace(/&quot;/g,&quot;&quot;).replace(/url\(|\)$/ig, &quot;&quot;);
</P><P>								$.n33_preloadImage(imageURL, function() {
</P><P>									if (_IEVersion &lt; 10)
										$header.children('.overlay').fadeOut(2000);
									else
										window.setTimeout(function() {
											$header.addClass('ready');
										}, helios_settings.header.fadeDelay);
</P><P>								});
							});
					}
</P><P>				}
</P>
	});</DIV><DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:ETH_Zurich/js/init.js">http://2014.igem.org/Team:ETH_Zurich/js/init.js</A>&quot;</DIV></I></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:ETH_Zurich/js/init.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:ETH_Zurich/js/init.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:ETH_Zurich/js/init.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:ETH_Zurich/js/init.js&amp;oldid=362920" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>