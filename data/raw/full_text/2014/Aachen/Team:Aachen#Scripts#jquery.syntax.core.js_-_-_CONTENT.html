<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Aachen_Scripts_jquery_syntax_core_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:Aachen/Scripts/jquery.syntax.core.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Aachen/Scripts/jquery.syntax.core.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Aachen/Scripts/jquery.syntax.core.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Aachen/Scripts/jquery.syntax.core.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Aachen/Scripts/jquery.syntax.core.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Aachen/Scripts/jquery.syntax.core.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P>// This file is part of the &quot;jQuery.Syntax&quot; project, and is distributed under the MIT License.
// Copyright (c) 2011 Samuel G. D. Williams. &lt;<A href="http://www.oriontransfer.co.nz" class="external free" rel="nofollow">http://www.oriontransfer.co.nz</A>&gt;</P><P>RegExp.prototype.indexOf||(RegExp.indexOf=function(a,b){return a[0].indexOf(a[b])+a.index});RegExp.prototype.escape||(RegExp.escape=function(a){return a.replace(/[\-\[\]{}()*+?.\\\^$|,#\s]/g,&quot;\\$&amp;&quot;)});String.prototype.repeat||(String.prototype.repeat=function(a){return Array(a+1).join(this)});Syntax.innerText=function(a){var b;if(!a)return&quot;&quot;;if(&quot;BR&quot;==a.nodeName)return&quot;\n&quot;;a.textContent?b=a.textContent:document.body.innerText&amp;&amp;(b=a.innerText);return b.replace(/\r\n?/g,&quot;\n&quot;)};
Syntax.extractElementMatches=function(a,b,c){var d=[];b=b||0;(function(a){for(var c=0;a[c];c++){var g=null,h=a[c];3===h.nodeType||4===h.nodeType?b+=h.nodeValue.length:1===h.nodeType&amp;&amp;(g=Syntax.innerText(h),d.push(new Syntax.Match(b,g.length,{klass:h.className,force:!0,element:h,allow:&quot;*&quot;},g)));8!==h.nodeType&amp;&amp;h.children&amp;&amp;arguments.callee(h.childNodes,b)}})(a);d.shift();return d};Syntax.layouts.preformatted=function(a,b,c){return b};
Syntax.modeLineOptions={&quot;tab-width&quot;:function(a,b,c){c.tabWidth=parseInt(b,10)}};Syntax.convertTabsToSpaces=function(a,b){var c=[],d=0,e=[],f=0;b=b||4;for(var g=&quot;&quot;;g.length&lt;=b;g+=&quot; &quot;)c.push(g);a=a.replace(/\r|\n|\t/g,function(a){var g=arguments[arguments.length-2];if(&quot;\r&quot;===a||&quot;\n&quot;===a)return d=-(g+1),a;var k=b-(d+g)%b;d+=k-1;f+=k-1;e.push([g,k,f]);return c[k]});return{text:a,offsets:e}};
Syntax.convertToLinearOffsets=function(a,b){for(var c=0,d=[],e=0;e<B>a[c][0]?a[c+1]?e&lt;=a[c+1][0]?d.push(a[c][2]):(c+=1,e-=1):d.push(a[c][2]):d.push(d[d.length-1]||0);return d};Syntax.updateMatchesWithOffsets=function(a,b,c){(function(a){for(var e=0;e&lt;a.length;e++){var f=a[e],g=f.offset+b[f.offset],h=f.offset+f.length,h=h+b[h];f.adjust(b[f.offset],h-g,c);0&lt;f.children.length&amp;&amp;arguments.callee(f.children)}})(a);return a};
Syntax.extractMatches=function(){var a=arguments;return function(b,c){for(var d=[],e=0;e&lt;a.length;e+=1){var f=a[e],g=e+1;null!=f&amp;&amp;(&quot;undefined&quot;!=typeof f.index&amp;&amp;(g=f.index),f.debug&amp;&amp;Syntax.log(&quot;extractMatches&quot;,f,g,b[g],b),0&lt;b[g].length&amp;&amp;(f.brush?d.push(Syntax.Brush.buildTree(f,b[g],RegExp.indexOf(b,g))):(f=jQuery.extend({owner:c.owner},f),d.push(new Syntax.Match(RegExp.indexOf(b,g),b[g].length,f,b[g])))))}return d}};
Syntax.lib.webLinkProcess=function(a,b){b&amp;&amp;(a=&quot;<A href="http://www.google.com/search?btnI=I&amp;q=" class="external free" rel="nofollow">http://www.google.com/search?btnI=I&amp;q=</A>&quot;+encodeURIComponent(a+&quot; &quot;));return function(b,d,e){if(!1===e.linkify)return b;d=document.createElement(&quot;a&quot;);d.href=a+encodeURIComponent(Syntax.innerText(b));for(d.className=b.className;0&lt;b.childNodes.length;)d.appendChild(b.childNodes[0]);return d}};Syntax.register=function(a,b){var c=Syntax.brushes[a]=new Syntax.Brush;c.klass=a;b(c)};Syntax.lib.cStyleComment={pattern:/\/\*[\s\S]*?\*\//gm,klass:&quot;comment&quot;,allow:[&quot;href&quot;]};
Syntax.lib.cppStyleComment={pattern:/\/\/.*$/gm,klass:&quot;comment&quot;,allow:[&quot;href&quot;]};Syntax.lib.perlStyleComment={pattern:/#.*$/gm,klass:&quot;comment&quot;,allow:[&quot;href&quot;]};Syntax.lib.perlStyleRegularExpression={pattern:/\B\/([^\\\/]|\\.)*\/[a-z]*(?=\s*($|[^\w\s'&quot;\(]))/gm,klass:&quot;constant&quot;,incremental:!0};Syntax.lib.cStyleFunction={pattern:/([a-z_][a-z0-9_]*)\s*\(/gi,matches:Syntax.extractMatches({klass:&quot;function&quot;})};Syntax.lib.camelCaseType={pattern:/\b_*[A-Z][\w]*\b/g,klass:&quot;type&quot;};
Syntax.lib.cStyleType={pattern:/\b[_a-z][_\w]*_t\b/gi,klass:&quot;type&quot;};Syntax.lib.xmlComment={pattern:/(&lt;|&lt;)!--[\s\S]*?--(&gt;|&gt;)/gm,klass:&quot;comment&quot;};Syntax.lib.webLink={pattern:/\w+:\/\/[\w\-.\/?%&amp;=@:;#]*/g,klass:&quot;href&quot;};Syntax.lib.hexNumber={pattern:/\b0x[0-9a-fA-F]+/g,klass:&quot;constant&quot;};Syntax.lib.decimalNumber={pattern:/\b[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/g,klass:&quot;constant&quot;};Syntax.lib.doubleQuotedString={pattern:/&quot;([^\\&quot;\n]|\\.)*&quot;/g,klass:&quot;string&quot;};
Syntax.lib.singleQuotedString={pattern:/'([^\\'\n]|\\.)*'/g,klass:&quot;string&quot;};Syntax.lib.multiLineDoubleQuotedString={pattern:/&quot;([^\\&quot;]|\\.)*&quot;/g,klass:&quot;string&quot;};Syntax.lib.multiLineSingleQuotedString={pattern:/'([^\\']|\\.)*'/g,klass:&quot;string&quot;};Syntax.lib.stringEscape={pattern:/\\./g,klass:&quot;escape&quot;,only:[&quot;string&quot;]};Syntax.Match=function(a,b,c,d){this.offset=a;this.endOffset=a+b;this.length=b;this.expression=c;this.value=d;this.children=[];this.next=this.parent=null};
Syntax.Match.prototype.shift=function(a,b){this.adjust(a,null,b);for(var c=0;c&lt;this.children.length;c++)this.children[c].shift(a,b)};Syntax.Match.prototype.adjust=function(a,b,c){this.offset+=a;this.endOffset+=a;b&amp;&amp;(this.length=b,this.endOffset=this.offset+b);c&amp;&amp;(this.value=c.substr(this.offset,this.length))};Syntax.Match.sort=function(a,b){return a.offset-b.offset||b.length-a.length};Syntax.Match.prototype.contains=function(a){return a.offset&gt;=this.offset&amp;&amp;a.endOffset&lt;=this.endOffset};
Syntax.Match.defaultReduceCallback=function(a,b){&quot;string&quot;===typeof a&amp;&amp;(a=document.createTextNode(a));b.appendChild(a)};
Syntax.Match.prototype.reduce=function(a,b){var c=this.offset,d=document.createElement(&quot;span&quot;);a=a||Syntax.Match.defaultReduceCallback;this.expression&amp;&amp;this.expression.klass&amp;&amp;(0&lt;d.className.length&amp;&amp;(d.className+=&quot; &quot;),d.className+=this.expression.klass);for(var e=0;e&lt;this.children.length;e+=1){var f=this.children[e],g=f.offset;f.offset&lt;this.offset&amp;&amp;Syntax.log(&quot;Syntax Warning: Offset of child&quot;,f,&quot;is before offset of parent&quot;,this);c=this.value.substr(c-this.offset,g-c);a(c,d);a(f.reduce(a,b),d);c=f.endOffset}c===
this.offset?a(this.value,d):c&lt;this.endOffset?a(this.value.substr(c-this.offset,this.endOffset-c),d):c&gt;this.endOffset&amp;&amp;Syntax.log(&quot;Syntax Warning: Start position &quot;+c+&quot; exceeds end of value &quot;+this.endOffset);b&amp;&amp;(d=b(d,this));return d};
Syntax.Match.prototype.canContain=function(a){return a.expression.force?!0:this.complete?!1:a.expression.only?!0:&quot;undefined&quot;===typeof this.expression.allow||jQuery.isArray(this.expression.disallow)&amp;&amp;-1!==jQuery.inArray(a.expression.klass,this.expression.disallow)?!1:&quot;*&quot;===this.expression.allow||jQuery.isArray(this.expression.allow)&amp;&amp;-1!==jQuery.inArray(a.expression.klass,this.expression.allow)?!0:!1};
Syntax.Match.prototype.canHaveChild=function(a){if(a=a.expression.only){for(var b=this;null!==b;){if(-1!==jQuery.inArray(b.expression.klass,a))return!0;if((b=b.parent)&amp;&amp;b.complete)break}return!1}return!0};Syntax.Match.prototype._splice=function(a,b){return this.canHaveChild(b)?(this.children.splice(a,0,b),b.parent=this,b.expression.owner||(b.expression.owner=this.expression.owner),this):null};
Syntax.Match.prototype.insert=function(a,b){if(!this.contains(a))return null;if(b){for(var c=this,d=0;d&lt;c.children.length;)c.children[d].contains(a)?(c=c.children[d],d=0):d+=1;return c._insertWhole(a)}return this._insert(a)};
Syntax.Match.prototype._insertWhole=function(a){var b=this.bisectAtOffsets([a.offset,a.endOffset]);this.children=[];b[0]&amp;&amp;(this.children=this.children.concat(b[0].children));if(b[1]){a.children=[];this.expression&amp;&amp;this.expression.owner&amp;&amp;(a.expression=this.expression.owner.getRuleForKlass(a.expression.klass)||a.expression);for(var c=0;c&lt;b[1].children.length;c+=1){var d=b[1].children[c];a.canContain(d)&amp;&amp;a.children.push(d)}this.children.push(a)}b[2]&amp;&amp;(this.children=this.children.concat(b[2].children));
return this};Syntax.Match.prototype.insertAtEnd=function(a){if(!this.contains(a))return Syntax.log(&quot;Syntax Error: Child is not contained in parent node!&quot;),null;if(!this.canContain(a))return null;if(0&lt;this.children.length){var b=this.children.length-1,c=this.children[b];return a.offset&lt;c.offset?a.force?this._insert(a):null:a.offset&lt;c.endOffset?a.endOffset&lt;=c.endOffset?c.insertAtEnd(a):a.force?this._insert(a):null:this._splice(b+1,a)}return this._splice(0,a)};
Syntax.Match.prototype._insert=function(a){if(0==this.children.length)return this._splice(0,a);for(var b=0;b&lt;this.children.length;b+=1){var c=this.children[b];if(a.endOffset&lt;=c.offset)return this._splice(b,a);if(!(a.offset&gt;=c.endOffset)){if(c.contains(a))return c._insert(a);a=a.bisectAtOffsets([c.offset,c.endOffset]);a[0]&amp;&amp;this._splice(b,a[0]);a[1]&amp;&amp;c.insert(a[1]);if(a[2])a=a[2];else return this}}this._splice(this.children.length,a)};
Syntax.Match.prototype.bisectAtOffsets=function(a){var b=[],c=this.offset,d=null,e=jQuery.merge([],this.children);a=a.slice(0);a.push(this.endOffset);a.sort(function(a,b){return a-b});for(var f=0;f&lt;a.length;f+=1){var g=a[f];if(g&gt;this.endOffset)break;g&lt;this.offset||0==g-c?(b.push(null),c=g):(c&lt;this.offset&amp;&amp;(c=this.offset),g=new Syntax.Match(c,g-c,this.expression),g.value=this.value.substr(c-this.offset,g.length),d&amp;&amp;(d.next=g),d=g,c=g.endOffset,b.push(g))}a.length=b.length;for(f=0;f&lt;b.length;f+=1)if(null!=
b[f]){for(g=a[0];0&lt;e.length;)if(e[0].endOffset&lt;=b[f].endOffset)b[f].children.push(e.shift());else break;if(e.length&amp;&amp;e[0].offset&lt;b[f].endOffset){c=e.shift().bisectAtOffsets(a);for(d=0;d&lt;c.length;d+=1)null!=c[d]&amp;&amp;b[f+d].children.push(c[d]);f+=c.length-2;a.splice(0,c.length-2)}a.shift()}e.length&amp;&amp;Syntax.log(&quot;Syntax Error: Children nodes not consumed&quot;,e.length,&quot; remaining!&quot;);return b};
Syntax.Match.prototype.split=function(a){for(var b=[];null!==a.exec(this.value);)b.push(a.lastIndex);a=this.bisectAtOffsets(b);return jQuery.grep(a,function(a,b){return a})};Syntax.Brush=function(){this.klass=null;this.rules=[];this.parents=[];this.processes={}};Syntax.Brush.prototype.derives=function(a){this.parents.push(a);this.rules.push({apply:function(b,c){return Syntax.brushes[a].getMatches(b)}})};
Syntax.Brush.prototype.allKlasses=function(){for(var a=[this.klass],b=0;b&lt;this.parents.length;b+=1)a=a.concat(Syntax.brushes[this.parents[b]].allKlasses());return a};Syntax.Brush.convertStringToTokenPattern=function(a,b){var c=&quot;\\b&quot;,d=&quot;\\b&quot;;a.match(/^\w/)?a.match(/\w$/)||(d=&quot;\\B&quot;):c=a.match(/\w$/)?&quot;\\B&quot;:d=&quot;&quot;;b&amp;&amp;(a=RegExp.escape(a));return c+a+d};
Syntax.Brush.MatchPattern=function(a,b){if(!b.pattern)return[];var c=[],d=RegExp();for(d.compile(b.pattern);null!==(match=d.exec(a));)b.matches?c=c.concat(b.matches(match,b)):b.brush?c.push(Syntax.Brush.buildTree(b,match[0],match.index)):c.push(new Syntax.Match(match.index,match[0].length,b,match[0])),b.incremental&amp;&amp;(d.lastIndex=match.index+1);return c};
Syntax.Brush.prototype.push=function(a,b){if(jQuery.isArray(a)){for(var c=b,d=&quot;(&quot;,e=0;e&lt;a.length;e+=1){0&lt;e&amp;&amp;(d+=&quot;|&quot;);var f=a[e],d=f instanceof RegExp?d+f.source:d+Syntax.Brush.convertStringToTokenPattern(f,!0)}this.push(jQuery.extend({pattern:RegExp(d+&quot;)&quot;,c.options||&quot;g&quot;)},c))}else c=a,&quot;string&quot;===typeof c.pattern&amp;&amp;(c.string=c.pattern,c.pattern=RegExp(Syntax.Brush.convertStringToTokenPattern(c.string,!0),c.options||&quot;g&quot;)),&quot;undefined&quot;!==typeof XRegExp&amp;&amp;(c.pattern=new XRegExp(c.pattern)),c.apply=c.apply||
Syntax.Brush.MatchPattern,c.pattern&amp;&amp;c.pattern.global||&quot;undefined&quot;==typeof c.pattern?this.rules.push(jQuery.extend({owner:this},c)):Syntax.log(&quot;Syntax Error: Malformed rule: &quot;,c)};Syntax.Brush.prototype.getMatchesForRule=function(a,b){var c=[];&quot;undefined&quot;!=typeof b.apply&amp;&amp;(c=b.apply(a,b));b.debug&amp;&amp;Syntax.log(&quot;Syntax matches:&quot;,b,a,c);return c};Syntax.Brush.prototype.getRuleForKlass=function(a){for(var b=0;b&lt;this.rules.length;b+=1)if(this.rules[b].klass==a)return this.rules[b];return null};
Syntax.Brush.prototype.getMatches=function(a){for(var b=[],c=0;c&lt;this.rules.length;c+=1)b=b.concat(this.getMatchesForRule(a,this.rules[c]));return b};Syntax.Brush.buildTree=function(a,b,c,d){b=Syntax.brushes[a.brush].buildTree(b,c,d);jQuery.extend(b.expression,a);return b};
Syntax.Brush.prototype.buildTree=function(a,b,c){b=b||0;a=a.replace(/\r/g,&quot;&quot;);var d=this.getMatches(a);if(b&amp;&amp;0&lt;b)for(var e=0;e&lt;d.length;e+=1)d[e].shift(b);a=new Syntax.Match(b,a.length,{klass:this.allKlasses().join(&quot; &quot;),allow:&quot;*&quot;,owner:this},a);d.sort(Syntax.Match.sort);for(e=0;e&lt;d.length;e+=1)a.insertAtEnd(d[e]);if(c)for(e=0;e&lt;c.length;e+=1)a.insert(c[e],!0);a.complete=!0;return a};
Syntax.Brush.prototype.process=function(a,b,c){a=this.buildTree(a,0,b).split(/\n/g);b=document.createElement(&quot;pre&quot;);b.className=&quot;syntax&quot;;for(var d=0;d&lt;a.length;d+=1){var e=a[d].reduce(null,function(a,b){if(b.expression&amp;&amp;(b.expression.process&amp;&amp;(a=b.expression.process(a,b,c)),b.expression.owner)){var d=b.expression.owner.processes[b.expression.klass];d&amp;&amp;(a=d(a,b,c))}return a});b.appendChild(e)}return b};
Syntax.highlightText=function(a,b,c){var d=(b.brush||&quot;plain&quot;).toLowerCase(),d=Syntax.aliases[d]||d;Syntax.brushes.get(d,function(d){if(b.tabWidth){replacement=Syntax.convertTabsToSpaces(a,b.tabWidth);if(b.matches&amp;&amp;b.matches.length){var f=Syntax.convertToLinearOffsets(replacement.offsets,a.length);b.matches=Syntax.updateMatchesWithOffsets(b.matches,f,replacement.text)}a=replacement.text}f=d.process(a,b.matches,b);!1!==b.linkify&amp;&amp;jQuery(&quot;span.href&quot;,f).each(function(){jQuery(this).replaceWith(jQuery(&quot;&lt;a&gt;&quot;).attr(&quot;href&quot;,
this.innerHTML).text(this.innerHTML))});c(f,d,a,b)})};
Syntax.highlight=function(a,b,c){&quot;function&quot;===typeof b&amp;&amp;(c=b,b={});b.layout=b.layout||&quot;preformatted&quot;;b.matches=[];&quot;undefined&quot;===typeof b.tabWidth&amp;&amp;(b.tabWidth=4);a.each(function(){var a=jQuery(this);b.matches=b.matches.concat(Syntax.extractElementMatches(a));var e=Syntax.innerText(this),f=e.match(/-\*- mode: (.+?);(.*?)-\*-/i),g=e.indexOf(&quot;\n&quot;,e.indexOf(&quot;\n&quot;)+1);if(f&amp;&amp;f.index&lt;g){b.brush=b.brush||f[1];for(var g=f[2],h=/([a-z\-]+)\:(.*?)\;/gi;null!==(f=h.exec(g));){var l=Syntax.modeLineOptions[f[1]];
l&amp;&amp;l(f[1],f[2],b)}}Syntax.highlightText(e,b,function(e,f){Syntax.layouts.get(b.layout,function(g){e=g(b,jQuery(e),jQuery(a));if(b.theme){g=Syntax.themes[b.theme];for(var h=0;h&lt;g.length;h+=1)e.addClass(&quot;syntax-theme-&quot;+g[h]);e.addClass(&quot;syntax-theme-&quot;+b.theme)}f.postprocess&amp;&amp;(e=f.postprocess(b,e,a));c&amp;&amp;(e=c(b,e,a));e&amp;&amp;!0===b.replace&amp;&amp;a.replaceWith(e)})})})};Syntax.loader.core=!0;</B></P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:Aachen/Scripts/jquery.syntax.core.js">http://2014.igem.org/Team:Aachen/Scripts/jquery.syntax.core.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Aachen/Scripts/jquery.syntax.core.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Aachen/Scripts/jquery.syntax.core.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Aachen/Scripts/jquery.syntax.core.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Aachen/Scripts/jquery.syntax.core.js&amp;oldid=206167" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>