<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_TU_Darmstadt_Results_Modeling_Rule_based_Modelling"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:TU Darmstadt/Results/Modeling/Rule based Modelling</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P><TITLE>Home</TITLE></P><DIV id="allWrap"><DIV id="headerBG"><DIV id="headerWrap" class="container_24"><DIV id="topBar" class="grid_18"><UL class="top"><LI class="active first"><A href="https://2014.igem.org/Team:TU_Darmstadt">Home</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Project">Project</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Results">Results</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/PolicyandPractices">Policy &amp; Practices</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Achievements">Achievements</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Notebook">Notebook</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Team">Team</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Gallery">Gallery</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Sitemap">Sitemap</A></LI><LI class="last"><A href="https://2014.igem.org/Team:TU_Darmstadt/Contact">Contact</A></LI></UL></DIV></DIV></DIV><DIV id="topWrap" class="container_24"><UL class="slides grid_18"><LI class="slide-container"><DIV class="nav"><LABEL for="img-6" class="prev">‹</LABEL><LABEL for="img-2" class="next">›</LABEL></DIV></LI><LI class="slide-container"><DIV class="nav"><LABEL for="img-1" class="prev">‹</LABEL><LABEL for="img-3" class="next">›</LABEL></DIV></LI><LI class="slide-container"><DIV class="nav"><LABEL for="img-2" class="prev">‹</LABEL><LABEL for="img-4" class="next">›</LABEL></DIV></LI><LI class="slide-container"><DIV class="nav"><LABEL for="img-3" class="prev">‹</LABEL><LABEL for="img-5" class="next">›</LABEL></DIV></LI><LI class="slide-container"><DIV class="nav"><LABEL for="img-4" class="prev">‹</LABEL><LABEL for="img-6" class="next">›</LABEL></DIV></LI><LI class="slide-container"><DIV class="nav"><LABEL for="img-5" class="prev">‹</LABEL><LABEL for="img-1" class="next">›</LABEL></DIV></LI></UL><DIV id="promoWrap" class="grid_6"><DIV class="grid_6 promo1"><A href="https://2014.igem.org/Team:TU_Darmstadt/Achievements/Parts" target="_top"><H1>Our Biobricks</H1><P>Look at our bricks!</P></A></DIV><DIV class="grid_6 promo2"><A href="https://2014.igem.org/Team:TU_Darmstadt/Results/Modeling/ANS_Engineering" target="_top"><H1>eANS</H1><P>Check out the best protein engineering model!</P></A></DIV><DIV class="grid_6 promo3"><A href="https://2014.igem.org/Team:TU_Darmstadt/Team" target="_top"><H1>The People</H1><P>See the people behind the project!</P></A></DIV></DIV></DIV><DIV id="contentWrap" class="container_24"><DIV id="footerBG"><DIV id="footerInner"><DIV id="footerWrap" class="container_24"><DIV class="grid_4"><UL class="menu"><LI class="first"><A href="https://2014.igem.org/Team:TU_Darmstadt">iGEM TUD</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Sitemap">Sitemap</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Team">Team</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Contact">Kontakt</A></LI><LI class="last"><A href="https://2014.igem.org/Team:TU_Darmstadt/Team/Sponsors">Sponsoren</A></LI></UL></DIV></DIV></DIV></DIV><DIV id="contentWrap" class="container_24"><DIV id="leftNavi" class="grid_5"><NAV><UL class="menu"><LI class="first"><A href="https://2014.igem.org/Team:TU_Darmstadt">Home</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Project">Project</A></LI><LI class="active"><A href="https://2014.igem.org/Team:TU_Darmstadt/Results">Results</A></LI><LI class="first"><A href="https://2014.igem.org/Team:TU_Darmstadt/Results/Pathway">Pathway</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Results/Scaffold">Scaffold</A></LI><LI class="active"><A href="https://2014.igem.org/Team:TU_Darmstadt/Results/Modeling">Modeling</A></LI><LI class="first"><A href="https://2014.igem.org/Team:TU_Darmstadt/Results/Modeling/Theory">Theory</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Results/Modeling/ANS_Engineering">ANS Engineering</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Results/Modeling/Open Software">Open Software</A></LI><LI class="active last"><A href="https://2014.igem.org/Team:TU_Darmstadt/Results/Modeling/Rule based Modelling">Rule based Modelling</A></LI></UL><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Results/Safety">Safety</A></LI><LI class="last"><A href="https://2014.igem.org/Team:TU_Darmstadt/Results/Open Hardware">Open Hardware</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/PolicyandPractices">Policy &amp; Practices</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Achievements">Achievements</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Notebook">Notebook</A></LI><LI><A href="https://2014.igem.org/Team:TU_Darmstadt/Team">Team</A></LI><LI class="last"><A href="https://2014.igem.org/Team:TU_Darmstadt/Gallery">Gallery</A></LI></NAV></DIV><DIV id="wikicontent" class="grid_19"><H1>Rule Based Modeling</H1><P>In order to understand the dynamics of our reaction pathways, a model of the underlying chemical eactions is needed. Currently there exist two commonly used approaches to do so. The first being the reaction rate approach, where one has to solve a system of ordinary differential equations (<I>ODE</I>). Which is a deterministic and continuous description of chemical reactions. The alternative to this is the so called stochastic approach, which one may deem to be superior to the deterministic approach, in terms of correctness regarding the laws of physics. As chemical reactions always occur within an ensemble of many particles we never face absolute reaction rates, but rather reaction probabilities. Furthermore, the quantity of chemical molecules contained within a system can only change by discrete values, which is contrary to the continuous description, given by the deterministic approach<SUP>1</SUP>. Thus stochastic based descriptions are commonly implemented by using rule-based languages. Where one describes the several reactions by rules and stochastically reaction rates. The according simulations are then done by a Monte-carlo based algorithm, like the Gillepsie algorithm. </P><H1>Kappa</H1><P>The rule-based modeling language examined within this contribution is the <I>Kappa</I>-language.<SUP>2</SUP> Afterwards, a short introduction to this language is given. Where the language is specified by description of the language constructs and their syntax.</P><H2>Agent</H2><P>The main data construct of Kappa is the <I>Agent</I>, which is an abstract construct describing some entity, per example an protein or any other reactant, with several interaction sites<I> x<SUB>1</SUB> ... x<SUB>n</SUB></I>. Furthermore, each interaction site can have several site states expressed by<I> X<SUB>i </SUB>~ s<SUB>1</SUB> ~ s<SUB>2</SUB> ~ ... ~ s<SUB>n</SUB></I>. Where the syntax for an agent is</P><DIV class="code"><BLOCKQUOTE><P class="align-justify">%agent: AgentName(</P><P class="align-justify"><I>X<SUB>i </SUB>~ s<SUB>1</SUB> ~ s<SUB>2</SUB> ~ ... ~ s<SUB>N</SUB></I></P><P class="align-justify"><I>X<SUB>2 </SUB>~ s<SUB>1</SUB> ~ s<SUB>2</SUB> ~ ... ~ s<SUB>N</SUB></I></P><P class="align-justify">...</P><P class="align-justify"><I>X<SUB>N </SUB>~ s<SUB>1</SUB> ~ s<SUB>2</SUB> ~ ... ~ s<SUB>N</SUB></I></P><P>)</P></BLOCKQUOTE></DIV><P>One then describes the interaction between Agents within the system by a set of rules, which are of the syntax </P><DIV class="code"><BLOCKQUOTE><P>’label’ Agent1(<I>s<SUB>x</SUB></I>),..., AgentN(<I>s<SUB>y</SUB></I> ) -&gt; Ñ Agent1(<I>s<SUP>1</SUP><SUB>x</SUB></I>), .. AgentN(<I>s<SUP>1</SUP><SUB>y</SUB></I>) @ r ,</P></BLOCKQUOTE></DIV><P>where <I>r</I> is the rate constant, thus some numerical value, describing the probability of the reaction described by the according rule. This quantity will be explained in a later chapter.</P><P>However general previous description seems to be, it does not yet describe the full set of possible rules. Rules can be build depending on an agents pure reaction site, the state of an agents reaction site and also based on connections between interaction sites. Connections or rather bounds between interaction sites are labeled by <I>!i</I>, with <I>i</I> being some integer which specifies the connection. </P><P>For example, a binding between an agent <I>A</I> and an agent <I>B</I> could be described as follows.</P><DIV class="code"><BLOCKQUOTE><P>’Binding’ A(x),B(y) -&gt; Ñ A(x!1),B(y!1) @ 1.0</P></BLOCKQUOTE></DIV><P>A rule based on the state of an specific reaction site could be used to describe the following Situation: If connected to some agent B, an agent A should transform a substance<I> s<SUB>m</SUB></I>located on the interaction of Agent B to some new substance <I>s<SUB>k</SUB></I>. Which would be given by the following Kappa rule</P><DIV class="code"><BLOCKQUOTE><P>’Change’ A(a!1),B(x ~ sm !1) Ñ A(a!1),B(x ~ s k !1) @ 1.0 .</P></BLOCKQUOTE></DIV><P>Furthermore, by using<I> !_</I> one can define that a site is bound but it is not important to which agent and by using <I>?</I> one can specify that it doesn't matter if a site is bound or not bound.</P><H2>Token</H2><P>The token is like an agent without any interaction sites and inner states. Thus, a token simply needs a name, which has to be specified after the <I>%token</I> keyword. </P><DIV class="code"><BLOCKQUOTE><P>%Token: TokenName</P></BLOCKQUOTE></DIV><P> A token can be used to represent substances that are there but have no interaction at all. Which is the case,e.g., for substances which are produced or depleted by one of the agents.</P><H2>Variable</H2><P>A variable can be declared as follows </P><DIV class="code"><BLOCKQUOTE><P>%var: 'variable rate' 0.01</P></BLOCKQUOTE></DIV><P> in more detail this declares a variable 'variable rate' and assigns the value 0.01, which will afterwards be referenced to by typing 'variable rate' anywhere within a <I>Kappa</I> program. This is for example useful to specify reaction rates occurring in several rules. If they change, one only has to modify the according variable definition.</P><H2>Observable</H2><P>By using the %obs directive one can specify observables, which means that the absolute number of elements matching the right hand site of the rule throughout the simulation will be stored. </P><DIV class="code"><BLOCKQUOTE><P>%obs: 'Observable Name' Agent(site~state)</P></BLOCKQUOTE></DIV><P> Executing the program will generate an output file containing one row for each observable and one column for each simulation time step.</P><H2>Init</H2><P>By using the %init directive the initial values of our several Agents can be set. Where %init is followed by an numerical value representing the number of afterwards specified constructs. </P><DIV class="code"><BLOCKQUOTE><P>%init: 10 (Agent1(a~a0,b~b1!1,c~c2!2),Agent2(x~x0!1,y~y0!2,z~z0) )</P></BLOCKQUOTE></DIV><H2>Perturbation</H2><P>The %mod directive can be used to apply perturbations to the data, as follows. After %mod some conditional statement regarding any agent of interest is given. Followed by a <I>do</I> and a declaration where a variable gets assigned a new value. Yielding in a conditional perturbation of said agent, by changing the variable to a new value after some condition is met. </P><DIV class="code"><BLOCKQUOTE><P>%mod: ’AgentA’ &lt; 50 do ’variable’ := 0.5</P></BLOCKQUOTE></DIV><H1>Application to Scaffold</H1><P>The main application of ruled-based modeling, within our work is to optimize the Scaffold. In order to do so Kappa models for the Scaffold and its according reactions have been created. By using these one should essentially be able to simulate the time behavior of the scaffold together with according reactants, which it is designed to move into spatial proximity. Thus one would also be able to do several simulations for different used Promotors. Which would, essentially render one able to estimate the optimal Promotor to be used. However, one of the main problems regarding this, is that the according reaction rates are not known. An computational feasible approach to solve this would be, to do a random sampling of a limited reaction rate space for every simulation. Where knowledge regarding the several occurring reactions could also be used to get an better estimate and therefore better restriction of the according reaction rates. As it is not the common reaction rate <I>k</I> of chemistry used for the simulations but an stochastic reaction rate <I>k</I>, describing the relative frequency of a according reaction. The connection between both, for reactions with two reactants, is given as</P><P>\[ k = V \cdot r \cdot \frac{ \left&lt;X_1 X_2\right&gt; }{\left&lt;X_1\right&gt; \left&lt;X_2\right&gt;}\,, \]</P><P>which yields </P><P style="text-indent: 10px; ">\[ k = V \cdot r \,, \]</P><P>for a simple binary reaction, with the reaction Volume being V<SUP>1</SUP>. Thus by getting the ranges of reaction Volumes within our Scaffold reactions, reasonable limits for the sampling simulations can be found.
</P><P>Since any kappa simulation is a randomized algorithm, meaningful results can only be reached by averaging over several runs. Where we averaged over 1000 runs, this has been parallelized by means of a bash script.</P><DIV class="contentcenter"><P>Fig. 1: Results of Scaffold model for averages over 1000 runs</P></DIV><DIV>
Components as written in our modell are listed below:
<OL><UL><LI>DNA_E: Amount of DNA representing proteins of enzymes inside Plasmid A</LI><LI>DNA_S: Amount of DNA representing proteins of scaffold inside Plasmid B</LI><LI>RNA_E: Amount of RNA representing proteins of enzymes inside Plasmid A</LI><LI>RNA_S: Amount of RNA representing proteins of scaffold inside Plasmid B</LI><LI>DNA_tot &amp; RNA_tot: Each summarized amount of nuclein acid.</LI><LI>Scaff: Amount of Scaffold inside model.</LI><LI>DFR: Amount of Dihydroflavonoul inside model.</LI><LI>ANS: Amount of Anthocyanidin Synthase inside model.</LI></UL></OL></DIV><DIV class="contentcenter"><P>Fig. 2: Standard Deviation of Scaffold model for averages over 1000 runs</P></DIV><P>As can be seen by comparing (Fig. 1) and (Fig. 2) the standard deviations are of the same order as the averages. Thus, the statistical error of the data has the same order as the data itself. </P><P>Which leads to the conclusion that this model can not be used to correctly model our scaffold, since the results have large inherent variations.</P><P>This behavior remains even after using 10<SUP>4</SUP> samples instead of 10<SUP>3</SUP>. Therefore, it is safe to say that this variation is due to some systematic misconception within the model.</P><P>We used the original repressilator model taken from https://rulebase.com/ - temporay not accessible anymore -  as base for our model. To check if theses results are due to some error from our side we again calculated results for 10000 samples for averaging.</P><DIV class="contentcenter"><P>
Fig. 3:  Results of Repress model for averages over 1000 runs
</P></DIV><DIV class="contentcenter"><P>Fig. 4: Standard Deviation of repress model for averages over 1000 runs</P></DIV><P>Again the result is that the statistical errors are of the same order as the averaged values.</P><P>Thus, there seems to be some underlying problem with this model. Which we seemed to include in our model by using the repress model as base.
</P><P>For one final visualization of the variations we plotted the normalized difference to the average
</P><P>\[ \Gamma(x_i) = \frac{\left|\mu\left(x_i\right) - x_i\right|}{\left| \mu\left(x_i\right)\right|} \,. \]
</P><P>In the following (Fig. 4) this is plotted for the RNAC of repress model. </P><P>As can clearly be seen the variations are extensive were the largest occurring deviation is an error of over 2500%. </P><P>These systematic errors, the fact the we do not know the kinetic rate constants for our agents as well as the fact that at least at the time of our contribution kappa seems to be poorly documented lead us to the decision that we can not use kappa for the scaffold modeling.</P><H1>References</H1><OL><LI>Gillespie, D. T. (1977). Exact stochastic simulation of coupled chemical reactions. J. Phys. Chem., 81(25):2340–2361.</LI><LI><A href="http://www.kappalanguage.org" target="_blank">www.kappalanguage.org</A></LI></OL></DIV></DIV><DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling">http://2014.igem.org/Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:TU_Darmstadt/Results/Modeling/Rule_based_Modelling&amp;oldid=388812" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></DIV></DIV></BODY></HTML>