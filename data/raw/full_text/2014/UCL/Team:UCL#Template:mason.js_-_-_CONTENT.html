<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_UCL_Template_mason_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:UCL/Template:mason.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:UCL/Template:mason.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:UCL/Template:mason.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:UCL/Template:mason.js&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:UCL/Template:mason.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:UCL/Template:mason.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3>
			(function($){$.fn.mason=function(options,complete){var defaults={itemSelector:null,ratio:0,sizes:[],columns:[[0,480,1],[480,780,2],[780,1080,3],[1080,1320,4],[1320,1680,5]],promoted:[],filler:{itemSelector:options.itemSelector,filler_class:&quot;mason_filler&quot;},layout:&quot;none&quot;,gutter:0};if(complete){var callback={complete:complete}}var elements={block:{height:0,width:0},matrix:[]};return this.each(function(){var settings,callbacks,$self;settings=$.extend(defaults,options);callbacks=$.extend(callback,complete);$self=$(this);function setup(){if($self.children(&quot;.mason_clear&quot;).length&lt;1){$self.append(&quot;&quot;)}elements.block.height=parseFloat(($self.width()/columnSize()/settings.ratio).toFixed(0));elements.block.width=parseFloat($self.width()/columnSize());sizeElements()}function sizeElements(){var col=columnSize();if(col==1){$sel=$self.children(settings.itemSelector);$sel.height(elements.block.height);$sel.width(elements.block.width);$sel.css({margin:&quot;0px&quot;})}else{for(var i=0;i&lt;settings.promoted.length;i++){settings.sizes.push([settings.promoted[i][0],settings.promoted[i][1]])}$self.children(settings.itemSelector).each(function(){$sel=$(this);ran=Math.floor(Math.random()*(settings.sizes.length-settings.promoted.length));ranSize=settings.sizes[ran];for(var i=0;i&lt;settings.promoted.length;i++){if($sel.hasClass(settings.promoted[i][2])){ranSize=[settings.promoted[i][0],settings.promoted[i][1]];ran=settings.sizes.length-settings.promoted.length+i}}$sel.data(&quot;size&quot;,ran);var h=parseFloat((elements.block.height*ranSize[1]).toFixed(2));h=h-settings.gutter*2;var w=parseFloat(elements.block.width*ranSize[0]);w=w-settings.gutter*2;$sel.height(h+&quot;px&quot;);$sel.width(w+&quot;px&quot;);$sel.css({margin:settings.gutter})});var el_h=$self.height();var block_h=el_h/elements.block.height;elements.matrix=[];for(var i=0;i&lt;block_h;i++){elements.matrix[i]=[];for(var c=0;c&lt;col;c++){elements.matrix[i][c]=false}}$self.children(settings.itemSelector).each(function(){$sel=$(this);var l=Math.round($sel.position().left/elements.block.width);var t=Math.round($sel.position().top/elements.block.height);var s=parseFloat($sel.data(&quot;size&quot;));var h=settings.sizes[s][1];var w=settings.sizes[s][0];var a=h*w;for(var i=0;i&lt;a;i++){for(var bh=0;bh&lt;h;bh++){elements.matrix[t+bh][l]=true;for(var bw=0;bw&lt;w;bw++){elements.matrix[t+bh][l+bw]=true}}}});for(var i=0;i&lt;elements.matrix.length;i++){for(var c=0;c&lt;elements.matrix[i].length;c++){if(elements.matrix[i][c]==false){var h=parseFloat(elements.block.height),w=parseFloat(elements.block.width);var x=parseFloat((i*h).toFixed(2))+settings.gutter,y=parseFloat(c*w)+settings.gutter,ran,filler;h=h-settings.gutter*2;w=w-settings.gutter*2;ran=Math.floor(Math.random()*$(settings.filler.itemSelector).length);filler=$(settings.filler.itemSelector).eq(ran).clone();filler.addClass(settings.filler.filler_class);filler.css({position:&quot;absolute&quot;,top:x+&quot;px&quot;,left:y+&quot;px&quot;,height:h+&quot;px&quot;,width:w+&quot;px&quot;,margin:&quot;0px&quot;});filler.appendTo($self)}}}if(callbacks.complete!=null){callbacks.complete()}}}function columnSize(){var w=Math.floor($self.width()),cols=0,colsCount=settings.columns.length-1;if(w&gt;=settings.columns[colsCount][1]){cols=settings.columns[colsCount][2]}else{for(var i=0;i&lt;=colsCount;i++){if(w&gt;settings.columns[i][0]&amp;&amp;w&lt;settings.columns[i][1]){cols=settings.columns[i][2]}}}return cols}var waitForFinalEvent=function(){var timers={};return function(callback,ms,uniqueId){if(!uniqueId){uniqueId=random()}if(timers[uniqueId]){clearTimeout(timers[uniqueId])}timers[uniqueId]=setTimeout(callback,ms)}}();var random=function(){var text=&quot;&quot;;var possible=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;;for(var i=0;i&lt;5;i++)text+=possible.charAt(Math.floor(Math.random()*possible.length));return text};if(settings.layout==&quot;fluid&quot;){$(window).resize(function(){$(&quot;.&quot;+settings.filler.filler_class).remove();elements.matrix=[];waitForFinalEvent(function(){$(&quot;.&quot;+settings.filler.filler_class).remove();setup()},150)})}setup()})}})(jQuery);

<DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:UCL/Template:mason.js">http://2014.igem.org/Team:UCL/Template:mason.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:UCL/Template:mason.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:UCL/Template:mason.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:UCL/Template:mason.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:UCL/Template:mason.js&amp;oldid=100830" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>