<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_TU_Eindhoven_Modeling_Bacterial_Cell_Counter"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:TU Eindhoven/Modeling/Bacterial Cell Counter</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P><TITLE>iGEM Team TU Eindhoven 2014</TITLE></P><DIV id="wrapper_header"><DIV id="wrapper_header01"><DIV id="wrapper_header02"><DIV id="wrapper_header03"><DIV id="header"><DIV id="cssmenu"><UL><LI><A href="https://2014.igem.org/Team:TU_Eindhoven">Home</A></LI><LI class="has-sub"><A href="#">Team</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Team_Members">Team Members</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Supervisors">Supervisors</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Acknowledgements">Acknowledgements</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Sponsors">Sponsors</A></LI></UL><LI class="has-sub"><A href="#">Project</A></LI><LI class="has-sub"><A href="#">Background</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Background/SPAAC_Reaction">SPAAC Reaction</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Background/Membrane_Anchors">Membrane Anchors</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Background/FACS">FACS</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Background/Orthogonal">Orthogonal tRNA System</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Abstract">Abstract</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Overview">Overview Click Coli</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Project_Description">Project Description</A></LI><LI class="has-sub"><A href="#">Design</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Design/Membrane_Anchor_Design">Membrane Anchor Design</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Design/Plasmid_Design">Plasmid Design</A></LI><LI class="has-sub"><A href="#">Characterization</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Project/Characterization/Click_Coli">Click Coli</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Project/Characterization/Cell_Viability">Cell Viability</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Characterization/UVvis">Photoreactivity</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Project/Characterization/Fluorescence_Microscopy">Fluorescence Microscopy</A></LI><LI class="has-sub"><A href="#">Rolling Circle Amplification</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/RCA/Introduction">Introduction</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/RCA/Attaching">Attaching DNA to DBCO-PEG<SUB>4</SUB></A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/RCA/Testing">Testing Product</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/RCA/Creating">Creating Circular RC Template</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/RCA/RCA_on_Cells">RCA on Cells</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/ZAP">ZAP</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Manual">Manual</A></LI><LI class="has-sub"><A href="#">Achievements</A></LI><LI class="has-sub"><A href="#">Safety</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Safety/Our_Lab">Our Lab</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Safety/Biosafety">Biosafety</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Safety/Kill_Switch">Kill Switch</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Achievements/Main_Results">Main Results</A></LI><LI class="has-sub"><A href="#">Submitted Parts</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Achievements/Submitted_Parts/COMPx">COMPx</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Achievements/Submitted_Parts/COMPy">COMPy</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Achievements/Submitted_Parts/tRNA">tRNA Synthetase</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Medal_Motivations">Medal Motivation</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Achievements/Future_Prospects">Future Prospects</A></LI><LI class="has-sub"><A href="#">Microfluidics</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Microfluidics/Introduction">Introduction</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Microfluidics/Methods">Methods</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Microfluidics/Droplet_Device">Droplet Device</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Microfluidics/Cell_Encapsulation_Device">Cell Encapsulation Device</A></LI><LI class="has-sub"><A href="#">Results</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Microfluidics/Results">Results Droplet Device</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Microfluidics/Results_Cell_Encapsulation">Results Cell Encapsulation Device</A></LI><LI class="has-sub"><A href="#">Modeling</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Modeling/Cell_Encapsulation_Modeling">Cell Encapsulation Modeling</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter">Bacterial Cell Counter</A></LI><LI class="has-sub"><A href="#">Society</A></LI><LI class="has-sub"><A href="#">Synenergene</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Synergene/Introduction">Introduction Synenergene</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Society/Synenergene/Application_Scenario">Application Scenario</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Synergene/Techno-Moral_Vignets">Techno-Moral Vignettes</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Society/RIVM">RIVM Workshop</A></LI><LI class="has-sub"><A href="#">Outreach</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Society/Outreach/Importance_Outreach">Importance of Outreach</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Society/Outreach/Informal_Information_Evening">Informal Information Evening</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Society/Outreach/iGEM_The_Netherlands">iGEM The Netherlands</A>/li&gt;
                           </LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Society/Outreach/Media_Attention">Media Attention</A></LI><LI class="has-sub"><A href="#">Policy &amp; Practices</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Society/Policy_Practices/Children" s_book="">Children's Book</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Society/Policy_Practices/Game">Workshop Game</A></LI><LI class="has-sub"><A href="#">Notebook</A></LI><LI><A href="https://2014.igem.org/wiki/index.php?title=Team:TU_Eindhoven/Notebook/Timeline">Timeline</A></LI><LI><A href="https://2014.igem.org/Team:TU_Eindhoven/Protocols">Protocols</A></LI></DIV></DIV></DIV></DIV></DIV></DIV><P><TITLE>iGEM Team TU Eindhoven 2014</TITLE></P><DIV id="slider"><DIV id="tooplate_100_wrapper_01"><DIV id="tooplate_100_wrapper_02"><DIV id="tooplate_wrapper"><DIV id="contentwiki" style="height:2100px;"><DIV class="panel" id="home"><DIV class="col_700_2 float_r"><FIGURE style="float:right;margin-right:0;"><FIGCAPTION style="font-size:18px;color:#CCCCCC;">Figure 1. The used sample image</FIGCAPTION></FIGURE><H2>Bacterial Cell Counter</H2><P>Once photos of the microfluidics results have been made, the droplets and the cells inside the droplets have to be counted. In order to have reliable results, this has to be done on a large scale. A computer program has been designed to perform the counting on large numbers of photos. To give a better visualization of the process, a step by step analysis of the image shown in <A href="#Fig1">Figure 1</A> is given below.</P><P>The program has the following steps: firstly, to find and count the droplets, then to find and count the cells inside of the droplets and finally to create a histogram of the results. By adding up the histograms of multiple images one get a impression of how the cells are divided over the droplets.</P><FIGURE style="float:left;margin-left:0;"><FIGCAPTION style="font-size:18px;color:#CCCCCC;">Figure 2. The results after EdgeDetect</FIGCAPTION></FIGURE><H3>Droplet Detection</H3><P>To detect the cells <I>EdgeDetect</I>, a function of Mathematica using gradient methods, is used. It is then followed by a dilation in order to make the edges clearer. The results of these actions can be seen in <A href="#Fig2">Figure 2</A>.</P><P>This results in the clustering of black pixels. The program then looks for the clusters bigger than 2000 pixels and smaller than 6000 pixels. In <A href="#Fig3">Figure 3</A>, these clusters are visualized with blue circles.</P><H3>Parameters for Droplets Detection</H3><P>The parameters of this function are chosen in a way that prioritizes decrease in false positives over the decrease in false negatives. This is because a false positive means a non-existing droplet and thus false data, while false negative only lowers the sample size, which can be increased by analyzing more images.</P><FIGURE style="float:right;margin-right:0;"><FIGCAPTION style="font-size:18px;color:#CCCCCC;">Figure 3. The results of clustering shown as blue circles, layered onto the original image </FIGCAPTION></FIGURE><H3>Bacterial Cell Detection</H3><P>The program is currently at the point where the next step is to count the number of cells inside the droplets. Onto the clusters from <A href="#Fig2">Figure 2</A>, an <I>Erosion</I> function with value 1 is performed. This makes sure that cells connected to the borders of the droplet are disconnected from this border. The program deletes border components, so that it only finds cells that are not connected to the outside of the droplet. This cancels out outside noise. The program uses <I>EnclosingComponentCount</I> instead of <I>count</I> to get the results, because a lot of cells became empty circles.

The corresponding output of the program from the sample image shown in <A href="#Fig1">Figure 1</A> can be found in <A href="#Fig4">Figure 4</A>. The analysis of the sample image included 9 false positives and 11 false negatives on a total of 93 cell in 126 droplets. Some droplets had multiple false positives or false negatives. In the future, droplet selection has to be optimized in order to increase accuracy of the program.<A href="https://static.igem.org/mediawiki/2014/6/6b/TU_Eindhoven_Bacterial_Cell_Detection.zip">Click here to download the code</A></P><FIGURE style="float:left;margin-left:0;"><FIGCAPTION style="font-size:18px;color:#CCCCCC;">Figure 4. The output of the program is a histogram showing how many droplets contained a certain number of cells</FIGCAPTION></FIGURE></DIV></DIV></DIV></DIV></DIV><TITLE>iGEM Team TU Eindhoven 2014</TITLE><DIV id="footer"><DIV id="footer_left">
			
				Created by <A href="http://www.facebook.com/pages/TU-Eindhoven-iGEM-2014/662813310447348?fref=ts" target="_blank">iGEM Team TU Eindhoven 2014</A></DIV></DIV><DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter">http://2014.igem.org/Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:TU_Eindhoven/Modeling/Bacterial_Cell_Counter&amp;oldid=381432" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></DIV></DIV></BODY></HTML>