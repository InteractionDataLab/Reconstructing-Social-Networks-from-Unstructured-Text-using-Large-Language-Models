<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Toronto_scripts_main"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:Toronto/scripts/main">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Toronto/scripts/main&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Toronto/scripts/main&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Toronto/scripts/main&amp;action=history">History               </A></LI><LI style="color:white;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Toronto/scripts/main" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Toronto/scripts/main</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2014.igem.org</H3><P>// Canvas
var canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d'), cx, cy;
var cw = canvas.width = $('html').width();
var ch = canvas.height = $('html').height();
// Some variables
var d = 35;
var x = Math.random() * (cw - d), y = Math.random() * (ch - d);
var speedX = 5, speedY = 5;
var directionX = 1, directionY = 1;
</P><P>/*var topDist;
var scroll;*/
</P><P>$(document).ready(function() {
	main();
});
</P><P>function main(){
	resizeCanvas();
	window.addEventListener('resize', resizeCanvas, false);	
</P><P>	
	$(document).scroll(function () {
</P><PRE>       scroll = $(this).scrollTop();
       if (scroll &gt;= topDist.top) {
       	$('nav').removeClass('free');
           $('nav').addClass('stuck');
           //console.log(&quot;Changed to stuck!&quot;);
           
           //$('#main').height($('html').height() - $navHeight);
       } else if (scroll &lt; topDist.top){
           $('nav').removeClass('stuck');
           $('nav').addClass('free');
           //console.log('not stuck');
       }
   });
   
   $('#navbar li').click(function(){
   	console.log('1 ' + $(window).scrollTop());
   	$(window).scrollTop(topDist.top);
   	console.log('2 ' + $(window).scrollTop());
   	$('#main-inner').css({'top':'0'});
   	//$('window').scrollTop(topDist.top);
   });
</PRE><P>}
</P><P>function resizeCanvas() {
	cw = canvas.width = $('html').width();
	ch = canvas.height = $('html').height();
	cx = cw / 2;
	cy = ch / 2;
	resizeRelativeToWindow('#splash-wrapper', $navHeight);
	topDist = $(&quot;nav&quot;).offset();
	console.log(topDist);
}
</P><P>function resizeRelativeToWindow(element, bottomMargin) {
	$(element).height($('html').height() - $navHeight + $navBorder);
	$('#splash').height($(element).height());
</P><P>	// This prevents FF from showing scrollbar when not necessary
	if($('#splash .container').height() &gt; $(element).height() ){
		$('#splash').css({
			'overflow-y': 'scroll'
		});
	} else {
		$('#splash').css({
			'overflow-y': 'hidden'
		});
	}
}
</P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2014.igem.org/Team:Toronto/scripts/main">http://2014.igem.org/Team:Toronto/scripts/main</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Toronto/scripts/main" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Toronto/scripts/main" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Toronto/scripts/main&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Toronto/scripts/main&amp;oldid=302425" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2014.igem.org:Privacy_policy" title="2014.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2014.igem.org:General_disclaimer" title="2014.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>