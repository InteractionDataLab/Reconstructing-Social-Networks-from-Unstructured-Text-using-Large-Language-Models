<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_UT_Dallas_scrollingcarousel_2_0_min_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:UT_Dallas/scrollingcarousel.2.0.min.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:UT_Dallas/scrollingcarousel.2.0.min.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:UT_Dallas/scrollingcarousel.2.0.min.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:UT_Dallas/scrollingcarousel.2.0.min.js&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:UT_Dallas/scrollingcarousel.2.0.min.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:UT Dallas/scrollingcarousel.2.0.min.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2011.igem.org</H3><P>(function (a) {
</P><PRE>   a.fn.scrollingCarousel = function (d, e) {
       if (this.length &gt; 1) {
           var c = new Array();
           this.each(function (h) {
               c.push(a(this).scrollingCarousel(d, h))
           });
           return c
       }
       var f = a.extend({}, a().scrollingCarousel.defaults, d);
       var b;
       var g;
       this.Destroy = function (h) {
           var i = this;
           var h = (h != undefined) ? h : false;
           a(i).removeData(&quot;scrollingCarousel&quot;);
           i.children(&quot;:eq(1)&quot;).remove();
           if (a(this).find(&quot;&gt; div&quot;).length &gt; 0) {
               i[0].innerHTML = a(this).find(&quot;&gt; div&quot;)[0].innerHTML;
               i.children().each(function () {
                   a(this, i)[0].style.cssText = &quot;&quot;
               })
           } else {
               i.find(&quot;li&quot;).each(function () {
                   a(this, i)[0].style.cssText = &quot;&quot;
               })
           }
           i.children()[0].style.cssText = &quot;&quot;;
           i[0].style.cssText = &quot;&quot;;
           i.unbind()
       };
       this.Update = function (h) {
           f = null;
           f = a.extend({}, a().scrollingCarousel.defaults, h);
           this.Destroy(true);
           return this.Create()
       };
       this.Create = function (h, j) {
           if (!a(this).html()) {
               return false
           }
           var r = this;
           var l = r.html();
           if (a(r).data(&quot;scrollingCarousel&quot;) == true &amp;&amp; j != &quot;pause&quot;) {
               return this
           }
           if (f.beforeCreateFunction != null &amp;&amp; a.isFunction(f.beforeCreateFunction)) {
               f.beforeCreateFunction(r, f)
           }
           var p;
           var i = 0;
           var n;
           var m;
           var s;
           var o;
           var q;
           var x;
           var t = new Object();
           var w = r[0];
           w.style.paddingLeft = &quot;0&quot;;
           w.style.paddingRight = &quot;0&quot;;
           var C = w.offsetWidth;
           var u = r.children()[0].nodeName.toLowerCase();
           switch (u) {
           case &quot;div&quot;:
               if (!j) {
</PRE>
                    w.innerHTML = &quot;<DIV>&quot; + r[0].innerHTML + &quot;</DIV>&quot;;
<PRE>                   w.innerHTML += w.innerHTML
               }
               p = r.find(&quot;&gt; div&quot;);
               s = r.find(&quot;&gt; div:first &gt; div&quot;);
               break;
           case &quot;ul&quot;:
               if (!j) {
                   w.innerHTML += w.innerHTML
               }
               p = r.find(&quot;ul&quot;);
               s = r.find(&quot;ul:first &gt; li&quot;);
               break;
           case &quot;ol&quot;:
               if (!j) {
                   w.innerHTML += w.innerHTML
               }
               p = r.find(&quot;ol&quot;);
               s = r.find(&quot;ol:first &gt; li&quot;);
               break;
           default:
               console.log(&quot;unable to initialise scroller - please ensure contents are either in a UL, an OL or in DIVs&quot;);
               return
           }
           switch (f.scrollSpeed.toLowerCase()) {
           case &quot;slow&quot;:
               m = 1;
               break;
           case &quot;fast&quot;:
               m = 4;
               break;
           case &quot;medium&quot;:
           default:
               m = 2
           }
           var k = 0;
           var A = 0;
           var B = 0;
           var z;
           var v;
           switch (f.scrollerAlignment.toLowerCase()) {
           case &quot;vertical&quot;:
               a(s).each(function (D) {
                   k += a(this, r)[0].offsetHeight + parseInt(a(this, r).css(&quot;marginTop&quot;)) + parseInt(a(this, r).css(&quot;marginBottom&quot;));
                   if (a(this, r)[0].offsetWidth &gt; B) {
                       B = a(this, r)[0].offsetWidth
                   }
               });
               break;
           case &quot;horizontal&quot;:
           default:
               a(s).each(function (D) {
                   k += a(this, r)[0].offsetWidth + parseInt(a(this, r).css(&quot;marginLeft&quot;)) + parseInt(a(this, r).css(&quot;marginRight&quot;));
                   if (a(this, r)[0].offsetHeight &gt; A) {
                       A = a(this, r)[0].offsetHeight
                   }
               });
               break
           }
           if (!j) {
               if (f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) {
                   w.style.height = A + &quot;px&quot;
               } else {
                   w.style.width = B + &quot;px&quot;;
                   w.style.height = (a(w).height() &gt; 0) ? a(w).height() + &quot;px&quot; : a(w).parent().height() + &quot;px&quot;;
                   C = w.offsetHeight
               }
               if (k &gt; C) {
                   var y = Math.round((k / 100) * f.scrollerOffset);
                   o = y - (Math.round(C / 2));
                   if (o &gt; (k - C)) {
                       o = k - C
                   }
               } else {
                   return false
               }
               w.style.overflow = &quot;hidden&quot;;
               w.style.position = &quot;relative&quot;;
               var z;
               p.each(function () {
                   a(this, r)[0].style.position = &quot;absolute&quot;;
                   if (f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) {
                       a(this, r)[0].style.top = &quot;0&quot;;
                       a(this, r)[0].style.width = k + &quot;px&quot;
                   } else {
                       a(this, r)[0].style.left = &quot;0&quot;;
                       a(this, r)[0].style.height = k + &quot;px&quot;;
                       a(this, r)[0].style.width = B + &quot;px&quot;
                   }
                   a(this).children().each(function (D) {
                       if (f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) {
                           a(this, r)[0].style.cssFloat = &quot;left&quot;
                       }
                       a(this, r)[0].style.position = &quot;static&quot;
                   })
               });
               if (f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) {
                   p[0].style.left = (o &gt; 0) ? &quot;-&quot; + o + &quot;px&quot; : &quot;0px&quot;;
                   if (f.looped == true) {
                       p[1].style.left = p[0].offsetLeft - k + &quot;px&quot;
                   } else {
                       p[1].style.display = &quot;none&quot;;
                       p[1].style.top = &quot;-1000px&quot;
                   }
               } else {
                   p[0].style.top = (o &gt; 0) ? &quot;-&quot; + o + &quot;px&quot; : &quot;0&quot;;
                   if (f.looped == true) {
                       p[1].style.top = p[0].offsetTop - k + &quot;px&quot;
                   } else {
                       p[1].style.display = &quot;none&quot;;
                       p[1].style.left = &quot;-1000px&quot;
                   }
               }
               r.mouseenter(function () {
                   t.startCarousel()
               });
               r.mouseleave(function () {
                   t.stopCarousel(true);
                   if (f.autoScroll == true) {
                       t.autoScroll()
                   }
               });
               r.mousemove(function (E) {
                   var F = {
                       x: 0,
                       y: 0
                   };
                   if (E.pageX || E.pageY) {
                       F.x = E.pageX;
                       F.y = E.pageY
                   } else {
                       var G = document.documentElement;
                       var D = document.body;
                       F.x = E.clientX + ((G.scrollLeft || D.scrollLeft) - (G.clientLeft || 0));
                       F.y = E.clientY + ((G.scrollTop || D.scrollTop) - (G.clientTop || 0))
                   }
                   cursorPosition = F
               })
           }
           t.autoScroll = function () {
               var D = 60;
               if (f.looped == false) {
                   return
               }
               if (g) {
                   clearInterval(g);
                   g = 0
               }
               n = n ? n : ((f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) ? parseInt(p[0].style.left) : parseInt(p[0].style.top));
               f.autoScrollSpeed = (f.autoScrollSpeed &lt; 1000) ? 1000 : f.autoScrollSpeed;
               if ((f.autoScrollSpeed / D) &lt; C) {
                   q = Math.round(C / (f.autoScrollSpeed / D))
               } else {
                   q = 1;
                   D = Math.round(f.autoScrollSpeed / C)
               }
               g = setInterval(function () {
                   switch (f.autoScrollDirection.toLowerCase()) {
                   case &quot;right&quot;:
                   case &quot;down&quot;:
                       if ((n + q) &gt; k) {
                           n = 0;
                           i = (i == 0) ? 1 : 0
                       } else {
                           n = n + q
                       }
                       break;
                   case &quot;left&quot;:
                   case &quot;up&quot;:
                   default:
                       if ((n - q) &lt; (0 - (k - C))) {
                           n = C;
                           i = (i == 0) ? 1 : 0
                       } else {
                           n = n - q
                       }
                   }
                   if (f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) {
                       p[i].style.left = n + &quot;px&quot;;
                       p[(i == 0) ? 1 : 0].style.left = n - k + &quot;px&quot;
                   } else {
                       p[i].style.top = n + &quot;px&quot;;
                       p[(i == 0) ? 1 : 0].style.top = n - k + &quot;px&quot;
                   }
               }, D)
           };
           t.startCarousel = function () {
               if (g) {
                   clearInterval(g);
                   g = 0
               }
               x = (f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) ? Math.round(a(w).offset().left + (w.offsetWidth / 2)) : Math.round(a(w).offset().top + (w.offsetHeight / 2));
</PRE><P>				n = n ? n : ((f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) ? parseInt(p[0].style.left) : parseInt(p[0].style.top));
</P><P>				b = setInterval(function () {
</P><PRE>                   var F;
                   var E = (f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) ? cursorPosition.x : cursorPosition.y;
</PRE><PRE>                   var D = C / 2;
                   F = (E &lt; x) ? x - E : E - x;
</PRE><PRE>                   q = (F &lt; (Math.ceil((D / 100) * 30))) ? 1 : ((F &lt; (Math.ceil((D / 100) * 50))) ? 2 * m : ((F &lt; (Math.ceil((D / 100) * 70))) ? 3 * m : ((F &lt; (Math.ceil((D / 100) * 90))) ? 4 * m : 6 * m)));
                   if(q&lt;3) q=0;	//creates a dead reagion in the center
</PRE><P>					if (E &lt; x) 
					{
</P><PRE>                       if ((n + q) &gt; 0 &amp;&amp; f.looped == false) {
                           n = 0
                       } else {
                           if ((n + q) &gt; k) {
                               n = 0;
                               i = (i == 0) ? 1 : 0
                           } else {
                               n = n + q
                           }
                       }
</PRE><PRE>                   } else {
                       if (E &gt; x) {
                           if ((n - q) &lt; (0 - (k - C))) {
                               if (f.looped == false) {
                                   n = (0 - (k - C))
                               } else {
                                   n = C;
                                   i = (i == 0) ? 1 : 0
                               }
                           } else {
                               n = n - q
                           }
                       }
                   }
</PRE><P>					//$('#results').html(n);
</P><PRE>                   if (f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) {
                       p[i].style.left = (n-25) + &quot;px&quot;;
                       p[(i == 0) ? 1 : 0].style.left = (n-25) - k + &quot;px&quot;
                   } else {
                       p[i].style.top = n + &quot;px&quot;;
                       p[(i == 0) ? 1 : 0].style.top = n - k + &quot;px&quot;
                   }
               }, 40)
           };
           t.stopCarousel = function (H) {
               if (!b) {
                   return
               }
               clearInterval(b);
               b = 0;
               if (!H || f.looped == false || f.autoScroll == true) {
                   return
               }
               if (q &gt; 1) {
                   var E;
                   var G = 0;
                   for (E = q; E &gt; 1; E--) {
                       G += E
                   }
                   var F = (f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) ? cursorPosition.x : cursorPosition.y;
                   if (F &lt; x) {
                       if ((n + G) &gt; k) {
                           n = n - k;
                           i = (i == 0) ? 1 : 0
                       }
                   } else {
                       if ((n - G) &lt; (0 - (k - C))) {
                           n = n + k;
                           i = (i == 0) ? 1 : 0
                       }
                   }
                   var D = setInterval(function () {
                       if (q &gt; 1) {
                           if (F &lt; x) {
                               n += q
                           } else {
                               n -= q
                           }
                           if (f.scrollerAlignment.toLowerCase() != &quot;vertical&quot;) {
                               p[i].style.left = n + &quot;px&quot;;
                               p[(i == 0) ? 1 : 0].style.left = n - k + &quot;px&quot;
                           } else {
                               p[i].style.top = n + &quot;px&quot;;
                               p[(i == 0) ? 1 : 0].style.top = n - k + &quot;px&quot;
                           }
                           q--
                       } else {
                           clearInterval(D)
                       }
                   }, 50)
               }
           };
           if (j != &quot;pause&quot;) {
               if (f.autoScroll == true) {
                   t.autoScroll()
               }
           }
           switch (j) {
           case &quot;pause&quot;:
               t.stopCarousel();
               if (g) {
                   clearInterval(g);
                   g = 0
               }
               r.unbind(&quot;mouseenter&quot;);
               r.unbind(&quot;mouseleave&quot;);
               a(r).data(&quot;scrollingCarousel&quot;, false);
               return;
               break;
           case &quot;play&quot;:
               a(&quot;html&quot;).mousemove(function (E) {
                   var F = {
                       x: 0,
                       y: 0
                   };
                   if (E.pageX || E.pageY) {
                       F.x = E.pageX;
                       F.y = E.pageY
                   } else {
                       var G = document.documentElement;
                       var D = document.body;
                       F.x = E.clientX + (G.scrollLeft || D.scrollLeft) - (G.clientLeft || 0);
                       F.y = E.clientY + (G.scrollTop || D.scrollTop) - (G.clientTop || 0)
                   }
                   cursorPosition = F;
                   if (cursorPosition.x &gt;= r.offset().left &amp;&amp; cursorPosition.x &lt;= (r.offset().left + r[0].offsetWidth) &amp;&amp; cursorPosition.y &gt;= r.offset().top &amp;&amp; cursorPosition.y &lt;= (r.offset().top + r[0].offsetHeight)) {
                       t.startCarousel()
                   }
                   r.mouseenter(function () {
                       t.startCarousel()
                   });
                   r.mouseleave(function () {
                       t.stopCarousel(true);
                       if (f.autoScroll == true) {
                           t.autoScroll()
                       }
                   });
                   a(this).unbind(&quot;mousemove&quot;);
                   if (f.autoScroll == true) {
                       t.autoScroll()
                   }
               });
               break
           }
           a(r).data(&quot;scrollingCarousel&quot;, true);
           if (f.afterCreateFunction != null &amp;&amp; a.isFunction(f.afterCreateFunction)) {
               f.afterCreateFunction(r, f)
           }
           return this
       };
       this.Pause = function () {
           this.Create(e, &quot;pause&quot;)
       };
       this.Play = function () {
           this.Create(e, &quot;play&quot;)
       };
       return this.Create(e)
   };
   jQuery.fn.scrollingCarousel.defaults = {
       autoScroll: false,
       autoScrollDirection: &quot;left&quot;,
       autoScrollSpeed: 5000,
       looped: false,
       scrollerAlignment: &quot;horizontal&quot;,
       scrollerOffset: 0,
       scrollSpeed: &quot;medium&quot;,
       beforeCreateFunction: null,
       afterCreateFunction: null
   }
</PRE><P>})(jQuery);
</P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2011.igem.org/Team:UT_Dallas/scrollingcarousel.2.0.min.js">http://2011.igem.org/Team:UT_Dallas/scrollingcarousel.2.0.min.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:UT_Dallas/scrollingcarousel.2.0.min.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:UT_Dallas/scrollingcarousel.2.0.min.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:UT_Dallas/scrollingcarousel.2.0.min.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:UT_Dallas/scrollingcarousel.2.0.min.js&amp;oldid=183123" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2011.igem.org:Privacy_policy" title="2011.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2011.igem.org:General_disclaimer" title="2011.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>