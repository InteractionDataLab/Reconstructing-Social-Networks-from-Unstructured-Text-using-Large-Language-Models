<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_EPF-Lausanne_Tools_Microfluidics_Tamagotchip"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2011.igem.org</H3><DIV id="left"><UL id="accmenu"><LI><A class="head" href="#">Introduction</A></LI><LI><A href="/Team:EPF-Lausanne">Home</A></LI><LI><A href="/Team:EPF-Lausanne/TheTeam">The Team</A></LI><LI><A href="/Team:EPF-Lausanne/Photos">Photo Gallery</A></LI></UL><LI><A class="head" href="#">Our Project</A></LI><LI><A href="/Team:EPF-Lausanne/Our_Project/Summary">Results Summary</A></LI><LI><A href="/Team:EPF-Lausanne/Our_Project/T7_promoter_variants">Selection System</A></LI><LI><A href="/Team:EPF-Lausanne/Our_Project/TetR_mutants"><I>In-Vitro</I> Characterization</A></LI><LI><A href="/Team:EPF-Lausanne/Our_Project/Reporter_Systems"><I>In-Vivo</I> Characterization</A></LI><LI><A href="/Team:EPF-Lausanne/Tools/Microfluidics">Microfluidics</A></LI><LI><A href="/Team:EPF-Lausanne/Our_Project/Data">Data</A></LI><LI><A href="/Team:EPF-Lausanne/Our_Project/Attributions">Attributions</A></LI><LI><A class="head" href="#">Tools</A></LI><LI><A href="/Team:EPF-Lausanne/Tools/Gibson_assembly">Gibson Assembly</A></LI><LI><A href="/Team:EPF-Lausanne/Tools/MITOMI">MITOMI</A></LI><LI><A class="head" href="/Team:EPF-Lausanne/Notebook/September2011">Notebook</A></LI><LI><A href="/Team:EPF-Lausanne/Protocols">Protocols</A></LI><LI><A href="/Team:EPF-Lausanne/Notebook/May2011">May</A></LI><LI><A href="/Team:EPF-Lausanne/Notebook/June2011">June</A></LI><LI><A href="/Team:EPF-Lausanne/Notebook/July2011">July</A></LI><LI><A href="/Team:EPF-Lausanne/Notebook/August2011">August</A></LI><LI><A href="/Team:EPF-Lausanne/Notebook/September2011">September</A></LI><LI><A href="/Team:EPF-Lausanne/Notebook/October2011">October</A></LI><LI><A class="head" href="#">Considerations</A></LI><LI><A href="/Team:EPF-Lausanne/Human_Practices">Human Practices</A></LI><LI><A href="/Team:EPF-Lausanne/Safety">Safety</A></LI><LI><A href="/Team:EPF-Lausanne/Sponsors" class="head">Acknowledgements</A></LI><LI><A href="/Team:EPF-Lausanne/Sponsors">Sponsors</A></LI><LI><A href="/Team:EPF-Lausanne/Partners">Partners</A></LI></DIV><DIV id="right"><H1>Tamagotchip: an online microfluidics demo</H1><SPAN class="backlink">Microfluidics <A href="/Team:EPF-Lausanne/Tools/Microfluidics" title="Team:EPF-Lausanne/Tools/Microfluidics">Main</A> | <A href="/Team:EPF-Lausanne/Tools/Microfluidics/HowTo1" title="Team:EPF-Lausanne/Tools/Microfluidics/HowTo1">How-To Part I</A> | <A href="/Team:EPF-Lausanne/Tools/Microfluidics/HowTo2" title="Team:EPF-Lausanne/Tools/Microfluidics/HowTo2">How-To Part II</A> | <STRONG class="selflink">Tamagotchip</STRONG></SPAN><P>In our quest to promote the use of microfluidics within the iGEM community, we decided to make iGEMers play with a chip from the comfort of their own labs. To do so, we built a web-controlled microfluidics setup, where users can view the chip live and control the valves from a web browser. For historical reasons (see bottom), it was called <I>Tamagotchip</I>, a play on the words &quot;Tamagotchi&quot; and &quot;chip&quot;.
</P><P><I>Outline of the web-controlled system: users see a live stream from our microscope, streamed through EPFL's Flash Media Server, and can control the chip from a standard form. AJAX requests, sent by the user, are relayed by the web server to an EasyDAQ card, which in turn controls the solenoid valves of our setup.</I></P><TABLE id="toc" class="toc"><TBODY><TR><TD><DIV id="toctitle"><H2>Contents</H2></DIV><UL><LI class="toclevel-1 tocsection-1"><A href="#The_Game"><SPAN class="tocnumber">1</SPAN><SPAN class="toctext">The Game</SPAN></A></LI><LI class="toclevel-1 tocsection-2"><A href="#Hardware"><SPAN class="tocnumber">2</SPAN><SPAN class="toctext">Hardware</SPAN></A></LI><LI class="toclevel-1 tocsection-3"><A href="#Software"><SPAN class="tocnumber">3</SPAN><SPAN class="toctext">Software</SPAN></A></LI><LI class="toclevel-1 tocsection-4"><A href="#For_the_geeks:_details_of_the_software_framework"><SPAN class="tocnumber">4</SPAN><SPAN class="toctext">For the geeks: details of the software framework</SPAN></A></LI><LI class="toclevel-1 tocsection-5"><A href="#Older_plans_and_origin_of_the_name"><SPAN class="tocnumber">5</SPAN><SPAN class="toctext">Older plans and origin of the name</SPAN></A></LI></UL></TD></TR></TBODY></TABLE><H2><SPAN class="mw-headline" id="The_Game"> The Game </SPAN></H2><P>The first demo showed flow and mixing of fluids on chip shaped like an iGEM logo. Two dyes, red and blue, as well as transparent liquid, could be injected into the chip from each side. We showed this demo in Amsterdam during the poster session, and to other groups at EPFL. The demo stayed live for half of September, and most of October, allowing other groups (mostly on campus) to try it out.
</P><P><A href="http://www.megavideo.com/?v=OOADAQL9" class="external text" rel="nofollow">Our latest attempt at mixing fluids on a chip</A></P><H2><SPAN class="mw-headline" id="Hardware"> Hardware </SPAN></H2><DIV class="thumb tright"><DIV class="thumbinner" style="width:252px;"><DIV class="thumbcaption">The complete setup during a test-run.</DIV></DIV></DIV><P>The hardware is a relatively standard microfluidics setup, as described on the <A href="/Team:EPF-Lausanne/Tools/Microfluidics/HowTo" title="Team:EPF-Lausanne/Tools/Microfluidics/HowTo" class="mw-redirect">how-to page</A>. It has two different pressure outputs, one with five manual twist valves and the other with twelve solenoid three-way valves. The solenoid valves are controlled by an EasyDAQ USB24mx relay card, connected by USB to a Thinkpad T43 running Ubuntu Linux 11.04. We wrote our own Python software to control the EasyDAQ.
</P><P>The video stream comes from a our toy USB microscope (Celestron Deluxe Handheld Digital Microscope), connected to an Apple Mac Pro. The Mac encodes the video for live streaming through EPFL's Flash Media Server.
</P><H2><SPAN class="mw-headline" id="Software"> Software </SPAN></H2><P>When users points their browser to tamagotchip.epfl.ch, they are presented with a video player and a set of controls for the valves. The video player streams live video from the microscope, with a buffering delay of approximately five seconds. When they click one of the controls, the instruction is relayed to the hardware and the valves respond accordingly.
</P><P>Since there is only one piece of hardware, but many users could log in at the same time, the web application puts users in a waiting line, with only the first person having access to the controls. The others can only watch the video stream. However, to give every one a chance to play, the user in control is swapped every minute, and the others are presented with a countdown of waiting time.
</P><DIV class="thumb tleft"><DIV class="thumbinner" style="width:252px;"><DIV class="thumbcaption">Fellow iGEMers can play with our setup from anywhere, using their web browser.</DIV></DIV></DIV><DIV class="thumb tleft"><DIV class="thumbinner" style="width:252px;"><DIV class="thumbcaption">If another person is playing, the user has to wait in line, but can still watch the video feed.</DIV></DIV></DIV><H2><SPAN class="mw-headline" id="For_the_geeks:_details_of_the_software_framework"> For the geeks: details of the software framework </SPAN></H2><P>The entire software framework, code-named <B>Muigi the Microplumber</B> was written in Python, and is open sourced under the GPL license. The source code is available on <A href="http://github.com/douglas-watson/muigi" class="external text" rel="nofollow">github</A>. The following lists all the packages used, from the hardware up.
</P><P>Communicating with the EasyDAQ is done through the <I>pySerial</I> library. The EasyDAQ expects two-character strings to set the state of its on-chip relays. To provide a clearer interface to the card, a driver-like library provides a set of high level functions, allowing explicit opening or closing of valves, which are then used by the other layers. It also automatically reconnects to the EasyDAQ when it drops the connection. Overall, it provides an abstraction from the hardware, to avoid dealing with low-level hardware communication in the other layers.
</P><P>On top of that, a Remote Procedure Call (RPC) layer provides the connection between the web application and the hardware driver, enabling the two to run on separate computers. All this is handled by the <I>RPyC</I> library and its registry server (which used by the RPC client to discover RPC servers on the network).
</P><P>The final layer is the web application written in <I>Flask</I>, with <I>jQuery</I> on the client side for AJAX calls (to submit forms, and keep track of users in the queue). The queue is kept in a <I>Redis</I> database. The application is served by the <I>CherryPy</I> web server. The automatic twitter posting, from the web app, is managed by python-twitter. All scheduled events (tweeting, clearing the queue of inactive users) is managed by <I>kronos</I>.
</P><P>Video is streamed through EPFL's Flash streaming server. The video is transcoded live by <I>Flash Media Encoder</I> on a Mac Pro, to which the webcam microscope is connected. 
</P><H2><SPAN class="mw-headline" id="Older_plans_and_origin_of_the_name"> Older plans and origin of the name </SPAN></H2><P>The culmination of our system was initially to be an on-chip &quot;Tamagotchi&quot;:  the goal of the game is to take care of a <I>C. Elegans</I> larva living on the chip, feeding him with bacteria every now and then, and watch him grow into an  adult. If you didn't feed him, he would go into <I>dauer</I> stage or, worse, die. This game idea was abandoned shortly before the regional wiki freeze for two reasons: the worms are very hard to see under our cheap microscope, and they do not thrive in our kind of microfluidic chip. Instead, we used the setup as an educational tool, to demo microfluidics. The name stuck, though.
</P><P>The tamagotchi chip has higher channels than the MITOMI chips, to make space for the worm. It is designed with a cavernous main lounge (by nematode standards), with two adjacent dining rooms (or feeding chambers), to allow feeding of the worm with slightly different foods, to observe its preference.
</P></DIV><DIV class="printfooter">
Retrieved from &quot;<A href="http://2011.igem.org/Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip">http://2011.igem.org/Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:EPF-Lausanne/Tools/Microfluidics/Tamagotchip&amp;oldid=241323" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2011.igem.org:Privacy_policy" title="2011.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2011.igem.org:General_disclaimer" title="2011.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>