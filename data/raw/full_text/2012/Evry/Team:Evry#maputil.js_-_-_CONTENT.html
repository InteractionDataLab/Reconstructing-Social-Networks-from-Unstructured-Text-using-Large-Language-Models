<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Evry_maputil_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:Evry/maputil.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Evry/maputil.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Evry/maputil.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Evry/maputil.js&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Evry/maputil.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Evry/maputil.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2012.igem.org</H3><P>/**
</P><PRE>* maputil.js 1.4 (29-Nov-2010)
* (c) by Christian Effenberger 
* All Rights Reserved
* Source: mapper.netzgesta.de
* Distributed under Netzgestade Software License Agreement
* <A href="http://www.netzgesta.de/cvi/LICENSE.txt" class="external free" rel="nofollow">http://www.netzgesta.de/cvi/LICENSE.txt</A>
* License permits free of charge
* use on non-commercial and 
* private web sites only 
</PRE><P>usage: makeSVGfromMap(map, options);
	map: should be a map element: document.getElementsByName(&quot;myimg&quot;)[0]
	options: (contains zero or more values)
	arg1 = output e.g. true (return svg document) | false (open window with source)
	arg2 = width e.g. 502 (image width as pixel value)
	arg3 = height e.g. 482 (image height as pixel value)
	arg4 = strokewidth e.g. 0.75 | default is 0.5 pixel
	arg5 = stroke-miterlimit e.g. 8 | default is 1
	arg6 = initialfillcolor e.g. #cccccc | default is silver
	arg7 = initialstrokecolor e.g. #808080 | default is gray
	arg8 = hoverfillcolor e.g. #66ff66 | default is limegreen
	arg9 = hoverstrokecolor e.g. #00ff00 | default is green
	arg10= backgroundcolor e.g. #ffffff | default is null
</P><P>usage: scaleMapAreaCoords(map, nw, nh, sw, sh, options);
	map: should be a map element: document.getElementsByName(&quot;myimg&quot;)[0]
	nw = width e.g. 800 (natural image width as pixel value)
	nh = height e.g. 400 (natural image height as pixel value)
	sw = width e.g. 400 (scaled image width as pixel value)
	sh = height e.g. 200 (scaled image height as pixel value)
	options: (contains zero or more values)
	arg1 = xoff e.g. -2 (horizontal offset as pixel value)
	arg2 = yoff e.g. -2 (vertical offset as pixel value)
</P><UL><LI>/
</LI></UL><P>function makeSVGfromMap(obj,out,w,h,stw,sml,ifc,isc,hfc,hsc,bgc) {
	function getCl(cla,str,rep){var j,ar,pd,tt=rep; pd=(cla.indexOf(';')!=-1?cla.split(';'):pd=cla); for(j=0;j&lt;pd.length;j++) {if(pd[j].indexOf(':')!=-1) {ar=pd[j].split(':'); if(ar[0].indexOf(str)!=-1) {tt=ar[1]; break;}}} return tt; }
	if(obj.tagName.toLowerCase()==&quot;map&quot;) {
		var a,b,c,d,e,i,j,k,l,n,p,r,s,t,x,y,z,tmp,win,ele=obj.getElementsByTagName(&quot;area&quot;); b=stw||0.5; c=sml||1; x=out?&quot;&lt;&quot;:&quot;&lt;&quot;; y=out?&quot;&gt;&quot;:&quot;&gt;&quot;; z=out?&quot;\n&quot;:&quot;&quot;;
		tmp =x+'?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot;?'+y+z;
		tmp+=x+'!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 20010904//EN&quot; &quot;<A href="http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd" class="external free" rel="nofollow">http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd</A>&quot;'+y+z;
		tmp+=x+'svg width=&quot;'+(w||100)+'px&quot; height=&quot;'+(h||100)+'px&quot; viewBox=&quot;0 0 '+(w||100)+' '+(h||100)+'&quot; xmlns=&quot;<A href="http://www.w3.org/2000/svg" class="external free" rel="nofollow">http://www.w3.org/2000/svg</A>&quot; xmlns:xlink=&quot;<A href="http://www.w3.org/1999/xlink" class="external free" rel="nofollow">http://www.w3.org/1999/xlink</A>&quot;'+y+z;
		tmp+=x+'title'+y+(obj.id||obj.name||&quot;Unnamed&quot;)+x+'/title'+y+x+'desc'+y+'Generated with maputil.js (mapper.netzgesta.de)'+x+'/desc'+y+z;
		tmp+=x+'defs'+y+z+x+'script type=&quot;text/ecmascript&quot;'+y+z+x+'![CDATA['+z+'var fdat=&quot;&quot;,sdat=&quot;&quot;;'+z;
		tmp+='function onAreaOver(evt){var ele=evt.target; fdat=ele.getAttribute(&quot;fill&quot;); sdat=ele.getAttribute(&quot;stroke&quot;); ele.setAttribute(&quot;fill&quot;,&quot;'+(hfc||&quot;limegreen&quot;)+'&quot;); ele.setAttribute(&quot;stroke&quot;,&quot;'+(hsc||&quot;green&quot;)+'&quot;);}'+z;
		tmp+='function onAreaOut(evt){var ele=evt.target; ele.setAttribute(&quot;fill&quot;,fdat); ele.setAttribute(&quot;stroke&quot;,sdat);}'+z;
		tmp+=']]'+y+z+x+'/script'+y+z+x+'/defs'+y+z;
		if(bgc!=<I>) {tmp+=x+'rect id=&quot;background&quot; fill=&quot;'+bgc+'&quot; stroke-width=&quot;0&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;'+(w||100)+'&quot; height=&quot;'+(h||100)+'&quot; /'+y+z;}</I>
		for(i=0;i&lt;ele.length;i++) {
			d=ele[i].coords.split(&quot;,&quot;); s=ele[i].shape; p=<I>; l=ele[i].title||ele[i].alt; a=ele[i].getAttribute('href'); t=l!=</I>?l:&quot;area_&quot;+i; e=&quot;&quot;; n=ele[i].id||ele[i].name||t; e=ele[i].getAttribute(&quot;style&quot;);
			if(e!=null&amp;&amp;!window.navigator.systemLanguage) {k=getCl(e,'fill','silver')||ifc||&quot;silver&quot;; r=getCl(e,'stroke','gray')||isc||&quot;gray&quot;;}else {k=ifc||&quot;silver&quot;; r=isc||&quot;gray&quot;;}
			if(s.toLowerCase()=='rect') {
				tmp+=x+'a xlink:title=&quot;'+l+'&quot; xlink:href=&quot;'+(a!=<I>?a:&quot;#&quot;)+'&quot;'+y+x+'rect id=&quot;'+n+'&quot; fill=&quot;'+k+'&quot; stroke=&quot;'+r+'&quot; stroke-width=&quot;'+b+'px&quot; stroke-miterlimit=&quot;'+c+'&quot; onmouseover=&quot;onAreaOver(evt);&quot; onmouseout=&quot;onAreaOut(evt);&quot; x=&quot;'+parseInt(d[0])+'&quot; y=&quot;'+parseInt(d[1])+'&quot; width=&quot;'+parseInt(d[2]-d[0])+'&quot; height=&quot;'+parseInt(d[3]-d[1])+'&quot; /'+y+x+'/a'+y+z;</I>
			}else if(s.toLowerCase()=='circle') {
				tmp+=x+'a xlink:title=&quot;'+l+'&quot; xlink:href=&quot;'+(a!=<I>?a:&quot;#&quot;)+'&quot;'+y+x+'circle id=&quot;'+n+'&quot; fill=&quot;'+k+'&quot; stroke=&quot;'+r+'&quot; stroke-width=&quot;'+b+'px&quot; stroke-miterlimit=&quot;'+c+'&quot; onmouseover=&quot;onAreaOver(evt);&quot; onmouseout=&quot;onAreaOut(evt);&quot; cx=&quot;'+parseInt(d[0])+'&quot; cy=&quot;'+parseInt(d[1])+'&quot; r=&quot;'+parseInt(d[2])+'&quot; /'+y+x+'/a'+y+z;</I>
			}else if(s.toLowerCase()=='poly') {
				for(j=0;j&lt;d.length;j+=2) {p+=parseInt(d[j])+','+parseInt(d[j+1]); if((j+2)&lt;d.length) {p+=',';}} 
				tmp+=x+'a xlink:title=&quot;'+l+'&quot; xlink:href=&quot;'+(a!=<I>?a:&quot;#&quot;)+'&quot;'+y+x+'polygon id=&quot;'+n+'&quot; fill=&quot;'+k+'&quot; stroke=&quot;'+r+'&quot; stroke-width=&quot;'+b+'px&quot; stroke-miterlimit=&quot;'+c+'&quot; onmouseover=&quot;onAreaOver(evt);&quot; onmouseout=&quot;onAreaOut(evt);&quot; points=&quot;'+p+'&quot; /'+y+x+'/a'+y+z;</I>
			}
</P>
		} tmp+=x+'/svg'+y+z; if(out) {return tmp; }else {win=top.window.open(<I>,&quot;SVG&quot;); win.document.open(&quot;text/html&quot;); win.document.write(&quot;</I><PRE><I>&quot;+tmp+&quot;</I></PRE>&quot;); win.document.close(); return false; }<P>	}
}
</P><P>function scaleMapAreaCoords(obj,nw,nh,sw,sh,xo,yo) {
	if(obj.tagName.toLowerCase()==&quot;map&quot;) {
		var a,d,e,i,j,l,n,p,r,s,t,x,y,w,h,tmp,win,ls=&quot;&lt;area &quot;,le=&quot; /&gt;&quot;,lf=&quot;&quot;,ele=obj.getElementsByTagName(&quot;area&quot;); 
		w=parseFloat(sw/nw); h=parseFloat(sh/nh); x=parseInt(xo||0); y=parseInt(yo||0); tmp='&lt;map name=&quot;'+(obj.name||obj.id)+'&quot;&gt;'+lf;
		for(i=0;i&lt;ele.length;i++) {
			d=ele[i].coords.split(&quot;,&quot;); p=<I>; for(j=0;j&lt;d.length;j+=2) {p+=Math.min(Math.max(Math.round(x+(d[j]*w)),0),sw)+','+Math.min(Math.max(Math.round(y+(d[j+1]*h)),0),sh); if((j+2)&lt;d.length) {p+=',';}} </I>
			s=ele[i].shape||'rect'; t=ele[i].title; a=ele[i].alt; n=ele[i].id; l=ele[i].getAttribute('href')||'#'; e=ele[i].getAttribute('style'); r=ele[i].getAttribute('rel'); tmp+=ls+'shape=&quot;'+s+'&quot; '; 
			if(n!=null) {tmp+='id=&quot;'+n+'&quot; '}; if(t!=null) {tmp+='title=&quot;'+t+'&quot; '}; if(a!=null) {tmp+='alt=&quot;'+a+'&quot; '}; if(r!=null) {tmp+='rel=&quot;'+r+'&quot; '}; if(e!=null) {tmp+='style=&quot;'+e+'&quot; '}; tmp+='href=&quot;'+l+'&quot; coords=&quot;'+p+'&quot;'+le+lf;
</P>
		} tmp+='&lt;/map&gt;'+lf; win=top.window.open(<I>,&quot;COORDS&quot;); win.document.open(&quot;text/html&quot;); win.document.write(&quot;</I><PRE><I>&quot;+tmp+&quot;</I></PRE>&quot;); win.document.close(); return false;<P>	}
}
</P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2012.igem.org/Team:Evry/maputil.js">http://2012.igem.org/Team:Evry/maputil.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Evry/maputil.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Evry/maputil.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Evry/maputil.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Evry/maputil.js&amp;oldid=108229" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2012.igem.org:Privacy_policy" title="2012.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2012.igem.org:General_disclaimer" title="2012.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>