<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Evry_arbor_src_graphics_colors_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:Evry/arbor/src/graphics/colors.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Evry/arbor/src/graphics/colors.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Evry/arbor/src/graphics/colors.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Evry/arbor/src/graphics/colors.js&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Evry/arbor/src/graphics/colors.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Evry/arbor/src/graphics/colors.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2012.igem.org</H3><P>var Colors = (function(){
</P><PRE> var iscolor_re = /#[0-9a-f]{6}/i
 var hexrgb_re = /#(..)(..)(..)/
</PRE><PRE> var d2h = function(d){
   // decimal to hex
   var s=d.toString(16); 
   return (s.length==2) ? s : '0'+s
 }
 
 var h2d = function(h){
   // hex to decimal
   return parseInt(h,16);
 }
</PRE><PRE> var _isRGB = function(color){
   if (!color || typeof color!='object') return false
   var components = objkeys(color).sort().join(&quot;&quot;)
   if (components == 'abgr') return true
 }
</PRE><PRE> // var _isHSB = function(color){
 //   if (!color || typeof cssOrHex!='object') return false
 //   var components = objkeys(color).sort().join(&quot;&quot;)
 //   if (components == 'hsb') return true
 // }
</PRE><PRE> var that = {
   CSS:{aliceblue:&quot;#f0f8ff&quot;, antiquewhite:&quot;#faebd7&quot;, aqua:&quot;#00ffff&quot;, aquamarine:&quot;#7fffd4&quot;, azure:&quot;#f0ffff&quot;, beige:&quot;#f5f5dc&quot;, bisque:&quot;#ffe4c4&quot;, black:&quot;#000000&quot;, blanchedalmond:&quot;#ffebcd&quot;, blue:&quot;#0000ff&quot;, blueviolet:&quot;#8a2be2&quot;, brown:&quot;#a52a2a&quot;, burlywood:&quot;#deb887&quot;, cadetblue:&quot;#5f9ea0&quot;, chartreuse:&quot;#7fff00&quot;, chocolate:&quot;#d2691e&quot;, coral:&quot;#ff7f50&quot;, cornflowerblue:&quot;#6495ed&quot;, cornsilk:&quot;#fff8dc&quot;, crimson:&quot;#dc143c&quot;, cyan:&quot;#00ffff&quot;, darkblue:&quot;#00008b&quot;, darkcyan:&quot;#008b8b&quot;, darkgoldenrod:&quot;#b8860b&quot;, darkgray:&quot;#a9a9a9&quot;, darkgrey:&quot;#a9a9a9&quot;, darkgreen:&quot;#006400&quot;, darkkhaki:&quot;#bdb76b&quot;, darkmagenta:&quot;#8b008b&quot;, darkolivegreen:&quot;#556b2f&quot;, darkorange:&quot;#ff8c00&quot;, darkorchid:&quot;#9932cc&quot;, darkred:&quot;#8b0000&quot;, darksalmon:&quot;#e9967a&quot;, darkseagreen:&quot;#8fbc8f&quot;, darkslateblue:&quot;#483d8b&quot;, darkslategray:&quot;#2f4f4f&quot;, darkslategrey:&quot;#2f4f4f&quot;, darkturquoise:&quot;#00ced1&quot;, darkviolet:&quot;#9400d3&quot;, deeppink:&quot;#ff1493&quot;, deepskyblue:&quot;#00bfff&quot;, dimgray:&quot;#696969&quot;, dimgrey:&quot;#696969&quot;, dodgerblue:&quot;#1e90ff&quot;, firebrick:&quot;#b22222&quot;, floralwhite:&quot;#fffaf0&quot;, forestgreen:&quot;#228b22&quot;, fuchsia:&quot;#ff00ff&quot;, gainsboro:&quot;#dcdcdc&quot;, ghostwhite:&quot;#f8f8ff&quot;, gold:&quot;#ffd700&quot;, goldenrod:&quot;#daa520&quot;, gray:&quot;#808080&quot;, grey:&quot;#808080&quot;, green:&quot;#008000&quot;, greenyellow:&quot;#adff2f&quot;, honeydew:&quot;#f0fff0&quot;, hotpink:&quot;#ff69b4&quot;, indianred:&quot;#cd5c5c&quot;, indigo:&quot;#4b0082&quot;, ivory:&quot;#fffff0&quot;, khaki:&quot;#f0e68c&quot;, lavender:&quot;#e6e6fa&quot;, lavenderblush:&quot;#fff0f5&quot;, lawngreen:&quot;#7cfc00&quot;, lemonchiffon:&quot;#fffacd&quot;, lightblue:&quot;#add8e6&quot;, lightcoral:&quot;#f08080&quot;, lightcyan:&quot;#e0ffff&quot;, lightgoldenrodyellow:&quot;#fafad2&quot;, lightgray:&quot;#d3d3d3&quot;, lightgrey:&quot;#d3d3d3&quot;, lightgreen:&quot;#90ee90&quot;, lightpink:&quot;#ffb6c1&quot;, lightsalmon:&quot;#ffa07a&quot;, lightseagreen:&quot;#20b2aa&quot;, lightskyblue:&quot;#87cefa&quot;, lightslategray:&quot;#778899&quot;, lightslategrey:&quot;#778899&quot;, lightsteelblue:&quot;#b0c4de&quot;, lightyellow:&quot;#ffffe0&quot;, lime:&quot;#00ff00&quot;, limegreen:&quot;#32cd32&quot;, linen:&quot;#faf0e6&quot;, magenta:&quot;#ff00ff&quot;, maroon:&quot;#800000&quot;, mediumaquamarine:&quot;#66cdaa&quot;, mediumblue:&quot;#0000cd&quot;, mediumorchid:&quot;#ba55d3&quot;, mediumpurple:&quot;#9370d8&quot;, mediumseagreen:&quot;#3cb371&quot;, mediumslateblue:&quot;#7b68ee&quot;, mediumspringgreen:&quot;#00fa9a&quot;, mediumturquoise:&quot;#48d1cc&quot;, mediumvioletred:&quot;#c71585&quot;, midnightblue:&quot;#191970&quot;, mintcream:&quot;#f5fffa&quot;, mistyrose:&quot;#ffe4e1&quot;, moccasin:&quot;#ffe4b5&quot;, navajowhite:&quot;#ffdead&quot;, navy:&quot;#000080&quot;, oldlace:&quot;#fdf5e6&quot;, olive:&quot;#808000&quot;, olivedrab:&quot;#6b8e23&quot;, orange:&quot;#ffa500&quot;, orangered:&quot;#ff4500&quot;, orchid:&quot;#da70d6&quot;, palegoldenrod:&quot;#eee8aa&quot;, palegreen:&quot;#98fb98&quot;, paleturquoise:&quot;#afeeee&quot;, palevioletred:&quot;#d87093&quot;, papayawhip:&quot;#ffefd5&quot;, peachpuff:&quot;#ffdab9&quot;, peru:&quot;#cd853f&quot;, pink:&quot;#ffc0cb&quot;, plum:&quot;#dda0dd&quot;, powderblue:&quot;#b0e0e6&quot;, purple:&quot;#800080&quot;, red:&quot;#ff0000&quot;, rosybrown:&quot;#bc8f8f&quot;, royalblue:&quot;#4169e1&quot;, saddlebrown:&quot;#8b4513&quot;, salmon:&quot;#fa8072&quot;, sandybrown:&quot;#f4a460&quot;, seagreen:&quot;#2e8b57&quot;, seashell:&quot;#fff5ee&quot;, sienna:&quot;#a0522d&quot;, silver:&quot;#c0c0c0&quot;, skyblue:&quot;#87ceeb&quot;, slateblue:&quot;#6a5acd&quot;, slategray:&quot;#708090&quot;, slategrey:&quot;#708090&quot;, snow:&quot;#fffafa&quot;, springgreen:&quot;#00ff7f&quot;, steelblue:&quot;#4682b4&quot;, tan:&quot;#d2b48c&quot;, teal:&quot;#008080&quot;, thistle:&quot;#d8bfd8&quot;, tomato:&quot;#ff6347&quot;, turquoise:&quot;#40e0d0&quot;, violet:&quot;#ee82ee&quot;, wheat:&quot;#f5deb3&quot;, white:&quot;#ffffff&quot;, whitesmoke:&quot;#f5f5f5&quot;, yellow:&quot;#ffff00&quot;, yellowgreen:&quot;#9acd32&quot;},
</PRE><PRE>   // possible invocations:
   //    decode(1,2,3,.4)      -&gt; {r:1,   g:2,   b:3,   a:0.4}
   //    decode(128, .7)       -&gt; {r:128, g:128, b:128, a:0.7}    
   //    decode(&quot;#ff0000&quot;)     -&gt; {r:255, g:0,   b:0,   a:1}
   //    decode(&quot;#ff0000&quot;,.5)  -&gt; {r:255, g:0,   b:0,   a:0.5}
   //    decode(&quot;white&quot;)       -&gt; {r:255, g:255, b:255, a:1}
   //    decode({r:0,g:0,b:0}) -&gt; {r:0,   g:0,   b:0,   a:1}
   decode:function(clr){
     var argLen = arguments.length
     for (var i=argLen-1; i&gt;=0; i--) if (arguments[i]===undefined) argLen--
     var args = arguments
     if (!clr) return null
     if (argLen==1 &amp;&amp; _isRGB(clr)) return clr
</PRE><PRE>     var rgb = null
</PRE><PRE>     if (typeof clr=='string'){
       var alpha = 1
       if (argLen==2) alpha = args[1]
       
       var nameMatch = that.CSS[clr.toLowerCase()]
       if (nameMatch!==undefined){
          clr = nameMatch
       }
       var hexMatch = clr.match(iscolor_re)
       if (hexMatch){
         vals = clr.match(hexrgb_re)
         // trace(vals)
         if (!vals || !vals.length || vals.length!=4) return null    
         rgb = {r:h2d(vals[1]), g:h2d(vals[2]), b:h2d(vals[3]), a:alpha}
       }
     }else if (typeof clr=='number'){
       if (argLen&gt;=3){
         rgb = {r:args[0], g:args[1], b:args[2], a:1}
         if (argLen&gt;=4) rgb.a *= args[3]
       }else if(argLen&gt;=1){
         rgb = {r:args[0], g:args[0], b:args[0], a:1}
         if (argLen==2) rgb.a *= args[1]
       }
     }
</PRE><PRE>     // if (!rgb) trace(&quot;&lt;null color&gt;&quot;)
     // else trace(nano(&quot;&lt;r:{r} g:{g} b:{b} a:{a}&gt;&quot;,rgb))
     // 
     // if (arguments.length==1){        
     //   if (_isRGB(clr)) return clr
     //   if (!clr || typeof clr!='string') return null
     // 
     //   var nameMatch = that.CSS[clr.toLowerCase()]
     //   if (nameMatch!==undefined){
     //      clr = nameMatch
     //   }
     //   var hexMatch = clr.match(iscolor_re)
     //   if (hexMatch){
     //     vals = clr.match(hexrgb_re)
     //     if (!vals || !vals.length || vals.length!=4) return null    
     //     var rgb = {r:h2d(vals[1]), g:h2d(vals[2]), b:h2d(vals[3])}
     //     return rgb
     //   }
     // }
     
     return rgb
   },
   validate:function(str){
     if (!str || typeof str!='string') return false
     
     if (that.CSS[str.toLowerCase()] !== undefined) return true
     if (str.match(iscolor_re)) return true
     return false
   },
   
   // transform
   mix:function(color1, color2, proportion){
     var c1 = that.decode(color1)
     var c2 = that.decode(color2)
     
     // var mixed = ... should this be a triplet or a string?
   },
   blend:function(rgbOrHex, alpha){
     alpha = (alpha!==undefined) ? Math.max(0,Math.min(1,alpha)) : 1
     
     var rgb = that.decode(rgbOrHex)
     if (!rgb) return null
     
     if (alpha==1) return rgbOrHex
     var rgb = rgbOrHex
     if (typeof rgbOrHex=='string') rgb = that.decode(rgbOrHex)
     
     var blended = objcopy(rgb)
     blended.a *= alpha
     
     return nano(&quot;rgba({r},{g},{b},{a})&quot;, blended)
   },
   
   // output
   encode:function(rgb){
     if (!_isRGB(rgb)){
       rgb = that.decode(rgb)
       if (!_isRGB(rgb)) return null
     }
     if (rgb.a==1){
       return nano(&quot;#{r}{g}{b}&quot;, {r:d2h(rgb.r), g:d2h(rgb.g), b:d2h(rgb.b)} )        
     }else{
       return nano(&quot;rgba({r},{g},{b},{a})&quot;, rgb)
     }
</PRE><PRE>     // encoding = encoding || &quot;hex&quot;
     // if (!_isRGB(rgb)) return null
     // switch(encoding){
     // case &quot;hex&quot;:
     //   return nano(&quot;#{r}{g}{b}&quot;, {r:d2h(rgb.r), g:d2h(rgb.g), b:d2h(rgb.b)} )
     //   break
     //   
     // case &quot;rgba&quot;:
     //   return nano(&quot;rgba({r},{g},{b},{alpha})&quot;, rgb)
     //   break
     // }
     // // if (rgb===undefined || !rgb.length || rgb.length!=3) return null
     // // return '#'+$.map(rgb, function(c){return d2h(c)}).join(&quot;&quot;)
   }
 }
 
 return that
</PRE><P>})()
</P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2012.igem.org/Team:Evry/arbor/src/graphics/colors.js">http://2012.igem.org/Team:Evry/arbor/src/graphics/colors.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Evry/arbor/src/graphics/colors.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Evry/arbor/src/graphics/colors.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Evry/arbor/src/graphics/colors.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Evry/arbor/src/graphics/colors.js&amp;oldid=124545" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2012.igem.org:Privacy_policy" title="2012.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2012.igem.org:General_disclaimer" title="2012.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>