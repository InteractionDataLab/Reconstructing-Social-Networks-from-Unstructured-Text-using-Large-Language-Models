"
Page
Discussion
View source
History
teams
Log in
Â 
Team:USTC-China/temp4
From 2012.igem.org
(function($){jQuery.fn.wpslider=function(l){var m=this;l=jQuery.extend({g_nTransitStyle:6,g_nTransitTime:3000,g_nStartPanel:0,g_bPlayAtStart:false,g_bPlayAfterPress:false,g_bHandleMouseWheel:true,g_nLoopAround:0,g_nAccdnBtnWidth:40,g_nAccdnAction:1,g_nCols:2,g_nRows:2,g_nOverlaySlidePos:0,g_nOverlaySlideMargin:60,g_nOverlayFadeLeft:0,g_nOverlayFadeTop:0,g_nDivId:null},l);m.settings=l;var n={Basic:0,RightToLeft:1,LeftToRight:2,OpaqueFade:3,TopToBottom:4,BottomToTop:5,Medley:6,AccordionHoriz:7,AccordionVert:8,OverlaySlide:9,OverlayFade:10,Scroller:11,Timed:12};var o={Bottom:0,Top:1,Left:2,Right:3};var p={None:0,Click:1,MouseOver:2};var q={Everything:0,PlayOnly:1,PrevNextOnly:2,Nothing:3};var r=$(l.g_nDivId);var s=r.width();var t=r.height();var u=0;var v=0;var w=false;var x=false;var y=false;var z=[];var A=0;var B=[];var C=0;var D=0;var E=-1;var F=false;var G=1500;var H=null;var I=false;function stopTimer(){if(w){var i;w=false;clearInterval(H);for(i=0;i<C;++i){B[i](w)}}}function allowLoopAround(a,b){if(l.g_nLoopAround===q.Nothing){return(b?u>0:u<(D-1))}else if(a&&l.g_nLoopAround===q.PrevNextOnly){return(u<(D-1))}else if(!a&&l.g_nLoopAround===q.PlayOnly){return(b?u>0:u<(D-1))}return true}function animateVertSlide(a,b,c,d){c.css({top:a,visibility:'inherit',opacity:1.0});c.animate({top:0},500);d.animate({top:b},500,function(){$(this).css({visibility:'hidden',top:0,opacity:1.0})})}function animateHorizSlide(a,b,c,d){c.css({left:a,visibility:'inherit',opacity:1.0});c.animate({left:0},500);d.animate({left:b},500,function(){$(this).css({visibility:'hidden',left:0,opacity:1.0})})}function switchSlide(a){if(a===u){return}y=true;var b=0;var c=r.children("div").eq(u);if(a>E){x=(a<u);v=u;u=a}else{if(x){v=u--;if(u<0){u=D-1}}else{v=u++;if(u>=D){u=0}}}var d=r.children("div").eq(u);if(F){++l.g_nTransitStyle;if(l.g_nTransitStyle>=n.Medley){c.css({visibility:'inherit'});l.g_nTransitStyle=n.RightToLeft}}var e,nLeftPos,nStartPos,nEndPos,nOffset,i,j,$childDiv;switch(l.g_nTransitStyle){case n.Basic:d.css({visibility:'inherit'});c.css({visibility:'hidden'});b=10;break;case n.OpaqueFade:c.css({visibility:'inherit','z-index':-1});c.animate({opacity:0.0},500);d.css({opacity:0.0,'z-index':0,visibility:'inherit'});d.animate({opacity:1.0},500,function(){c.css({opacity:1.0,visibility:'hidden','z-index':0})});b=500;break;case n.RightToLeft:if(F){x=false}nStartPos=x?-s:s;nEndPos=x?s:-s;animateHorizSlide(nStartPos,nEndPos,d,c);b=500;break;case n.LeftToRight:if(F){x=false}nStartPos=x?s:-s;nEndPos=x?-s:s;animateHorizSlide(nStartPos,nEndPos,d,c);b=500;break;case n.TopToBottom:if(F){x=false}nStartPos=x?t:-t;nEndPos=x?-t:t;animateVertSlide(nStartPos,nEndPos,d,c);b=500;break;case n.BottomToTop:if(F){x=false}nStartPos=x?-t:t;nEndPos=x?t:-t;animateVertSlide(nStartPos,nEndPos,d,c);b=500;break;case n.AccordionHoriz:if(u>v){for(i=(parseInt(v,10)+1);i<=u;++i){$childDiv=r.children("div").eq(i);$childDiv.animate({'left':(i*l.g_nAccdnBtnWidth)},200)}}else if(u<v){nOffset=(s-(D*l.g_nAccdnBtnWidth));for(i=(parseInt(u,10)+1);i<=v;++i){$childDiv=r.children("div").eq(i);nLeftPos=(i===0)?0:(i*l.g_nAccdnBtnWidth)+nOffset;$childDiv.animate({'left':nLeftPos},200)}}b=200;break;case n.AccordionVert:if(u>v){for(i=(parseInt(v,10)+1);i<=u;++i){$childDiv=r.children("div").eq(i);$childDiv.animate({'top':(i*l.g_nAccdnBtnWidth)},200)}}else if(u<v){nOffset=(t-(D*l.g_nAccdnBtnWidth));for(i=(parseInt(u,10)+1);i<=v;++i){$childDiv=r.children("div").eq(i);e=(i===0)?0:(i*l.g_nAccdnBtnWidth)+nOffset;$childDiv.animate({'top':e},200)}}b=200;break;case n.Scroller:var f=(Math.floor(u/l.g_nCols))*-1;var g=(u%l.g_nCols)*-1;var h=0;e=0;nLeftPos=0;for(i=0;i<l.g_nRows;++i){e=(f+i)*t;for(j=0;j<l.g_nCols;++j){nLeftPos=(g+j)*s;var k=r.children("div").eq(h);k.animate({'top':e,'left':nLeftPos},500);++h}}b=500;break}setTimeout(function(){y=false},b);for(i=0;i<A;++i){z[i](u)}x=false}function startTimer(){if(!w&&allowLoopAround(true,false)){var i;w=true;for(i=0;i<C;++i){B[i](w)}H=setInterval(function(){if(allowLoopAround(true,false)){switchSlide(E)}else{stopTimer()}},l.g_nTransitTime)}}function handleMouseWheel(a){var b=w;stopTimer();if(!y){if(a<0){if(allowLoopAround(false,true)){x=true;switchSlide(E);x=false}}else{if(allowLoopAround(false,false)){switchSlide(E)}}}if(b&&l.g_bPlayAfterPress){startTimer()}}function mouseWheel(a){if(!I){return}var b=0;if(!a){a=window.event}if(a.wheelDelta){b=a.wheelDelta/120;if(jQuery.browser.opera){b=-b}}else if(a.detail){b=-a.detail/3}if(b){handleMouseWheel(b)}if(a.preventDefault){a.preventDefault()}a.returnValue=false}function initMouseWheel(){if(l.g_bHandleMouseWheel){r.hover(function(){I=true},function(){I=false});if(window.addEventListener){window.addEventListener('DOMMouseScroll',mouseWheel,false);window.addEventListener('mousewheel',mouseWheel,false)}else if(document.attachEvent){document.attachEvent("onmousewheel",mouseWheel)}}}function initDefault(){if(l.g_nTransitStyle===n.Medley){l.g_nTransitStyle=n.RightToLeft;F=true}if(l.g_nStartPanel>0&&l.g_nStartPanel<D){u=v=l.g_nStartPanel;var a=r.children("div").eq(0);var b=r.children("div").eq(u);b.css({visibility:'inherit'});a.css({visibility:'hidden'})}initMouseWheel()}function initAccordion(d){var i,nLeftPos,nDiv,nXOffset,$childDiv;var f=d?(s-(D*l.g_nAccdnBtnWidth)):(t-(D*l.g_nAccdnBtnWidth));var g=r.children("div").eq(0);g.css({'left':0,'top':0,'visibility':'inherit'});var h=false;if(l.g_nStartPanel>0&&l.g_nStartPanel<D){u=v=l.g_nStartPanel;h=true}if(d){for(i=1;i<D;++i){if(h&&i>u){h=false}$childDiv=r.children("div").eq(i);nLeftPos=(i*l.g_nAccdnBtnWidth)+(h?0:f);$childDiv.css({'left':nLeftPos,'visibility':'inherit'})}for(i=0;i<D;++i){$childDiv=r.children("div").eq(i);$childDiv.attr('currentDiv',i);if(l.g_nAccdnAction===p.Click){$childDiv.click(function(e){var a=$(this).offset().left-$(window).scrollLeft();var b=e.clientX-a;if(b<=l.g_nAccdnBtnWidth){stopTimer();var c=$(this).attr('currentDiv');switchSlide(c)}})}else if(l.g_nAccdnAction===p.MouseOver){$childDiv.mouseover(function(e){var a=$(this).offset().left-$(window).scrollLeft();var b=e.clientX-a;if(b<=l.g_nAccdnBtnWidth){stopTimer();var c=$(this).attr('currentDiv');switchSlide(c)}})}}}else{for(i=1;i<D;++i){if(h&&i>u){h=false}$childDiv=r.children("div").eq(i);var j=(i*l.g_nAccdnBtnWidth)+(h?0:f);$childDiv.css({'top':j,'visibility':'inherit'})}for(i=0;i<D;++i){$childDiv=r.children("div").eq(i);$childDiv.attr('currentDiv',i);if(l.g_nAccdnAction===p.Click){$childDiv.click(function(e){var a=$(this).offset().top-$(window).scrollTop();var b=e.clientY-a;if(b<=l.g_nAccdnBtnWidth){stopTimer();nDiv=$(this).attr('currentDiv');switchSlide(nDiv)}})}else if(l.g_nAccdnAction===p.MouseOver){$childDiv.mouseover(function(e){var a=$(this).offset().top-$(window).scrollTop();var b=e.clientY-a;if(b<=l.g_nAccdnBtnWidth){stopTimer();nDiv=$(this).attr('currentDiv');switchSlide(nDiv)}})}}}initMouseWheel()}function initOverlaySlide(){var a=r.children("div").eq(1);var b=0;var c=0;var d=0;var e=0;switch(l.g_nOverlaySlidePos){case o.Bottom:b=t-l.g_nOverlaySlideMargin;c=t-a.height();break;case o.Top:b=l.g_nOverlaySlideMargin-a.height();c=0;break;case o.Left:d=l.g_nOverlaySlideMargin-a.width();e=0;break;case o.Right:d=s-l.g_nOverlaySlideMargin;e=s-a.width();break}a.css({'left':d,'top':b,'visibility':'inherit'});r.hover(function(){a.animate({'left':e,'top':c},200)},function(){a.animate({'left':d,'top':b},200)})}function initOverlayFade(){var a=r.children("div").eq(1);a.css({'z-index':-1,'left':l.g_nOverlayFadeLeft,'top':l.g_nOverlayFadeTop,'visibility':'inherit'});a.animate({'opacity':0.0},0);r.hover(function(){a.css({'z-index':0});a.animate({'opacity':1.0},200)},function(){a.animate({'opacity':0.0},200,function(){$(this).css({'z-index':-1})})})}function initTimed(){for(var i=0;i<D;++i){var a=r.children("div").eq(i);var b=a.attr('rev');var c=b.split('#');var d=new Date();var e=new Date(parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10),0);var f=new Date(parseInt(c[6],10),parseInt(c[7],10),parseInt(c[8],10),parseInt(c[9],10),parseInt(c[10],10),parseInt(c[11],10),0);if(d>=e&&d<=f){if(i!==0){var g=r.children("div").eq(0);g.css({'visibility':'hidden'});a.css({'visibility':'inherit'})}break}}l.g_bPlayAtStart=false}function initScroller(){if(D!==(l.g_nRows*l.g_nCols)){l.g_nRows=1;l.g_nCols=D}var a=0;var b=0;var c=0;var i,j;for(i=0;i<l.g_nRows;++i){b=(i*t);for(j=0;j<l.g_nCols;++j){var d=r.children("div").eq(a);c=(j*s);d.css({'top':b,'left':c,'visibility':'inherit'});++a}}initMouseWheel()}function initialise(){if(l.g_nTransitTime<G){l.g_nTransitTime=G}D=r.children("div").size();switch(l.g_nTransitStyle){case n.AccordionHoriz:initAccordion(true);break;case n.AccordionVert:initAccordion(false);break;case n.OverlaySlide:initOverlaySlide();break;case n.OverlayFade:initOverlayFade();break;case n.Scroller:initScroller();break;case n.Timed:initTimed();break;default:initDefault();break}if(l.g_bPlayAtStart){startTimer()}}initialise();m.previous=function(){var a=w;stopTimer();if(!y&&allowLoopAround(false,true)){x=true;switchSlide(E);x=false}if(a&&l.g_bPlayAfterPress){startTimer()}};m.next=function(){var a=w;stopTimer();if(!y&&allowLoopAround(false,false)){switchSlide(E)}if(a&&l.g_bPlayAfterPress){startTimer()}};m.play=function(){stopTimer();if(!y&&allowLoopAround(true,false)){switchSlide(E)}startTimer()};m.pause=function(){stopTimer()};m.isPlaying=function(){return w};m.navigate=function(a){var b=w;stopTimer();if(!y&&a>-1&&a<D){switchSlide(a)}if(b&&l.g_bPlayAfterPress){startTimer()}};m.navCallback=function(a){if(typeof a==="function"){z[A++]=a}};m.playCallback=function(a){if(typeof a==="function"){B[C++]=a}};return m}})(jQuery);
Retrieved from " http://2012.igem.org/Team:USTC-China/temp4 "
Recent changes
What links here
Related changes
Special pages
My preferences
Printable version
Permanent link
Privacy policy
Disclaimers
