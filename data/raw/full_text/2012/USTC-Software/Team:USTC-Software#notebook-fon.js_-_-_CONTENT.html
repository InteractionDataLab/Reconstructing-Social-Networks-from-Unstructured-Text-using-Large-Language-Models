<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_USTC-Software_notebook-fon_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:USTC-Software/notebook-fon.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:USTC-Software/notebook-fon.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:USTC-Software/notebook-fon.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:USTC-Software/notebook-fon.js&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:USTC-Software/notebook-fon.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:USTC-Software/notebook-fon.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2012.igem.org</H3><P>/*
</P><PRE>* Copyright (c) 2009 Simo Kinnunen.
* Licensed under the MIT license.
*
* @version 1.09i
*/
</PRE><P>var Cufon=(function(){var m=function(){return m.replace.apply(null,arguments)};var x=m.DOM={ready:(function(){var C=false,E={loaded:1,complete:1};var B=[],D=function(){if(C){return}C=true;for(var F;F=B.shift();F()){}};if(document.addEventListener){document.addEventListener(&quot;DOMContentLoaded&quot;,D,false);window.addEventListener(&quot;pageshow&quot;,D,false)}if(!window.opera&amp;&amp;document.readyState){(function(){E[document.readyState]?D():setTimeout(arguments.callee,10)})()}if(document.readyState&amp;&amp;document.createStyleSheet){(function(){try{document.body.doScroll(&quot;left&quot;);D()}catch(F){setTimeout(arguments.callee,1)}})()}q(window,&quot;load&quot;,D);return function(F){if(!arguments.length){D()}else{C?F():B.push(F)}}})(),root:function(){return document.documentElement||document.body}};var n=m.CSS={Size:function(C,B){this.value=parseFloat(C);this.unit=String(C).match(/[a-z%]*$/)[0]||&quot;px&quot;;this.convert=function(D){return D/B*this.value};this.convertFrom=function(D){return D/this.value*B};this.toString=function(){return this.value+this.unit}},addClass:function(C,B){var D=C.className;C.className=D+(D&amp;&amp;&quot; &quot;)+B;return C},color:j(function(C){var B={};B.color=C.replace(/^rgba\((.*?),\s*([\d.]+)\)/,function(E,D,F){B.opacity=parseFloat(F);return&quot;rgb(&quot;+D+&quot;)&quot;});return B}),fontStretch:j(function(B){if(typeof B==&quot;number&quot;){return B}if(/%$/.test(B)){return parseFloat(B)/100}return{&quot;ultra-condensed&quot;:0.5,&quot;extra-condensed&quot;:0.625,condensed:0.75,&quot;semi-condensed&quot;:0.875,&quot;semi-expanded&quot;:1.125,expanded:1.25,&quot;extra-expanded&quot;:1.5,&quot;ultra-expanded&quot;:2}[B]||1}),getStyle:function(C){var B=document.defaultView;if(B&amp;&amp;B.getComputedStyle){return new a(B.getComputedStyle(C,null))}if(C.currentStyle){return new a(C.currentStyle)}return new a(C.style)},gradient:j(function(F){var G={id:F,type:F.match(/^-([a-z]+)-gradient\(/)[1],stops:[]},C=F.substr(F.indexOf(&quot;(&quot;)).match(/([\d.]+=)?(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)/ig);for(var E=0,B=C.length,D;E<B>0){E=&quot; &quot;+E}}else{if(B&lt;C-1){E+=&quot; &quot;}}return E},textShadow:j(function(F){if(F==&quot;none&quot;){return null}var E=[],G={},B,C=0;var D=/(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)|(-?[\d.]+[a-z%]*)|,/ig;while(B=D.exec(F)){if(B[0]==&quot;,&quot;){E.push(G);G={};C=0}else{if(B[1]){G.color=B[1]}else{G[[&quot;offX&quot;,&quot;offY&quot;,&quot;blur&quot;][C++]]=B[2]}}}E.push(G);return E}),textTransform:(function(){var B={uppercase:function(C){return C.toUpperCase()},lowercase:function(C){return C.toLowerCase()},capitalize:function(C){return C.replace(/\b./g,function(D){return D.toUpperCase()})}};return function(E,D){var C=B[D.get(&quot;textTransform&quot;)];return C?C(E):E}})(),whiteSpace:(function(){var D={inline:1,&quot;inline-block&quot;:1,&quot;run-in&quot;:1};var C=/^\s+/,B=/\s+$/;return function(H,F,G,E){if(E){if(E.nodeName.toLowerCase()==&quot;br&quot;){H=H.replace(C,&quot;&quot;)}}if(D[F.get(&quot;display&quot;)]){return H}if(!G.previousSibling){H=H.replace(C,&quot;&quot;)}if(!G.nextSibling){H=H.replace(B,&quot;&quot;)}return H}})()};n.ready=(function(){var B=!n.recognizesMedia(&quot;all&quot;),E=false;var D=[],H=function(){B=true;for(var K;K=D.shift();K()){}};var I=g(&quot;link&quot;),J=g(&quot;style&quot;);function C(K){return K.disabled||G(K.sheet,K.media||&quot;screen&quot;)}function G(M,P){if(!n.recognizesMedia(P||&quot;all&quot;)){return true}if(!M||M.disabled){return false}try{var Q=M.cssRules,O;if(Q){search:for(var L=0,K=Q.length;O=Q[L],L&lt;K;++L){switch(O.type){case 2:break;case 3:if(!G(O.styleSheet,O.media.mediaText)){return false}break;default:break search}}}}catch(N){}return true}function F(){if(document.createStyleSheet){return true}var L,K;for(K=0;L=I[K];++K){if(L.rel.toLowerCase()==&quot;stylesheet&quot;&amp;&amp;!C(L)){return false}}for(K=0;L=J[K];++K){if(!C(L)){return false}}return true}x.ready(function(){if(!E){E=n.getStyle(document.body).isUsable()}if(B||(E&amp;&amp;F())){H()}else{setTimeout(arguments.callee,10)}});return function(K){if(B){K()}else{D.push(K)}}})();function s(D){var C=this.face=D.face,B={&quot;\u0020&quot;:1,&quot;\u00a0&quot;:1,&quot;\u3000&quot;:1};this.glyphs=D.glyphs;this.w=D.w;this.baseSize=parseInt(C[&quot;units-per-em&quot;],10);this.family=C[&quot;font-family&quot;].toLowerCase();this.weight=C[&quot;font-weight&quot;];this.style=C[&quot;font-style&quot;]||&quot;normal&quot;;this.viewBox=(function(){var F=C.bbox.split(/\s+/);var E={minX:parseInt(F[0],10),minY:parseInt(F[1],10),maxX:parseInt(F[2],10),maxY:parseInt(F[3],10)};E.width=E.maxX-E.minX;E.height=E.maxY-E.minY;E.toString=function(){return[this.minX,this.minY,this.width,this.height].join(&quot; &quot;)};return E})();this.ascent=-parseInt(C.ascent,10);this.descent=-parseInt(C.descent,10);this.height=-this.ascent+this.descent;this.spacing=function(L,N,E){var O=this.glyphs,M,K,G,P=[],F=0,J=-1,I=-1,H;while(H=L[++J]){M=O[H]||this.missingGlyph;if(!M){continue}if(K){F-=G=K[H]||0;P[I]-=G}F+=P[++I]=~~(M.w||this.w)+N+(B[H]?E:0);K=M.k}P.total=F;return P}}function f(){var C={},B={oblique:&quot;italic&quot;,italic:&quot;oblique&quot;};this.add=function(D){(C[D.style]||(C[D.style]={}))[D.weight]=D};this.get=function(H,I){var G=C[H]||C[B[H]]||C.normal||C.italic||C.oblique;if(!G){return null}I={normal:400,bold:700}[I]||parseInt(I,10);if(G[I]){return G[I]}var E={1:1,99:0}[I%100],K=[],F,D;if(E===undefined){E=I&gt;400}if(I==500){I=400}for(var J in G){if(!k(G,J)){continue}J=parseInt(J,10);if(!F||J&lt;F){F=J}if(!D||J&gt;D){D=J}K.push(J)}if(I&lt;F){I=F}if(I&gt;D){I=D}K.sort(function(M,L){return(E?(M&gt;=I&amp;&amp;L&gt;=I)?M&lt;L:M&gt;L:(M&lt;=I&amp;&amp;L&lt;=I)?M&gt;L:M&lt;L)?-1:1});return G[K[0]]}}function r(){function D(F,G){if(F.contains){return F.contains(G)}return F.compareDocumentPosition(G)&amp;16}function B(G){var F=G.relatedTarget;if(!F||D(this,F)){return}C(this,G.type==&quot;mouseover&quot;)}function E(F){C(this,F.type==&quot;mouseenter&quot;)}function C(F,G){setTimeout(function(){var H=d.get(F).options;m.replace(F,G?h(H,H.hover):H,true)},10)}this.attach=function(F){if(F.onmouseenter===undefined){q(F,&quot;mouseover&quot;,B);q(F,&quot;mouseout&quot;,B)}else{q(F,&quot;mouseenter&quot;,E);q(F,&quot;mouseleave&quot;,E)}}}function u(){var C=[],D={};function B(H){var E=[],G;for(var F=0;G=H[F];++F){E[F]=C[D[G]]}return E}this.add=function(F,E){D[F]=C.push(E)-1};this.repeat=function(){var E=arguments.length?B(arguments):C,F;for(var G=0;F=E[G++];){m.replace(F[0],F[1],true)}}}function A(){var D={},B=0;function C(E){return E.cufid||(E.cufid=++B)}this.get=function(E){var F=C(E);return D[F]||(D[F]={})}}function a(B){var D={},C={};this.extend=function(E){for(var F in E){if(k(E,F)){D[F]=E[F]}}return this};this.get=function(E){return D[E]!=undefined?D[E]:B[E]};this.getSize=function(F,E){return C[F]||(C[F]=new n.Size(this.get(F),E))};this.isUsable=function(){return !!B}}function q(C,B,D){if(C.addEventListener){C.addEventListener(B,D,false)}else{if(C.attachEvent){C.attachEvent(&quot;on&quot;+B,function(){return D.call(C,window.event)})}}}function v(C,B){var D=d.get(C);if(D.options){return C}if(B.hover&amp;&amp;B.hoverables[C.nodeName.toLowerCase()]){b.attach(C)}D.options=B;return C}function j(B){var C={};return function(D){if(!k(C,D)){C[D]=B.apply(null,arguments)}return C[D]}}function c(F,E){var B=n.quotedList(E.get(&quot;fontFamily&quot;).toLowerCase()),D;for(var C=0;D=B[C];++C){if(i[D]){return i[D].get(E.get(&quot;fontStyle&quot;),E.get(&quot;fontWeight&quot;))}}return null}function g(B){return document.getElementsByTagName(B)}function k(C,B){return C.hasOwnProperty(B)}function h(){var C={},B,F;for(var E=0,D=arguments.length;B=arguments[E],E&lt;D;++E){for(F in B){if(k(B,F)){C[F]=B[F]}}}return C}function o(E,M,C,N,F,D){var K=document.createDocumentFragment(),H;if(M===&quot;&quot;){return K}var L=N.separate;var I=M.split(p[L]),B=(L==&quot;words&quot;);if(B&amp;&amp;t){if(/^\s/.test(M)){I.unshift(&quot;&quot;)}if(/\s$/.test(M)){I.push(&quot;&quot;)}}for(var J=0,G=I.length;J&lt;G;++J){H=z[N.engine](E,B?n.textAlign(I[J],C,J,G):I[J],C,N,F,D,J&lt;G-1);if(H){K.appendChild(H)}}return K}function l(D,M){var C=D.nodeName.toLowerCase();if(M.ignore[C]){return}var E=!M.textless[C];var B=n.getStyle(v(D,M)).extend(M);var F=c(D,B),G,K,I,H,L,J;if(!F){return}for(G=D.firstChild;G;G=I){K=G.nodeType;I=G.nextSibling;if(E&amp;&amp;K==3){if(H){H.appendData(G.data);D.removeChild(G)}else{H=G}if(I){continue}}if(H){D.replaceChild(o(F,n.whiteSpace(H.data,B,H,J),B,M,G,D),H);H=null}if(K==1){if(G.firstChild){if(G.nodeName.toLowerCase()==&quot;cufon&quot;){z[M.engine](F,null,B,M,G,D)}else{arguments.callee(G,M)}}J=G}}}var t=&quot; &quot;.split(/\s+/).length==0;var d=new A();var b=new r();var y=new u();var e=false;var z={},i={},w={autoDetect:false,engine:null,forceHitArea:false,hover:false,hoverables:{a:true},ignore:{applet:1,canvas:1,col:1,colgroup:1,head:1,iframe:1,map:1,optgroup:1,option:1,script:1,select:1,style:1,textarea:1,title:1,pre:1},printable:true,selector:(window.Sizzle||(window.jQuery&amp;&amp;function(B){return jQuery(B)})||(window.dojo&amp;&amp;dojo.query)||(window.Ext&amp;&amp;Ext.query)||(window.YAHOO&amp;&amp;YAHOO.util&amp;&amp;YAHOO.util.Selector&amp;&amp;YAHOO.util.Selector.query)||(window.$$&amp;&amp;function(B){return $$(B)})||(window.$&amp;&amp;function(B){return $(B)})||(document.querySelectorAll&amp;&amp;function(B){return document.querySelectorAll(B)})||g),separate:&quot;words&quot;,textless:{dl:1,html:1,ol:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,ul:1},textShadow:&quot;none&quot;};var p={words:/\s/.test(&quot;\u00a0&quot;)?/[^\S\u00a0]+/:/\s+/,characters:&quot;&quot;,none:/^/};m.now=function(){x.ready();return m};m.refresh=function(){y.repeat.apply(y,arguments);return m};m.registerEngine=function(C,B){if(!B){return m}z[C]=B;return m.set(&quot;engine&quot;,C)};m.registerFont=function(D){if(!D){return m}var B=new s(D),C=B.family;if(!i[C]){i[C]=new f()}i[C].add(B);return m.set(&quot;fontFamily&quot;,'&quot;'+C+'&quot;')};m.replace=function(D,C,B){C=h(w,C);if(!C.engine){return m}if(!e){n.addClass(x.root(),&quot;cufon-active cufon-loading&quot;);n.ready(function(){n.addClass(n.removeClass(x.root(),&quot;cufon-loading&quot;),&quot;cufon-ready&quot;)});e=true}if(C.hover){C.forceHitArea=true}if(C.autoDetect){delete C.fontFamily}if(typeof C.textShadow==&quot;string&quot;){C.textShadow=n.textShadow(C.textShadow)}if(typeof C.color==&quot;string&quot;&amp;&amp;/^-/.test(C.color)){C.textGradient=n.gradient(C.color)}else{delete C.textGradient}if(!B){y.add(D,arguments)}if(D.nodeType||typeof D==&quot;string&quot;){D=[D]}n.ready(function(){for(var F=0,E=D.length;F&lt;E;++F){var G=D[F];if(typeof G==&quot;string&quot;){m.replace(C.selector(G),C,true)}else{l(G,C)}}});return m};m.set=function(B,C){w[B]=C;return m};return m})();Cufon.registerEngine(&quot;vml&quot;,(function(){var e=document.namespaces;if(!e){return}e.add(&quot;cvml&quot;,&quot;urn:schemas-microsoft-com:vml&quot;);e=null;var b=document.createElement(&quot;cvml:shape&quot;);b.style.behavior=&quot;url(#default#VML)&quot;;if(!b.coordsize){return}b=null;var h=(document.documentMode||0)&lt;8;document.write(('&lt;style type=&quot;text/css&quot;&gt;cufoncanvas{text-indent:0;}@media screen{cvml\\:shape,cvml\\:rect,cvml\\:fill,cvml\\:shadow{behavior:url(#default#VML);display:block;antialias:true;position:absolute;}cufoncanvas{position:absolute;text-align:left;}cufon{display:inline-block;position:relative;vertical-align:'+(h?&quot;middle&quot;:&quot;text-bottom&quot;)+&quot;;}cufon cufontext{position:absolute;left:-10000in;font-size:1px;}a cufon{cursor:pointer}}@media print{cufon cufoncanvas{display:none;}}&lt;/style&gt;&quot;).replace(/;/g,&quot;!important;&quot;));function c(i,j){return a(i,/(?:em|ex|%)$|^[a-z-]+$/i.test(j)?&quot;1em&quot;:j)}function a(l,m){if(m===&quot;0&quot;){return 0}if(/px$/i.test(m)){return parseFloat(m)}var k=l.style.left,j=l.runtimeStyle.left;l.runtimeStyle.left=l.currentStyle.left;l.style.left=m.replace(&quot;%&quot;,&quot;em&quot;);var i=l.style.pixelLeft;l.style.left=k;l.runtimeStyle.left=j;return i}function f(l,k,j,n){var i=&quot;computed&quot;+n,m=k[i];if(isNaN(m)){m=k.get(n);k[i]=m=(m==&quot;normal&quot;)?0:~~j.convertFrom(a(l,m))}return m}var g={};function d(p){var q=p.id;if(!g[q]){var n=p.stops,o=document.createElement(&quot;cvml:fill&quot;),i=[];o.type=&quot;gradient&quot;;o.angle=180;o.focus=&quot;0&quot;;o.method=&quot;sigma&quot;;o.color=n[0][1];for(var m=1,l=n.length-1;m&lt;l;++m){i.push(n[m][0]*100+&quot;% &quot;+n[m][1])}o.colors=i.join(&quot;,&quot;);o.color2=n[l][1];g[q]=o}return g[q]}return function(ac,G,Y,C,K,ad,W){var n=(G===null);if(n){G=K.alt}var I=ac.viewBox;var p=Y.computedFontSize||(Y.computedFontSize=new Cufon.CSS.Size(c(ad,Y.get(&quot;fontSize&quot;))+&quot;px&quot;,ac.baseSize));var y,q;if(n){y=K;q=K.firstChild}else{y=document.createElement(&quot;cufon&quot;);y.className=&quot;cufon cufon-vml&quot;;y.alt=G;q=document.createElement(&quot;cufoncanvas&quot;);y.appendChild(q);if(C.printable){var Z=document.createElement(&quot;cufontext&quot;);Z.appendChild(document.createTextNode(G));y.appendChild(Z)}if(!W){y.appendChild(document.createElement(&quot;cvml:shape&quot;))}}var ai=y.style;var R=q.style;var l=p.convert(I.height),af=Math.ceil(l);var V=af/l;var P=V*Cufon.CSS.fontStretch(Y.get(&quot;fontStretch&quot;));var U=I.minX,T=I.minY;R.height=af;R.top=Math.round(p.convert(T-ac.ascent));R.left=Math.round(p.convert(U));ai.height=p.convert(ac.height)+&quot;px&quot;;var F=Y.get(&quot;color&quot;);var ag=Cufon.CSS.textTransform(G,Y).split(&quot;&quot;);var L=ac.spacing(ag,f(ad,Y,p,&quot;letterSpacing&quot;),f(ad,Y,p,&quot;wordSpacing&quot;));if(!L.length){return null}var k=L.total;var x=-U+k+(I.width-L[L.length-1]);var ah=p.convert(x*P),X=Math.round(ah);var O=x+&quot;,&quot;+I.height,m;var J=&quot;r&quot;+O+&quot;ns&quot;;var u=C.textGradient&amp;&amp;d(C.textGradient);var o=ac.glyphs,S=0;var H=C.textShadow;var ab=-1,aa=0,w;while(w=ag[++ab]){var D=o[ag[ab]]||ac.missingGlyph,v;if(!D){continue}if(n){v=q.childNodes[aa];while(v.firstChild){v.removeChild(v.firstChild)}}else{v=document.createElement(&quot;cvml:shape&quot;);q.appendChild(v)}v.stroked=&quot;f&quot;;v.coordsize=O;v.coordorigin=m=(U-S)+&quot;,&quot;+T;v.path=(D.d?&quot;m&quot;+D.d+&quot;xe&quot;:&quot;&quot;)+&quot;m&quot;+m+J;v.fillcolor=F;if(u){v.appendChild(u.cloneNode(false))}var ae=v.style;ae.width=X;ae.height=af;if(H){var s=H[0],r=H[1];var B=Cufon.CSS.color(s.color),z;var N=document.createElement(&quot;cvml:shadow&quot;);N.on=&quot;t&quot;;N.color=B.color;N.offset=s.offX+&quot;,&quot;+s.offY;if(r){z=Cufon.CSS.color(r.color);N.type=&quot;double&quot;;N.color2=z.color;N.offset2=r.offX+&quot;,&quot;+r.offY}N.opacity=B.opacity||(z&amp;&amp;z.opacity)||1;v.appendChild(N)}S+=L[aa++]}var M=v.nextSibling,t,A;if(C.forceHitArea){if(!M){M=document.createElement(&quot;cvml:rect&quot;);M.stroked=&quot;f&quot;;M.className=&quot;cufon-vml-cover&quot;;t=document.createElement(&quot;cvml:fill&quot;);t.opacity=0;M.appendChild(t);q.appendChild(M)}A=M.style;A.width=X;A.height=af}else{if(M){q.removeChild(M)}}ai.width=Math.max(Math.ceil(p.convert(k*P)),0);if(h){var Q=Y.computedYAdjust;if(Q===undefined){var E=Y.get(&quot;lineHeight&quot;);if(E==&quot;normal&quot;){E=&quot;1em&quot;}else{if(!isNaN(E)){E+=&quot;em&quot;}}Y.computedYAdjust=Q=0.5*(a(ad,E)-parseFloat(ai.height))}if(Q){ai.marginTop=Math.ceil(Q)+&quot;px&quot;;ai.marginBottom=Q+&quot;px&quot;}}return y}})());Cufon.registerEngine(&quot;canvas&quot;,(function(){var b=document.createElement(&quot;canvas&quot;);if(!b||!b.getContext||!b.getContext.apply){return}b=null;var a=Cufon.CSS.supports(&quot;display&quot;,&quot;inline-block&quot;);var e=!a&amp;&amp;(document.compatMode==&quot;BackCompat&quot;||/frameset|transitional/i.test(document.doctype.publicId));var f=document.createElement(&quot;style&quot;);f.type=&quot;text/css&quot;;f.appendChild(document.createTextNode((&quot;cufon{text-indent:0;}@media screen,projection{cufon{display:inline;display:inline-block;position:relative;vertical-align:middle;&quot;+(e?&quot;&quot;:&quot;font-size:1px;line-height:1px;&quot;)+&quot;}cufon cufontext{display:-moz-inline-box;display:inline-block;width:0;height:0;overflow:hidden;text-indent:-10000in;}&quot;+(a?&quot;cufon canvas{position:relative;}&quot;:&quot;cufon canvas{position:absolute;}&quot;)+&quot;}@media print{cufon{padding:0;}cufon canvas{display:none;}}&quot;).replace(/;/g,&quot;!important;&quot;)));document.getElementsByTagName(&quot;head&quot;)[0].appendChild(f);function d(p,h){var n=0,m=0;var g=[],o=/([mrvxe])([^a-z]*)/g,k;generate:for(var j=0;k=o.exec(p);++j){var l=k[2].split(&quot;,&quot;);switch(k[1]){case&quot;v&quot;:g[j]={m:&quot;bezierCurveTo&quot;,a:[n+~~l[0],m+~~l[1],n+~~l[2],m+~~l[3],n+=~~l[4],m+=~~l[5]]};break;case&quot;r&quot;:g[j]={m:&quot;lineTo&quot;,a:[n+=~~l[0],m+=~~l[1]]};break;case&quot;m&quot;:g[j]={m:&quot;moveTo&quot;,a:[n=~~l[0],m=~~l[1]]};break;case&quot;x&quot;:g[j]={m:&quot;closePath&quot;};break;case&quot;e&quot;:break generate}h[g[j].m].apply(h,g[j].a)}return g}function c(m,k){for(var j=0,h=m.length;j&lt;h;++j){var g=m[j];k[g.m].apply(k,g.a)}}return function(V,w,P,t,C,W){var k=(w===null);if(k){w=C.getAttribute(&quot;alt&quot;)}var A=V.viewBox;var m=P.getSize(&quot;fontSize&quot;,V.baseSize);var B=0,O=0,N=0,u=0;var z=t.textShadow,L=[];if(z){for(var U=z.length;U--;){var F=z[U];var K=m.convertFrom(parseFloat(F.offX));var I=m.convertFrom(parseFloat(F.offY));L[U]=[K,I];if(I&lt;B){B=I}if(K&gt;O){O=K}if(I&gt;N){N=I}if(K&lt;u){u=K}}}var Z=Cufon.CSS.textTransform(w,P).split(&quot;&quot;);var E=V.spacing(Z,~~m.convertFrom(parseFloat(P.get(&quot;letterSpacing&quot;))||0),~~m.convertFrom(parseFloat(P.get(&quot;wordSpacing&quot;))||0));if(!E.length){return null}var h=E.total;O+=A.width-E[E.length-1];u+=A.minX;var s,n;if(k){s=C;n=C.firstChild}else{s=document.createElement(&quot;cufon&quot;);s.className=&quot;cufon cufon-canvas&quot;;s.setAttribute(&quot;alt&quot;,w);n=document.createElement(&quot;canvas&quot;);s.appendChild(n);if(t.printable){var S=document.createElement(&quot;cufontext&quot;);S.appendChild(document.createTextNode(w));s.appendChild(S)}}var aa=s.style;var H=n.style;var j=m.convert(A.height);var Y=Math.ceil(j);var M=Y/j;var G=M*Cufon.CSS.fontStretch(P.get(&quot;fontStretch&quot;));var J=h*G;var Q=Math.ceil(m.convert(J+O-u));var o=Math.ceil(m.convert(A.height-B+N));n.width=Q;n.height=o;H.width=Q+&quot;px&quot;;H.height=o+&quot;px&quot;;B+=A.minY;H.top=Math.round(m.convert(B-V.ascent))+&quot;px&quot;;H.left=Math.round(m.convert(u))+&quot;px&quot;;var r=Math.max(Math.ceil(m.convert(J)),0)+&quot;px&quot;;if(a){aa.width=r;aa.height=m.convert(V.height)+&quot;px&quot;}else{aa.paddingLeft=r;aa.paddingBottom=(m.convert(V.height)-1)+&quot;px&quot;}var X=n.getContext(&quot;2d&quot;),D=j/A.height;X.scale(D,D*M);X.translate(-u,-B);X.save();function T(){var x=V.glyphs,ab,l=-1,g=-1,y;X.scale(G,1);while(y=Z[++l]){var ab=x[Z[l]]||V.missingGlyph;if(!ab){continue}if(ab.d){X.beginPath();if(ab.code){c(ab.code,X)}else{ab.code=d(&quot;m&quot;+ab.d,X)}X.fill()}X.translate(E[++g],0)}X.restore()}if(z){for(var U=z.length;U--;){var F=z[U];X.save();X.fillStyle=F.color;X.translate.apply(X,L[U]);T()}}var q=t.textGradient;if(q){var v=q.stops,p=X.createLinearGradient(0,A.minY,0,A.maxY);for(var U=0,R=v.length;U&lt;R;++U){p.addColorStop.apply(p,v[U])}X.fillStyle=p}else{X.fillStyle=P.get(&quot;color&quot;)}T();return s}})());</B></P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2012.igem.org/Team:USTC-Software/notebook-fon.js">http://2012.igem.org/Team:USTC-Software/notebook-fon.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:USTC-Software/notebook-fon.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:USTC-Software/notebook-fon.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:USTC-Software/notebook-fon.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:USTC-Software/notebook-fon.js&amp;oldid=70532" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2012.igem.org:Privacy_policy" title="2012.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2012.igem.org:General_disclaimer" title="2012.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>