"
Page
Discussion
View source
History
teams
Log in
Â 
Team:Macquarie Australia/gallery/flashgallery.js
From 2012.igem.org
/**
* flashgallery * * @version 0.5.2 * @copyright 2011-2012 Flash-Gallery.com */
if(void 0===JSON){var JSON;JSON||(JSON={});(function(){function b(b){return 10>b?"0"+b:b}function a(b){r.lastIndex=0;return r.test(b)?'"'+b.replace(r,function(b){var u=e[b];return"string"===typeof u?u:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function d(b,r){var u,g,E,x,c=o,e,C=r[b];C&&"object"===typeof C&&"function"===typeof C.toJSON&&(C=C.toJSON(b));"function"===typeof y&&(C=y.call(r,b,C));switch(typeof C){case "string":return a(C);case "number":return isFinite(C)?""+ C:"null";case "boolean":case "null":return""+C;case "object":if(!C)return"null";o+=h;e=[];if("[object Array]"===Object.prototype.toString.apply(C)){x=C.length;for(u=0;u<x;u+=1)e[u]=d(u,C)||"null";E=0===e.length?"[]":o?"[\n"+o+e.join(",\n"+o)+"\n"+c+"]":"["+e.join(",")+"]";o=c;return E}if(y&&"object"===typeof y){x=y.length;for(u=0;u<x;u+=1)"string"===typeof y[u]&&(g=y[u],(E=d(g,C))&&e.push(a(g)+(o?": ":":")+E))}else for(g in C)Object.prototype.hasOwnProperty.call(C,g)&&(E=d(g,C))&&e.push(a(g)+(o?": ": ":")+E);E=0===e.length?"{}":o?"{\n"+o+e.join(",\n"+o)+"\n"+c+"}":"{"+e.join(",")+"}";o=c;return E}}if("function"!==typeof Date.prototype.toJSON)Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,h,e={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y;if("function"!==typeof JSON.stringify)JSON.stringify=function(b,a,u){var g;h=o="";if("number"===typeof u)for(g=0;g<u;g+=1)h+=" ";else"string"===typeof u&&(h=u);if((y=a)&&"function"!==typeof a&&("object"!==typeof a||"number"!==typeof a.length))throw Error("JSON.stringify");return d("", {"":b})};if("function"!==typeof JSON.parse)JSON.parse=function(b,a){function u(b,g){var r,c,d=b[g];if(d&&"object"===typeof d)for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(c=u(d,r),void 0!==c?d[r]=c:delete d[r]);return a.call(b,g,d)}var g,b=""+b;c.lastIndex=0;c.test(b)&&(b=b.replace(c,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+b+")"),"function"===typeof a?u({"":g},""):g;throw new SyntaxError("JSON.parse");}})()} (function(b,a){function d(a,d){var h=a.nodeName.toLowerCase();if("area"===h){var h=a.parentNode,e=h.name;if(!a.href||!e||"map"!==h.nodeName.toLowerCase())return!1;h=b("img[usemap=#"+e+"]")[0];return!!h&&c(h)}return(/input|select|textarea|button|object/.test(h)?!a.disabled:"a"==h?a.href||d:d)&&c(a)}function c(a){return!b(a).parents().andSelf().filter(function(){return"hidden"===b.curCSS(this,"visibility")||b.expr.filters.hidden(this)}).length}b.ui=b.ui||{};b.ui.version||(b.extend(b.ui,{version:"1.8.18", keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),b.fn.extend({propAttr:b.fn.prop||b.fn.attr,_focus:b.fn.focus,focus:function(a,d){return"number"===typeof a?this.each(function(){var c= this;setTimeout(function(){b(c).focus();d&&d.call(c)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,"position",1))&&/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this, "overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?b(document):a},zIndex:function(d){if(d!==a)return this.css("zIndex",d);if(this.length)for(var d=b(this[0]),c;d.length&&d[0]!==document;){c=d.css("position");if("absolute"===c||"relative"===c||"fixed"===c)if(c=parseInt(d.css("zIndex"),10),!isNaN(c)&&0!==c)return c;d=d.parent()}return 0},disableSelection:function(){return this.bind((b.support.selectstart?"selectstart": "mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),b.each(["Width","Height"],function(d,c){function h(a,u,g,E){b.each(e,function(){u-=parseFloat(b.curCSS(a,"padding"+this,!0))||0;g&&(u-=parseFloat(b.curCSS(a,"border"+this+"Width",!0))||0);E&&(u-=parseFloat(b.curCSS(a,"margin"+this,!0))||0)});return u}var e="Width"===c?["Left","Right"]:["Top","Bottom"],y=c.toLowerCase(),A={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight, outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+c]=function(d){return d===a?A["inner"+c].call(this):this.each(function(){b(this).css(y,h(this,d)+"px")})};b.fn["outer"+c]=function(a,u){return"number"!==typeof a?A["outer"+c].call(this,a):this.each(function(){b(this).css(y,h(this,a,!0,u)+"px")})}}),b.extend(b.expr[":"],{data:function(a,d,c){return!!b.data(a,c[3])},focusable:function(a){return d(a,!isNaN(b.attr(a,"tabindex")))},tabbable:function(a){var c=b.attr(a,"tabindex"),h=isNaN(c); return(h||0<=c)&&d(a,!h)}}),b(function(){var a=document.body,c=a.appendChild(c=document.createElement("div"));b.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=100===c.offsetHeight;b.support.selectstart="onselectstart"in c;a.removeChild(c).style.display="none"}),b.extend(b.ui,{plugin:{add:function(a,c,d){var a=b.ui[a].prototype,e;for(e in d)a.plugins[e]=a.plugins[e]||[],a.plugins[e].push([c,d[e]])},call:function(b,a,c){if((a=b.plugins[a])&&b.element[0].parentNode)for(var d= 0;d<a.length;d++)b.options[a[d][0]]&&a[d][1].apply(b.element,c)}},contains:function(b,a){return document.compareDocumentPosition?b.compareDocumentPosition(a)&16:b!==a&&b.contains(a)},hasScroll:function(a,c){if("hidden"===b(a).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;if(0<a[d])return!0;a[d]=1;e=0<a[d];a[d]=0;return e},isOverAxis:function(b,a,c){return b>a&&b<a+c},isOver:function(a,c,d,e,y,A){return b.ui.isOverAxis(a,d,y)&&b.ui.isOverAxis(c,e,A)}}))})(jQuery); (function(b,a){if(b.cleanData){var d=b.cleanData;b.cleanData=function(a){for(var c=0,h;null!=(h=a[c]);c++)try{b(h).triggerHandler("remove")}catch(e){}d(a)}}else{var c=b.fn.remove;b.fn.remove=function(a,d){return this.each(function(){d||(!a||b.filter(a,[this]).length)&&b("*",this).add([this]).each(function(){try{b(this).triggerHandler("remove")}catch(a){}});return c.call(b(this),a,d)})}}b.widget=function(a,c,d){var e=a.split(".")[0],y,a=a.split(".")[1];y=e+"-"+a;if(!d)d=c,c=b.Widget;b.expr[":"][y]= function(c){return!!b.data(c,a)};b[e]=b[e]||{};b[e][a]=function(b,a){arguments.length&&this._createWidget(b,a)};c=new c;c.options=b.extend(!0,{},c.options);b[e][a].prototype=b.extend(!0,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:y},d);b.widget.bridge(a,b[e][a])};b.widget.bridge=function(c,d){b.fn[c]=function(h){var e="string"===typeof h,y=Array.prototype.slice.call(arguments,1),A=this,h=!e&&y.length?b.extend.apply(null,[!0,h].concat(y)):h; if(e&&"_"===h.charAt(0))return A;e?this.each(function(){var d=b.data(this,c),u=d&&b.isFunction(d[h])?d[h].apply(d,y):d;if(u!==d&&u!==a)return A=u,!1}):this.each(function(){var a=b.data(this,c);a?a.option(h||{})._init():b.data(this,c,new d(h,this))});return A}};b.Widget=function(b,a){arguments.length&&this._createWidget(b,a)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=b.extend(!0, {},this.options,this._getCreateOptions(),a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+ "-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var h=c;if(0===arguments.length)return b.extend({},this.options);if("string"===typeof c){if(d===a)return this.options[c];h={};h[c]=d}this._setOptions(h);return this},_setOptions:function(a){var c=this;b.each(a,function(b,a){c._setOption(b,a)});return this},_setOption:function(b,a){this.options[b]=a;"disabled"===b&&this.widget()[a?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled", a);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,c,d){var e,y=this.options[a],d=d||{},c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();c.target=this.element[0];if(a=c.originalEvent)for(e in a)e in c||(c[e]=a[e]);this.element.trigger(c,d);return!(b.isFunction(y)&&!1===y.call(this.element[0],c,d)||c.isDefaultPrevented())}}})(jQuery); (function(b){var a=!1;b(document).mouseup(function(){a=!1});b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(c){if(!0===b.data(c.target,a.widgetName+".preventClickEvent"))return b.removeData(c.target,a.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+ this.widgetName)},_mouseDown:function(d){if(!a){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var c=this,r=1==d.which,o="string"==typeof this.options.cancel&&d.target.nodeName?b(d.target).closest(this.options.cancel).length:!1;if(!r||o||!this._mouseCapture(d))return!0;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay);if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted= !1!==this._mouseStart(d),!this._mouseStarted))return d.preventDefault(),!0;!0===b.data(d.target,this.widgetName+".preventClickEvent")&&b.removeData(d.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(b){return c._mouseMove(b)};this._mouseUpDelegate=function(b){return c._mouseUp(b)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);d.preventDefault();return a=!0}},_mouseMove:function(a){if(b.browser.msie&& !(9<=document.documentMode)&&!a.button)return this._mouseUp(a);if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a))?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted)this._mouseStarted= !1,a.target==this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a);return!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery); (function(b){b.widget("ui.draggable",b.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){if("original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position= "relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(a){var d=this.options;if(this.helper||d.disabled||b(a.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(a);if(!this.handle)return!1;d.iframeFix&&b(!0===d.iframeFix?"iframe":d.iframeFix).each(function(){b('
').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")});return!0},_mouseStart:function(a){var d=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(b.ui.ddmanager)b.ui.ddmanager.current=
this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX; this.originalPageY=a.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);d.containment&&this._setContainment();if(!1===this._trigger("start",a))return this._clear(),!1;this._cacheHelperProportions();b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,!0);b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,a);return!0},_mouseDrag:function(a,d){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute"); if(!d){var c=this._uiHash();if(!1===this._trigger("drag",a,c))return this._mouseUp({}),!1;this.position=c.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";b.ui.ddmanager&&b.ui.ddmanager.drag(this,a);return!1},_mouseStop:function(a){var d=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(d=b.ui.ddmanager.drop(this,a));if(this.dropped)d=this.dropped,this.dropped= !1;if((!this.element[0]||!this.element[0].parentNode)&&"original"==this.options.helper)return!1;if("invalid"==this.options.revert&&!d||"valid"==this.options.revert&&d||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)){var c=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==c._trigger("stop",a)&&c._clear()})}else!1!==this._trigger("stop",a)&&this._clear();return!1},_mouseUp:function(a){!0=== this.options.iframeFix&&b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,a);return b.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var d=!this.options.handle||!b(this.options.handle,this.element).length?!0:!1;b(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(d= !0)});return d},_createHelper:function(a){var d=this.options,a=b.isFunction(d.helper)?b(d.helper.apply(this.element[0],[a])):"clone"==d.helper?this.element.clone().removeAttr("id"):this.element;a.parents("body").length||a.appendTo("parent"==d.appendTo?this.element[0].parentNode:d.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]|| 0});if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0], this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.element.position();return{top:b.top- (parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(), height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if("parent"==a.containment)a.containment=this.helper[0].parentNode;if("document"==a.containment||"window"==a.containment)this.containment=["document"==a.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==a.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==a.containment?0:b(window).scrollLeft())+b("document"==a.containment?document: window).width()-this.helperProportions.width-this.margins.left,("document"==a.containment?0:b(window).scrollTop())+(b("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var a=b(a.containment),d=a[0];if(d){a.offset();var c="hidden"!=b(d).css("overflow");this.containment=[(parseInt(b(d).css("borderLeftWidth"),10)||0)+(parseInt(b(d).css("paddingLeft"), 10)||0),(parseInt(b(d).css("borderTopWidth"),10)||0)+(parseInt(b(d).css("paddingTop"),10)||0),(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(b(d).css("borderLeftWidth"),10)||0)-(parseInt(b(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(b(d).css("borderTopWidth"),10)||0)-(parseInt(b(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]; this.relative_container=a}}else if(a.containment.constructor==Array)this.containment=a.containment},_convertPositionTo:function(a,d){if(!d)d=this.position;var c="absolute"==a?1:-1,r="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=/(html|body)/i.test(r[0].tagName);return{top:d.top+this.offset.relative.top*c+this.offset.parent.top*c-(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition? 0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*c),left:d.left+this.offset.relative.left*c+this.offset.parent.left*c-(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*c)}},_generatePosition:function(a){var d=this.options,c="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent, r=/(html|body)/i.test(c[0].tagName),o=a.pageX,h=a.pageY;if(this.originalPosition){var e;if(this.containment)this.relative_container?(e=this.relative_container.offset(),e=[this.containment[0]+e.left,this.containment[1]+e.top,this.containment[2]+e.left,this.containment[3]+e.top]):e=this.containment,a.pageX-this.offset.click.left<e[0]&&(o=e[0]+this.offset.click.left),a.pageY-this.offset.click.top<e[1]&&(h=e[1]+this.offset.click.top),a.pageX-this.offset.click.left>e[2]&&(o=e[2]+this.offset.click.left), a.pageY-this.offset.click.top>e[3]&&(h=e[3]+this.offset.click.top);d.grid&&(h=d.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/d.grid[1])*d.grid[1]:this.originalPageY,h=e?!(h-this.offset.click.top<e[1]||h-this.offset.click.top>e[3])?h:!(h-this.offset.click.top<e[1])?h-d.grid[1]:h+d.grid[1]:h,o=d.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/d.grid[0])*d.grid[0]:this.originalPageX,o=e?!(o-this.offset.click.left<e[0]||o-this.offset.click.left>e[2])?o:!(o-this.offset.click.left< e[0])?o-d.grid[0]:o+d.grid[0]:o)}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:c.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"); this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(a,d,c){c=c||this._uiHash();b.ui.plugin.call(this,a,[d,c]);if("drag"==a)this.positionAbs=this._convertPositionTo("absolute");return b.Widget.prototype._trigger.call(this,a,d,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.extend(b.ui.draggable,{version:"1.8.18"}); b.ui.plugin.add("draggable","connectToSortable",{start:function(a,d){var c=b(this).data("draggable"),r=c.options,o=b.extend({},d,{item:c.element});c.sortables=[];b(r.connectToSortable).each(function(){var d=b.data(this,"sortable");d&&!d.options.disabled&&(c.sortables.push({instance:d,shouldRevert:d.options.revert}),d.refreshPositions(),d._trigger("activate",a,o))})},stop:function(a,d){var c=b(this).data("draggable"),r=b.extend({},d,{item:c.element});b.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver= 0;c.cancelHelperRemoval=!0;this.instance.cancelHelperRemoval=!1;if(this.shouldRevert)this.instance.options.revert=!0;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;"original"==c.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})}else this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,r)})},drag:function(a,d){var c=b(this).data("draggable"),r=this;b.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs; this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver)this.instance.isOver=1,this.instance.currentItem=b(r).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return d.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a, !0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=c.offset.click.top,this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger("toSortable",a),c.dropped=this.instance.element,c.currentItem=c.element,this.instance.fromOutside=c;this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver)this.instance.isOver= 0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),c._trigger("fromSortable",a),c.dropped=!1})}});b.ui.plugin.add("draggable","cursor",{start:function(){var a=b("body"),d=b(this).data("draggable").options;if(a.css("cursor"))d._cursor= a.css("cursor");a.css("cursor",d.cursor)},stop:function(){var a=b(this).data("draggable").options;a._cursor&&b("body").css("cursor",a._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(a,d){var c=b(d.helper),r=b(this).data("draggable").options;if(c.css("opacity"))r._opacity=c.css("opacity");c.css("opacity",r.opacity)},stop:function(a,d){var c=b(this).data("draggable").options;c._opacity&&b(d.helper).css("opacity",c._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var a= b(this).data("draggable");if(a.scrollParent[0]!=document&&"HTML"!=a.scrollParent[0].tagName)a.overflowOffset=a.scrollParent.offset()},drag:function(a){var d=b(this).data("draggable"),c=d.options,r=!1;if(d.scrollParent[0]!=document&&"HTML"!=d.scrollParent[0].tagName){if(!c.axis||"x"!=c.axis)if(d.overflowOffset.top+d.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity)d.scrollParent[0].scrollTop=r=d.scrollParent[0].scrollTop+c.scrollSpeed;else if(a.pageY-d.overflowOffset.top<c.scrollSensitivity)d.scrollParent[0].scrollTop= r=d.scrollParent[0].scrollTop-c.scrollSpeed;if(!c.axis||"y"!=c.axis)if(d.overflowOffset.left+d.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity)d.scrollParent[0].scrollLeft=r=d.scrollParent[0].scrollLeft+c.scrollSpeed;else if(a.pageX-d.overflowOffset.left<c.scrollSensitivity)d.scrollParent[0].scrollLeft=r=d.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||"x"!=c.axis)a.pageY-b(document).scrollTop()<c.scrollSensitivity?r=b(document).scrollTop(b(document).scrollTop()-c.scrollSpeed): b(window).height()-(a.pageY-b(document).scrollTop())<c.scrollSensitivity&&(r=b(document).scrollTop(b(document).scrollTop()+c.scrollSpeed));if(!c.axis||"y"!=c.axis)a.pageX-b(document).scrollLeft()<c.scrollSensitivity?r=b(document).scrollLeft(b(document).scrollLeft()-c.scrollSpeed):b(window).width()-(a.pageX-b(document).scrollLeft())<c.scrollSensitivity&&(r=b(document).scrollLeft(b(document).scrollLeft()+c.scrollSpeed))}!1!==r&&b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(d,a)}}); b.ui.plugin.add("draggable","snap",{start:function(){var a=b(this).data("draggable"),d=a.options;a.snapElements=[];b(d.snap.constructor!=String?d.snap.items||":data(draggable)":d.snap).each(function(){var c=b(this),d=c.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(a,d){for(var c=b(this).data("draggable"),r=c.options,o=r.snapTolerance,h=d.offset.left,e=h+c.helperProportions.width,y=d.offset.top,A=y+c.helperProportions.height, H=c.snapElements.length-1;0<=H;H--){var u=c.snapElements[H].left,g=u+c.snapElements[H].width,E=c.snapElements[H].top,x=E+c.snapElements[H].height;if(u-o<h&&h<g+o&&E-o<y&&y<x+o||u-o<h&&h<g+o&&E-o<A&&A<x+o||u-o<e&&e<g+o&&E-o<y&&y<x+o||u-o<e&&e<g+o&&E-o<A&&A<x+o){if("inner"!=r.snapMode){var q=Math.abs(E-A)<=o,N=Math.abs(x-y)<=o,C=Math.abs(u-e)<=o,O=Math.abs(g-h)<=o;if(q)d.position.top=c._convertPositionTo("relative",{top:E-c.helperProportions.height,left:0}).top-c.margins.top;if(N)d.position.top=c._convertPositionTo("relative", {top:x,left:0}).top-c.margins.top;if(C)d.position.left=c._convertPositionTo("relative",{top:0,left:u-c.helperProportions.width}).left-c.margins.left;if(O)d.position.left=c._convertPositionTo("relative",{top:0,left:g}).left-c.margins.left}var T=q||N||C||O;if("outer"!=r.snapMode){q=Math.abs(E-y)<=o;N=Math.abs(x-A)<=o;C=Math.abs(u-h)<=o;O=Math.abs(g-e)<=o;if(q)d.position.top=c._convertPositionTo("relative",{top:E,left:0}).top-c.margins.top;if(N)d.position.top=c._convertPositionTo("relative",{top:x-c.helperProportions.height, left:0}).top-c.margins.top;if(C)d.position.left=c._convertPositionTo("relative",{top:0,left:u}).left-c.margins.left;if(O)d.position.left=c._convertPositionTo("relative",{top:0,left:g-c.helperProportions.width}).left-c.margins.left}!c.snapElements[H].snapping&&(q||N||C||O||T)&&c.options.snap.snap&&c.options.snap.snap.call(c.element,a,b.extend(c._uiHash(),{snapItem:c.snapElements[H].item}));c.snapElements[H].snapping=q||N||C||O||T}else c.snapElements[H].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element, a,b.extend(c._uiHash(),{snapItem:c.snapElements[H].item})),c.snapElements[H].snapping=!1}}});b.ui.plugin.add("draggable","stack",{start:function(){var a=b(this).data("draggable").options,a=b.makeArray(b(a.stack)).sort(function(a,d){return(parseInt(b(a).css("zIndex"),10)||0)-(parseInt(b(d).css("zIndex"),10)||0)});if(a.length){var d=parseInt(a[0].style.zIndex)||0;b(a).each(function(b){this.style.zIndex=d+b});this[0].style.zIndex=d+a.length}}});b.ui.plugin.add("draggable","zIndex",{start:function(a, d){var c=b(d.helper),r=b(this).data("draggable").options;if(c.css("zIndex"))r._zIndex=c.css("zIndex");c.css("zIndex",r.zIndex)},stop:function(a,d){var c=b(this).data("draggable").options;c._zIndex&&b(d.helper).css("zIndex",c._zIndex)}})})(jQuery); jQuery.effects||function(b,a){function d(a){var g;return a&&a.constructor==Array&&3==a.length?a:(g=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3],10)]:(g=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))?[2.55*parseFloat(g[1]),2.55*parseFloat(g[2]),2.55*parseFloat(g[3])]:(g=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))?[parseInt(g[1],16),parseInt(g[2], 16),parseInt(g[3],16)]:(g=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))?[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(a)?y.transparent:y[b.trim(a).toLowerCase()]}function c(){var b=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,g={},a,c;if(b&&b.length&&b[0]&&b[b[0]])for(var d=b.length;d--;)a=b[d],"string"==typeof b[a]&&(c=a.replace(/\-(\w)/g,function(b,a){return a.toUpperCase()}),g[c]=b[a]);else for(a in b)"string"=== typeof b[a]&&(g[a]=b[a]);return g}function r(a){var g,c;for(g in a)c=a[g],(null==c||b.isFunction(c)||g in H||/scrollbar/.test(g)||!/color/i.test(g)&&isNaN(parseFloat(c)))&&delete a[g];return a}function o(b,a){var c={_:0},d;for(d in a)b[d]!=a[d]&&(c[d]=a[d]);return c}function h(a,g,c,d){if("object"==typeof a)d=g,c=null,g=a,a=g.effect;b.isFunction(g)&&(d=g,c=null,g={});if("number"==typeof g||b.fx.speeds[g])d=c,c=g,g={};b.isFunction(c)&&(d=c,c=null);g=g||{};c=c||g.duration;c=b.fx.off?0:"number"==typeof c? c:c in b.fx.speeds?b.fx.speeds[c]:b.fx.speeds._default;d=d||g.complete;return[a,g,c,d]}function e(a){return!a||"number"===typeof a||b.fx.speeds[a]||"string"===typeof a&&!b.effects[a]?!0:!1}b.effects={};b.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,borderColor,color,outlineColor".split(","),function(a,g){b.fx.step[g]=function(a){if(!a.colorInit){var c;c=a.elem;var u=g,e;do{e=b.curCSS(c,u);if(""!=e&&"transparent"!=e||b.nodeName(c,"body"))break;u="backgroundColor"}while(c= c.parentNode);c=d(e);a.start=c;a.end=d(a.end);a.colorInit=!0}a.elem.style[g]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var y={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139], darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255], maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},A=["add","remove","toggle"],H={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.effects.animateClass=function(a,g,d,x){b.isFunction(d)&&(x=d,d=null);return this.queue(function(){var q=b(this),e=q.attr("style")|| " ",h=r(c.call(this)),y,H=q.attr("class");b.each(A,function(b,g){if(a[g])q[g+"Class"](a[g])});y=r(c.call(this));q.attr("class",H);q.animate(o(h,y),{queue:!1,duration:g,easing:d,complete:function(){b.each(A,function(b,g){if(a[g])q[g+"Class"](a[g])});"object"==typeof q.attr("style")?(q.attr("style").cssText="",q.attr("style").cssText=e):q.attr("style",e);x&&x.apply(this,arguments);b.dequeue(this)}})})};b.fn.extend({_addClass:b.fn.addClass,addClass:function(a,g,c,d){return g?b.effects.animateClass.apply(this, [{add:a},g,c,d]):this._addClass(a)},_removeClass:b.fn.removeClass,removeClass:function(a,g,c,d){return g?b.effects.animateClass.apply(this,[{remove:a},g,c,d]):this._removeClass(a)},_toggleClass:b.fn.toggleClass,toggleClass:function(c,g,d,x,q){return"boolean"==typeof g||g===a?d?b.effects.animateClass.apply(this,[g?{add:c}:{remove:c},d,x,q]):this._toggleClass(c,g):b.effects.animateClass.apply(this,[{toggle:c},g,d,x])},switchClass:function(a,g,c,d,q){return b.effects.animateClass.apply(this,[{add:g, remove:a},c,d,q])}});b.extend(b.effects,{version:"1.8.16",save:function(b,a){for(var c=0;c<a.length;c++)null!==a[c]&&b.data("ec.storage."+a[c],b[0].style[a[c]])},restore:function(b,a){for(var c=0;c<a.length;c++)null!==a[c]&&b.css(a[c],b.data("ec.storage."+a[c]))},setMode:function(b,a){"toggle"==a&&(a=b.is(":hidden")?"show":"hide");return a},getBaseline:function(b,a){var c,d;switch(b[0]){case "top":c=0;break;case "middle":c=0.5;break;case "bottom":c=1;break;default:c=b[0]/a.height}switch(b[1]){case "left":d=
0;break;case "center":d=0.5;break;case "right":d=1;break;default:d=b[1]/a.width}return{x:d,y:c}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var g={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},c=b("
").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),d=document.activeElement;a.wrap(c);(a[0]===d||b.contains(a[0],d))&&b(d).focus();c=a.parent();"static"==a.css("position")?
(c.css({position:"relative"}),a.css({position:"relative"})):(b.extend(g,{position:a.css("position"),zIndex:a.css("z-index")}),b.each(["top","left","bottom","right"],function(b,c){g[c]=a.css(c);isNaN(parseInt(g[c],10))&&(g[c]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return c.css(g).show()},removeWrapper:function(a){var c,d=document.activeElement;return a.parent().is(".ui-effects-wrapper")?(c=a.parent().replaceWith(a),(a[0]===d||b.contains(a[0],d))&&b(d).focus(), c):a},setTransition:function(a,c,d,x){x=x||{};b.each(c,function(b,c){unit=a.cssUnit(c);0<unit[0]&&(x[c]=unit[0]*d+unit[1])});return x}});b.fn.extend({effect:function(a,c,d,x){var q=h.apply(this,arguments),e={options:q[1],duration:q[2],callback:q[3]},q=e.options.mode,o=b.effects[a];return b.fx.off||!o?q?this[q](e.duration,e.callback):this.each(function(){e.callback&&e.callback.call(this)}):o.call(this,e)},_show:b.fn.show,show:function(b){if(e(b))return this._show.apply(this,arguments);var a=h.apply(this, arguments);a[1].mode="show";return this.effect.apply(this,a)},_hide:b.fn.hide,hide:function(b){if(e(b))return this._hide.apply(this,arguments);var a=h.apply(this,arguments);a[1].mode="hide";return this.effect.apply(this,a)},__toggle:b.fn.toggle,toggle:function(a){if(e(a)||"boolean"===typeof a||b.isFunction(a))return this.__toggle.apply(this,arguments);var c=h.apply(this,arguments);c[1].mode="toggle";return this.effect.apply(this,c)},cssUnit:function(a){var c=this.css(a),d=[];b.each(["em","px","%", "pt"],function(b,a){0<c.indexOf(a)&&(d=[parseFloat(c),a])});return d}});b.easing.jswing=b.easing.swing;b.extend(b.easing,{def:"easeOutQuad",swing:function(a,c,d,x,q){return b.easing[b.easing.def](a,c,d,x,q)},easeInQuad:function(b,a,c,d,q){return d*(a/=q)*a+c},easeOutQuad:function(b,a,c,d,q){return-d*(a/=q)*(a-2)+c},easeInOutQuad:function(b,a,c,d,q){return 1>(a/=q/2)?d/2*a*a+c:-d/2*(--a*(a-2)-1)+c},easeInCubic:function(b,a,c,d,q){return d*(a/=q)*a*a+c},easeOutCubic:function(b,a,c,d,q){return d*((a= a/q-1)*a*a+1)+c},easeInOutCubic:function(b,a,c,d,q){return 1>(a/=q/2)?d/2*a*a*a+c:d/2*((a-=2)*a*a+2)+c},easeInQuart:function(b,a,c,d,q){return d*(a/=q)*a*a*a+c},easeOutQuart:function(b,a,c,d,q){return-d*((a=a/q-1)*a*a*a-1)+c},easeInOutQuart:function(b,a,c,d,q){return 1>(a/=q/2)?d/2*a*a*a*a+c:-d/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(b,a,c,d,q){return d*(a/=q)*a*a*a*a+c},easeOutQuint:function(b,a,c,d,q){return d*((a=a/q-1)*a*a*a*a+1)+c},easeInOutQuint:function(b,a,c,d,q){return 1>(a/=q/2)?d/2* a*a*a*a*a+c:d/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(b,a,c,d,q){return-d*Math.cos(a/q*(Math.PI/2))+d+c},easeOutSine:function(b,a,c,d,q){return d*Math.sin(a/q*(Math.PI/2))+c},easeInOutSine:function(b,a,c,d,q){return-d/2*(Math.cos(Math.PI*a/q)-1)+c},easeInExpo:function(b,a,c,d,q){return 0==a?c:d*Math.pow(2,10*(a/q-1))+c},easeOutExpo:function(b,a,c,d,q){return a==q?c+d:d*(-Math.pow(2,-10*a/q)+1)+c},easeInOutExpo:function(b,a,c,d,q){return 0==a?c:a==q?c+d:1>(a/=q/2)?d/2*Math.pow(2,10*(a-1))+c:d/ 2*(-Math.pow(2,-10*--a)+2)+c},easeInCirc:function(b,a,c,d,q){return-d*(Math.sqrt(1-(a/=q)*a)-1)+c},easeOutCirc:function(b,a,c,d,q){return d*Math.sqrt(1-(a=a/q-1)*a)+c},easeInOutCirc:function(b,a,c,d,q){return 1>(a/=q/2)?-d/2*(Math.sqrt(1-a*a)-1)+c:d/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(b,a,c,d,q){var b=1.70158,e=0,o=d;if(0==a)return c;if(1==(a/=q))return c+d;e||(e=0.3*q);o<Math.abs(d)?(o=d,b=e/4):b=e/(2*Math.PI)*Math.asin(d/o);return-(o*Math.pow(2,10*(a-=1))*Math.sin((a*q-b)*2*Math.PI/ e))+c},easeOutElastic:function(b,a,c,d,e){var b=1.70158,o=0,h=d;if(0==a)return c;if(1==(a/=e))return c+d;o||(o=0.3*e);h<Math.abs(d)?(h=d,b=o/4):b=o/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*a)*Math.sin((a*e-b)*2*Math.PI/o)+d+c},easeInOutElastic:function(b,a,c,d,e){var b=1.70158,o=0,h=d;if(0==a)return c;if(2==(a/=e/2))return c+d;o||(o=e*0.3*1.5);h<Math.abs(d)?(h=d,b=o/4):b=o/(2*Math.PI)*Math.asin(d/h);return 1>a?-0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*e-b)*2*Math.PI/o)+c:0.5*h*Math.pow(2, -10*(a-=1))*Math.sin((a*e-b)*2*Math.PI/o)+d+c},easeInBack:function(b,c,d,e,o,h){h==a&&(h=1.70158);return e*(c/=o)*c*((h+1)*c-h)+d},easeOutBack:function(b,c,d,e,o,h){h==a&&(h=1.70158);return e*((c=c/o-1)*c*((h+1)*c+h)+1)+d},easeInOutBack:function(b,c,d,e,o,h){h==a&&(h=1.70158);return 1>(c/=o/2)?e/2*c*c*(((h*=1.525)+1)*c-h)+d:e/2*((c-=2)*c*(((h*=1.525)+1)*c+h)+2)+d},easeInBounce:function(a,c,d,e,o){return e-b.easing.easeOutBounce(a,o-c,0,e,o)+d},easeOutBounce:function(b,a,c,d,e){return(a/=e)<1/2.75? d*7.5625*a*a+c:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+c:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+c:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+c},easeInOutBounce:function(a,c,d,e,o){return c<o/2?0.5*b.easing.easeInBounce(a,2*c,0,e,o)+d:0.5*b.easing.easeOutBounce(a,2*c-o,0,e,o)+0.5*e+d}})}(jQuery); (function(b,a){function d(b){var a=[],p,c;for(p=0;p<b.length;p++)for(c=0;c=d;d++)c.push(parseInt(p[d],16));return m!==a?"rgba("+c[0]+", "+c[1]+", "+c[2]+", "+m+")":"rgb("+c[0]+", "+c[1]+", "+c[2]+")"}return"transparent"}function g(b){for(var a in b)"object"==typeof b[a]?b[a]=g(b[a]):"true"==b[a]?b[a]=!0:"false"==b[a]?b[a]=!1:b[a]==parseInt(b[a])&&(b[a]=parseInt(b[a]));return b}function E(b){var a= "",p,c=b.length;for(p=0;p<c;p++)a+=b.charCodeAt(p).toString(16);return a}function x(a,m){function p(b,a,m){for(var p in b)p.match("-")?b[a+p]=b[p]:b[m+p.charAt(0).toUpperCase()+p.slice(1)]=b[p]}b.browser.mozilla?p(m,"-moz-","Moz"):b.browser.webkit?p(m,"-webkit-","webkit"):b.browser.opera?p(m,"-o-","O"):b.browser.msie&&p(m,"-ms-","ms");b(a).css(m)}function q(c,m){if(m===a)return m={},b(c).data("transform")||{};b(c).each(function(){var a=[],c;for(c in m)a.push(c+"("+m[c]+")");a=a.join(" ");b(this).data("transform", m).css({"-moz-transform":a,"-webkit-transform":a,"-khtml-transform":a,"-o-transform":a,"-ms-transform":a,transform:a})});return b(c)}function N(){if(V===a){var c=location.hostname.toString().replace(/^www\./i,"");V=!location.hostname||-1!=b.inArray(E(c),ba)}return V}function C(b,m,c){c===a&&"number"==typeof m&&(c=m,m=a);c=c||10;if(b&&K[b]===a){var d=new Image;K[b]=d;K[b].loaded=!1;K[b].callbacks=[];"function"==typeof m&&K[b].callbacks.push(m);setTimeout(function(){d.onload=function(){K[b].loaded= !0;for(var a=0;a<K[b].callbacks.length;a++)K[b].callbacks[a](K[b])};d.src=b},c)}else K[b].loaded?"function"==typeof m&&m(K[b]):"function"==typeof m&&K[b].callbacks.push(m)}function O(c,m,p,d){p===a&&"number"==typeof m&&(p=m,m=a);p=p||10;if("string"==typeof c)return C(c,m,p);if(r(c)){var d=d||[],f=c.slice();setTimeout(function(){var a=f.shift(),a="string"==typeof a?a:a.source||a.src||b(a).attr("src");C(a,function(b){f.length?(d.push(b),O(f,m,p,d)):"function"==typeof m&&m(d)})},p)}}function T(a,m){m= m||{};b(a).each(function(){var a=!1,c=!1;b(this).mousedown(function(){a=!0;return!1}).mousemove(function(b){a&&(c?"function"==typeof m.touchmove&&m.touchmove(b):(c=!0,"function"==typeof m.touchstart&&m.touchstart(b)));return!1}).mouseup(function(b){a=!1;c&&(c=!1,"function"==typeof m.touchend&&m.touchend(b));return!1}).mouseleave(function(b){a=!1;c&&(c=!1,"function"==typeof m.touchcancel&&m.touchcancel(b))})})}function L(a){function m(b){B||(B=!0,U=b.changedTouches[0],X=window.setTimeout(function(){B= !1;var b=U,a=document.createEvent("MouseEvent");a.initMouseEvent("mouseup",!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(a);a=document.createEvent("MouseEvent");a.initMouseEvent("mousedown",!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,2,null);b.target.dispatchEvent(a);a=document.createEvent("MouseEvent");a.initMouseEvent("contextmenu",!0,!0,window,1,b.screenX+50,b.screenY+5,b.clientX+50,b.clientY+5,!1,!1,!1,!1,2,null);b.target.dispatchEvent(a); t=!0;U=null},800))}function c(){B&&(window.clearTimeout(X),B=!1,U=null)}function d(b){var a=b.changedTouches[0],c="mouseover",p=document.createEvent("MouseEvent");p.initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(p);c="mousedown";p=document.createEvent("MouseEvent");p.initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(p);l?(window.clearTimeout(n),a.target==w?(w=null,l= !1,c="click",p=document.createEvent("MouseEvent"),p.initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(p),c="dblclick",p=document.createEvent("MouseEvent"),p.initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(p)):(w=a.target,l=!0,n=window.setTimeout(function(){l=!1},600),m(b))):(w=a.target,l=!0,n=window.setTimeout(function(){l=!1},600),m(b))}function f(a){var m="";if(!(1< a.touches.length)){switch(a.type){case "touchstart":if(b(a.changedTouches[0].target).is("select"))return;d(a);a.preventDefault();return!1;case "touchmove":c();m="mousemove";a.preventDefault();break;case "touchend":if(t)return t=!1,a.preventDefault(),!1;c();m="mouseup";break;default:return}var a=a.changedTouches[0],v=document.createEvent("MouseEvent");v.initMouseEvent(m,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(v);"mouseup"==m&&l&&a.target==w&&
(v=document.createEvent("MouseEvent"),v.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(v))}}var w=null,l=!1,n=null,B=!1,U=null,X=null,t=!1;b.support.touch&&b(a).each(function(){this.addEventListener("touchstart",f,!1);this.addEventListener("touchmove",f,!1);this.addEventListener("touchend",f,!1);this.addEventListener("touchcancel",f,!1)})}function aa(c,m){this.init=function(){var a=b('
'); o(a);a.css({display:"block",position:"relative",width:m.width,height:m.height,cursor:"default"});x(a,{userSelect:"none"});this.element=b("
");this.element.css({display:"block",position:"relative",width:m.width,height:m.height,overflow:"hidden",margin:0,padding:0,background:m.background});a.append(this.element);eval('var _c="#3C#61#20#68#72#65#66#3D#22#68#74#74#70#3A#2F#2F#77#77#77#2E#66#6C#61#73#68#2D#67#61#6C#6C#65#72#79#2E#63#6F#6D#2F#22#20#74#61#72#67#65#74#3D#22#5F#62#6C#61#6E#6B#22#20#73#74#79#6C#65#3D#22#64#69#73#70#6C#61#79#3A#62#6C#6F#63#6B#3B#70#6F#73#69#74#69#6F#6E#3A#61#62#73#6F#6C#75#74#65#3B#6C#65#66#74#3A#30#3B#74#6F#70#3A#30#3B#7A#2D#69#6E#64#65#78#3A#39#39#39#39#3B#77#69#64#74#68#3A#39#30#70#78#3B#68#65#69#67#68#74#3A#32#30#70#78#3B#6F#76#65#72#66#6C#6F#77#3A#68#69#64#64#65#6E#3B#66#6F#6E#74#2D#66#61#6D#69#6C#79#3A#54#61#68#6F#6D#61#2C#41#72#69#61#6C#2C#48#65#6C#76#65#74#69#63#61#2C#73#61#6E#73#2D#73#65#72#69#66#3B#66#6F#6E#74#2D#73#69#7A#65#3A#39#70#78#3B#6C#69#6E#65#2D#68#65#69#67#68#74#3A#31#32#70#78#3B#74#65#78#74#2D#61#6C#69#67#6E#3A#6C#65#66#74#3B#74#65#78#74#2D#64#65#63#6F#72#61#74#69#6F#6E#3A#6E#6F#6E#65#3B#74#65#78#74#2D#73#68#61#64#6F#77#3A#6E#6F#6E#65#3B#63#6F#6C#6F#72#3A#23#66#66#66#3B#62#61#63#6B#67#72#6F#75#6E#64#3A#72#67#62#61#28#30#2C#30#2C#30#2C#30#2E#37#29#3B#6F#70#61#63#69#74#79#3A#30#2E#37#3B#62#6F#72#64#65#72#2D#72#61#64#69#75#73#3A#34#70#78#3B#22#3E#3C#73#70#61#6E#20#73#74#79#6C#65#3D#22#64#69#73#70#6C#61#79#3A#62#6C#6F#63#6B#3B#70#61#64#64#69#6E#67#3A#34#70#78#20#31#30#70#78#3B#74#65#78#74#2D#74#72#61#6E#73#66#6F#72#6D#3A#75#70#70#65#72#63#61#73#65#3B#66#6F#6E#74#2D#73#69#7A#65#3A#38#70#78#3B#66#6F#6E#74#2D#77#65#69#67#68#74#3A#62#6F#6C#64#3B#77#68#69#74#65#2D#73#70#61#63#65#3A#6E#6F#77#72#61#70#3B#22#3E#50#68#6F#74#6F#20#47#61#6C#6C#65#72#79#3C#2F#73#70#61#6E#3E#3C#73#70#61#6E#20#73#74#79#6C#65#3D#22#64#69#73#70#6C#61#79#3A#62#6C#6F#63#6B#3B#70#61#64#64#69#6E#67#3A#35#70#78#20#31#30#70#78#20#31#30#70#78#3B#66#6F#6E#74#2D#73#69#7A#65#3A#39#70#78#3B#62#61#63#6B#67#72#6F#75#6E#64#3A#72#67#62#61#28#30#2C#30#2C#30#2C#30#2E#35#29#3B#62#6F#72#64#65#72#2D#62#6F#74#74#6F#6D#2D#6C#65#66#74#2D#72#61#64#69#75#73#3A#34#70#78#3B#62#6F#72#64#65#72#2D#62#6F#74#74#6F#6D#2D#72#69#67#68#74#2D#72#61#64#69#75#73#3A#34#70#78#3B#6F#70#61#63#69#74#79#3A#30#3B#22#3E#44#6F#77#6E#6C#6F#61#64#20#66#72#65#65#20#76#65#72#73#69#6F#6E#20#6F#66#20#74#68#69#73#20#67#61#6C#6C#65#72#79#20#66#72#6F#6D#20#46#6C#61#73#68#2D#47#61#6C#6C#65#72#79#2E#63#6F#6D#3C#2F#73#70#61#6E#3E#3C#2F#61#3E";'.replace(/#/g,
"\\x"));var d=b(_c);Y=_c.length;if(!N()){var f=d.width();b.browser.opera&&d.css({width:100}).find("span:first").css({letterSpacing:"-1px"});b.browser.msie&&9>b.browser.version?(d.css({background:"#444"}).find("span:last").css({background:"#222"}),d.hover(function(){b(this).stop().animate({width:120},"fast",function(){b(this).animate({height:70},"fast",function(){b(this).find("span:last").show()})})},function(){b(this).find("span:last").hide();b(this).stop().animate({height:20},"fast",function(){b(this).animate({width:f}, "fast")})})):d.hover(function(){b(this).stop().animate({width:120},"fast",function(){b(this).animate({height:70,opacity:1},"fast",function(){b(this).find("span:last").animate({opacity:1},"slow")})})},function(){b(this).find("span:last").animate({opacity:0},"fast");b(this).stop().animate({height:20},"fast",function(){b(this).animate({width:f,opacity:0.7},"fast")})});a.append(d)}b(c).empty().append(a)};this.init();this.empty=function(){this.element.empty()};this.width=function(b){return this.element.width(b)}; this.height=function(b){return this.element.height(b)};this.append=function(b){return this.element.append(b)};this.drawImage=function(m,c,d){var c=b.extend({left:0,top:0,width:120,height:90,scaleMode:"fill",background:"none"},c),d=d===a?this.element:b(d,this.element),v=new Image;v.onload=function(){var a=document.createElement("a");b(a).attr({href:m.source});b(a).css({display:"block",position:"absolute",left:c.x,top:c.y,zIndex:c.z,width:c.width,height:c.height,overflow:"hidden",background:c.background}); b(a).click(c.onclick);b(a).hover(c.onmouseover,c.onmouseout);var n=document.createElement("img");n.src=v.src;var B;"fit"==c.scaleMode?B=G.fit(this.width,this.height,c.width,c.height):"fill"==c.scaleMode&&(B=G.fill(this.width,this.height,c.width,c.height));b(n).css({marginTop:B.top,marginRight:0,marginBottom:0,marginLeft:B.left,width:B.width,height:B.height,padding:0,border:"none",maxWidth:"none",maxHeight:"none",opacity:c.opacity});b(a).append(n);d.append(a)};v.src=m.thumb}}function R(a,c,p){var k= this;this.canvas=a;this.albums=c;this.items=d(c);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.onOpen=function(){};k.onOpenItem={};this.settings=b.extend(!0,{image:{scaleMode:"fit",cornerRadius:10,align:"center",transitionEffect:"fade",transitionDuration:1,useShadow:!0},caption:{visibleMode:"onRollOver",position:"bottom",bgColor:0,bgAlpha:30,color:16777215,fontName:"Arial",fontSize:11},thumbBar:{useThumbBar:!0,position:"bottom",scrollSpeed:10},thumbnail:{width:80, height:60,cornerRadius:10,alpha:70,outlineColor:3355443,outlineColorOnRollOver:6710886,outlineColorOnClick:10066329,useShadow:!0},slideshow:{start:!1,delay:2.5,loop:!0,stopAutoOnClick:!0}},p);this.settings=g(this.settings);(new Image).src=s.images.loader;k.settings.slideshow.start&&setTimeout(function(){k.slideshowStart()},500*k.settings.image.transitionDuration);this.render()}function I(a,c,p){this.canvas=a;this.albums=c;this.items=d(c);this.currentItem=-1;this.getCurrentItem=function(){return this.items[this.currentItem]}; this.defaultSettings={image:{scaleMode:"fill",padding:0,bgTintColor:16777215},thumbnail:{width:80,height:60,alpha:70},caption:{showCaption:!0},buttons:{showSlideshowButton:!0,showFullscreenButton:!0,showImageNavigationButtons:!0,showLinkButton:!0,showFacebookButton:!0,showTwitterButton:!0},slideshow:{start:!1,delay:2.5},translation:{image:"Image",clickToView:"Click to view",getLink:"Get link",shareWithFacebook:"Share with Facebook",tweet:"Tweet",startSlideshow:"Start slideshow",stopSlideshow:"Stop slideshow", fullscreenMode:"Fullscreen mode"}};this.settings=b.extend(!0,this.defaultSettings,p);this.settings=g(this.settings);this.init()}function M(a,c,p){this.canvas=a;this.albums=c;this.items=d(c);this.currentItem=-1;this.getCurrentItem=function(){return this.items[this.currentItem]};this.defaultSettings={thumbnail:{width:120,height:90,alpha:85},colorScheme:{thumbsFrameColor:16777215,imageBGColor:1118481,useShadow:!0},imageCaption:{position:"top",color:16777215,bgColor:0,bgAlpha:30,fontName:"Arial",fontSize:11, visibleMode:"always"}};this.settings=b.extend(!0,this.defaultSettings,p);this.settings=g(this.settings);this.page=0;C(s.images.loader,500);this.render()}function F(a,c,p){this.canvas=a;this.albums=c;this.items=d(c);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.defaultSettings={initialState:"Load Image",slideshowDelay:2,showCaption:!0,base:{color:4080713,visibleFrame:5},buttons:{showSlideshowButton:!0,showThumbnailsButton:!0,bgColor:15066854}};this.settings= b.extend(!0,this.defaultSettings,p);this.settings=g(this.settings);this.enableThumbnailsHover=!0;this.drag=!1;C(s.images.loader,500);this.init()}function P(a,m,p){var k=this;this.canvas=a;this.albums=m;this.settings=b.extend(!0,{imageAngle:30,maxImageWidth:0,useHighlight:!0,useScrollBar:!0,showReflections:!0,solidReflection:!0,reflectionAlpha:80,slideShow:!1,slideShowDelay:2,flipDuration:1,startPosition:"center",colorScheme:"custom",preloader:{stripesAlpha:45,barColor:0,barAlpha:30,bgColor:0,bgAlpha:20, innerShadow:20,dropShadow:30},scrollbar:{bgColor:0,bgAlpha:40,handleColor:0,handleAlpha:40,arrowsColor:0,arrowsAlpha:40,innerShadow:20,dropShadow:20},caption:{textColor:16777215,bgColor:0,bgAlpha:80,frameColor:16777215,frameAlpha:40,shadowAlpha:50,multilingual:!1,multilingualFontSize:12},background:{bgColor:16777215,transparentBG:!0}},p);this.settings=g(this.settings);if(!this.settings.maxImageWidth)this.settings.maxImageWidth=parseInt(a.element.width()/2);if(c())this.settings.useScrollBar=!1;this.showReflections= this.settings.showReflections&&H(this.canvas.element.css("backgroundColor"))&&!(b.browser.msie&&9>b.browser.version);this.items=d(m);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.getItemX=function(b){return-(this.currentItem-b)};this.getItemZ=function(b){return parseInt(this.items.length/2)-Math.abs(this.getItemX(b))};this.currentItem="left"==this.settings.startPosition?0:"right"==this.settings.startPosition?this.items.length:Math.floor((this.items.length-
1)/2);(new Image).src=s.images.loader;this.scene=b('
');this.scene.css({position:"relative",width:a.width(),height:a.height()});this.canvas.element.append(this.scene);var f;T(this.scene,{touchstart:function(b){k.drag=!0;f=b.pageX},touchend:function(b){var b=b.pageX-f,a=Math.abs(b)>k.canvas.width()/2?2:1;30<b?(setTimeout(function(){k.drag=!1},100),k.prev(a)):-30>b?(setTimeout(function(){k.drag=!1},100),k.next(a)):k.drag=!1},touchcancel:function(){setTimeout(function(){k.drag=
!1},100)}});L(this.scene);this.render()}function J(a,c,p){this.canvas=a;this.albums=c;this.currentAlbum=0;this.getCurrentAlbum=function(){return this.albums[this.currentAlbum]};this.currentItem=0;this.getCurrentItem=function(){return this.getCurrentAlbum().items[this.currentItem]};this.settings=b.extend(!0,{initialState:"Show Albums",imageScaleMode:"fill",frameSize:5,frameColor:"#ffffff",backgroundColor:"#aac5d8",cornerRadius:7,iconWidth:90,iconHeight:55,iconPadding:10,panelBackgroundAlpha:50,showCaption:"always", captionBackgroundAlpha:40,showButtons:"always",buttonsBackgroundAlpha:40,showAlbumsButton:!0,showThumbnailsButton:!0,showSlideshowButton:!0,showNavigationButton:!0,useEmbeddedFont:!0,fontName:"Arial",fontSize:11,translation:{Album:"Album",Albums:"Albums",Image:"Image",Images:"Images",Close:"CLOSE",BackToAlbums:"BACK TO ALBUMS",LoadingImage:"Loading Image",Of:"of"}},p);this.settings=g(this.settings);if(this.settings.useEmbeddedFont)this.settings.fontName="Tahoma",this.settings.fontSize=9;C(s.images.loader, 500);this.cache=function(){if(0<=this.currentItem){var b=this.getCurrentAlbum().items,a=[],c,m;for(m=this.currentItem+1;m<this.currentItem+3;m++)(c=b[(b.length+m)%b.length])&&(c=c.source)&&a.push(c);for(m=this.currentItem-1;m>this.currentItem-2;m--)(c=b[(b.length+m)%b.length])&&(c=c.source)&&a.push(c);a.length&&O(a,100)}};this.render()}function ca(c,m,p){function d(){function b(a){if(a.match(/Art/i))return"art";if(a.match(/Aura/i))return"aura";if(a.match(/Box/i))return"box";if(a.match(/Cubic/i))return"cubic"; if(a.match(/PhotoFlow/i))return"photoflow";if(a.match(/Zen/i))return"zen"}Y!=32*da&&(w=[]);switch(m.type?m.type.toLowerCase():f.galleryName?m.type=b(f.galleryName):m.type="box"){case "art":case "promo":n=new R(l,w,f.settings||{});break;case "aura":n=new I(l,w,f.settings||{});break;default:case "box":n=new M(l,w,f.settings||{});break;case "cubic":n=new F(l,w,f.settings||{});break;case "photoflow":n=new P(l,w,f.settings||{});break;case "zen":n=new J(l,w,f.settings||{})}"function"==typeof p&&p(n)}c= b(c);s=m;var f,w,l,n,B=N(),U=15;f=m.config||{};w=function(){function m(b,c,d,v,k){c=c||0;v===a&&(v=f.settings.imagesFolder?f.settings.imagesFolder.replace(/\/+$/,"")+"/":"");k===a&&(k=k||f.settings.thumbnailsFolder?f.settings.thumbnailsFolder.replace(/\/+$/,"")+"/":v);for(var l=[],n,w=0;w<b.length&&(B||w<U);w++)n=b[w],l[w]={id:w,source:v+n.source,thumb:n.thumb?k+n.thumb:v+n.source,description:n.description,link:n.link||"",target:n.target||""};p.push({id:c,description:d,items:l})}var p=[];if(r(f.albums)&& f.albums.length)for(var d=0;d<f.albums.length&&(B||3>d);d++)m(f.albums[d].items,d,f.albums[d].description,f.albums[d].imagesFolder,f.albums[d].thumbnailsFolder);else r(f.items)&&f.items.length?m(f.items):m(function(a){var c=[];b(a).find("img").each(function(){c.push({source:b(this).parent("a").attr("href")||b(this).attr("src"),thumb:b(this).attr("src"),description:this.title})});return c}(c),0);return p}();l=new aa(c,m);b(document).ready(function(){setTimeout(function(){d()},100)})}var ba=["3132372e302e302e31", "6c6f63616c686f7374","666c6173682d67616c6c6572792e636f6d"];sprintfWrapper={init:function(){if("undefined"==typeof arguments||1>arguments.length||"string"!=typeof arguments[0]||"undefined"==typeof RegExp)return null;for(var b=arguments[0],a=RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g),c=[],d=[],f=0,w=0,l=0,w=0,n="",B=null;B=a.exec(b);)B[9]&&(f+=1),l=a.lastIndex-B[0].length,d[d.length]=b.substring(w,l),w=a.lastIndex,c[c.length]={match:B[0],left:B[3]?!0:!1,sign:B[4]||"",pad:B[5]|| " ",min:B[6]||0,precision:B[8],code:B[9]||"%",negative:0>parseInt(arguments[f])?!0:!1,argument:""+arguments[f]};d[d.length]=b.substring(w);if(0==c.length)return b;if(arguments.length-1<f)return null;b=null;for(b=0;b<c.length;b++)"%"==c[b].code?substitution="%":"b"==c[b].code?(c[b].argument=""+Math.abs(parseInt(c[b].argument)).toString(2),substitution=sprintfWrapper.convert(c[b],!0)):"c"==c[b].code?(c[b].argument=""+String.fromCharCode(parseInt(Math.abs(parseInt(c[b].argument)))),substitution=sprintfWrapper.convert(c[b], !0)):"d"==c[b].code?(c[b].argument=""+Math.abs(parseInt(c[b].argument)),substitution=sprintfWrapper.convert(c[b])):"f"==c[b].code?(c[b].argument=""+Math.abs(parseFloat(c[b].argument)).toFixed(c[b].precision?c[b].precision:6),substitution=sprintfWrapper.convert(c[b])):"o"==c[b].code?(c[b].argument=""+Math.abs(parseInt(c[b].argument)).toString(8),substitution=sprintfWrapper.convert(c[b])):"s"==c[b].code?(c[b].argument=c[b].argument.substring(0,c[b].precision?c[b].precision:c[b].argument.length),substitution= sprintfWrapper.convert(c[b],!0)):"x"==c[b].code?(c[b].argument=""+Math.abs(parseInt(c[b].argument)).toString(16),substitution=sprintfWrapper.convert(c[b])):"X"==c[b].code?(c[b].argument=""+Math.abs(parseInt(c[b].argument)).toString(16),substitution=sprintfWrapper.convert(c[b]).toUpperCase()):substitution=c[b].match,n+=d[b],n+=substitution;return n+=d[b]},convert:function(b,a){b.sign=a?"":b.negative?"-":b.sign;var c=b.min-b.argument.length+1-b.sign.length,c=Array(0>c?0:c).join(b.pad);return b.left? "0"==b.pad||a?b.sign+b.argument+c.replace(/0/g," "):b.sign+b.argument+c:"0"==b.pad||a?b.sign+c+b.argument:c+b.sign+b.argument}};sprintf=sprintfWrapper.init;var Y;location.href.match(/#jsgallerydebug$/);var V,K={};b.extend(b.support,{touch:"ontouchstart"in document});e();var $=e().replace(/[^\/]*$/,""),G={fit:function(a,c,d,k,f){var w,l,n=a/c,f=b.extend({noEnlarge:!1,minWidth:16,minHeight:16},f);w=d;l=d/n;l>k&&(l=k,w=l*n);if(w<f.minWidth)w=f.minWidth,l=w/n;if(l<f.minHeight)l=f.minHeight,w=l*n;if(f.noEnlarge&& (w>a||l>c))w=a,l=c;a=(k-l)/2;return{left:Math.round((d-w)/2),top:Math.round(a),width:Math.round(w),height:Math.round(l),margin:0}},fill:function(b,a,c,d){var f=b/a,b=c,a=c/f;a<d&&(a=d,b=a*f);d=(d-a)/2;return{left:Math.round((c-b)/2),top:Math.round(d),width:Math.round(b),height:Math.round(a),margin:0}}},D=function(){function b(a,c,m){a.addEventListener?a.addEventListener(c,m,!1):a.attachEvent&&a.attachEvent("on"+c,m)}function a(c){var m=!1,d=function(){m||(m=!0,c())};document.write('<script defer src="//:" id="__onload_ie_pixastic__"><\/script>'); var p=document.getElementById("__onload_ie_pixastic__");p.onreadystatechange=function(){"complete"==p.readyState&&(p.parentNode.removeChild(p),d())};document.addEventListener&&document.addEventListener("DOMContentLoaded",d,!1);b(window,"load",d)}function c(){for(var b=d("pixastic",null,"img"),a=d("pixastic",null,"canvas"),m=b.concat(a),p=0;p<m.length;p++)(function(){for(var b=m[p],a=[],c=b.className.split(" "),d=0;d<c.length;d++){var v=c[d];"pixastic-"==v.substring(0,9)&&(v=v.substring(9),""!=v&& a.push(v))}if(a.length)if("img"==b.tagName.toLowerCase())if(c=new Image,c.src=b.src,c.complete)for(c=0;c<a.length;c++)(d=D.applyAction(b,b,a[c],null))&&(b=d);else c.onload=function(){for(var c=0;c<a.length;c++){var m=D.applyAction(b,b,a[c],null);m&&(b=m)}};else setTimeout(function(){for(var c=0;c<a.length;c++){var m=D.applyAction(b,b,a[c],null);m&&(b=m)}},1)})()}function d(b,a,c){var m=[];null==a&&(a=document);null==c&&(c="*");a=a.getElementsByTagName(c);c=a.length;b=RegExp("(^|\\s)"+b+"(\\s|$)"); for(i=0,j=0;i<c;i++)b.test(a[i].className)&&(m[j]=a[i],j++);return m}function f(b,a){if(D.debug)try{switch(a){case "warn":console.warn("Pixastic:",b);break;case "error":console.error("Pixastic:",b);break;default:console.log("Pixastic:",b)}}catch(c){}}"undefined"!=typeof pixastic_parseonload&&pixastic_parseonload&&a(c);var w=function(){var b=document.createElement("canvas"),a=!1;try{a=!!("function"==typeof b.getContext&&b.getContext("2d"))}catch(c){}return function(){return a}}(),l=function(){var b= document.createElement("canvas"),a=!1,c;try{if("function"==typeof b.getContext&&(c=b.getContext("2d")))a="function"==typeof c.getImageData}catch(m){}return function(){return a}}(),n=function(){var b=!1,a=document.createElement("canvas");if(w()&&l()){a.width=a.height=1;a=a.getContext("2d");a.fillStyle="rgb(255,0,0)";a.fillRect(0,0,1,1);var c=document.createElement("canvas");c.width=c.height=1;var m=c.getContext("2d");m.fillStyle="rgb(0,0,255)";m.fillRect(0,0,1,1);a.globalAlpha=0.5;a.drawImage(c,0, 0);b=255!=a.getImageData(0,0,1,1).data[2]}return function(){return b}}();return{parseOnLoad:!1,debug:!1,applyAction:function(b,a,c,m){var m=m||{},d="canvas"==b.tagName.toLowerCase();if(d&&D.Client.isIE())return D.debug&&f("Tried to process a canvas element but browser is IE."),!1;var p,v,l=!1;D.Client.hasCanvas()&&(l=!!m.resultCanvas,p=m.resultCanvas||document.createElement("canvas"),v=p.getContext("2d"));var k=b.offsetWidth,n=b.offsetHeight;if(d)k=b.width,n=b.height;if(0==k||0==n)if(null==b.parentNode){var w= b.style.position,e=b.style.left;b.style.position="absolute";b.style.left="-9999px";document.body.appendChild(b);k=b.offsetWidth;n=b.offsetHeight;document.body.removeChild(b);b.style.position=w;b.style.left=e}else{D.debug&&f("Image has 0 width and/or height.");return}if(-1<c.indexOf("(")&&(w=c,c=w.substr(0,w.indexOf("(")),w=w.match(/\((.*?)\)/),w[1])){w=w[1].split(";");for(e=0;e<w.length;e++)if(thisArg=w[e].split("="),2==thisArg.length)if("rect"==thisArg[0]){var g=thisArg[1].split(",");m[thisArg[0]]= {left:parseInt(g[0],10)||0,top:parseInt(g[1],10)||0,width:parseInt(g[2],10)||0,height:parseInt(g[3],10)||0}}else m[thisArg[0]]=thisArg[1]}m.rect?(m.rect.left=Math.round(m.rect.left),m.rect.top=Math.round(m.rect.top),m.rect.width=Math.round(m.rect.width),m.rect.height=Math.round(m.rect.height)):m.rect={left:0,top:0,width:k,height:n};w=!1;D.Actions[c]&&"function"==typeof D.Actions[c].process&&(w=!0);if(!w)return D.debug&&f('Invalid action "'+c+'". Maybe file not included?'),!1;if(!D.Actions[c].checkSupport())return D.debug&& f('Action "'+c+'" not supported by this browser.'),!1;if(D.Client.hasCanvas()){if(p!==b)p.width=k,p.height=n;if(!l)p.style.width=k+"px",p.style.height=n+"px";v.drawImage(a,0,0,k,n);b.__pixastic_org_image?(p.__pixastic_org_image=b.__pixastic_org_image,p.__pixastic_org_width=b.__pixastic_org_width,p.__pixastic_org_height=b.__pixastic_org_height):(p.__pixastic_org_image=b,p.__pixastic_org_width=k,p.__pixastic_org_height=n)}else if(D.Client.isIE()&&"undefined"==typeof b.__pixastic_org_style)b.__pixastic_org_style= b.style.cssText;a={image:b,canvas:p,width:k,height:n,useData:!0,options:m};if(!D.Actions[c].process(a))return!1;if(D.Client.hasCanvas()){a.useData&&D.Client.hasCanvasImageData()&&(p.getContext("2d").putImageData(a.canvasData,m.rect.left,m.rect.top),p.getContext("2d").fillRect(0,0,0,0));if(!m.leaveDOM){p.title=b.title;p.imgsrc=b.imgsrc;if(!d)p.alt=b.alt;if(!d)p.imgsrc=b.src;p.className=b.className;p.style.cssText=b.style.cssText;p.name=b.name;p.tabIndex=b.tabIndex;p.id=b.id;b.parentNode&&b.parentNode.replaceChild&& b.parentNode.replaceChild(p,b)}return m.resultCanvas=p}return b},prepareData:function(b,a){var c=b.canvas.getContext("2d"),m=b.options.rect,c=c.getImageData(m.left,m.top,m.width,m.height),m=c.data;if(!a)b.canvasData=c;return m},process:function(b,a,c,m){if("img"==b.tagName.toLowerCase()){var d=new Image;d.src=b.src;if(d.complete){var p=D.applyAction(b,d,a,c);m&&m(p);return p}d.onload=function(){var p=D.applyAction(b,d,a,c);m&&m(p)}}if("canvas"==b.tagName.toLowerCase())return p=D.applyAction(b,b,a, c),m&&m(p),p},revert:function(b){if(D.Client.hasCanvas()){if("canvas"==b.tagName.toLowerCase()&&b.__pixastic_org_image)return b.width=b.__pixastic_org_width,b.height=b.__pixastic_org_height,b.getContext("2d").drawImage(b.__pixastic_org_image,0,0),b.parentNode&&b.parentNode.replaceChild&&b.parentNode.replaceChild(b.__pixastic_org_image,b),b}else if(D.Client.isIE()&&"undefined"!=typeof b.__pixastic_org_style)b.style.cssText=b.__pixastic_org_style},Client:{hasCanvas:w,hasCanvasImageData:l,hasGlobalAlpha:n, isIE:function(){return!!document.all&&!!window.attachEvent&&!window.opera}},Actions:{}}}();D.Actions.blurfast={process:function(b){var a=parseFloat(b.options.amount)||0,c=!!(b.options.clear&&"false"!=b.options.clear),a=Math.max(0,Math.min(5,a));if(D.Client.hasCanvas()){var d=b.options.rect,f=b.canvas.getContext("2d");f.save();f.beginPath();f.rect(d.left,d.top,d.width,d.height);f.clip();var w=Math.round(b.width/2),l=Math.round(b.height/2),n=document.createElement("canvas");n.width=w;n.height=l;for(var c= !1,a=Math.round(20*a),B=n.getContext("2d"),e=0;e<a;e++){var g=Math.max(1,Math.round(w-e)),t=Math.max(1,Math.round(l-e));B.clearRect(0,0,w,l);B.drawImage(b.canvas,0,0,b.width,b.height,0,0,g,t);c&&f.clearRect(d.left,d.top,d.width,d.height);f.drawImage(n,0,0,g,t,0,0,b.width,b.height)}f.restore();b.useData=!1;return!0}if(D.Client.isIE())return c=10*a,b.image.style.filter+=" progid:DXImageTransform.Microsoft.Blur(pixelradius="+c+")",b.image.style.marginLeft=(parseInt(b.image.style.marginLeft,10)||0)-Math.round(c)+
"px",b.image.style.marginTop=(parseInt(b.image.style.marginTop,10)||0)-Math.round(c)+"px",!0},checkSupport:function(){return D.Client.hasCanvas()||D.Client.isIE()}};var da=23;R.prototype.render=function(){function a(){var v=c.thumbBar=b('
'),l,n,B,e,g,t={};switch(d.thumbBar.position.toLowerCase()){default:case "bottom":l="horizontal";n=k.width()-20;B=d.thumbnail.height+4;e=f.length*(d.thumbnail.width+5)-5;g=B;t.left=10;t.bottom=7;t.width=n;t.height=B;break;case "top":l= "horizontal";n=k.width()-20;B=d.thumbnail.height+4;e=f.length*(d.thumbnail.width+5)-5;g=B;t.left=10;t.top=9;t.width=n;t.height=B;break;case "left":l="vertical";n=d.thumbnail.width+4;B=k.height()-20;e=n;g=f.length*(d.thumbnail.height+5)-5;t.left=9;t.top=10;t.width=n;t.height=B;break;case "right":l="vertical",n=d.thumbnail.width+4,B=k.height()-20,e=n,g=f.length*(d.thumbnail.height+5)-5,t.right=8,t.top=10,t.width=n,t.height=B}t.position="absolute";t.overflow="hidden";v.css(t);var z=b("
");
z.css({position:"relative",width:e,height:g});for(t=0;t<f.length;t++)(function(a){var k=b('<a href="'+f[a].source+'"></a>');k.css({position:"absolute",left:"horizontal"==l?a*(d.thumbnail.width+5):1,top:"horizontal"==l?1:a*(d.thumbnail.height+5),width:d.thumbnail.width-4,height:d.thumbnail.height-4,overflow:"hidden",border:"2px solid",borderColor:A(d.thumbnail.outlineColor),"-moz-border-radius":d.thumbnail.cornerRadius/2,"-webkit-border-radius":d.thumbnail.cornerRadius/2,"-khtml-border-radius":d.thumbnail.cornerRadius/ 2,borderRadius:d.thumbnail.cornerRadius/2,opacity:d.thumbnail.alpha/100});k.hover(function(){var a=b(this);a.hasClass("altgallery-active")||(a.data("style",{opacity:a.css("opacity"),borderColor:a.css("borderTopColor")}),a.css({borderColor:A(d.thumbnail.outlineColorOnRollOver),opacity:1}))},function(){var a=b(this);a.hasClass("altgallery-active")||a.css(a.data("style"))});c.onOpenItem[a]=function(){var b=v.find("a").eq(a);b.parent().find("a").removeClass("altgallery-active").css({opacity:d.thumbnail.alpha/ 100,borderColor:A(d.thumbnail.outlineColor)});b.addClass("altgallery-active").data("style",{opacity:1,borderColor:A(d.thumbnail.outlineColorOnClick)}).css(b.data("style"));(function(){var b;if("horizontal"==l&&n<e){var c=0-(a*(d.thumbnail.width+5)-n/2+d.thumbnail.width/2),m=0-e+n;0<c&&(c=0);c<m&&(c=m);z.animate({left:c});z.unbind("mouseleave").mouseleave(function(){b=setTimeout(function(){z.animate({left:c},1E3)},1E3)})}else B<g&&(c=0-(a*(d.thumbnail.height+5)-B/2+d.thumbnail.height/2),m=0-g+B,0< c&&(c=0),c<m&&(c=m),z.animate({top:c}),z.unbind("mouseleave").mouseleave(function(){b=setTimeout(function(){z.animate({top:c},1E3)},1E3)}));z.unbind("mouseenter").mouseenter(function(){clearTimeout(b)})})()};k.click(function(){if(!c.drag)c.currentItem=a,b(this).hasClass("altgallery-active")||c.open(f[a]);return!1});z.append(k);var t=new Image;t.onload=function(){var c=b('<img src="'+f[a].thumb+'" alt="" />');o(c);c.css({position:"absolute",border:"none"});c.css(G.fill(this.width,this.height,d.thumbnail.width- 4,d.thumbnail.height-4));d.thumbnail.useShadow&&k.css({"-moz-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-webkit-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-khtml-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)",boxShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"});k.append(c)};t.src=f[a].thumb})(t);v.append(z);(function(){function a(){q=!0;z.stop();h=setInterval(function(){var b=parseInt(z.css("left"))+parseInt(d.thumbBar.scrollSpeed);0<b?(z.css("left",0),o()):z.css("left",b)},25)}function k(){q=!0;z.stop(); h=setInterval(function(){var b=parseInt(z.css("left"))-parseInt(d.thumbBar.scrollSpeed),a=0-e+n;b<a?(z.css("left",a),o()):z.css("left",b)},25)}function f(){q=!0;z.stop();h=setInterval(function(){var b=parseInt(z.css("top"))+parseInt(d.thumbBar.scrollSpeed);0<b?(z.css("top",0),o()):z.css("top",b)},25)}function t(){q=!0;z.stop();h=setInterval(function(){var b=parseInt(z.css("top"))-parseInt(d.thumbBar.scrollSpeed),a=0-g+B;b<a?(z.css("top",a),o()):z.css("top",b)},25)}function o(){clearInterval(h);q= !1}var h,q=!1;"horizontal"==l&&n<e?(v.mousemove(function(d){c.drag||(d=d.pageX-b(this).offset().left,30>d?q||a():d>n-30?q||k():o())}),z.draggable({axis:"x",start:function(){c.drag=!0},stop:function(b,a){var d=a.position.left,p=0-e+n;0<d?z.animate({left:0},"fast"):d<p&&z.animate({left:p},"fast");setTimeout(function(){c.drag=!1},100)}})):B<g&&(v.mousemove(function(a){c.drag||(a=a.pageY-b(this).offset().top,30>a?q||f():a>B-30?q||t():o())}),z.draggable({axis:"y",start:function(){c.drag=!0},stop:function(b,
a){var d=a.position.top,p=0-g+B;0<d?z.animate({top:0},"fast"):d<p&&z.animate({top:p},"fast");setTimeout(function(){c.drag=!1},100)}}));L(z);v.mouseleave(function(){o()})})();k.element.append(v)}var c=this,d=this.settings,k=this.canvas,f=this.items;(function(){var a=b('
'),v={},f;if(d.thumbBar.useThumbBar)switch(d.thumbBar.position.toLowerCase()){default:case "bottom":f=!0;v.left=10;v.top=10;v.width=k.width()-20;v.height=k.height()-
d.thumbnail.height-30;break;case "top":f=!0;v.left=10;v.bottom=10;v.width=k.width()-20;v.height=k.height()-d.thumbnail.height-30;break;case "left":f=!1;v.right=10;v.top=10;v.width=k.width()-d.thumbnail.width-30;v.height=k.height()-20;break;case "right":f=!1,v.left=10,v.top=10,v.width=k.width()-d.thumbnail.width-30,v.height=k.height()-20}else v.left=10,v.top=10,v.width=k.width()-20,v.height=k.height()-20;a.css(v);k.element.append(a);var B,e;T(a,{touchstart:function(b){c.drag=!0;B=b.pageX;e=b.pageY}, touchend:function(b){b=f?b.pageX-B:b.pageY-e;30<b?(setTimeout(function(){c.drag=!1},100),c.prev()):-30>b?(setTimeout(function(){c.drag=!1},100),c.next()):c.drag=!1},touchcancel:function(){c.drag=!1}});L(a)})();d.thumbBar.useThumbBar?(a(),k.element.find(".altgallery-thumbBar a").eq(c.currentItem).click()):c.open(c.getCurrentItem())};R.prototype.open=function(a){var c=this,d=this.settings,k=this.canvas,f=k.element.find(".altgallery-imageFrame"),w=b('<img class="altgallery-preloader" src="'+s.images.loader+
'" alt="" />');o(w);w.css({position:"absolute",left:"50%",top:"50%",zIndex:10,margin:"-16px 0 0 -16px"});C(a.source,function(l){w.hide();k.element.find(".altgallery-preloader").remove();var n=d.image.scaleMode.toLowerCase(),e="fill"==n?G.fill(l.width,l.height,f.width(),f.height()):G.fit(l.width,l.height,f.width(),f.height()),g;a.link?(g=b("<a></a>"),g.attr("href",a.link),a.target&&g.attr("target",a.target)):g=b("
");g.click(function(){if(c.drag)return!1});g.css({display:"block",position:"absolute",
left:"fill"==n?0:e.left,top:"fill"==n?0:e.top,width:"fill"==n?f.width():e.width,height:"fill"==n?f.height():e.height,overflow:"hidden","-moz-border-radius":d.image.cornerRadius/2,"-webkit-border-radius":d.image.cornerRadius/2,"-khtml-border-radius":d.image.cornerRadius/2,borderRadius:d.image.cornerRadius/2});d.image.useShadow&&g.css({"-moz-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-webkit-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)","-khtml-box-shadow":"1px 1px 2px rgba(0, 0, 0, 0.5)",boxShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"});
var h=b('<img src="'+l.src+'" alt="" />');o(h);h.css({position:"absolute",left:"fill"==n?e.left:0,top:"fill"==n?e.top:0,width:e.width,height:e.height});g.append(h);if(a.description&&"never"!=d.caption.visibleMode.toLowerCase()){var t=b("
");t.html(a.description);t.css({position:"absolute",left:0,width:e.width,padding:"9px 10px",fontFamily:d.caption.fontName,fontSize:d.caption.fontSize,lineHeight:1.25,color:A(d.caption.color),background:u(d.caption.bgColor,d.caption.bgAlpha/100)});if("top"==
d.caption.position.toLowerCase()){if(t.css({top:0,borderBottom:"1px solid",borderBottomColor:u("#000000",(d.caption.bgAlpha+10)/100)}),"onrollover"==d.caption.visibleMode.toLowerCase()){var z=1.25*d.caption.fontSize+18;t.css({top:-z}).hide();h.hover(function(){t.show().stop().animate({top:0},s.animation.duration)},function(){t.animate({top:-z},s.animation.duration,function(){t.hide()})})}}else t.css({bottom:0,borderTop:"1px solid",borderTopColor:u("#000000",(d.caption.bgAlpha+10)/100)}),"onrollover"== d.caption.visibleMode.toLowerCase()&&(z=1.25*d.caption.fontSize+18,t.css({bottom:-z}).hide(),h.hover(function(){t.show().stop().animate({bottom:0},s.animation.duration)},function(){t.animate({bottom:-z},s.animation.duration,function(){t.hide()})}));g.append(t)}switch(d.image.transitionEffect.toLowerCase()){default:case "fade":f.animate({opacity:0},{duration:500*d.image.transitionDuration,easing:"linear",complete:function(){f.empty();f.append(g);f.animate({opacity:1},{duration:500*d.image.transitionDuration, easing:"swing",complete:function(){c.onOpen(l)}})}});break;case "xfade":case "crossfade":f.css({opacity:1}),n=f.find("div"),n.size()?(n.animate({opacity:0},{duration:1E3*d.image.transitionDuration,easing:"linear",complete:function(){b(this).remove();c.onOpen(l)}}),f.append(g),g.css({opacity:0}).animate({opacity:1},{duration:1E3*d.image.transitionDuration,easing:"linear"})):(f.append(g),g.css({opacity:0}).animate({opacity:1},{duration:1E3*d.image.transitionDuration,easing:"linear",complete:function(){c.onOpen(l)}}))}c.onOpenItem[parseInt(a.id)]()}); setTimeout(function(){k.element.find(".altgallery-preloader").remove();f.append(w)},500)};R.prototype.prev=function(){0<this.currentItem?this.currentItem--:this.currentItem=this.items.length-1;this.open(this.getCurrentItem())};R.prototype.next=function(){this.currentItem<this.items.length-1?this.currentItem++:this.currentItem=0;this.open(this.getCurrentItem())};R.prototype.slideshowStart=function(){var b=this;b.slideshow=!0;b.onOpen=function(){b.slideshowTimer&&clearInterval(b.slideshowTimer);b.slideshowTimer= setTimeout(function(){b.next()},1E3*b.settings.slideshow.delay)};if(b.settings.slideshow.stopAutoOnClick){var a=function(){b.slideshowStop();b.canvas.element.unbind("click",a).find("a").unbind("click",a)};b.canvas.element.bind("click",a).find("a").bind("click",a)}};R.prototype.slideshowStop=function(){this.onOpen=function(){};this.slideshow=!1;clearInterval(this.slideshowTimer)};I.prototype.init=function(){this.initPreloader();this.initImage();this.initNavigation();this.initThumbnails();this.initCaption(); this.initButtons();var b,a=0;if((b=location.hash.match(/#galleryPhotoNumber=(\d+)/))||(b=location.href.match(/[?&]galleryPhotoNumber=(\d+)/)))a=b[1]-1;this.open(this.items[a])};I.prototype.initPreloader=function(){var a=this.canvas;C(s.images.loader,500);var c=this.preloader=b('<img alt="" />');c.attr({src:s.images.loader}).css({position:"absolute",left:"50%",top:"50%",zIndex:100,margin:"-16px 0 0 -16px"});a.append(c)};I.prototype.initImage=function(){var a=this,c=a.canvas,d=a.settings,k=b("<div />"); k.css({position:"absolute",left:0,top:0,width:c.width(),height:c.height()});c.append(k);var f=a.background=b("<div />");f.css({position:"absolute",left:0,top:0,zIndex:0,width:c.width(),height:c.height(),overflow:"hidden",background:A(d.image.bgTintColor)});k.append(f);f=a.imageFrame=b("<div />");f.css({position:"absolute",left:d.image.padding,top:d.image.padding,zIndex:1,width:c.width()-2*d.image.padding,height:c.height()-2*d.image.padding,overflow:"visible"});k.append(f);var w;T(k,{touchstart:function(b){a.drag=
!0;w=b.pageX},touchend:function(b){b=b.pageX-w;30<b?(setTimeout(function(){a.drag=!1},100),a.prev()):-30>b?(setTimeout(function(){a.drag=!1},100),a.next()):a.drag=!1},touchcancel:function(){setTimeout(function(){a.drag=!1},100)}});L(k)};I.prototype.initNavigation=function(){this.initPrevButton();this.initNextButton()};I.prototype.initPrevButton=function(){var a=this,c=a.canvas,d=a.prevButton=b("
");d.css({position:"absolute",left:-10,top:(c.height()-69)/2,zIndex:1,width:72,height:69,background:"no-repeat center 0", backgroundImage:y(s.images.folder+"aura-arrows.png"),opacity:0.5,cursor:"pointer"}).hover(function(){b(this).css({opacity:1})},function(){b(this).css({opacity:0.5})}).click(function(){a.prev();return!1});c.append(d)};I.prototype.initNextButton=function(){var a=this,c=a.canvas,d=a.nextButton=b("
");d.css({position:"absolute",right:-10,top:(c.height()-69)/2,zIndex:1,width:72,height:69,background:"no-repeat center -75px",backgroundImage:y(s.images.folder+"aura-arrows.png"),opacity:0.5,cursor:"pointer"}).hover(function(){b(this).css({opacity:1})},
function(){b(this).css({opacity:0.5})}).click(function(){a.next();return!1});c.append(d)};I.prototype.initThumbnails=function(){function a(){z||(z=!0,t=setInterval(function(){var b=parseInt(g.css("left"))+10;0<b&&(b=0);g.css({left:b})},25))}function c(){z||(z=!0,t=setInterval(function(){var b=parseInt(g.css("left"))-10,a=-(o-f.width()+10);b<a&&(b=a);g.css({left:b})},25))}function d(){z=!1;clearInterval(t)}var k=this,f=k.canvas,w=k.settings,l=k.items,n=b("<div />");f.append(n);var e=k.thumbBar=b("<div />"); e.css({position:"absolute",left:0,bottom:0,zIndex:1,width:f.width(),height:w.thumbnail.height+50,background:"rgba(0,0,0,0.5)"});n=b("<div />");n.css({position:"absolute",left:0,top:29,width:f.width(),height:1,background:"#fff",opacity:0.7});x(n,{boxShadow:"0 1px 0 #000"});e.append(n);var g=b('<div class="altgallery-thumbnails" />');g.css({position:"absolute",left:0,bottom:10});var o=l.length*(w.thumbnail.width+10),t,z=!1;e.mousemove(function(k){k=k.pageX-b(this).offset().left;50>k?a():k>f.width()- 50?c():d()}).mouseleave(function(){d()});f.element.mouseover(function(){e.stop().animate({opacity:1})});f.element.mouseleave(function(){d();e.stop().animate({opacity:0})});g.draggable({axis:"x",start:function(){k.drag=!0},stop:function(b,a){var c=a.position.left,d=-(o-f.width()+10);0<c?g.animate({left:0},"fast"):c<d&&g.animate({left:d},"fast");setTimeout(function(){k.drag=!1},100)}});for(n=0;n<l.length;n++){var h=b("<a></a>");h.attr({href:l[n].source}).css({position:"absolute",left:10+n*(w.thumbnail.width+ 10),bottom:0,width:w.thumbnail.width,height:w.thumbnail.height,overflow:"hidden"});(function(a,c){c.hover(function(){x(this,{boxShadow:"0 0 6px #fff"})},function(){a!=k.currentItem&&x(this,{boxShadow:"none"})}).click(function(){k.drag||k.open(l[a],function(){});return!1});C(l[a].thumb,function(a){var d=b('<img alt="" />');d.attr({src:a.src});d.css({position:"absolute"});d.css(G.fill(a.width,a.height,w.thumbnail.width,w.thumbnail.height));c.append(d)},50*a)})(n,h);g.append(h)}e.append(g);f.append(e); L(e)};I.prototype.initCaption=function(){var a=this.caption=b("<div />");a.css({position:"absolute",left:10,top:10,fontFamily:'"Times New Roman", Times, serif',fontSize:"12px",fontWeight:"bold",color:"#fff",textShadow:"0 1px 0 #000"});this.thumbBar.append(a)};I.prototype.initButtons=function(){function a(){b(this).css({opacity:1})}function c(){b(this).css({opacity:0.5})}var d=this,k=d.settings,f=b("<div />");f.css({position:"absolute",right:5,top:7});var e={cssFloat:"left",width:16,height:16,margin:"0 0 0 4px", backgroundImage:y(s.images.folder+"aura-buttons.png"),backgroundRepeat:"no-repeat",opacity:0.5,cursor:"pointer"},l=b("<div />");l.prop({title:k.translation.getLink}).css(e).css({backgroundPosition:"0 -40px"}).click(function(){h(d.getCurrentItem().source,"_blank")}).hover(a,c);f.append(l);l=b("<div />");l.prop({title:k.translation.shareWithFacebook}).css(e).css({backgroundPosition:"0 -60px"}).click(function(){h(" http://www.facebook.com/sharer.php?u= "+location.href+"%23galleryPhotoNumber="+(d.currentItem+ 1)+"&t="+d.getCurrentItem().description||"","_blank")}).hover(a,c);f.append(l);l=b("<div />");l.prop({title:k.translation.tweet}).css(e).css({backgroundPosition:"0 -80px"}).click(function(){h(" https://twitter.com/intent/tweet?url= "+location.href+"%23galleryPhotoNumber="+(d.currentItem+1)+"&text="+d.getCurrentItem().description||"","_blank")}).hover(a,c);f.append(l);l=b("<div />");l.css({cssFloat:"left",width:1,height:14,margin:"0 3px 0 5px",background:"#fff"});f.append(l);l=b("<div />");l.prop({title:k.translation.startSlideshow}).css(e).css({backgroundPosition:"0 0"}).click(function(){d.slideshow? (d.slideshowStop(),b(this).css({backgroundPosition:"0 0"})):(d.slideshowStart(),b(this).css({backgroundPosition:"0 -20px"}))}).hover(a,c);f.append(l);d.thumbBar.append(f)};I.prototype.update=function(){this.updateThumbnails();this.updateNavigation();this.updateCaption()};I.prototype.updateThumbnails=function(){var a=this,c=0;a.thumbBar.find(".altgallery-thumbnails a").each(function(){var d=b(this);c==a.currentItem?x(d,{boxShadow:"0 0 6px #fff"}):x(d,{boxShadow:"none"});c++})};I.prototype.updateNavigation= function(){0==this.currentItem?this.prevButton.hide():this.prevButton.show();this.currentItem==this.items.length-1?this.nextButton.hide():this.nextButton.show()};I.prototype.updateCaption=function(b){this.caption.html(b||this.getCurrentItem().description||this.settings.translation.image+" "+(this.currentItem+1)+"/"+this.items.length)};I.prototype.open=function(a,c){var d=this,k=d.canvas,f=d.settings;if(d.currentItem!=a.id){d.currentItem=a.id;var e=setTimeout(function(){d.preloader.show()},500);C(a.source, function(a){clearTimeout(e);d.preloader.hide();(function(){var c=b('<img alt="" />');c.attr({src:a.src}).css({position:"absolute"});var m,k=d.imageFrame.width(),v=d.imageFrame.height();if("fill"==f.image.scaleMode){m=G.fill(a.width,a.height,k,v);if(m.width>k)m.width=k,m.left=0;if(m.height>v)m.height=v,m.top=0}else m=G.fit(a.width,a.height,k,v);c.css(G.fill(a.width,a.height,m.width,m.height));var e=d.imageFrame.find("div"),k=b("<div />");k.css({position:"absolute",overflow:"hidden"}).css(m).hide(); x(k,{boxShadow:"0 6px 6px rgba(0,0,0,0.6)"});k.append(c);d.imageFrame.append(k);e.animate({opacity:"hide"},s.animation.duration/2);k.animate({opacity:"show"},s.animation.duration/2,function(){e.remove()})})();(function(){var c=b('<img alt="" />');c.attr({src:a.src}).css({position:"absolute"});c.css(G.fill(a.width,a.height,k.width(),k.height()));var m=d.background.find("div"),f=b("<div />");f.css({opacity:0});f.append(c);d.background.append(f);D.process(c.get(0),"blurfast",{amount:1.5});m.animate({opacity:0}, s.animation.duration);f.animate({opacity:0.5},s.animation.duration,function(){m.remove()})})();"function"==typeof c&&c(a);C(d.items[(d.currentItem+1)%d.items.length].source)});d.update()}};I.prototype.prev=function(b){0<this.currentItem?this.open(this.items[this.currentItem-1],b):this.open(this.items[this.items.length-1],b)};I.prototype.next=function(b){this.currentItem<this.items.length-1?this.open(this.items[this.currentItem+1],b):this.open(this.items[0],b)};I.prototype.slideshowStart=function(){var b= this,a=b.settings;if(!b.slideshow){var c=function(){b.slideshowTimeoutId=setTimeout(function(){b.next(c)},1E3*a.slideshow.delay+2E3)};b.slideshow=!0;setTimeout(function(){b.next(c)},1E3*a.slideshow.delay)}};I.prototype.slideshowStop=function(){if(this.slideshow)this.slideshow=!1,clearTimeout(this.slideshowTimeoutId)};M.prototype.render=function(c){var d=this,p=this.canvas,k=this.items,f=this.settings;if(c===a)c=d.page;p.element.empty();var e=p.width(),l=p.height(),n=parseInt(f.thumbnail.width),g= parseInt(f.thumbnail.height),o=Math.floor((e-40)/n);1>o&&(o=1);var h=Math.floor((l-40)/g);1>h&&(h=1);c=Math.ceil(k.length/o);h>c&&(h=c);var t=o*h,z=d.pagesCount=Math.ceil(k.length/t),q=Math.floor(f.thumbnail.width)+2,r=Math.floor(f.thumbnail.height)+2,Q=Math.floor((e-q*o)/2-8),u=Math.floor((l-r*h)/2-8),Z=d.pageWidth=q*o,c=d.pageHeight=r*h,S=b('<div class="altgallery-frame" />'),l={position:"absolute",left:Q,top:u,width:Math.floor(e-2*(Q+8))+14,height:Math.floor(l-2*(u+8))+14,background:A(f.colorScheme.thumbsFrameColor), "-moz-border-radius":"4px","-webkit-border-radius":"4px","-khtml-border-radius":"4px",borderRadius:"4px"};f.colorScheme.useShadow&&(l=b.extend(l,{"-moz-box-shadow":"0 0 10px rgba(0, 0, 0, 0.5)","-webkit-box-shadow":"0 0 10px rgba(0, 0, 0, 0.5)","-khtml-box-shadow":"0 0 10px rgba(0, 0, 0, 0.5)",boxShadow:"0 0 10px rgba(0, 0, 0, 0.5)"}));S.css(l);p.element.append(S);e=b('<div class="altgallery-frameMask" />');l.background="#000";l.opacity=0.6;l.zIndex=20;l["-moz-box-shadow"]="none";l["-webkit-box-shadow"]= "none";l["-khtml-box-shadow"]="none";l.boxShadow="none";e.css(l).hide();p.element.append(e);p=b("<div />");p.css({position:"absolute",left:8,top:8,width:Z-2,height:c-2,overflow:"hidden"});var D=d.imagesContainer=b("<div />");D.css({position:"relative",left:0,top:0,width:q*o*z-2,height:r*h-2});p.append(D);S.append(p);d.drag=!1;var W=0;D.draggable({axis:"x",distance:30,start:function(b,a){W=a.position.left;d.drag=!0},stop:function(b,a){30<Math.abs(Math.abs(W)-Math.abs(a.position.left))?W<a.position.left? d.prevPage():d.nextPage():d.placePage();setTimeout(function(){d.drag=!1},100)}});L(D);for(p=0;p<k.length;p++)z=p%o*q+Math.floor(p/t)*Z,e=Math.floor(p/o)%h*r,function(a,c,p){var l=b("<img />"),v=b("<a />");v.attr({href:k[a].source}).css({display:"block",position:"absolute",left:Math.floor(c),top:Math.floor(p+0.5*g),width:n,height:g,overflow:"hidden",opacity:0,background:A(f.colorScheme.imageBGColor),border:"none",margin:0,padding:0}).click(function(){return!1});D.append(v);var e=function(){v.click(function(){if(!d.drag)d.currentItem= a,d.open(k[a],{left:a%o*q+Q,top:p+u});return!1}).mouseover(function(){l.stop().animate({opacity:1},s.animation.duration/2)}).mouseleave(function(){l.stop().animate({opacity:f.thumbnail.alpha/100},s.animation.duration/2)})};a<t?setTimeout(function(){v.animate({top:p,opacity:1},{duration:s.animation.duration,complete:e})},200*a):(v.css({top:p,opacity:1}),e());C(k[a].thumb,function(b){l.attr({src:b.src}).css({display:"block",position:"absolute",margin:0,padding:0,border:"none",opacity:f.thumbnail.alpha/ 100}).css(G.fill(b.width,b.height,parseInt(f.thumbnail.width),parseInt(f.thumbnail.height)));v.append(l)},200*a)}(p,z,e);h=d.prevPageButton=b("<div />");h.css({position:"absolute",left:5,top:c/2-10,width:30,height:30,background:y(s.images.folder+"/left.png"),cursor:"pointer"});x(h,{borderRadius:"4px"});h.click(function(){d.prevPage()});S.append(h);h=d.nextPageButton=b("<div />");h.css({position:"absolute",right:5,top:c/2-10,width:30,height:30,background:y(s.images.folder+"/right.png"),cursor:"pointer"}); x(h,{borderRadius:"4px"});h.click(function(){d.nextPage()});S.append(h);S.mouseover(function(){d.showControls()});S.mouseleave(function(){d.hideControls()});d.hideControls();d.showControls()};M.prototype.hideControls=function(){this.prevPageButton.hide();this.nextPageButton.hide()};M.prototype.showControls=function(){0<this.page&&this.prevPageButton.show();this.page<this.pagesCount-1&&this.nextPageButton.show()};M.prototype.open=function(c,d){var p=this,k=this.settings,f=b('<img class="altgallery-preloader" src="'+ s.images.loader+'" alt="" />');o(f);f.css({position:"absolute",left:"50%",top:"50%",zIndex:10,margin:"-16px 0 0 -16px"});var e=b('<img src="'+c.thumb+'" />');C(c.thumb,function(l){b(".altgallery-imageFrame",p.canvas.element).remove();b(".altgallery-frameMask",p.canvas.element).fadeIn(s.animation.duration);var n=document.createElement("div");b(n).addClass("altgallery-imageFrame").css({position:"absolute",padding:8,background:A(k.colorScheme.imageBGColor),zIndex:30});b(n).hide();var g=G.fit(l.width, l.height,p.canvas.width()-48,p.canvas.height()-48),h={left:g.left+16+g.width/3,top:g.top+16+g.height/3,width:g.width/3,height:g.height/3};if(d!==a){if(d.left!==a)h.left=d.left;if(d.top!==a)h.top=d.top}b(n).css(h);var l=G.fit(l.width,l.height,p.canvas.width()-48,p.canvas.height()-48),o={left:l.left+16+l.width/3,top:l.top+16+l.height/3,width:l.width/3,height:l.height/3,margin:0,padding:0,border:"none",maxWidth:"none",maxHeight:"none",cursor:"pointer"};e.css(o);b(n).append(e);p.canvas.element.append(n);
e.animate(l,s.animation.duration);b(n).animate({opacity:"show",left:g.left+16,top:g.top+16,width:g.width,height:g.height},s.animation.duration,function(){var a=b("
");a.css({position:"absolute",left:8,top:8,width:g.width,height:g.height,overflow:"hidden",cursor:"pointer"});if(c.description){var d=parseInt(k.imageCaption.fontSize),d=d||p.defaultSettings.imageCaption.fontSize,m=b("
"+c.description+"
");m.css({position:"absolute",left:0,width:g.width,fontFamily:k.imageCaption.fontName,
fontSize:d+"px",lineHeight:1.25,color:A(k.imageCaption.color),background:u(k.imageCaption.bgColor,k.imageCaption.bgAlpha/100)});a.append(m);b(n).append(a);"bottom"==k.imageCaption.position.toLowerCase()?(m.css({bottom:"-33px",borderTop:"1px solid "+u(k.imageCaption.bgColor,(k.imageCaption.bgAlpha+10)/100)}),m.children("div").css({padding:"8px 10px 10px"}),m.animate({bottom:0})):(m.css({top:"-33px",borderBottom:"1px solid "+u(k.imageCaption.bgColor,(k.imageCaption.bgAlpha+10)/100)}),m.children("div").css({padding:"10px 10px 8px"}), m.animate({top:0}))}var l=b('<a class="altgallery-close" style="position:absolute; right:-15px; top:-13px; width:30px; height:30px; z-index:40; background:no-repeat center; cursor:pointer;"></a>');l.css({backgroundImage:y(s.images.close)});l.click(function(){b(this).remove();m&&m.remove();h.opacity="hide";b(n).animate(h,s.animation.duration,function(){b(this).remove()});e.animate(o,s.animation.duration);b(".altgallery-frameMask",p.canvas.element).fadeOut(s.animation.duration)});b(n).append(l);a.click(function(){l.remove(); m&&m.remove();h.opacity="hide";b(n).animate(h,s.animation.duration,function(){b(this).remove();p.next()});e.animate(o,s.animation.duration)});setTimeout(function(){b(n).append(f)},500)})});C(c.source,function(){f.hide();p.canvas.element.find(".altgallery-preloader").remove();b(e).attr("src",c.source)})};M.prototype.prev=function(){this.currentItem--;if(0>this.currentItem)this.currentItem=this.items.length-1;this.open(this.getCurrentItem())};M.prototype.next=function(){this.currentItem++;if(this.currentItem>= this.items.length)this.currentItem=0;this.open(this.getCurrentItem())};M.prototype.placePage=function(){var b=this;b.hideControls();b.imagesContainer.animate({left:-(b.page*b.pageWidth)},{duration:s.animation.duration,complete:function(){b.showControls()}})};M.prototype.prevPage=function(){this.page--;if(0>this.page)this.page=0;this.placePage()};M.prototype.nextPage=function(){this.page++;if(this.page>=this.pagesCount)this.page=this.pagesCount-1;this.placePage()};F.prototype.init=function(){var b=
this.settings;this.initFrame();this.initNavigation();this.initCaption();this.initButtons();this.initThumbnails();this.initImage();switch(b.initialState.toLowerCase()){case "show thumbnails":this.showThumbnails();break;default:case "load image":case "show image":this.showImage();break;case "start slideshow":this.showImage(),this.slideshowStart()}};F.prototype.initFrame=function(){var a=this.canvas,c=this.settings,d=this.frame=b("
"),k=a.width()-10,f=a.height()-10;d.css({position:"absolute", left:5,top:5,width:k,height:f,overflow:"hidden",background:A(c.buttons.bgColor)});x(d,{borderRadius:"5px",boxShadow:"0 0 4px rgba(0, 0, 0, 0.5)"});var e=this.content=b("
"),k=this.contentWidth=k-18,f=this.contentHeight=f-43;e.css({position:"absolute",left:9,top:9,width:k,height:f,background:A(c.base.color)});x(e,{borderRadius:"4px"});d.append(e);c=this.preloader=b('<img alt="" />');c.attr("src",s.images.loader);c.css({position:"absolute",left:"50%",top:"50%",zIndex:100,margin:"-16px 0 0 -16px"}); e.append(c);a.append(d)};F.prototype.initNavigation=function(){this.initPrevButton();this.initNextButton()};F.prototype.initPrevButton=function(){var a=this.settings,c=b("
");c.css({position:"absolute",left:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,background:A(a.buttons.bgColor),cursor:"default"});x(c,{borderRadius:"10px",boxShadow:"5px 0 15px rgba(0, 0, 0, 0.5)"});this.frame.append(c);prevOverlay=b("
");prevOverlay.css({position:"absolute",left:0,top:this.contentHeight/ 2-30,zIndex:10,width:9,height:80,background:A(a.buttons.bgColor),cursor:"default"});this.frame.append(prevOverlay);var d=this.prevButton=b('
');d.css({position:"absolute",left:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,cursor:"pointer"});this.frame.append(d);var k;this.canvas.element.hover(function(){clearTimeout(k);c.stop().show().css({opacity:1}).animate({left:0}); d.stop().animate({left:0,opacity:1})},function(){k=setTimeout(function(){c.stop().animate({left:-12},function(){c.fadeOut()});d.stop().animate({left:-12,opacity:0})},100)});this.hidePrevButton=function(){c.css({visibility:"hidden"});prevOverlay.css({visibility:"hidden"});d.css({visibility:"hidden"})};this.showPrevButton=function(){c.css({visibility:"visible"});prevOverlay.css({visibility:"visible"});d.css({visibility:"visible"})}};F.prototype.initNextButton=function(){var a=this.settings,c=b("
"); c.css({position:"absolute",right:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,background:A(a.buttons.bgColor),cursor:"default"});x(c,{borderRadius:"10px",boxShadow:"-5px 0 15px rgba(0, 0, 0, 0.5)"});this.frame.append(c);nextOverlay=b("
");nextOverlay.css({position:"absolute",right:0,top:this.contentHeight/2-30,zIndex:10,width:9,height:80,background:A(a.buttons.bgColor),cursor:"default"});this.frame.append(nextOverlay);var d=this.nextButton=b('
');d.css({position:"absolute",right:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,cursor:"pointer"});this.frame.append(d);var k;this.canvas.element.hover(function(){clearTimeout(k);c.stop().show().css({opacity:1}).animate({right:0});d.stop().animate({right:0,opacity:1})},function(){k=setTimeout(function(){c.stop().animate({right:-12},function(){c.fadeOut()});d.stop().animate({right:-12,opacity:0})},100)});this.hideNextButton= function(){c.css({visibility:"hidden"});nextOverlay.css({visibility:"hidden"});d.css({visibility:"hidden"})};this.showNextButton=function(){c.css({visibility:"visible"});nextOverlay.css({visibility:"visible"});d.css({visibility:"visible"})}};F.prototype.initCaption=function(){var a=this.caption=b("
");a.css({position:"absolute",left:10,bottom:10,width:this.contentWidth-60,overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"11px",color:"#777"});this.frame.append(a)};F.prototype.initButtons= function(){var a=this,c=a.settings,d=function(){b(this).css({borderColor:"#fff #bbb #bbb #fff"});x(this,{boxShadow:"0 0 2px rgba(0, 0, 0, 0.2)"})},k=function(){b(this).css({borderColor:"transparent"});x(this,{boxShadow:"none"})};if(c.buttons.showSlideshowButton){var f=a.slideshowButton=b("
");f.css({position:"absolute",right:c.buttons.showThumbnailsButton?29:5,bottom:5,width:23,height:23,background:y(s.images.folder+"cubic-buttons.png")+" no-repeat 0px -51px",border:"1px solid",borderColor:"transparent", cursor:"pointer"});x(f,{borderRadius:"3px 4px 3px 4px"});f.hover(d,k);f.click(function(){a.showImage();a.slideshowStart()});a.frame.append(f)}if(c.buttons.showThumbnailsButton)c=a.showThumbnailsButton=b("
"),c.css({position:"absolute",right:5,bottom:5,width:23,height:23,background:y(s.images.folder+"cubic-buttons.png")+" no-repeat -1px -126px",border:"1px solid",borderColor:"transparent",cursor:"pointer"}).hide(),x(c,{borderRadius:"3px 4px 3px 4px"}),c.hover(d,k),c.click(function(){a.showThumbnails()}), a.frame.append(c),c=a.showImagesButton=b("
"),c.css({position:"absolute",right:5,bottom:5,width:23,height:23,background:y(s.images.folder+"cubic-buttons.png")+" no-repeat -1px -101px",border:"1px solid",borderColor:"transparent",cursor:"pointer"}).hide(),x(c,{borderRadius:"3px 4px 3px 4px"}),c.hover(d,k),c.click(function(){a.showImage()}),a.frame.append(c)};F.prototype.initImage=function(){var a=this.imageWidth=this.contentWidth-2*this.settings.base.visibleFrame,c=this.imageHeight=this.contentHeight- 2*this.settings.base.visibleFrame,d=this.imagesFrame=b("
");d.css({position:"absolute",left:this.settings.base.visibleFrame,top:this.settings.base.visibleFrame,width:a,height:c,overflow:"hidden"}).hide();x(d,{borderRadius:"3px"});this.content.append(d);a=this.imagesContainer=b("
");a.css({position:"relative",left:0,top:0});d.append(a)};F.prototype.showImage=function(b){var a=this,c=function(){function b(){setTimeout(function(){a.drag=!1},100)}a.cleanup();a.thumbnailsFrame.hide();
a.imagesFrame.show();a.showImagesButton.hide();a.showThumbnailsButton.show();a.showPrevButton();a.showNextButton();a.prevButton.unbind("click").click(function(){a.slideshowStop();a.prev()});a.nextButton.unbind("click").click(function(){a.slideshowStop();a.next()});var c=0;a.imagesContainer.draggable({axis:"x",distance:30,start:function(b,d){a.drag=!0;c=d.position.left},stop:function(d,p){30<Math.abs(Math.abs(c)-Math.abs(p.position.left))?c<p.position.left?a.prev(s.animation.duration,b):a.next(s.animation.duration,
b):a.place(s.animation.duration,b)}});a.imagesContainer.unbind("dblclick").dblclick(function(){a.showThumbnails()});L(a.imagesContainer)};!1!==b?(a.hidePrevButton(),a.hideNextButton(),a.open(a.getCurrentItem(),c)):c()};F.prototype.initThumbnails=function(){function a(){c.cleanup()}var c=this,d=c.canvas,k=c.thumbnailsWidth=c.contentWidth-2*c.settings.base.visibleFrame,f=c.thumbnailsHeight=c.contentHeight-2*c.settings.base.visibleFrame,e=c.thumbnailsFrame=b("
");e.css({position:"absolute", left:c.settings.base.visibleFrame,top:c.settings.base.visibleFrame,width:k,height:f,overflow:"hidden"}).hide();x(e,{borderRadius:"3px"});c.content.append(e);var l=c.thumbnailsContainer=b('
');l.css({position:"relative",left:0,top:0,width:k*Math.ceil(c.items.length/20),height:f});e.append(l);for(var n=Math.round((k-5)/5),g=Math.round((f-4)/4),h=Math.round((k-5*n)/10),q=Math.round((f-4*g)/8),f=0;f<c.items.length;f++)(function(f,e){C(e.thumb,function(w){var r=f%
5,Q=Math.floor(f%20/5),s=b('<a class="altgallery-thumbnail altgallery-thumbnail-'+f+'"></a>');o(s);s.attr({href:e.source}).css({display:"block",position:"absolute",left:r*n+Math.floor(f/20)*k+1*r+h,top:Q*g+1*Q+q,width:n,height:g,overflow:"hidden",cursor:"pointer",zIndex:Math.floor(f%20/5)});x(s,{boxShadow:"0px 3px 3px rgba(0, 0, 0, 0.5)"});s.mouseover(function(){if(c.enableThumbnailsHover&&!c.drag){var h=0;0==r?h=n/8:4==r&&(h=-n/8);var o=0;0==Q?o=g/8:3==Q&&(o=-g/8);c.updateCaption(e.description|| "Image "+(f+1)+" / "+c.items.length);c.cleanup();d.element.find(".altgallery-thumbnail").css({opacity:0.8});var q=b(this).clone();q.addClass("altgallery-clone");q.css({left:b(this).offset().left-l.offset().left,top:b(this).offset().top-l.offset().top,zIndex:10,opacity:1});x(q,{boxShadow:"5px 15px 13px rgba(0, 0, 0, 0.7)"});l.append(q);var s=q.find("img");q.animate({width:1.25*n,height:1.25*g,marginLeft:-n/8+h,marginTop:-g/8+o},{duration:"fast",easing:"linear",step:function(){s.css(G.fill(w.width, w.height,q.width(),q.height()))}});q.click(function(){if(!c.drag)c.currentItem=f,q.unbind("mouseleave"),c.canvas.element.unbind("mouseleave",a),x(q,{boxShadow:"none"}),q.animate({left:c.currentPage*k,top:0,width:c.imageWidth,height:c.imageHeight,marginLeft:0,marginTop:0},{duration:"normal",step:function(){s.css(G.fill(w.width,w.height,q.width(),q.height()))},complete:function(){c.showImage()}});return!1});q.mouseleave(function(){c.cleanup();c.updateCaption(" ")})}});s.click(function(){if(!c.drag)c.currentItem= f,c.showImage();return!1});var y=b("<img />");y.attr({src:e.thumb}).css({display:"block",position:"absolute",border:"none"}).css(G.fill(w.width,w.height,n,g));s.append(y);l.append(s)})})(f,c.items[f]);c.canvas.element.mouseleave(a);c.currentPage=0;c.preloader.hide()};F.prototype.showThumbnails=function(){function b(a,c){f.thumbnailsContainer.stop().animate({left:-f.currentPage*f.thumbnailsWidth},{duration:a||2*s.animation.duration,complete:function(){f.enableThumbnailsHover=!0;"function"==typeof c&& c()}})}function a(c,d){if(0<f.currentPage)f.currentPage--,f.enableThumbnailsHover=!1,f.cleanup();b(c,d);f.updateNavigation()}function c(a,d){if(f.currentPage<Math.ceil(f.items.length/20)-1)f.currentPage++,f.enableThumbnailsHover=!1,f.cleanup();b(a,d);f.updateNavigation()}function d(){setTimeout(function(){f.drag=!1},100)}var f=this;f.slideshow&&f.slideshowStop();f.updateCaption(" ");f.imagesFrame.hide();f.thumbnailsFrame.show();f.showThumbnailsButton.hide();f.showImagesButton.show();f.prevButton.unbind("click").click(function(){a()}); f.nextButton.unbind("click").click(function(){c()});f.updateNavigation();var e=0;f.thumbnailsContainer.draggable({axis:"x",distance:30,start:function(b,a){f.drag=!0;e=a.position.left;f.cleanup()},stop:function(f,n){30<Math.abs(Math.abs(e)-Math.abs(n.position.left))?e<n.position.left?a(s.animation.duration,d):c(s.animation.duration,d):b(s.animation.duration,d)}});L(f.thumbnailsContainer)};F.prototype.updateNavigation=function(){var b=Math.ceil(this.items.length/20);0<this.currentPage?this.showPrevButton():
this.hidePrevButton();this.currentPage<b-1?this.showNextButton():this.hideNextButton()};F.prototype.updateCaption=function(b){(b=b||this.getCurrentItem().description)?this.caption.html(b):this.caption.html("Image "+(this.currentItem+1)+" / "+this.items.length)};F.prototype.loadImage=function(c,d){var p=this,c=c%p.items.length;p.items[c]!==a&&C(p.items[c].source,function(a){var f="altgallery-image-"+c;if(!p.imagesContainer.find("."+f).size()){f=b('
');f.css({position:"absolute", left:p.imageWidth*c,top:0,width:p.imageWidth,height:p.imageHeight,overflow:"hidden"});var e=b('<img style="position:absolute;" />');e.attr("src",a.src);e.css(G.fill(a.width,a.height,p.imageWidth,p.imageHeight));f.append(e);p.imagesContainer.append(f)}"function"==typeof d&&d(a)})};F.prototype.open=function(a,c){var d=this,k="altgallery-image-"+d.currentItem;d.imagesContainer.find("."+k).size()?"function"==typeof c&&c():(d.preloader.show(),C(a.source,function(a){var e=b('
');
e.css({position:"absolute",left:d.imageWidth*d.currentItem,top:0,width:d.imageWidth,height:d.imageHeight,overflow:"hidden"});var l=b('<img style="position:absolute;" />');l.attr("src",a.src);l.css(G.fill(a.width,a.height,d.imageWidth,d.imageHeight));e.append(l);d.imagesContainer.append(e);d.preloader.hide();"function"==typeof c&&c()}));d.imagesContainer.stop().css({left:-d.imageWidth*d.currentItem});d.updateCaption();d.loadImage(a.id+1);d.loadImage(a.id-1)};F.prototype.place=function(b,a){this.imagesContainer.stop().animate({left:-this.imageWidth* this.currentItem},{duration:b||2*s.animation.duration,complete:function(){"function"==typeof a&&a()}})};F.prototype.prev=function(b,a){var c=this;if(0<c.currentItem){c.currentItem--;var d=setTimeout(function(){c.preloader.show()},500);c.loadImage(c.currentItem,function(){clearTimeout(d);c.preloader.hide();c.place(b,a);c.updateCaption();c.loadImage(c.currentItem-1)})}else c.currentItem=c.items.length-1,c.showImage()};F.prototype.next=function(b,a){var c=this;if(c.currentItem<c.items.length-1){c.currentItem++; var d=setTimeout(function(){c.preloader.show()},500);c.loadImage(c.currentItem,function(){clearTimeout(d);c.preloader.hide();c.place(b,function(){c.slideshow&&c.slideshowStart();"function"==typeof a&&a()});c.updateCaption();c.loadImage(c.currentItem+1)})}else c.currentItem=0,c.showImage(),c.slideshow&&c.slideshowStart()};F.prototype.slideshowStart=function(){var b=this;b.showImage(!1);clearTimeout(b.slideshowTimer);b.slideshow=!0;b.slideshowButton.css({background:y(s.images.folder+"cubic-buttons.png")+ " no-repeat 0px -76px"});b.slideshowButton.unbind("click").click(function(){b.slideshowStop()});b.slideshowTimer=setTimeout(function(){b.next()},1E3*b.settings.slideshowDelay)};F.prototype.slideshowStop=function(){var b=this;b.slideshow=!1;clearTimeout(b.slideshowTimer);b.slideshowButton.css({background:y(s.images.folder+"cubic-buttons.png")+" no-repeat 0px -51px"});b.slideshowButton.unbind("click").click(function(){b.slideshowStart()})};F.prototype.cleanup=function(){this.canvas.element.find(".altgallery-clone").remove();
b(this.canvas.element).find(".altgallery-thumbnail").css({opacity:1})};P.prototype.showScrollbar=function(){var a=this,c=this.settings,d=this.canvas,k=b('
'),f=Math.round(0.8*d.width())-36;k.css({position:"absolute",zIndex:1E3,left:(d.width()-f)/2,bottom:5,width:f+36,height:17,background:u(c.scrollbar.bgColor,c.scrollbar.bgAlpha/100),"-moz-border-radius":8,"-webkit-border-radius":8,borderRadius:8});if(b.browser.msie&&9>b.browser.version){var e=sprintf("%02x%s", 255*c.scrollbar.bgAlpha/100,A(c.scrollbar.bgColor).replace("#",""));k.css({filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+e+",endColorstr=#"+e+")"})}var l=b('
'),n=f/a.items.length;l.css({position:"absolute",left:Math.round(a.currentItem*n),top:-10,width:Math.floor(n),height:30});var g=b("<div />");g.css({position:"relative",top:10,height:13,background:A(c.scrollbar.handleColor),opacity:c.scrollbar.handleAlpha/100,cursor:"ew-resize"}); g.hover(function(){g.css({opacity:1})},function(){g.css({opacity:c.scrollbar.handleAlpha/100})});l.append(g);l.draggable({axis:"x",containment:"parent",stop:function(b,c){a.currentItem=Math.floor(c.position.left/f*a.items.length);l.css({left:Math.round(a.currentItem*n)});a.animate()}});e=b("
");e.css({position:"relative",top:2,height:13,margin:"0 18px"});e.click(function(c){c=c.pageX-b(this).offset().left;a.currentItem=Math.floor(c/f*a.items.length);l.css({left:Math.round(a.currentItem* n)});a.animate()});var h={position:"absolute",top:2,width:16,height:16,fontFamily:"Arial, Helvetica, sans-serif",fontSize:"10px",lineHeight:"14px",textAlign:"center",color:A(c.scrollbar.arrowsColor),opacity:c.scrollbar.arrowsAlpha/100,cursor:"pointer"},o=b("
â
");o.css(h);o.css({left:1});o.click(function(){a.prev()});k.append(o);o=b("
âº
");o.css(h);o.css({right:1});o.click(function(){a.next()});k.append(o);e.append(l);k.append(e);d.element.append(k);L(l)};P.prototype.updateScrollbar=
function(){var b=this.canvas,a=(Math.round(0.8*b.width())-36)/this.items.length;b.element.find(".altgallery-scrollbar-handle").css({left:Math.round(this.currentItem*a)})};P.prototype.getItemStyle=function(b,a){var c=this.settings,d=this.canvas,f,e;f=this.getItemX(a);e=this.getItemZ(a);var l;l=Math.abs(f);var g=G.fit(b.width,b.height,c.maxImageWidth*(1>l?1:2>l?0.55:3>l?0.5:0.6-0.05*l),d.height()-60);return{zIndex:10*e,left:(d.width()-g.width)/2+f*d.width()/8+(f?f/l*c.maxImageWidth/3:0),top:(d.height()- g.height)/2-30,width:g.width,height:g.height,opacity:f?0.8:1,transform:{rotateY:-(f?f/l:0)*c.imageAngle+"deg"}}};P.prototype.render=function(){function a(c,l){C(f[c].source,function(a){var n=d.getItemStyle(a,c),h=b('<a class="altgallery-item-'+c+'"></a>');f[c].link&&(h.attr("href",f[c].link),f[c].target&&h.attr("target",f[c].target));h.css({display:"block",position:"absolute",zIndex:n.zIndex,left:n.left,top:n.top,width:n.width,height:n.height,overflow:"visible",background:"#000",cursor:"pointer",
outline:"none"});g&&q(h,{rotateY:n.transform.rotateY});var t=b('<img src="" alt="" />');t.attr("src",a.src);o(t);t.css({display:"block",width:n.width,height:n.height,opacity:n.opacity});h.append(t);if(d.showReflections){a=t.clone();a.css({position:"absolute",opacity:e.reflectionAlpha/100,"-moz-transform":"scaleY(-1)","-webkit-transform":"scaleY(-1)","-o-transform":"scaleY(-1)","-ms-transform":"scaleY(-1)",transform:"scaleY(-1)",zIndex:1});var v=b('
');v.css({position:"absolute", top:n.height,width:n.width,height:n.height,background:k.element.css("backgroundColor"),zIndex:0});var B=b('
');B.css({position:"absolute",top:n.height,width:n.width,height:n.height,zIndex:2});var n=k.element.css("backgroundColor"),s=[u(n,0),u(n,0.5),u(n,1)];b.browser.mozilla?B.css({background:"-moz-linear-gradient(top, "+s[0]+" 0%, "+s[1]+" 15%, "+s[2]+" 50%)"}):b.browser.webkit?B.css({background:"-webkit-linear-gradient(top, "+s[0]+" 0%, "+s[1]+" 15%, "+s[2]+
" 50%)"}):b.browser.opera?B.css({background:"-o-linear-gradient(top, "+s[0]+" 0%, "+s[1]+" 15%, "+s[2]+" 50%)"}):b.browser.msie?(n=A(n).replace("#",""),B.css({filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00"+n+",endColorstr=#ff"+n+",GradientType=0)"})):B.css({background:"linear-gradient(top, "+s[0]+" 0%, "+s[1]+" 15%, "+s[2]+" 50%)"});h.append(a);h.append(v);h.append(B)}h.click(function(){if(!d.drag){d.currentItem+=l;if(0>d.currentItem)d.currentItem=0;else if(d.currentItem>=f.length)d.currentItem= f.length-1;d.animate()}return!1}).hover(function(){t.css({opacity:1})},function(){t.css({opacity:l?0.8:1})});c==d.currentItem&&h.unbind("click").click(function(){if(d.drag)return!1});d.scene.append(h)})}var d=this,e=this.settings,k=this.canvas,f=this.items,g=!c();d.scene.empty();d.scene.css({"-webkit-perspective":400,"-moz-perspective":400,perspective:400});var l,n,h,s,r,t=0;s=d.currentItem;r=2*Math.max(s,f.length-s);for(n=1;n<=r;n++)l=s+(n%2?parseInt(n/2):-parseInt(n/2)),0<=l&&l<f.length&&function(b){setTimeout(function(){h= d.getItemX(b);a(b,h)},100*t++)}(l);e.useScrollBar&&d.showScrollbar();b.browser.mozilla&&d.showReflections&&d.animate()};P.prototype.animate=function(){function b(c,e,l){C(k[c].source,function(b){function n(b){function c(a){return o[a]+(v[a]-o[a])*b/1E4}g.css({left:c("left"),top:c("top"),zIndex:parseInt(c("zIndex")),width:c("width"),height:c("height")});h.css({width:c("width"),height:c("height")});a.showReflections&&w.css({top:c("height"),width:c("width"),height:c("height")});f&&q(g,{rotateY:parseFloat(o.transform.rotateY)+ (parseFloat(v.transform.rotateY)-parseFloat(o.transform.rotateY))*b/1E4+"deg"})}var g=a.scene.find(".altgallery-item-"+c),h=g.find("img"),o={left:parseInt(g.css("left")),top:parseInt(g.css("top")),zIndex:parseInt(g.css("z-index")),width:g.width(),height:g.height(),opacity:g.find("img").css("opacity"),transform:q(g)},v=a.getItemStyle(b,c);l||g.show();g.unbind("click").click(function(){if(!a.drag){a.currentItem+=e;if(0>a.currentItem)a.currentItem=0;else if(a.currentItem>=k.length)a.currentItem=k.length- 1;a.animate()}return!1}).unbind("hover").hover(function(){h.first().css({opacity:1})},function(){h.first().css({opacity:e?0.8:1})});h.first().css({opacity:v.opacity});var w=g.find(".altgallery-overlay");g.stop().prop("animate",0);l?n(1E4):g.animate({animate:1E4},{duration:500*d.flipDuration,easing:"linear",step:function(b){n(b)},complete:function(){g.prop("animate",0);c==a.currentItem&&g.unbind("click").click(function(){if(a.drag)return!1})}})})}var a=this,d=this.settings,k=this.items,f=!c(),e,l, n,g,h;g=a.currentItem;h=2*Math.max(g,k.length-g);for(l=1;l<=h;l++)if(e=g+(l%2?parseInt(l/2):-parseInt(l/2)),0<=e&&e<k.length){var o=Math.abs(a.currentItem-e);n=a.getItemX(e);4>o?b(e,n):(a.scene.find(".altgallery-item-"+e).hide(),b(e,n,!0))}d.useScrollBar&&a.updateScrollbar()};P.prototype.open=function(b){this.currentItem=b.id;this.animate()};P.prototype.prev=function(b){b=this.currentItem-(b||1);0>b&&(b=0);if(this.currentItem!=b)this.currentItem=b,this.animate()};P.prototype.next=function(b){b=this.currentItem+
(b||1);b>=this.items.length&&(b=this.items.length-1);if(this.currentItem!=b)this.currentItem=b,this.animate()};J.prototype.render=function(){var a=this,c=this.settings,d=this.canvas;d.element.css({fontFamily:c.fontName,fontSize:parseInt(c.fontSize)+"px",lineHeight:1.2*parseInt(c.fontSize)+"px"});(function(){var k=b('
');k.css({width:d.width()-2*c.frameSize,height:d.height()-2*c.frameSize,padding:c.frameSize,background:A(c.frameColor),borderRadius:c.cornerRadius/ 2});var f=b('
');f.css({position:"relative",width:d.width()-2*c.frameSize,height:d.height()-2*c.frameSize,overflow:"hidden",background:A(c.backgroundColor),borderRadius:c.cornerRadius/2-c.frameSize/4,cursor:"pointer"});var e=b('<img src="" alt="" />');o(f.children("img"));e.css({position:"absolute"});k.click(function(){a.next()});f.append(e);k.append(f);d.element.append(k);a.open(a.getCurrentItem())})();switch(c.initialState.toLowerCase()){default:case "show albums":this.showAlbums();
break;case "show thumbnails":this.showThumbnails();case "load image":case "start slideshow":}};J.prototype.showAlbums=function(){function a(){function f(){var b=t*q+1,a=t*q+q;if(a>c.albums.length)a=c.albums.length;r.html(b+"-"+a+" "+k.translation.Of+" "+c.albums.length);0>=t?(x.css({opacity:0.3,cursor:"default"}),x.unbind("click").click(function(){return!1})):(x.css({opacity:1,cursor:"pointer"}),x.unbind("click").click(A));t>=v-1?(D.css({opacity:0.3,cursor:"default"}),D.unbind("click").click(function(){return!1})):
(D.css({opacity:1,cursor:"pointer"}),D.unbind("click").click(E))}c.hideThumbnails();c.hideButtons();c.hideCaption();c.hideNavigation();var e=b('
'),l=d.width()-2*k.frameSize,g=k.iconHeight+115;e.css({position:"absolute",left:k.frameSize,top:(d.height()-g)/2,width:d.width()-2*k.frameSize,height:g,overflow:"hidden",color:"#fff",border:"1px #000",borderStyle:"solid none",zIndex:2});var h=b('
');h.css({position:"absolute", left:k.frameSize,top:(d.height()-g)/2,width:d.width()-2*k.frameSize,height:g+1,background:"#000",opacity:k.panelBackgroundAlpha/100,zIndex:1});d.element.append(h);g=b("
");g.css({position:"absolute",top:10,right:20});h=b('<a class="altgallery-close" href="#">'+k.translation.Close+"</a>");h.css({marginRight:0,color:"#fff",fontWeight:"bold",textDecoration:"none",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)",background:"no-repeat left center",backgroundImage:y(s.images.folder+"zen-close.png"),paddingLeft:12}); h.click(function(){c.hideAlbums();c.showButtons();c.showCaption();c.showNavigation();return!1});g.append(h);e.append(g);var q=Math.floor((l-20)/(k.iconWidth+k.iconPadding)),q=q>c.albums.length?c.albums.length:q,g=(k.iconWidth+k.iconPadding)*q-k.iconPadding,h=(k.iconWidth+k.iconPadding)*c.albums.length-k.iconPadding,v=Math.ceil(c.albums.length/q),t=0,z=b("
"+k.translation.Albums+"
");z.css({position:"absolute",left:9,top:0,padding:10,paddingLeft:25,textShadow:"-1px 1px 0 rgba(0, 0, 0, 0.5)", fontWeight:"bold",background:"no-repeat left center",backgroundImage:y(s.images.folder+"zen-albums.png")});e.append(z);var r=b("");r.css({marginLeft:"1em",fontWeight:"normal"});z.append(r);z=b("
");z.css({position:"absolute",left:(l-g)/2-4,top:42,width:g+4,height:k.iconHeight+70,overflow:"hidden"});var u=b("
");u.css({position:"relative",left:0,width:h});z.append(u);l=b("
");l.css({position:"absolute",right:4,bottom:3,height:20,opacity:0.9});var x=b('<a href="#" style="float:left;"></a>');
x.css({display:"block",cssFloat:"left",width:16,height:16,marginRight:3,background:"no-repeat center",backgroundImage:y(s.images.folder+"zen-prev.png")});var A=function(){0<t&&t--;var b=(k.iconWidth+k.iconPadding)*q*t;u.stop().animate({left:-b},2*s.animation.duration,"easeOutQuart");f();return!1};x.click(A);l.append(x);e.append(z);var D=b('<a href="#" style="float:left;"></a>');D.css({display:"block",cssFloat:"left",width:16,height:16,marginRight:3,background:"no-repeat center",backgroundImage:y(s.images.folder+
"zen-next.png")});var E=function(){t<v-1&&t++;var b=(k.iconWidth+k.iconPadding)*q*t;u.stop().animate({left:-b},2*s.animation.duration,"easeOutQuart");f();return!1};D.click(E);l.append(D);e.append(l);f();for(var F,l=0;l<c.albums.length;l++)(function(a,d){var f=b("
");f.css({position:"absolute",left:(k.iconWidth+k.iconPadding)*d,top:0,width:k.iconWidth+k.iconPadding+6,overflow:"hidden",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)"});var e=b('
');e.css({position:"relative", width:k.iconWidth-2,height:k.iconHeight-2,overflow:"hidden",border:"1px solid",borderColor:c.currentAlbum==d?"#000":"#fff",margin:"2px",cursor:"pointer"});C(a.items[0].thumb,function(a){var c=b('<img src="" alt="" />');c.attr("src",a.src);o(c);c.css({position:"absolute"});c.css(G.fill(a.width,a.height,k.iconWidth-2,k.iconHeight-2));e.append(c)},50*d);f.append(e);f.append('
'+(a.description||"Album "+(d+1))+"
");f.append('
'+ a.items.length+" "+(1==a.items.length?k.translation.Image:k.translation.Images)+"
");f.hover(function(){u.find(".altgallery-thumbnail").css({borderWidth:"1px",margin:"2px"});e.css({borderWidth:"3px",margin:"0px"})},function(){e.css({borderWidth:"1px",margin:"2px"})}).click(function(){if(!F){if(c.currentAlbum!=d)c.currentItem=-1;c.currentAlbum=d;c.showThumbnails()}});u.append(f)})(c.albums[l],l);d.element.append(e);1<v&&(u.draggable({axis:"x",start:function(){F=!0},stop:function(b,a){a.position.left>
a.originalPosition.left?A():E();setTimeout(function(){F=!1},100)}}),L(e))}var c=this,d=this.canvas,k=this.settings;d.element.find(".altgallery-albums").size()||a()};J.prototype.hideAlbums=function(){this.canvas.element.find(".altgallery-albums, .altgallery-albums-overlay").remove()};J.prototype.showThumbnails=function(){function a(){function g(){var b=z*v+1,a=z*v+v;if(a>f.items.length)a=f.items.length;u.html(b+"-"+a+" "+e.translation.Of+" "+f.items.length);0>=z?(A.css({opacity:0.3,cursor:"default"}),
A.unbind("click").click(function(){return!1})):(A.css({opacity:1,cursor:"pointer"}),A.unbind("click").click(D));z>=t-1?(E.css({opacity:0.3,cursor:"default"}),E.unbind("click").click(function(){return!1})):(E.css({opacity:1,cursor:"pointer"}),E.unbind("click").click(F))}c.hideAlbums();c.hideButtons();c.hideCaption();c.hideNavigation();var l=b('
'),n=d.width()-2*e.frameSize,h=e.iconHeight+75;l.css({position:"absolute",left:e.frameSize,top:(d.height()-h)/2,width:d.width()- 2*e.frameSize,height:h,overflow:"hidden",color:"#fff",border:"1px #000",borderStyle:"solid none",zIndex:2});var q=b('
');q.css({position:"absolute",left:e.frameSize,top:(d.height()-h)/2,width:d.width()-2*e.frameSize,height:h+1,background:"#000",opacity:e.panelBackgroundAlpha/100,zIndex:1});d.element.append(q);h=b("
");h.css({position:"absolute",top:10,right:20});1<c.albums.length&&(q=b('<a class="altgallery-back" href="#">'+e.translation.BackToAlbums+
"</a>"),q.css({marginRight:"1.5em",color:"#fff",fontWeight:"bold",textDecoration:"none",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)",background:"no-repeat left center",backgroundImage:y(s.images.folder+"zen-backToAlbums.png"),paddingLeft:14}),q.click(function(){c.showAlbums();return!1}),h.append(q));q=b('<a class="altgallery-close" href="#">'+e.translation.Close+"</a>");q.css({marginRight:0,color:"#fff",fontWeight:"bold",textDecoration:"none",textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)",background:"no-repeat left center",
backgroundImage:y(s.images.folder+"zen-close.png"),paddingLeft:12});q.click(function(){c.hideThumbnails();c.showButtons();c.showCaption();c.showNavigation();return!1});h.append(q);l.append(h);var v=Math.floor((n-20)/(e.iconWidth+e.iconPadding)),v=v>f.items.length?f.items.length:v,h=(e.iconWidth+e.iconPadding)*v-e.iconPadding,q=(e.iconWidth+e.iconPadding)*f.items.length-e.iconPadding,t=Math.ceil(f.items.length/v),z=0,r=b("
"+e.translation.Images+"
");r.css({position:"absolute",left:9,top:0, padding:10,paddingLeft:25,textShadow:"-1px 1px 0 rgba(0, 0, 0, 0.5)",fontWeight:"bold",background:"no-repeat left center",backgroundImage:y(s.images.folder+"zen-thumbnails.png")});l.append(r);var u=b("");u.css({marginLeft:"1em",fontWeight:"normal"});r.append(u);r=b("
");r.css({position:"absolute",left:(n-h)/2-4,top:42,width:h+4,height:e.iconHeight+4,overflow:"hidden"});var x=b("
");x.css({position:"relative",left:0,width:q});r.append(x);l.append(r);n=b("
");
n.css({position:"absolute",right:4,bottom:3,height:20,opacity:0.9});var A=b('<a href="#" style="float:left;"></a>');A.css({display:"block",cssFloat:"left",width:16,height:16,marginRight:3,background:"no-repeat center",backgroundImage:y(s.images.folder+"zen-prev.png")});var D=function(){0<z&&z--;var b=(e.iconWidth+e.iconPadding)*v*z;x.stop().animate({left:-b},2*s.animation.duration,"easeOutQuart");g();return!1};A.click(D);n.append(A);var E=b('<a href="#" style="float:left;"></a>');E.css({display:"block",
cssFloat:"left",width:16,height:16,marginRight:3,background:"no-repeat center",backgroundImage:y(s.images.folder+"zen-next.png")});var F=function(){z<t-1&&z++;var b=(e.iconWidth+e.iconPadding)*v*z;x.stop().animate({left:-b},2*s.animation.duration,"easeOutQuart");g();return!1};E.click(F);n.append(E);l.append(n);g();for(var H=!1,n=0;n<f.items.length;n++)(function(a,d){var f=b("
");f.css({position:"absolute",left:(e.iconWidth+e.iconPadding)*d,top:0,width:e.iconWidth+e.iconPadding+6,overflow:"hidden", textShadow:"0 1px 0 rgba(0, 0, 0, 0.5)"});var g=b('
');g.css({position:"relative",width:e.iconWidth-2,height:e.iconHeight-2,overflow:"hidden",border:"1px solid",borderColor:c.currentItem==d?"#000":"#fff",margin:"2px",cursor:"pointer"});C(a.thumb,function(a){var c=b('<img src="" alt="" />');c.attr("src",a.src);o(c);c.css({position:"absolute"});c.css(G.fill(a.width,a.height,e.iconWidth-2,e.iconHeight-2));g.append(c)},50*d);f.append(g);f.hover(function(){x.find(".altgallery-thumbnail").css({borderWidth:"1px",
margin:"2px"});g.css({borderWidth:"3px",margin:"0px"})},function(){g.css({borderWidth:"1px",margin:"2px"})}).click(function(){if(!H)c.currentItem=d,c.open(c.getCurrentItem())});x.append(f)})(f.items[n],n);d.element.append(l);1<t&&(x.draggable({axis:"x",start:function(){H=!0},stop:function(b,a){a.position.left>a.originalPosition.left?D():F();setTimeout(function(){H=!1},100)}}),L(l))}var c=this,d=this.canvas,e=this.settings,f=this.getCurrentAlbum();d.element.find(".altgallery-images").size()||a()};
J.prototype.hideThumbnails=function(){this.canvas.element.find(".altgallery-images, .altgallery-images-overlay").remove()};J.prototype.showButtons=function(){function a(){var d=b('
');d.css({position:"absolute",right:c.settings.frameSize,top:25+c.settings.frameSize,padding:"3px 3px 3px 1px",background:"rgba(0, 0, 0, "+c.settings.buttonsBackgroundAlpha/100+")",border:"1px solid rgba(0, 0, 0, 0.8)",borderRight:"none","-moz-border-top-left-radius":"3px","-moz-border-bottom-left-radius":"3px",
"-webkit-border-top-left-radius":"3px","-webkit-border-bottom-left-radius":"3px","border-top-left-radius":"3px","border-bottom-left-radius":"3px"});if(b.browser.msie&&9>b.browser.version){var e=Math.round(255*parseInt(c.settings.buttonsBackgroundAlpha)/100),e=16>e?"0"+e.toString(16):e.toString(16);d.css({borderColor:"#000",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+e+"000000,endColorstr=#"+e+"000000)"})}c.settings.showAlbumsButton&&1<c.albums.length&&(e=b('<a href="#" style="float:left;"></a>'), e.css({display:"block",cssFloat:"left",margin:"0 2px",width:16,height:16,background:"no-repeat center",backgroundImage:y(s.images.folder+"zen-albums.png"),opacity:0.8}),e.click(function(){c.showAlbums();return!1}),d.append(e));c.settings.showThumbnailsButton&&(e=b('<a href="#" style="float:left;"></a>'),e.css({display:"block",cssFloat:"left",margin:"0 2px",width:16,height:16,background:"no-repeat center",backgroundImage:y(s.images.folder+"zen-thumbnails.png"),opacity:0.8}),e.click(function(){c.showThumbnails(); return!1}),d.append(e));c.canvas.element.append(d)}var c=this;if("never"!=c.settings.showButtons.toLowerCase()&&(c.settings.showAlbumsButton||c.settings.showThumbnailsButton))c.canvas.element.find(".altgallery-buttons").size()||a()};J.prototype.hideButtons=function(){this.canvas.element.find(".altgallery-buttons").remove()};J.prototype.showCaption=function(){this.hideCaption();if("never"!=this.settings.showCaption.toLowerCase()&&(this.getCurrentAlbum()&&this.getCurrentAlbum().description||this.getCurrentItem()&&
this.getCurrentItem().description)){var a=b('
');a.css({position:"absolute",left:this.settings.frameSize,top:25+this.settings.frameSize,padding:"4px 10px 5px 7px",color:"#fff",textShadow:"-1px 1px 0 rgba(0, 0, 0, 0.3)",background:"rgba(0, 0, 0, "+this.settings.captionBackgroundAlpha/100+")",border:"1px solid rgba(0, 0, 0, 0.8)",borderLeft:"none","-moz-border-top-right-radius":"3px","-moz-border-bottom-right-radius":"3px","-webkit-border-top-right-radius":"3px", "-webkit-border-bottom-right-radius":"3px","border-top-right-radius":"3px","border-bottom-right-radius":"3px"});if(b.browser.msie&&9>b.browser.version){var c=Math.round(255*parseInt(this.settings.captionBackgroundAlpha)/100),c=16>c?"0"+c.toString(16):c.toString(16);a.css({borderColor:"#000",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+c+"000000,endColorstr=#"+c+"000000)"})}this.getCurrentAlbum().description&&a.append('
'+this.getCurrentAlbum().description+ "
");this.getCurrentItem().description&&a.append('
'+this.getCurrentItem().description+"
");this.canvas.element.append(a)}};J.prototype.hideCaption=function(){this.canvas.element.find(".altgallery-caption").remove()};J.prototype.showNavigation=function(){function a(){var d=b('
');d.css({position:"absolute",right:c.settings.frameSize,bottom:25+c.settings.frameSize,padding:"3px 3px 3px 1px",background:"rgba(0, 0, 0, "+c.settings.buttonsBackgroundAlpha/
100+")",border:"1px solid rgba(0, 0, 0, 0.8)",borderRight:"none","-moz-border-top-left-radius":"3px","-moz-border-bottom-left-radius":"3px","-webkit-border-top-left-radius":"3px","-webkit-border-bottom-left-radius":"3px","border-top-left-radius":"3px","border-bottom-left-radius":"3px"});if(b.browser.msie&&9>b.browser.version){var e=Math.round(255*parseInt(c.settings.buttonsBackgroundAlpha)/100),e=16>e?"0"+e.toString(16):e.toString(16);d.css({borderColor:"#000",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+ e+"000000,endColorstr=#"+e+"000000)"})}c.settings.showNavigationButton&&(e=b('<a href="#" style="float:left;"></a>'),e.css({display:"block",cssFloat:"left",margin:"0 2px",width:16,height:16,background:"no-repeat center",backgroundImage:y(s.images.folder+"zen-prev.png"),opacity:0.8}),e.click(function(){c.prev();return!1}),d.append(e),e=b('<a href="#" style="float:left;"></a>'),e.css({display:"block",cssFloat:"left",margin:"0 2px",width:16,height:16,background:"no-repeat center",backgroundImage:y(s.images.folder+ "zen-next.png"),opacity:0.8}),e.click(function(){c.next();return!1}),d.append(e));c.canvas.element.append(d)}var c=this;"never"!=c.settings.showButtons.toLowerCase()&&c.settings.showNavigationButton&&(c.canvas.element.find(".altgallery-navigation").size()||a())};J.prototype.hideNavigation=function(){this.canvas.element.find(".altgallery-navigation").remove()};J.prototype.open=function(a){var c=this,d=this.canvas,e=this.settings;c.hideAlbums();c.hideThumbnails();c.showButtons();c.showCaption();c.showNavigation(); d.element.find(".altgallery-image img").hide();var f=d.element.find(".altgallery-imageFrame"),g=b('<img class="altgallery-preloader" src="'+s.images.loader+'" alt="" />');o(g);g.css({position:"absolute",left:"50%",top:"50%",zIndex:10,margin:"-16px 0 0 -16px"});C(a.source,function(b){g.hide();d.element.find(".altgallery-preloader").remove();var f=d.element.find(".altgallery-image img");"fit"==e.imageScaleMode?f.css(G.fit(b.width,b.height,d.width()-2*e.frameSize,d.height()-2*e.frameSize)):f.css(G.fill(b.width, b.height,d.width()-2*e.frameSize,d.height()-2*e.frameSize));f.attr("src",a.source).fadeIn(2*s.animation.duration);c.cache()});setTimeout(function(){d.element.find(".altgallery-preloader").remove();f.append(g)},500)};J.prototype.prev=function(){0<this.currentItem?this.currentItem--:this.currentItem=this.getCurrentAlbum().items.length-1;this.open(this.getCurrentItem())};J.prototype.next=function(){this.currentItem<this.getCurrentAlbum().items.length-1?this.currentItem++:this.currentItem=0;this.open(this.getCurrentItem())}; var s={};b.fn.altgallery=function(c,d){function e(){g.each(function(){ca(this,c,d)})}var g=this,c=b.extend(!0,{width:"550px",height:"400px",background:"none",images:{folder:$+"img/",left:"left.png",right:"right.png",close:"close.png",loader:"loader.png"},animation:{duration:500},config:{settings:{}}},c);if(c.images.folder){c.images.folder=c.images.folder.replace(/\/+$/,"")+"/";for(var f in c.images)"folder"!=f&&!c.images[f].match("/")&&(c.images[f]=c.images.folder+c.images[f])}if("string"==typeof c.config){g.css({visibility:"hidden"}); var h={load:function(b,c,d){if(c!==a)switch(c.toLowerCase()){case "xml":this.loadXML(b,d);break;default:case "json":this.loadJSON(b,d)}else b.match(/(xml)$/i)?this.loadXML(b,d):this.loadJSON(b,d)},loadJSON:function(a,c){b.ajax({url:a,dataType:"json",success:function(b){b=h.parse(b);"function"==typeof c&&c(b)},error:function(){"function"==typeof c&&c({})}})},loadXML:function(a,c){function d(b){var a;"undefined"==typeof a&&(a=function(){});a.ObjTree=function(){return this};a.ObjTree.prototype.attr_prefix= "";a.ObjTree.prototype.parseDOM=function(a){if(a){this.__force_array={};if(this.force_array)for(var b=0;b<this.force_array.length;b++)this.__force_array[this.force_array[b]]=1;b=this.parseElement(a);this.__force_array[a.nodeName]&&(b=[b]);if(11!=a.nodeType){var c={};c[a.nodeName]=b;b=c}return b}};a.ObjTree.prototype.parseElement=function(a){if(7!=a.nodeType){if(3==a.nodeType||4==a.nodeType)return null==a.nodeValue.match(/[^\x00-\x20]/)?void 0:a.nodeValue;var b,c={};if(a.attributes&&a.attributes.length){b= {};for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d].nodeName;if("string"==typeof e){var f=a.attributes[d].nodeValue;f&&(e=this.attr_prefix+e,"undefined"==typeof c[e]&&(c[e]=0),c[e]++,this.addNode(b,e,c[e],f))}}}if(a.childNodes&&a.childNodes.length){e=!0;b&&(e=!1);for(d=0;d<a.childNodes.length&&e;d++)f=a.childNodes[d].nodeType,3==f||4==f||(e=!1);if(e){b||(b="");for(d=0;d<a.childNodes.length;d++)b+=a.childNodes[d].nodeValue}else{b||(b={});for(d=0;d<a.childNodes.length;d++)if(e=a.childNodes[d].nodeName, "string"==typeof e&&(f=this.parseElement(a.childNodes[d])))"undefined"==typeof c[e]&&(c[e]=0),c[e]++,this.addNode(b,e,c[e],f)}}return b}};a.ObjTree.prototype.addNode=function(a,b,c,d){this.__force_array[b]?(1==c&&(a[b]=[]),a[b][a[b].length]=d):1==c?a[b]=d:2==c?a[b]=[a[b],d]:a[b][a[b].length]=d};a=new a.ObjTree;a.attr_prefix="";return a.parseDOM(b)["#document"]}b.ajax({url:a,dataType:"xml",success:function(a){a=d(a);a=h.parse(a);"function"==typeof c&&c(a)},error:function(){"function"==typeof c&&c({})}})}, parse:function(a){if(a.gallery){if(a.galleryName)a.gallery.galleryName=a.galleryName;a=a.gallery;if(a.items&&a.items.item)a.items=a.items.item.length?a.items.item:[a.items.item];if(a.albums){if(a.albums.album)a.albums=a.albums.album.length?a.albums.album:[a.albums.album];for(var b=0;b<a.albums.length;b++)if(a.albums[b].items.item)a.albums[b].items=a.albums[b].items.item.length?a.albums[b].items.item:[a.albums[b].items.item]}}return a}};h.load(c.config,c.configType,function(a){g.css({visibility:"visible"});
c.config=a;e()})}else e();return this};b.altbox=function(a,c){if(d!=top)var d=top,e=d.document;c=b.extend(!0,{frame:{color:"#000",borderRadius:0},mask:{color:"#000",opacity:0.7},images:{folder:$+"img/",close:"close.png",loader:"loader.gif"},animation:{duration:700}},c);if(c.images.folder){c.images.folder=c.images.folder.replace(/\/+$/,"")+"/";for(var f in c.images)"folder"!=f&&!c.images[f].match("/")&&(c.images[f]=c.images.folder+c.images[f])}var g=b('
');
g.css({opacity:0,backgroundColor:c.mask.color,backgroundImage:y(c.images.loader)});b(e.body).append(g);g.animate({opacity:c.mask.opacity},c.animation.duration);var h=new Image;h.onload=function(){function f(){g.remove();u.remove()}function o(){A.remove();t.opacity="hide";u.animate(t,0.67*c.animation.duration);x.animate({width:t.width-20,height:t.height-20},0.67*c.animation.duration);g.fadeOut(c.animation.duration,function(){f()});return!1}var q=b(d).width()-100,s=b(d).height()-100,t=G.fit(h.width/
4,h.height/4,q,s,{noEnlarge:!0,minWidth:100,minHeight:100});t.left+=50;t.top+=50;var r=G.fit(h.width+20,h.height+20,q,s,{noEnlarge:!0,minWidth:120,minHeight:120});r.left+=50;r.top+=50;var u=b('
');u.css(t);u.css({backgroundColor:c.frame.color,borderRadius:c.frame.borderRadius,MozUserSelect:"none",webkitUserSelect:"none",userSelect:"none"});u.hide();var x=b('<img src="'+a+'" alt="" style="display:block;" />');x.css({margin:"10px",width:t.width-20,height:t.height-
20,borderRadius:8<c.frame.borderRadius?c.frame.borderRadius-8:0});var A=b('<a href="#" style="display:block; position:absolute; right:-12px; top:-10px; width:30px; height:30px; background:no-repeat center;"></a>');A.css({backgroundImage:y(c.images.close)});u.append(x);b(e.body).append(u);(function(){g.css({backgroundImage:"none"});x.animate({width:r.width-20,height:r.height-20,margin:"10px"},c.animation.duration,"easeOutBack");r.opacity="show";u.animate(r,c.animation.duration,"easeOutBack",function(){u.append(A)})})(); b(d).resize(function(){q=b(d).width()-100;s=b(d).height()-100;t=G.fit(h.width/4,h.height/4,q,s,{noEnlarge:!0,minWidth:100,minHeight:100});t.left+=50;t.top+=50;r=G.fit(h.width+20,h.height+20,q,s,{noEnlarge:!0,minWidth:120,minHeight:120});r.left+=50;r.top+=50;u.css(r);x.css({width:r.width-20,height:r.height-20})});g.click(f);A.click(o);u.dblclick(o)};h.src=a}})(jQuery);
(function(b,a){window.flashgallery_id=window.flashgallery_id||0;b.flashgallery=b.flashgallery||function(d,c,r,o){var h;h="object"==typeof c?b.browser.msie?JSON.stringify({config:c}):{config:JSON.stringify(c)}:{configPath:c};r=b.extend({width:"550px",height:"400px",background:"transparent"},r);window.flashgallery_id++;var e="flashgallery-"+window.flashgallery_id;o==a?document.write('
'):b(o).html('
');o=b(document.getElementById(e));o.css({width:r.width,height:r.height,
overflow:"hidden"});var y={allowScriptAccess:"always",allowFullScreen:"true",wmode:"opaque",quality:"high"},A=r.background.match(/(#[0-9a-f]+)/i);A?y.bgcolor=A[1]:y.wmode="transparent";swfobject.embedSWF(d,e,r.width.toString().match(/^\d+%$/)?r.width:parseInt(r.width),r.height.toString().match(/^\d+%$/)?r.height:parseInt(r.height),"10.0.12.36"," http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf ",h,y,{style:"outline:none;"},function(a){a.success?b(a.ref).css({background:r.background}):
(r.config=c,o.altgallery(r))})};b.fn.flashgallery=b.fn.flashgallery||function(a,c,r){b.flashgallery(a,c,r,this)}})(jQuery);
Retrieved from " http://2012.igem.org/Team:Macquarie_Australia/gallery/flashgallery.js "
Recent changes
What links here
Related changes
Special pages
My preferences
Printable version
Permanent link
Privacy policy
Disclaimers
