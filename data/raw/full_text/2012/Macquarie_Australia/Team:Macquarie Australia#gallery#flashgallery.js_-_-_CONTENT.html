<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Macquarie_Australia_gallery_flashgallery_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:Macquarie_Australia/gallery/flashgallery.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Macquarie_Australia/gallery/flashgallery.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Macquarie_Australia/gallery/flashgallery.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Macquarie_Australia/gallery/flashgallery.js&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Macquarie_Australia/gallery/flashgallery.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Macquarie Australia/gallery/flashgallery.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2012.igem.org</H3><P>/**
</P><PRE>* flashgallery
*
* @version 0.5.2
* @copyright 2011-2012 Flash-Gallery.com
*/
</PRE><P>if(void 0===JSON){var JSON;JSON||(JSON={});(function(){function b(b){return 10&gt;b?&quot;0&quot;+b:b}function a(b){r.lastIndex=0;return r.test(b)?'&quot;'+b.replace(r,function(b){var u=e[b];return&quot;string&quot;===typeof u?u:&quot;\\u&quot;+(&quot;0000&quot;+b.charCodeAt(0).toString(16)).slice(-4)})+'&quot;':'&quot;'+b+'&quot;'}function d(b,r){var u,g,E,x,c=o,e,C=r[b];C&amp;&amp;&quot;object&quot;===typeof C&amp;&amp;&quot;function&quot;===typeof C.toJSON&amp;&amp;(C=C.toJSON(b));&quot;function&quot;===typeof y&amp;&amp;(C=y.call(r,b,C));switch(typeof C){case &quot;string&quot;:return a(C);case &quot;number&quot;:return isFinite(C)?&quot;&quot;+
C:&quot;null&quot;;case &quot;boolean&quot;:case &quot;null&quot;:return&quot;&quot;+C;case &quot;object&quot;:if(!C)return&quot;null&quot;;o+=h;e=[];if(&quot;[object Array]&quot;===Object.prototype.toString.apply(C)){x=C.length;for(u=0;u&lt;x;u+=1)e[u]=d(u,C)||&quot;null&quot;;E=0===e.length?&quot;[]&quot;:o?&quot;[\n&quot;+o+e.join(&quot;,\n&quot;+o)+&quot;\n&quot;+c+&quot;]&quot;:&quot;[&quot;+e.join(&quot;,&quot;)+&quot;]&quot;;o=c;return E}if(y&amp;&amp;&quot;object&quot;===typeof y){x=y.length;for(u=0;u&lt;x;u+=1)&quot;string&quot;===typeof y[u]&amp;&amp;(g=y[u],(E=d(g,C))&amp;&amp;e.push(a(g)+(o?&quot;: &quot;:&quot;:&quot;)+E))}else for(g in C)Object.prototype.hasOwnProperty.call(C,g)&amp;&amp;(E=d(g,C))&amp;&amp;e.push(a(g)+(o?&quot;: &quot;:
&quot;:&quot;)+E);E=0===e.length?&quot;{}&quot;:o?&quot;{\n&quot;+o+e.join(&quot;,\n&quot;+o)+&quot;\n&quot;+c+&quot;}&quot;:&quot;{&quot;+e.join(&quot;,&quot;)+&quot;}&quot;;o=c;return E}}if(&quot;function&quot;!==typeof Date.prototype.toJSON)Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+&quot;-&quot;+b(this.getUTCMonth()+1)+&quot;-&quot;+b(this.getUTCDate())+&quot;T&quot;+b(this.getUTCHours())+&quot;:&quot;+b(this.getUTCMinutes())+&quot;:&quot;+b(this.getUTCSeconds())+&quot;Z&quot;:null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
r=/[\\\&quot;\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,h,e={&quot;\u0008&quot;:&quot;\\b&quot;,&quot;\t&quot;:&quot;\\t&quot;,&quot;\n&quot;:&quot;\\n&quot;,&quot;\u000c&quot;:&quot;\\f&quot;,&quot;\r&quot;:&quot;\\r&quot;,'&quot;':'\\&quot;',&quot;\\&quot;:&quot;\\\\&quot;},y;if(&quot;function&quot;!==typeof JSON.stringify)JSON.stringify=function(b,a,u){var g;h=o=&quot;&quot;;if(&quot;number&quot;===typeof u)for(g=0;g&lt;u;g+=1)h+=&quot; &quot;;else&quot;string&quot;===typeof u&amp;&amp;(h=u);if((y=a)&amp;&amp;&quot;function&quot;!==typeof a&amp;&amp;(&quot;object&quot;!==typeof a||&quot;number&quot;!==typeof a.length))throw Error(&quot;JSON.stringify&quot;);return d(&quot;&quot;,
{&quot;&quot;:b})};if(&quot;function&quot;!==typeof JSON.parse)JSON.parse=function(b,a){function u(b,g){var r,c,d=b[g];if(d&amp;&amp;&quot;object&quot;===typeof d)for(r in d)Object.prototype.hasOwnProperty.call(d,r)&amp;&amp;(c=u(d,r),void 0!==c?d[r]=c:delete d[r]);return a.call(b,g,d)}var g,b=&quot;&quot;+b;c.lastIndex=0;c.test(b)&amp;&amp;(b=b.replace(c,function(b){return&quot;\\u&quot;+(&quot;0000&quot;+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:[&quot;\\\/bfnrt]|u[0-9a-fA-F]{4})/g,&quot;@&quot;).replace(/&quot;[^&quot;\\\n\r]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
&quot;]&quot;).replace(/(?:^|:|,)(?:\s*\[)+/g,&quot;&quot;)))return g=eval(&quot;(&quot;+b+&quot;)&quot;),&quot;function&quot;===typeof a?u({&quot;&quot;:g},&quot;&quot;):g;throw new SyntaxError(&quot;JSON.parse&quot;);}})()}
(function(b,a){function d(a,d){var h=a.nodeName.toLowerCase();if(&quot;area&quot;===h){var h=a.parentNode,e=h.name;if(!a.href||!e||&quot;map&quot;!==h.nodeName.toLowerCase())return!1;h=b(&quot;img[usemap=#&quot;+e+&quot;]&quot;)[0];return!!h&amp;&amp;c(h)}return(/input|select|textarea|button|object/.test(h)?!a.disabled:&quot;a&quot;==h?a.href||d:d)&amp;&amp;c(a)}function c(a){return!b(a).parents().andSelf().filter(function(){return&quot;hidden&quot;===b.curCSS(this,&quot;visibility&quot;)||b.expr.filters.hidden(this)}).length}b.ui=b.ui||{};b.ui.version||(b.extend(b.ui,{version:&quot;1.8.18&quot;,
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),b.fn.extend({propAttr:b.fn.prop||b.fn.attr,_focus:b.fn.focus,focus:function(a,d){return&quot;number&quot;===typeof a?this.each(function(){var c=
this;setTimeout(function(){b(c).focus();d&amp;&amp;d.call(c)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=b.browser.msie&amp;&amp;/(static|relative)/.test(this.css(&quot;position&quot;))||/absolute/.test(this.css(&quot;position&quot;))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,&quot;position&quot;,1))&amp;&amp;/(auto|scroll)/.test(b.curCSS(this,&quot;overflow&quot;,1)+b.curCSS(this,&quot;overflow-y&quot;,1)+b.curCSS(this,&quot;overflow-x&quot;,1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this,
&quot;overflow&quot;,1)+b.curCSS(this,&quot;overflow-y&quot;,1)+b.curCSS(this,&quot;overflow-x&quot;,1))}).eq(0);return/fixed/.test(this.css(&quot;position&quot;))||!a.length?b(document):a},zIndex:function(d){if(d!==a)return this.css(&quot;zIndex&quot;,d);if(this.length)for(var d=b(this[0]),c;d.length&amp;&amp;d[0]!==document;){c=d.css(&quot;position&quot;);if(&quot;absolute&quot;===c||&quot;relative&quot;===c||&quot;fixed&quot;===c)if(c=parseInt(d.css(&quot;zIndex&quot;),10),!isNaN(c)&amp;&amp;0!==c)return c;d=d.parent()}return 0},disableSelection:function(){return this.bind((b.support.selectstart?&quot;selectstart&quot;:
&quot;mousedown&quot;)+&quot;.ui-disableSelection&quot;,function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(&quot;.ui-disableSelection&quot;)}}),b.each([&quot;Width&quot;,&quot;Height&quot;],function(d,c){function h(a,u,g,E){b.each(e,function(){u-=parseFloat(b.curCSS(a,&quot;padding&quot;+this,!0))||0;g&amp;&amp;(u-=parseFloat(b.curCSS(a,&quot;border&quot;+this+&quot;Width&quot;,!0))||0);E&amp;&amp;(u-=parseFloat(b.curCSS(a,&quot;margin&quot;+this,!0))||0)});return u}var e=&quot;Width&quot;===c?[&quot;Left&quot;,&quot;Right&quot;]:[&quot;Top&quot;,&quot;Bottom&quot;],y=c.toLowerCase(),A={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,
outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn[&quot;inner&quot;+c]=function(d){return d===a?A[&quot;inner&quot;+c].call(this):this.each(function(){b(this).css(y,h(this,d)+&quot;px&quot;)})};b.fn[&quot;outer&quot;+c]=function(a,u){return&quot;number&quot;!==typeof a?A[&quot;outer&quot;+c].call(this,a):this.each(function(){b(this).css(y,h(this,a,!0,u)+&quot;px&quot;)})}}),b.extend(b.expr[&quot;:&quot;],{data:function(a,d,c){return!!b.data(a,c[3])},focusable:function(a){return d(a,!isNaN(b.attr(a,&quot;tabindex&quot;)))},tabbable:function(a){var c=b.attr(a,&quot;tabindex&quot;),h=isNaN(c);
return(h||0&lt;=c)&amp;&amp;d(a,!h)}}),b(function(){var a=document.body,c=a.appendChild(c=document.createElement(&quot;div&quot;));b.extend(c.style,{minHeight:&quot;100px&quot;,height:&quot;auto&quot;,padding:0,borderWidth:0});b.support.minHeight=100===c.offsetHeight;b.support.selectstart=&quot;onselectstart&quot;in c;a.removeChild(c).style.display=&quot;none&quot;}),b.extend(b.ui,{plugin:{add:function(a,c,d){var a=b.ui[a].prototype,e;for(e in d)a.plugins[e]=a.plugins[e]||[],a.plugins[e].push([c,d[e]])},call:function(b,a,c){if((a=b.plugins[a])&amp;&amp;b.element[0].parentNode)for(var d=
0;d&lt;a.length;d++)b.options[a[d][0]]&amp;&amp;a[d][1].apply(b.element,c)}},contains:function(b,a){return document.compareDocumentPosition?b.compareDocumentPosition(a)&amp;16:b!==a&amp;&amp;b.contains(a)},hasScroll:function(a,c){if(&quot;hidden&quot;===b(a).css(&quot;overflow&quot;))return!1;var d=c&amp;&amp;&quot;left&quot;===c?&quot;scrollLeft&quot;:&quot;scrollTop&quot;,e=!1;if(0&lt;a[d])return!0;a[d]=1;e=0&lt;a[d];a[d]=0;return e},isOverAxis:function(b,a,c){return b&gt;a&amp;&amp;b&lt;a+c},isOver:function(a,c,d,e,y,A){return b.ui.isOverAxis(a,d,y)&amp;&amp;b.ui.isOverAxis(c,e,A)}}))})(jQuery);
(function(b,a){if(b.cleanData){var d=b.cleanData;b.cleanData=function(a){for(var c=0,h;null!=(h=a[c]);c++)try{b(h).triggerHandler(&quot;remove&quot;)}catch(e){}d(a)}}else{var c=b.fn.remove;b.fn.remove=function(a,d){return this.each(function(){d||(!a||b.filter(a,[this]).length)&amp;&amp;b(&quot;*&quot;,this).add([this]).each(function(){try{b(this).triggerHandler(&quot;remove&quot;)}catch(a){}});return c.call(b(this),a,d)})}}b.widget=function(a,c,d){var e=a.split(&quot;.&quot;)[0],y,a=a.split(&quot;.&quot;)[1];y=e+&quot;-&quot;+a;if(!d)d=c,c=b.Widget;b.expr[&quot;:&quot;][y]=
function(c){return!!b.data(c,a)};b[e]=b[e]||{};b[e][a]=function(b,a){arguments.length&amp;&amp;this._createWidget(b,a)};c=new c;c.options=b.extend(!0,{},c.options);b[e][a].prototype=b.extend(!0,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:y},d);b.widget.bridge(a,b[e][a])};b.widget.bridge=function(c,d){b.fn[c]=function(h){var e=&quot;string&quot;===typeof h,y=Array.prototype.slice.call(arguments,1),A=this,h=!e&amp;&amp;y.length?b.extend.apply(null,[!0,h].concat(y)):h;
if(e&amp;&amp;&quot;_&quot;===h.charAt(0))return A;e?this.each(function(){var d=b.data(this,c),u=d&amp;&amp;b.isFunction(d[h])?d[h].apply(d,y):d;if(u!==d&amp;&amp;u!==a)return A=u,!1}):this.each(function(){var a=b.data(this,c);a?a.option(h||{})._init():b.data(this,c,new d(h,this))});return A}};b.Widget=function(b,a){arguments.length&amp;&amp;this._createWidget(b,a)};b.Widget.prototype={widgetName:&quot;widget&quot;,widgetEventPrefix:&quot;&quot;,options:{disabled:!1},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=b.extend(!0,
{},this.options,this._getCreateOptions(),a);var d=this;this.element.bind(&quot;remove.&quot;+this.widgetName,function(){d.destroy()});this._create();this._trigger(&quot;create&quot;);this._init()},_getCreateOptions:function(){return b.metadata&amp;&amp;b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind(&quot;.&quot;+this.widgetName).removeData(this.widgetName);this.widget().unbind(&quot;.&quot;+this.widgetName).removeAttr(&quot;aria-disabled&quot;).removeClass(this.widgetBaseClass+
&quot;-disabled ui-state-disabled&quot;)},widget:function(){return this.element},option:function(c,d){var h=c;if(0===arguments.length)return b.extend({},this.options);if(&quot;string&quot;===typeof c){if(d===a)return this.options[c];h={};h[c]=d}this._setOptions(h);return this},_setOptions:function(a){var c=this;b.each(a,function(b,a){c._setOption(b,a)});return this},_setOption:function(b,a){this.options[b]=a;&quot;disabled&quot;===b&amp;&amp;this.widget()[a?&quot;addClass&quot;:&quot;removeClass&quot;](this.widgetBaseClass+&quot;-disabled ui-state-disabled&quot;).attr(&quot;aria-disabled&quot;,
a);return this},enable:function(){return this._setOption(&quot;disabled&quot;,!1)},disable:function(){return this._setOption(&quot;disabled&quot;,!0)},_trigger:function(a,c,d){var e,y=this.options[a],d=d||{},c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();c.target=this.element[0];if(a=c.originalEvent)for(e in a)e in c||(c[e]=a[e]);this.element.trigger(c,d);return!(b.isFunction(y)&amp;&amp;!1===y.call(this.element[0],c,d)||c.isDefaultPrevented())}}})(jQuery);
(function(b){var a=!1;b(document).mouseup(function(){a=!1});b.widget(&quot;ui.mouse&quot;,{options:{cancel:&quot;:input,option&quot;,distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind(&quot;mousedown.&quot;+this.widgetName,function(b){return a._mouseDown(b)}).bind(&quot;click.&quot;+this.widgetName,function(c){if(!0===b.data(c.target,a.widgetName+&quot;.preventClickEvent&quot;))return b.removeData(c.target,a.widgetName+&quot;.preventClickEvent&quot;),c.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind(&quot;.&quot;+
this.widgetName)},_mouseDown:function(d){if(!a){this._mouseStarted&amp;&amp;this._mouseUp(d);this._mouseDownEvent=d;var c=this,r=1==d.which,o=&quot;string&quot;==typeof this.options.cancel&amp;&amp;d.target.nodeName?b(d.target).closest(this.options.cancel).length:!1;if(!r||o||!this._mouseCapture(d))return!0;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay);if(this._mouseDistanceMet(d)&amp;&amp;this._mouseDelayMet(d)&amp;&amp;(this._mouseStarted=
!1!==this._mouseStart(d),!this._mouseStarted))return d.preventDefault(),!0;!0===b.data(d.target,this.widgetName+&quot;.preventClickEvent&quot;)&amp;&amp;b.removeData(d.target,this.widgetName+&quot;.preventClickEvent&quot;);this._mouseMoveDelegate=function(b){return c._mouseMove(b)};this._mouseUpDelegate=function(b){return c._mouseUp(b)};b(document).bind(&quot;mousemove.&quot;+this.widgetName,this._mouseMoveDelegate).bind(&quot;mouseup.&quot;+this.widgetName,this._mouseUpDelegate);d.preventDefault();return a=!0}},_mouseMove:function(a){if(b.browser.msie&amp;&amp;
!(9&lt;=document.documentMode)&amp;&amp;!a.button)return this._mouseUp(a);if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();if(this._mouseDistanceMet(a)&amp;&amp;this._mouseDelayMet(a))(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a))?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){b(document).unbind(&quot;mousemove.&quot;+this.widgetName,this._mouseMoveDelegate).unbind(&quot;mouseup.&quot;+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted)this._mouseStarted=
!1,a.target==this._mouseDownEvent.target&amp;&amp;b.data(a.target,this.widgetName+&quot;.preventClickEvent&quot;,!0),this._mouseStop(a);return!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))&gt;=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(b){b.widget(&quot;ui.draggable&quot;,b.ui.mouse,{widgetEventPrefix:&quot;drag&quot;,options:{addClasses:!0,appendTo:&quot;parent&quot;,axis:!1,connectToSortable:!1,containment:!1,cursor:&quot;auto&quot;,cursorAt:!1,grid:!1,handle:!1,helper:&quot;original&quot;,iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:&quot;default&quot;,scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:&quot;both&quot;,snapTolerance:20,stack:!1,zIndex:!1},_create:function(){if(&quot;original&quot;==this.options.helper&amp;&amp;!/^(?:r|a|f)/.test(this.element.css(&quot;position&quot;)))this.element[0].style.position=
&quot;relative&quot;;this.options.addClasses&amp;&amp;this.element.addClass(&quot;ui-draggable&quot;);this.options.disabled&amp;&amp;this.element.addClass(&quot;ui-draggable-disabled&quot;);this._mouseInit()},destroy:function(){if(this.element.data(&quot;draggable&quot;))return this.element.removeData(&quot;draggable&quot;).unbind(&quot;.draggable&quot;).removeClass(&quot;ui-draggable ui-draggable-dragging ui-draggable-disabled&quot;),this._mouseDestroy(),this},_mouseCapture:function(a){var d=this.options;if(this.helper||d.disabled||b(a.target).is(&quot;.ui-resizable-handle&quot;))return!1;
</P>
this.handle=this._getHandle(a);if(!this.handle)return!1;d.iframeFix&amp;&amp;b(!0===d.iframeFix?&quot;iframe&quot;:d.iframeFix).each(function(){b('').css({width:this.offsetWidth+&quot;px&quot;,height:this.offsetHeight+&quot;px&quot;,position:&quot;absolute&quot;,opacity:&quot;0.001&quot;,zIndex:1E3}).css(b(this).offset()).appendTo(&quot;body&quot;)});return!0},_mouseStart:function(a){var d=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(b.ui.ddmanager)b.ui.ddmanager.current=
<P>this;this._cacheMargins();this.cssPosition=this.helper.css(&quot;position&quot;);this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;
this.originalPageY=a.pageY;d.cursorAt&amp;&amp;this._adjustOffsetFromHelper(d.cursorAt);d.containment&amp;&amp;this._setContainment();if(!1===this._trigger(&quot;start&quot;,a))return this._clear(),!1;this._cacheHelperProportions();b.ui.ddmanager&amp;&amp;!d.dropBehaviour&amp;&amp;b.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass(&quot;ui-draggable-dragging&quot;);this._mouseDrag(a,!0);b.ui.ddmanager&amp;&amp;b.ui.ddmanager.dragStart(this,a);return!0},_mouseDrag:function(a,d){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo(&quot;absolute&quot;);
if(!d){var c=this._uiHash();if(!1===this._trigger(&quot;drag&quot;,a,c))return this._mouseUp({}),!1;this.position=c.position}if(!this.options.axis||&quot;y&quot;!=this.options.axis)this.helper[0].style.left=this.position.left+&quot;px&quot;;if(!this.options.axis||&quot;x&quot;!=this.options.axis)this.helper[0].style.top=this.position.top+&quot;px&quot;;b.ui.ddmanager&amp;&amp;b.ui.ddmanager.drag(this,a);return!1},_mouseStop:function(a){var d=!1;b.ui.ddmanager&amp;&amp;!this.options.dropBehaviour&amp;&amp;(d=b.ui.ddmanager.drop(this,a));if(this.dropped)d=this.dropped,this.dropped=
!1;if((!this.element[0]||!this.element[0].parentNode)&amp;&amp;&quot;original&quot;==this.options.helper)return!1;if(&quot;invalid&quot;==this.options.revert&amp;&amp;!d||&quot;valid&quot;==this.options.revert&amp;&amp;d||!0===this.options.revert||b.isFunction(this.options.revert)&amp;&amp;this.options.revert.call(this.element,d)){var c=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==c._trigger(&quot;stop&quot;,a)&amp;&amp;c._clear()})}else!1!==this._trigger(&quot;stop&quot;,a)&amp;&amp;this._clear();return!1},_mouseUp:function(a){!0===
this.options.iframeFix&amp;&amp;b(&quot;div.ui-draggable-iframeFix&quot;).each(function(){this.parentNode.removeChild(this)});b.ui.ddmanager&amp;&amp;b.ui.ddmanager.dragStop(this,a);return b.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(&quot;.ui-draggable-dragging&quot;)?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var d=!this.options.handle||!b(this.options.handle,this.element).length?!0:!1;b(this.options.handle,this.element).find(&quot;*&quot;).andSelf().each(function(){this==a.target&amp;&amp;(d=
!0)});return d},_createHelper:function(a){var d=this.options,a=b.isFunction(d.helper)?b(d.helper.apply(this.element[0],[a])):&quot;clone&quot;==d.helper?this.element.clone().removeAttr(&quot;id&quot;):this.element;a.parents(&quot;body&quot;).length||a.appendTo(&quot;parent&quot;==d.appendTo?this.element[0].parentNode:d.appendTo);a[0]!=this.element[0]&amp;&amp;!/(fixed|absolute)/.test(a.css(&quot;position&quot;))&amp;&amp;a.css(&quot;position&quot;,&quot;absolute&quot;);return a},_adjustOffsetFromHelper:function(a){&quot;string&quot;==typeof a&amp;&amp;(a=a.split(&quot; &quot;));b.isArray(a)&amp;&amp;(a={left:+a[0],top:+a[1]||
0});if(&quot;left&quot;in a)this.offset.click.left=a.left+this.margins.left;if(&quot;right&quot;in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if(&quot;top&quot;in a)this.offset.click.top=a.top+this.margins.top;if(&quot;bottom&quot;in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();&quot;absolute&quot;==this.cssPosition&amp;&amp;this.scrollParent[0]!=document&amp;&amp;b.ui.contains(this.scrollParent[0],
this.offsetParent[0])&amp;&amp;(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&amp;&amp;&quot;html&quot;==this.offsetParent[0].tagName.toLowerCase()&amp;&amp;b.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css(&quot;borderTopWidth&quot;),10)||0),left:a.left+(parseInt(this.offsetParent.css(&quot;borderLeftWidth&quot;),10)||0)}},_getRelativeOffset:function(){if(&quot;relative&quot;==this.cssPosition){var b=this.element.position();return{top:b.top-
(parseInt(this.helper.css(&quot;top&quot;),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css(&quot;left&quot;),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(&quot;marginLeft&quot;),10)||0,top:parseInt(this.element.css(&quot;marginTop&quot;),10)||0,right:parseInt(this.element.css(&quot;marginRight&quot;),10)||0,bottom:parseInt(this.element.css(&quot;marginBottom&quot;),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),
height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(&quot;parent&quot;==a.containment)a.containment=this.helper[0].parentNode;if(&quot;document&quot;==a.containment||&quot;window&quot;==a.containment)this.containment=[&quot;document&quot;==a.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,&quot;document&quot;==a.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(&quot;document&quot;==a.containment?0:b(window).scrollLeft())+b(&quot;document&quot;==a.containment?document:
window).width()-this.helperProportions.width-this.margins.left,(&quot;document&quot;==a.containment?0:b(window).scrollTop())+(b(&quot;document&quot;==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&amp;&amp;a.containment.constructor!=Array){var a=b(a.containment),d=a[0];if(d){a.offset();var c=&quot;hidden&quot;!=b(d).css(&quot;overflow&quot;);this.containment=[(parseInt(b(d).css(&quot;borderLeftWidth&quot;),10)||0)+(parseInt(b(d).css(&quot;paddingLeft&quot;),
10)||0),(parseInt(b(d).css(&quot;borderTopWidth&quot;),10)||0)+(parseInt(b(d).css(&quot;paddingTop&quot;),10)||0),(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(b(d).css(&quot;borderLeftWidth&quot;),10)||0)-(parseInt(b(d).css(&quot;paddingRight&quot;),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(b(d).css(&quot;borderTopWidth&quot;),10)||0)-(parseInt(b(d).css(&quot;paddingBottom&quot;),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];
this.relative_container=a}}else if(a.containment.constructor==Array)this.containment=a.containment},_convertPositionTo:function(a,d){if(!d)d=this.position;var c=&quot;absolute&quot;==a?1:-1,r=&quot;absolute&quot;==this.cssPosition&amp;&amp;!(this.scrollParent[0]!=document&amp;&amp;b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=/(html|body)/i.test(r[0].tagName);return{top:d.top+this.offset.relative.top*c+this.offset.parent.top*c-(b.browser.safari&amp;&amp;526&gt;b.browser.version&amp;&amp;&quot;fixed&quot;==this.cssPosition?
0:(&quot;fixed&quot;==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*c),left:d.left+this.offset.relative.left*c+this.offset.parent.left*c-(b.browser.safari&amp;&amp;526&gt;b.browser.version&amp;&amp;&quot;fixed&quot;==this.cssPosition?0:(&quot;fixed&quot;==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*c)}},_generatePosition:function(a){var d=this.options,c=&quot;absolute&quot;==this.cssPosition&amp;&amp;!(this.scrollParent[0]!=document&amp;&amp;b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,
r=/(html|body)/i.test(c[0].tagName),o=a.pageX,h=a.pageY;if(this.originalPosition){var e;if(this.containment)this.relative_container?(e=this.relative_container.offset(),e=[this.containment[0]+e.left,this.containment[1]+e.top,this.containment[2]+e.left,this.containment[3]+e.top]):e=this.containment,a.pageX-this.offset.click.left&lt;e[0]&amp;&amp;(o=e[0]+this.offset.click.left),a.pageY-this.offset.click.top&lt;e[1]&amp;&amp;(h=e[1]+this.offset.click.top),a.pageX-this.offset.click.left&gt;e[2]&amp;&amp;(o=e[2]+this.offset.click.left),
a.pageY-this.offset.click.top&gt;e[3]&amp;&amp;(h=e[3]+this.offset.click.top);d.grid&amp;&amp;(h=d.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/d.grid[1])*d.grid[1]:this.originalPageY,h=e?!(h-this.offset.click.top&lt;e[1]||h-this.offset.click.top&gt;e[3])?h:!(h-this.offset.click.top&lt;e[1])?h-d.grid[1]:h+d.grid[1]:h,o=d.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/d.grid[0])*d.grid[0]:this.originalPageX,o=e?!(o-this.offset.click.left&lt;e[0]||o-this.offset.click.left&gt;e[2])?o:!(o-this.offset.click.left&lt;
e[0])?o-d.grid[0]:o+d.grid[0]:o)}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&amp;&amp;526&gt;b.browser.version&amp;&amp;&quot;fixed&quot;==this.cssPosition?0:&quot;fixed&quot;==this.cssPosition?-this.scrollParent.scrollTop():r?0:c.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&amp;&amp;526&gt;b.browser.version&amp;&amp;&quot;fixed&quot;==this.cssPosition?0:&quot;fixed&quot;==this.cssPosition?-this.scrollParent.scrollLeft():r?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass(&quot;ui-draggable-dragging&quot;);
this.helper[0]!=this.element[0]&amp;&amp;!this.cancelHelperRemoval&amp;&amp;this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(a,d,c){c=c||this._uiHash();b.ui.plugin.call(this,a,[d,c]);if(&quot;drag&quot;==a)this.positionAbs=this._convertPositionTo(&quot;absolute&quot;);return b.Widget.prototype._trigger.call(this,a,d,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.extend(b.ui.draggable,{version:&quot;1.8.18&quot;});
b.ui.plugin.add(&quot;draggable&quot;,&quot;connectToSortable&quot;,{start:function(a,d){var c=b(this).data(&quot;draggable&quot;),r=c.options,o=b.extend({},d,{item:c.element});c.sortables=[];b(r.connectToSortable).each(function(){var d=b.data(this,&quot;sortable&quot;);d&amp;&amp;!d.options.disabled&amp;&amp;(c.sortables.push({instance:d,shouldRevert:d.options.revert}),d.refreshPositions(),d._trigger(&quot;activate&quot;,a,o))})},stop:function(a,d){var c=b(this).data(&quot;draggable&quot;),r=b.extend({},d,{item:c.element});b.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=
0;c.cancelHelperRemoval=!0;this.instance.cancelHelperRemoval=!1;if(this.shouldRevert)this.instance.options.revert=!0;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;&quot;original&quot;==c.options.helper&amp;&amp;this.instance.currentItem.css({top:&quot;auto&quot;,left:&quot;auto&quot;})}else this.instance.cancelHelperRemoval=!1,this.instance._trigger(&quot;deactivate&quot;,a,r)})},drag:function(a,d){var c=b(this).data(&quot;draggable&quot;),r=this;b.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs;
this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver)this.instance.isOver=1,this.instance.currentItem=b(r).clone().removeAttr(&quot;id&quot;).appendTo(this.instance.element).data(&quot;sortable-item&quot;,!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return d.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,
!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=c.offset.click.top,this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger(&quot;toSortable&quot;,a),c.dropped=this.instance.element,c.currentItem=c.element,this.instance.fromOutside=c;this.instance.currentItem&amp;&amp;this.instance._mouseDrag(a)}else if(this.instance.isOver)this.instance.isOver=
0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger(&quot;out&quot;,a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&amp;&amp;this.instance.placeholder.remove(),c._trigger(&quot;fromSortable&quot;,a),c.dropped=!1})}});b.ui.plugin.add(&quot;draggable&quot;,&quot;cursor&quot;,{start:function(){var a=b(&quot;body&quot;),d=b(this).data(&quot;draggable&quot;).options;if(a.css(&quot;cursor&quot;))d._cursor=
a.css(&quot;cursor&quot;);a.css(&quot;cursor&quot;,d.cursor)},stop:function(){var a=b(this).data(&quot;draggable&quot;).options;a._cursor&amp;&amp;b(&quot;body&quot;).css(&quot;cursor&quot;,a._cursor)}});b.ui.plugin.add(&quot;draggable&quot;,&quot;opacity&quot;,{start:function(a,d){var c=b(d.helper),r=b(this).data(&quot;draggable&quot;).options;if(c.css(&quot;opacity&quot;))r._opacity=c.css(&quot;opacity&quot;);c.css(&quot;opacity&quot;,r.opacity)},stop:function(a,d){var c=b(this).data(&quot;draggable&quot;).options;c._opacity&amp;&amp;b(d.helper).css(&quot;opacity&quot;,c._opacity)}});b.ui.plugin.add(&quot;draggable&quot;,&quot;scroll&quot;,{start:function(){var a=
b(this).data(&quot;draggable&quot;);if(a.scrollParent[0]!=document&amp;&amp;&quot;HTML&quot;!=a.scrollParent[0].tagName)a.overflowOffset=a.scrollParent.offset()},drag:function(a){var d=b(this).data(&quot;draggable&quot;),c=d.options,r=!1;if(d.scrollParent[0]!=document&amp;&amp;&quot;HTML&quot;!=d.scrollParent[0].tagName){if(!c.axis||&quot;x&quot;!=c.axis)if(d.overflowOffset.top+d.scrollParent[0].offsetHeight-a.pageY&lt;c.scrollSensitivity)d.scrollParent[0].scrollTop=r=d.scrollParent[0].scrollTop+c.scrollSpeed;else if(a.pageY-d.overflowOffset.top&lt;c.scrollSensitivity)d.scrollParent[0].scrollTop=
r=d.scrollParent[0].scrollTop-c.scrollSpeed;if(!c.axis||&quot;y&quot;!=c.axis)if(d.overflowOffset.left+d.scrollParent[0].offsetWidth-a.pageX&lt;c.scrollSensitivity)d.scrollParent[0].scrollLeft=r=d.scrollParent[0].scrollLeft+c.scrollSpeed;else if(a.pageX-d.overflowOffset.left&lt;c.scrollSensitivity)d.scrollParent[0].scrollLeft=r=d.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||&quot;x&quot;!=c.axis)a.pageY-b(document).scrollTop()&lt;c.scrollSensitivity?r=b(document).scrollTop(b(document).scrollTop()-c.scrollSpeed):
b(window).height()-(a.pageY-b(document).scrollTop())&lt;c.scrollSensitivity&amp;&amp;(r=b(document).scrollTop(b(document).scrollTop()+c.scrollSpeed));if(!c.axis||&quot;y&quot;!=c.axis)a.pageX-b(document).scrollLeft()&lt;c.scrollSensitivity?r=b(document).scrollLeft(b(document).scrollLeft()-c.scrollSpeed):b(window).width()-(a.pageX-b(document).scrollLeft())&lt;c.scrollSensitivity&amp;&amp;(r=b(document).scrollLeft(b(document).scrollLeft()+c.scrollSpeed))}!1!==r&amp;&amp;b.ui.ddmanager&amp;&amp;!c.dropBehaviour&amp;&amp;b.ui.ddmanager.prepareOffsets(d,a)}});
b.ui.plugin.add(&quot;draggable&quot;,&quot;snap&quot;,{start:function(){var a=b(this).data(&quot;draggable&quot;),d=a.options;a.snapElements=[];b(d.snap.constructor!=String?d.snap.items||&quot;:data(draggable)&quot;:d.snap).each(function(){var c=b(this),d=c.offset();this!=a.element[0]&amp;&amp;a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(a,d){for(var c=b(this).data(&quot;draggable&quot;),r=c.options,o=r.snapTolerance,h=d.offset.left,e=h+c.helperProportions.width,y=d.offset.top,A=y+c.helperProportions.height,
H=c.snapElements.length-1;0&lt;=H;H--){var u=c.snapElements[H].left,g=u+c.snapElements[H].width,E=c.snapElements[H].top,x=E+c.snapElements[H].height;if(u-o&lt;h&amp;&amp;h&lt;g+o&amp;&amp;E-o&lt;y&amp;&amp;y&lt;x+o||u-o&lt;h&amp;&amp;h&lt;g+o&amp;&amp;E-o&lt;A&amp;&amp;A&lt;x+o||u-o&lt;e&amp;&amp;e&lt;g+o&amp;&amp;E-o&lt;y&amp;&amp;y&lt;x+o||u-o&lt;e&amp;&amp;e&lt;g+o&amp;&amp;E-o&lt;A&amp;&amp;A&lt;x+o){if(&quot;inner&quot;!=r.snapMode){var q=Math.abs(E-A)&lt;=o,N=Math.abs(x-y)&lt;=o,C=Math.abs(u-e)&lt;=o,O=Math.abs(g-h)&lt;=o;if(q)d.position.top=c._convertPositionTo(&quot;relative&quot;,{top:E-c.helperProportions.height,left:0}).top-c.margins.top;if(N)d.position.top=c._convertPositionTo(&quot;relative&quot;,
{top:x,left:0}).top-c.margins.top;if(C)d.position.left=c._convertPositionTo(&quot;relative&quot;,{top:0,left:u-c.helperProportions.width}).left-c.margins.left;if(O)d.position.left=c._convertPositionTo(&quot;relative&quot;,{top:0,left:g}).left-c.margins.left}var T=q||N||C||O;if(&quot;outer&quot;!=r.snapMode){q=Math.abs(E-y)&lt;=o;N=Math.abs(x-A)&lt;=o;C=Math.abs(u-h)&lt;=o;O=Math.abs(g-e)&lt;=o;if(q)d.position.top=c._convertPositionTo(&quot;relative&quot;,{top:E,left:0}).top-c.margins.top;if(N)d.position.top=c._convertPositionTo(&quot;relative&quot;,{top:x-c.helperProportions.height,
left:0}).top-c.margins.top;if(C)d.position.left=c._convertPositionTo(&quot;relative&quot;,{top:0,left:u}).left-c.margins.left;if(O)d.position.left=c._convertPositionTo(&quot;relative&quot;,{top:0,left:g-c.helperProportions.width}).left-c.margins.left}!c.snapElements[H].snapping&amp;&amp;(q||N||C||O||T)&amp;&amp;c.options.snap.snap&amp;&amp;c.options.snap.snap.call(c.element,a,b.extend(c._uiHash(),{snapItem:c.snapElements[H].item}));c.snapElements[H].snapping=q||N||C||O||T}else c.snapElements[H].snapping&amp;&amp;c.options.snap.release&amp;&amp;c.options.snap.release.call(c.element,
a,b.extend(c._uiHash(),{snapItem:c.snapElements[H].item})),c.snapElements[H].snapping=!1}}});b.ui.plugin.add(&quot;draggable&quot;,&quot;stack&quot;,{start:function(){var a=b(this).data(&quot;draggable&quot;).options,a=b.makeArray(b(a.stack)).sort(function(a,d){return(parseInt(b(a).css(&quot;zIndex&quot;),10)||0)-(parseInt(b(d).css(&quot;zIndex&quot;),10)||0)});if(a.length){var d=parseInt(a[0].style.zIndex)||0;b(a).each(function(b){this.style.zIndex=d+b});this[0].style.zIndex=d+a.length}}});b.ui.plugin.add(&quot;draggable&quot;,&quot;zIndex&quot;,{start:function(a,
d){var c=b(d.helper),r=b(this).data(&quot;draggable&quot;).options;if(c.css(&quot;zIndex&quot;))r._zIndex=c.css(&quot;zIndex&quot;);c.css(&quot;zIndex&quot;,r.zIndex)},stop:function(a,d){var c=b(this).data(&quot;draggable&quot;).options;c._zIndex&amp;&amp;b(d.helper).css(&quot;zIndex&quot;,c._zIndex)}})})(jQuery);
jQuery.effects||function(b,a){function d(a){var g;return a&amp;&amp;a.constructor==Array&amp;&amp;3==a.length?a:(g=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3],10)]:(g=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))?[2.55*parseFloat(g[1]),2.55*parseFloat(g[2]),2.55*parseFloat(g[3])]:(g=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))?[parseInt(g[1],16),parseInt(g[2],
16),parseInt(g[3],16)]:(g=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))?[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(a)?y.transparent:y[b.trim(a).toLowerCase()]}function c(){var b=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,g={},a,c;if(b&amp;&amp;b.length&amp;&amp;b[0]&amp;&amp;b[b[0]])for(var d=b.length;d--;)a=b[d],&quot;string&quot;==typeof b[a]&amp;&amp;(c=a.replace(/\-(\w)/g,function(b,a){return a.toUpperCase()}),g[c]=b[a]);else for(a in b)&quot;string&quot;===
typeof b[a]&amp;&amp;(g[a]=b[a]);return g}function r(a){var g,c;for(g in a)c=a[g],(null==c||b.isFunction(c)||g in H||/scrollbar/.test(g)||!/color/i.test(g)&amp;&amp;isNaN(parseFloat(c)))&amp;&amp;delete a[g];return a}function o(b,a){var c={_:0},d;for(d in a)b[d]!=a[d]&amp;&amp;(c[d]=a[d]);return c}function h(a,g,c,d){if(&quot;object&quot;==typeof a)d=g,c=null,g=a,a=g.effect;b.isFunction(g)&amp;&amp;(d=g,c=null,g={});if(&quot;number&quot;==typeof g||b.fx.speeds[g])d=c,c=g,g={};b.isFunction(c)&amp;&amp;(d=c,c=null);g=g||{};c=c||g.duration;c=b.fx.off?0:&quot;number&quot;==typeof c?
c:c in b.fx.speeds?b.fx.speeds[c]:b.fx.speeds._default;d=d||g.complete;return[a,g,c,d]}function e(a){return!a||&quot;number&quot;===typeof a||b.fx.speeds[a]||&quot;string&quot;===typeof a&amp;&amp;!b.effects[a]?!0:!1}b.effects={};b.each(&quot;backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,borderColor,color,outlineColor&quot;.split(&quot;,&quot;),function(a,g){b.fx.step[g]=function(a){if(!a.colorInit){var c;c=a.elem;var u=g,e;do{e=b.curCSS(c,u);if(&quot;&quot;!=e&amp;&amp;&quot;transparent&quot;!=e||b.nodeName(c,&quot;body&quot;))break;u=&quot;backgroundColor&quot;}while(c=
c.parentNode);c=d(e);a.start=c;a.end=d(a.end);a.colorInit=!0}a.elem.style[g]=&quot;rgb(&quot;+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+&quot;,&quot;+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+&quot;,&quot;+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+&quot;)&quot;}});var y={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],
darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],
maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},A=[&quot;add&quot;,&quot;remove&quot;,&quot;toggle&quot;],H={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.effects.animateClass=function(a,g,d,x){b.isFunction(d)&amp;&amp;(x=d,d=null);return this.queue(function(){var q=b(this),e=q.attr(&quot;style&quot;)||
&quot; &quot;,h=r(c.call(this)),y,H=q.attr(&quot;class&quot;);b.each(A,function(b,g){if(a[g])q[g+&quot;Class&quot;](a[g])});y=r(c.call(this));q.attr(&quot;class&quot;,H);q.animate(o(h,y),{queue:!1,duration:g,easing:d,complete:function(){b.each(A,function(b,g){if(a[g])q[g+&quot;Class&quot;](a[g])});&quot;object&quot;==typeof q.attr(&quot;style&quot;)?(q.attr(&quot;style&quot;).cssText=&quot;&quot;,q.attr(&quot;style&quot;).cssText=e):q.attr(&quot;style&quot;,e);x&amp;&amp;x.apply(this,arguments);b.dequeue(this)}})})};b.fn.extend({_addClass:b.fn.addClass,addClass:function(a,g,c,d){return g?b.effects.animateClass.apply(this,
[{add:a},g,c,d]):this._addClass(a)},_removeClass:b.fn.removeClass,removeClass:function(a,g,c,d){return g?b.effects.animateClass.apply(this,[{remove:a},g,c,d]):this._removeClass(a)},_toggleClass:b.fn.toggleClass,toggleClass:function(c,g,d,x,q){return&quot;boolean&quot;==typeof g||g===a?d?b.effects.animateClass.apply(this,[g?{add:c}:{remove:c},d,x,q]):this._toggleClass(c,g):b.effects.animateClass.apply(this,[{toggle:c},g,d,x])},switchClass:function(a,g,c,d,q){return b.effects.animateClass.apply(this,[{add:g,
remove:a},c,d,q])}});b.extend(b.effects,{version:&quot;1.8.16&quot;,save:function(b,a){for(var c=0;c&lt;a.length;c++)null!==a[c]&amp;&amp;b.data(&quot;ec.storage.&quot;+a[c],b[0].style[a[c]])},restore:function(b,a){for(var c=0;c&lt;a.length;c++)null!==a[c]&amp;&amp;b.css(a[c],b.data(&quot;ec.storage.&quot;+a[c]))},setMode:function(b,a){&quot;toggle&quot;==a&amp;&amp;(a=b.is(&quot;:hidden&quot;)?&quot;show&quot;:&quot;hide&quot;);return a},getBaseline:function(b,a){var c,d;switch(b[0]){case &quot;top&quot;:c=0;break;case &quot;middle&quot;:c=0.5;break;case &quot;bottom&quot;:c=1;break;default:c=b[0]/a.height}switch(b[1]){case &quot;left&quot;:d=
</P>
0;break;case &quot;center&quot;:d=0.5;break;case &quot;right&quot;:d=1;break;default:d=b[1]/a.width}return{x:d,y:c}},createWrapper:function(a){if(a.parent().is(&quot;.ui-effects-wrapper&quot;))return a.parent();var g={width:a.outerWidth(!0),height:a.outerHeight(!0),&quot;float&quot;:a.css(&quot;float&quot;)},c=b(&quot;&quot;).addClass(&quot;ui-effects-wrapper&quot;).css({fontSize:&quot;100%&quot;,background:&quot;transparent&quot;,border:&quot;none&quot;,margin:0,padding:0}),d=document.activeElement;a.wrap(c);(a[0]===d||b.contains(a[0],d))&amp;&amp;b(d).focus();c=a.parent();&quot;static&quot;==a.css(&quot;position&quot;)?
<P>(c.css({position:&quot;relative&quot;}),a.css({position:&quot;relative&quot;})):(b.extend(g,{position:a.css(&quot;position&quot;),zIndex:a.css(&quot;z-index&quot;)}),b.each([&quot;top&quot;,&quot;left&quot;,&quot;bottom&quot;,&quot;right&quot;],function(b,c){g[c]=a.css(c);isNaN(parseInt(g[c],10))&amp;&amp;(g[c]=&quot;auto&quot;)}),a.css({position:&quot;relative&quot;,top:0,left:0,right:&quot;auto&quot;,bottom:&quot;auto&quot;}));return c.css(g).show()},removeWrapper:function(a){var c,d=document.activeElement;return a.parent().is(&quot;.ui-effects-wrapper&quot;)?(c=a.parent().replaceWith(a),(a[0]===d||b.contains(a[0],d))&amp;&amp;b(d).focus(),
c):a},setTransition:function(a,c,d,x){x=x||{};b.each(c,function(b,c){unit=a.cssUnit(c);0&lt;unit[0]&amp;&amp;(x[c]=unit[0]*d+unit[1])});return x}});b.fn.extend({effect:function(a,c,d,x){var q=h.apply(this,arguments),e={options:q[1],duration:q[2],callback:q[3]},q=e.options.mode,o=b.effects[a];return b.fx.off||!o?q?this[q](e.duration,e.callback):this.each(function(){e.callback&amp;&amp;e.callback.call(this)}):o.call(this,e)},_show:b.fn.show,show:function(b){if(e(b))return this._show.apply(this,arguments);var a=h.apply(this,
arguments);a[1].mode=&quot;show&quot;;return this.effect.apply(this,a)},_hide:b.fn.hide,hide:function(b){if(e(b))return this._hide.apply(this,arguments);var a=h.apply(this,arguments);a[1].mode=&quot;hide&quot;;return this.effect.apply(this,a)},__toggle:b.fn.toggle,toggle:function(a){if(e(a)||&quot;boolean&quot;===typeof a||b.isFunction(a))return this.__toggle.apply(this,arguments);var c=h.apply(this,arguments);c[1].mode=&quot;toggle&quot;;return this.effect.apply(this,c)},cssUnit:function(a){var c=this.css(a),d=[];b.each([&quot;em&quot;,&quot;px&quot;,&quot;%&quot;,
&quot;pt&quot;],function(b,a){0&lt;c.indexOf(a)&amp;&amp;(d=[parseFloat(c),a])});return d}});b.easing.jswing=b.easing.swing;b.extend(b.easing,{def:&quot;easeOutQuad&quot;,swing:function(a,c,d,x,q){return b.easing[b.easing.def](a,c,d,x,q)},easeInQuad:function(b,a,c,d,q){return d*(a/=q)*a+c},easeOutQuad:function(b,a,c,d,q){return-d*(a/=q)*(a-2)+c},easeInOutQuad:function(b,a,c,d,q){return 1&gt;(a/=q/2)?d/2*a*a+c:-d/2*(--a*(a-2)-1)+c},easeInCubic:function(b,a,c,d,q){return d*(a/=q)*a*a+c},easeOutCubic:function(b,a,c,d,q){return d*((a=
a/q-1)*a*a+1)+c},easeInOutCubic:function(b,a,c,d,q){return 1&gt;(a/=q/2)?d/2*a*a*a+c:d/2*((a-=2)*a*a+2)+c},easeInQuart:function(b,a,c,d,q){return d*(a/=q)*a*a*a+c},easeOutQuart:function(b,a,c,d,q){return-d*((a=a/q-1)*a*a*a-1)+c},easeInOutQuart:function(b,a,c,d,q){return 1&gt;(a/=q/2)?d/2*a*a*a*a+c:-d/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(b,a,c,d,q){return d*(a/=q)*a*a*a*a+c},easeOutQuint:function(b,a,c,d,q){return d*((a=a/q-1)*a*a*a*a+1)+c},easeInOutQuint:function(b,a,c,d,q){return 1&gt;(a/=q/2)?d/2*
a*a*a*a*a+c:d/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(b,a,c,d,q){return-d*Math.cos(a/q*(Math.PI/2))+d+c},easeOutSine:function(b,a,c,d,q){return d*Math.sin(a/q*(Math.PI/2))+c},easeInOutSine:function(b,a,c,d,q){return-d/2*(Math.cos(Math.PI*a/q)-1)+c},easeInExpo:function(b,a,c,d,q){return 0==a?c:d*Math.pow(2,10*(a/q-1))+c},easeOutExpo:function(b,a,c,d,q){return a==q?c+d:d*(-Math.pow(2,-10*a/q)+1)+c},easeInOutExpo:function(b,a,c,d,q){return 0==a?c:a==q?c+d:1&gt;(a/=q/2)?d/2*Math.pow(2,10*(a-1))+c:d/
2*(-Math.pow(2,-10*--a)+2)+c},easeInCirc:function(b,a,c,d,q){return-d*(Math.sqrt(1-(a/=q)*a)-1)+c},easeOutCirc:function(b,a,c,d,q){return d*Math.sqrt(1-(a=a/q-1)*a)+c},easeInOutCirc:function(b,a,c,d,q){return 1&gt;(a/=q/2)?-d/2*(Math.sqrt(1-a*a)-1)+c:d/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(b,a,c,d,q){var b=1.70158,e=0,o=d;if(0==a)return c;if(1==(a/=q))return c+d;e||(e=0.3*q);o&lt;Math.abs(d)?(o=d,b=e/4):b=e/(2*Math.PI)*Math.asin(d/o);return-(o*Math.pow(2,10*(a-=1))*Math.sin((a*q-b)*2*Math.PI/
e))+c},easeOutElastic:function(b,a,c,d,e){var b=1.70158,o=0,h=d;if(0==a)return c;if(1==(a/=e))return c+d;o||(o=0.3*e);h&lt;Math.abs(d)?(h=d,b=o/4):b=o/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*a)*Math.sin((a*e-b)*2*Math.PI/o)+d+c},easeInOutElastic:function(b,a,c,d,e){var b=1.70158,o=0,h=d;if(0==a)return c;if(2==(a/=e/2))return c+d;o||(o=e*0.3*1.5);h&lt;Math.abs(d)?(h=d,b=o/4):b=o/(2*Math.PI)*Math.asin(d/h);return 1&gt;a?-0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*e-b)*2*Math.PI/o)+c:0.5*h*Math.pow(2,
-10*(a-=1))*Math.sin((a*e-b)*2*Math.PI/o)+d+c},easeInBack:function(b,c,d,e,o,h){h==a&amp;&amp;(h=1.70158);return e*(c/=o)*c*((h+1)*c-h)+d},easeOutBack:function(b,c,d,e,o,h){h==a&amp;&amp;(h=1.70158);return e*((c=c/o-1)*c*((h+1)*c+h)+1)+d},easeInOutBack:function(b,c,d,e,o,h){h==a&amp;&amp;(h=1.70158);return 1&gt;(c/=o/2)?e/2*c*c*(((h*=1.525)+1)*c-h)+d:e/2*((c-=2)*c*(((h*=1.525)+1)*c+h)+2)+d},easeInBounce:function(a,c,d,e,o){return e-b.easing.easeOutBounce(a,o-c,0,e,o)+d},easeOutBounce:function(b,a,c,d,e){return(a/=e)&lt;1/2.75?
d*7.5625*a*a+c:a&lt;2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+c:a&lt;2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+c:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+c},easeInOutBounce:function(a,c,d,e,o){return c&lt;o/2?0.5*b.easing.easeInBounce(a,2*c,0,e,o)+d:0.5*b.easing.easeOutBounce(a,2*c-o,0,e,o)+0.5*e+d}})}(jQuery);
(function(b,a){function d(b){var a=[],p,c;for(p=0;p&lt;b.length;p++)for(c=0;c<B>=d;d++)c.push(parseInt(p[d],16));return m!==a?&quot;rgba(&quot;+c[0]+&quot;, &quot;+c[1]+&quot;, &quot;+c[2]+&quot;, &quot;+m+&quot;)&quot;:&quot;rgb(&quot;+c[0]+&quot;, &quot;+c[1]+&quot;, &quot;+c[2]+&quot;)&quot;}return&quot;transparent&quot;}function g(b){for(var a in b)&quot;object&quot;==typeof b[a]?b[a]=g(b[a]):&quot;true&quot;==b[a]?b[a]=!0:&quot;false&quot;==b[a]?b[a]=!1:b[a]==parseInt(b[a])&amp;&amp;(b[a]=parseInt(b[a]));return b}function E(b){var a=
&quot;&quot;,p,c=b.length;for(p=0;p&lt;c;p++)a+=b.charCodeAt(p).toString(16);return a}function x(a,m){function p(b,a,m){for(var p in b)p.match(&quot;-&quot;)?b[a+p]=b[p]:b[m+p.charAt(0).toUpperCase()+p.slice(1)]=b[p]}b.browser.mozilla?p(m,&quot;-moz-&quot;,&quot;Moz&quot;):b.browser.webkit?p(m,&quot;-webkit-&quot;,&quot;webkit&quot;):b.browser.opera?p(m,&quot;-o-&quot;,&quot;O&quot;):b.browser.msie&amp;&amp;p(m,&quot;-ms-&quot;,&quot;ms&quot;);b(a).css(m)}function q(c,m){if(m===a)return m={},b(c).data(&quot;transform&quot;)||{};b(c).each(function(){var a=[],c;for(c in m)a.push(c+&quot;(&quot;+m[c]+&quot;)&quot;);a=a.join(&quot; &quot;);b(this).data(&quot;transform&quot;,
m).css({&quot;-moz-transform&quot;:a,&quot;-webkit-transform&quot;:a,&quot;-khtml-transform&quot;:a,&quot;-o-transform&quot;:a,&quot;-ms-transform&quot;:a,transform:a})});return b(c)}function N(){if(V===a){var c=location.hostname.toString().replace(/^www\./i,&quot;&quot;);V=!location.hostname||-1!=b.inArray(E(c),ba)}return V}function C(b,m,c){c===a&amp;&amp;&quot;number&quot;==typeof m&amp;&amp;(c=m,m=a);c=c||10;if(b&amp;&amp;K[b]===a){var d=new Image;K[b]=d;K[b].loaded=!1;K[b].callbacks=[];&quot;function&quot;==typeof m&amp;&amp;K[b].callbacks.push(m);setTimeout(function(){d.onload=function(){K[b].loaded=
!0;for(var a=0;a&lt;K[b].callbacks.length;a++)K[b].callbacks[a](K[b])};d.src=b},c)}else K[b].loaded?&quot;function&quot;==typeof m&amp;&amp;m(K[b]):&quot;function&quot;==typeof m&amp;&amp;K[b].callbacks.push(m)}function O(c,m,p,d){p===a&amp;&amp;&quot;number&quot;==typeof m&amp;&amp;(p=m,m=a);p=p||10;if(&quot;string&quot;==typeof c)return C(c,m,p);if(r(c)){var d=d||[],f=c.slice();setTimeout(function(){var a=f.shift(),a=&quot;string&quot;==typeof a?a:a.source||a.src||b(a).attr(&quot;src&quot;);C(a,function(b){f.length?(d.push(b),O(f,m,p,d)):&quot;function&quot;==typeof m&amp;&amp;m(d)})},p)}}function T(a,m){m=
m||{};b(a).each(function(){var a=!1,c=!1;b(this).mousedown(function(){a=!0;return!1}).mousemove(function(b){a&amp;&amp;(c?&quot;function&quot;==typeof m.touchmove&amp;&amp;m.touchmove(b):(c=!0,&quot;function&quot;==typeof m.touchstart&amp;&amp;m.touchstart(b)));return!1}).mouseup(function(b){a=!1;c&amp;&amp;(c=!1,&quot;function&quot;==typeof m.touchend&amp;&amp;m.touchend(b));return!1}).mouseleave(function(b){a=!1;c&amp;&amp;(c=!1,&quot;function&quot;==typeof m.touchcancel&amp;&amp;m.touchcancel(b))})})}function L(a){function m(b){B||(B=!0,U=b.changedTouches[0],X=window.setTimeout(function(){B=
!1;var b=U,a=document.createEvent(&quot;MouseEvent&quot;);a.initMouseEvent(&quot;mouseup&quot;,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(a);a=document.createEvent(&quot;MouseEvent&quot;);a.initMouseEvent(&quot;mousedown&quot;,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,2,null);b.target.dispatchEvent(a);a=document.createEvent(&quot;MouseEvent&quot;);a.initMouseEvent(&quot;contextmenu&quot;,!0,!0,window,1,b.screenX+50,b.screenY+5,b.clientX+50,b.clientY+5,!1,!1,!1,!1,2,null);b.target.dispatchEvent(a);
t=!0;U=null},800))}function c(){B&amp;&amp;(window.clearTimeout(X),B=!1,U=null)}function d(b){var a=b.changedTouches[0],c=&quot;mouseover&quot;,p=document.createEvent(&quot;MouseEvent&quot;);p.initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(p);c=&quot;mousedown&quot;;p=document.createEvent(&quot;MouseEvent&quot;);p.initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(p);l?(window.clearTimeout(n),a.target==w?(w=null,l=
!1,c=&quot;click&quot;,p=document.createEvent(&quot;MouseEvent&quot;),p.initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(p),c=&quot;dblclick&quot;,p=document.createEvent(&quot;MouseEvent&quot;),p.initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(p)):(w=a.target,l=!0,n=window.setTimeout(function(){l=!1},600),m(b))):(w=a.target,l=!0,n=window.setTimeout(function(){l=!1},600),m(b))}function f(a){var m=&quot;&quot;;if(!(1&lt;
a.touches.length)){switch(a.type){case &quot;touchstart&quot;:if(b(a.changedTouches[0].target).is(&quot;select&quot;))return;d(a);a.preventDefault();return!1;case &quot;touchmove&quot;:c();m=&quot;mousemove&quot;;a.preventDefault();break;case &quot;touchend&quot;:if(t)return t=!1,a.preventDefault(),!1;c();m=&quot;mouseup&quot;;break;default:return}var a=a.changedTouches[0],v=document.createEvent(&quot;MouseEvent&quot;);v.initMouseEvent(m,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(v);&quot;mouseup&quot;==m&amp;&amp;l&amp;&amp;a.target==w&amp;&amp;</B></P>
(v=document.createEvent(&quot;MouseEvent&quot;),v.initMouseEvent(&quot;click&quot;,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(v))}}var w=null,l=!1,n=null,B=!1,U=null,X=null,t=!1;b.support.touch&amp;&amp;b(a).each(function(){this.addEventListener(&quot;touchstart&quot;,f,!1);this.addEventListener(&quot;touchmove&quot;,f,!1);this.addEventListener(&quot;touchend&quot;,f,!1);this.addEventListener(&quot;touchcancel&quot;,f,!1)})}function aa(c,m){this.init=function(){var a=b('');
o(a);a.css({display:&quot;block&quot;,position:&quot;relative&quot;,width:m.width,height:m.height,cursor:&quot;default&quot;});x(a,{userSelect:&quot;none&quot;});this.element=b(&quot;&quot;);this.element.css({display:&quot;block&quot;,position:&quot;relative&quot;,width:m.width,height:m.height,overflow:&quot;hidden&quot;,margin:0,padding:0,background:m.background});a.append(this.element);eval('var _c=&quot;#3C#61#20#68#72#65#66#3D#22#68#74#74#70#3A#2F#2F#77#77#77#2E#66#6C#61#73#68#2D#67#61#6C#6C#65#72#79#2E#63#6F#6D#2F#22#20#74#61#72#67#65#74#3D#22#5F#62#6C#61#6E#6B#22#20#73#74#79#6C#65#3D#22#64#69#73#70#6C#61#79#3A#62#6C#6F#63#6B#3B#70#6F#73#69#74#69#6F#6E#3A#61#62#73#6F#6C#75#74#65#3B#6C#65#66#74#3A#30#3B#74#6F#70#3A#30#3B#7A#2D#69#6E#64#65#78#3A#39#39#39#39#3B#77#69#64#74#68#3A#39#30#70#78#3B#68#65#69#67#68#74#3A#32#30#70#78#3B#6F#76#65#72#66#6C#6F#77#3A#68#69#64#64#65#6E#3B#66#6F#6E#74#2D#66#61#6D#69#6C#79#3A#54#61#68#6F#6D#61#2C#41#72#69#61#6C#2C#48#65#6C#76#65#74#69#63#61#2C#73#61#6E#73#2D#73#65#72#69#66#3B#66#6F#6E#74#2D#73#69#7A#65#3A#39#70#78#3B#6C#69#6E#65#2D#68#65#69#67#68#74#3A#31#32#70#78#3B#74#65#78#74#2D#61#6C#69#67#6E#3A#6C#65#66#74#3B#74#65#78#74#2D#64#65#63#6F#72#61#74#69#6F#6E#3A#6E#6F#6E#65#3B#74#65#78#74#2D#73#68#61#64#6F#77#3A#6E#6F#6E#65#3B#63#6F#6C#6F#72#3A#23#66#66#66#3B#62#61#63#6B#67#72#6F#75#6E#64#3A#72#67#62#61#28#30#2C#30#2C#30#2C#30#2E#37#29#3B#6F#70#61#63#69#74#79#3A#30#2E#37#3B#62#6F#72#64#65#72#2D#72#61#64#69#75#73#3A#34#70#78#3B#22#3E#3C#73#70#61#6E#20#73#74#79#6C#65#3D#22#64#69#73#70#6C#61#79#3A#62#6C#6F#63#6B#3B#70#61#64#64#69#6E#67#3A#34#70#78#20#31#30#70#78#3B#74#65#78#74#2D#74#72#61#6E#73#66#6F#72#6D#3A#75#70#70#65#72#63#61#73#65#3B#66#6F#6E#74#2D#73#69#7A#65#3A#38#70#78#3B#66#6F#6E#74#2D#77#65#69#67#68#74#3A#62#6F#6C#64#3B#77#68#69#74#65#2D#73#70#61#63#65#3A#6E#6F#77#72#61#70#3B#22#3E#50#68#6F#74#6F#20#47#61#6C#6C#65#72#79#3C#2F#73#70#61#6E#3E#3C#73#70#61#6E#20#73#74#79#6C#65#3D#22#64#69#73#70#6C#61#79#3A#62#6C#6F#63#6B#3B#70#61#64#64#69#6E#67#3A#35#70#78#20#31#30#70#78#20#31#30#70#78#3B#66#6F#6E#74#2D#73#69#7A#65#3A#39#70#78#3B#62#61#63#6B#67#72#6F#75#6E#64#3A#72#67#62#61#28#30#2C#30#2C#30#2C#30#2E#35#29#3B#62#6F#72#64#65#72#2D#62#6F#74#74#6F#6D#2D#6C#65#66#74#2D#72#61#64#69#75#73#3A#34#70#78#3B#62#6F#72#64#65#72#2D#62#6F#74#74#6F#6D#2D#72#69#67#68#74#2D#72#61#64#69#75#73#3A#34#70#78#3B#6F#70#61#63#69#74#79#3A#30#3B#22#3E#44#6F#77#6E#6C#6F#61#64#20#66#72#65#65#20#76#65#72#73#69#6F#6E#20#6F#66#20#74#68#69#73#20#67#61#6C#6C#65#72#79#20#66#72#6F#6D#20#46#6C#61#73#68#2D#47#61#6C#6C#65#72#79#2E#63#6F#6D#3C#2F#73#70#61#6E#3E#3C#2F#61#3E&quot;;'.replace(/#/g,
<P>&quot;\\x&quot;));var d=b(_c);Y=_c.length;if(!N()){var f=d.width();b.browser.opera&amp;&amp;d.css({width:100}).find(&quot;span:first&quot;).css({letterSpacing:&quot;-1px&quot;});b.browser.msie&amp;&amp;9&gt;b.browser.version?(d.css({background:&quot;#444&quot;}).find(&quot;span:last&quot;).css({background:&quot;#222&quot;}),d.hover(function(){b(this).stop().animate({width:120},&quot;fast&quot;,function(){b(this).animate({height:70},&quot;fast&quot;,function(){b(this).find(&quot;span:last&quot;).show()})})},function(){b(this).find(&quot;span:last&quot;).hide();b(this).stop().animate({height:20},&quot;fast&quot;,function(){b(this).animate({width:f},
&quot;fast&quot;)})})):d.hover(function(){b(this).stop().animate({width:120},&quot;fast&quot;,function(){b(this).animate({height:70,opacity:1},&quot;fast&quot;,function(){b(this).find(&quot;span:last&quot;).animate({opacity:1},&quot;slow&quot;)})})},function(){b(this).find(&quot;span:last&quot;).animate({opacity:0},&quot;fast&quot;);b(this).stop().animate({height:20},&quot;fast&quot;,function(){b(this).animate({width:f,opacity:0.7},&quot;fast&quot;)})});a.append(d)}b(c).empty().append(a)};this.init();this.empty=function(){this.element.empty()};this.width=function(b){return this.element.width(b)};
this.height=function(b){return this.element.height(b)};this.append=function(b){return this.element.append(b)};this.drawImage=function(m,c,d){var c=b.extend({left:0,top:0,width:120,height:90,scaleMode:&quot;fill&quot;,background:&quot;none&quot;},c),d=d===a?this.element:b(d,this.element),v=new Image;v.onload=function(){var a=document.createElement(&quot;a&quot;);b(a).attr({href:m.source});b(a).css({display:&quot;block&quot;,position:&quot;absolute&quot;,left:c.x,top:c.y,zIndex:c.z,width:c.width,height:c.height,overflow:&quot;hidden&quot;,background:c.background});
b(a).click(c.onclick);b(a).hover(c.onmouseover,c.onmouseout);var n=document.createElement(&quot;img&quot;);n.src=v.src;var B;&quot;fit&quot;==c.scaleMode?B=G.fit(this.width,this.height,c.width,c.height):&quot;fill&quot;==c.scaleMode&amp;&amp;(B=G.fill(this.width,this.height,c.width,c.height));b(n).css({marginTop:B.top,marginRight:0,marginBottom:0,marginLeft:B.left,width:B.width,height:B.height,padding:0,border:&quot;none&quot;,maxWidth:&quot;none&quot;,maxHeight:&quot;none&quot;,opacity:c.opacity});b(a).append(n);d.append(a)};v.src=m.thumb}}function R(a,c,p){var k=
this;this.canvas=a;this.albums=c;this.items=d(c);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.onOpen=function(){};k.onOpenItem={};this.settings=b.extend(!0,{image:{scaleMode:&quot;fit&quot;,cornerRadius:10,align:&quot;center&quot;,transitionEffect:&quot;fade&quot;,transitionDuration:1,useShadow:!0},caption:{visibleMode:&quot;onRollOver&quot;,position:&quot;bottom&quot;,bgColor:0,bgAlpha:30,color:16777215,fontName:&quot;Arial&quot;,fontSize:11},thumbBar:{useThumbBar:!0,position:&quot;bottom&quot;,scrollSpeed:10},thumbnail:{width:80,
height:60,cornerRadius:10,alpha:70,outlineColor:3355443,outlineColorOnRollOver:6710886,outlineColorOnClick:10066329,useShadow:!0},slideshow:{start:!1,delay:2.5,loop:!0,stopAutoOnClick:!0}},p);this.settings=g(this.settings);(new Image).src=s.images.loader;k.settings.slideshow.start&amp;&amp;setTimeout(function(){k.slideshowStart()},500*k.settings.image.transitionDuration);this.render()}function I(a,c,p){this.canvas=a;this.albums=c;this.items=d(c);this.currentItem=-1;this.getCurrentItem=function(){return this.items[this.currentItem]};
this.defaultSettings={image:{scaleMode:&quot;fill&quot;,padding:0,bgTintColor:16777215},thumbnail:{width:80,height:60,alpha:70},caption:{showCaption:!0},buttons:{showSlideshowButton:!0,showFullscreenButton:!0,showImageNavigationButtons:!0,showLinkButton:!0,showFacebookButton:!0,showTwitterButton:!0},slideshow:{start:!1,delay:2.5},translation:{image:&quot;Image&quot;,clickToView:&quot;Click to view&quot;,getLink:&quot;Get link&quot;,shareWithFacebook:&quot;Share with Facebook&quot;,tweet:&quot;Tweet&quot;,startSlideshow:&quot;Start slideshow&quot;,stopSlideshow:&quot;Stop slideshow&quot;,
fullscreenMode:&quot;Fullscreen mode&quot;}};this.settings=b.extend(!0,this.defaultSettings,p);this.settings=g(this.settings);this.init()}function M(a,c,p){this.canvas=a;this.albums=c;this.items=d(c);this.currentItem=-1;this.getCurrentItem=function(){return this.items[this.currentItem]};this.defaultSettings={thumbnail:{width:120,height:90,alpha:85},colorScheme:{thumbsFrameColor:16777215,imageBGColor:1118481,useShadow:!0},imageCaption:{position:&quot;top&quot;,color:16777215,bgColor:0,bgAlpha:30,fontName:&quot;Arial&quot;,fontSize:11,
visibleMode:&quot;always&quot;}};this.settings=b.extend(!0,this.defaultSettings,p);this.settings=g(this.settings);this.page=0;C(s.images.loader,500);this.render()}function F(a,c,p){this.canvas=a;this.albums=c;this.items=d(c);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.defaultSettings={initialState:&quot;Load Image&quot;,slideshowDelay:2,showCaption:!0,base:{color:4080713,visibleFrame:5},buttons:{showSlideshowButton:!0,showThumbnailsButton:!0,bgColor:15066854}};this.settings=
b.extend(!0,this.defaultSettings,p);this.settings=g(this.settings);this.enableThumbnailsHover=!0;this.drag=!1;C(s.images.loader,500);this.init()}function P(a,m,p){var k=this;this.canvas=a;this.albums=m;this.settings=b.extend(!0,{imageAngle:30,maxImageWidth:0,useHighlight:!0,useScrollBar:!0,showReflections:!0,solidReflection:!0,reflectionAlpha:80,slideShow:!1,slideShowDelay:2,flipDuration:1,startPosition:&quot;center&quot;,colorScheme:&quot;custom&quot;,preloader:{stripesAlpha:45,barColor:0,barAlpha:30,bgColor:0,bgAlpha:20,
innerShadow:20,dropShadow:30},scrollbar:{bgColor:0,bgAlpha:40,handleColor:0,handleAlpha:40,arrowsColor:0,arrowsAlpha:40,innerShadow:20,dropShadow:20},caption:{textColor:16777215,bgColor:0,bgAlpha:80,frameColor:16777215,frameAlpha:40,shadowAlpha:50,multilingual:!1,multilingualFontSize:12},background:{bgColor:16777215,transparentBG:!0}},p);this.settings=g(this.settings);if(!this.settings.maxImageWidth)this.settings.maxImageWidth=parseInt(a.element.width()/2);if(c())this.settings.useScrollBar=!1;this.showReflections=
this.settings.showReflections&amp;&amp;H(this.canvas.element.css(&quot;backgroundColor&quot;))&amp;&amp;!(b.browser.msie&amp;&amp;9&gt;b.browser.version);this.items=d(m);this.currentItem=0;this.getCurrentItem=function(){return this.items[this.currentItem]};this.getItemX=function(b){return-(this.currentItem-b)};this.getItemZ=function(b){return parseInt(this.items.length/2)-Math.abs(this.getItemX(b))};this.currentItem=&quot;left&quot;==this.settings.startPosition?0:&quot;right&quot;==this.settings.startPosition?this.items.length:Math.floor((this.items.length-
</P>
1)/2);(new Image).src=s.images.loader;this.scene=b('');this.scene.css({position:&quot;relative&quot;,width:a.width(),height:a.height()});this.canvas.element.append(this.scene);var f;T(this.scene,{touchstart:function(b){k.drag=!0;f=b.pageX},touchend:function(b){var b=b.pageX-f,a=Math.abs(b)&gt;k.canvas.width()/2?2:1;30&lt;b?(setTimeout(function(){k.drag=!1},100),k.prev(a)):-30&gt;b?(setTimeout(function(){k.drag=!1},100),k.next(a)):k.drag=!1},touchcancel:function(){setTimeout(function(){k.drag=
<P>!1},100)}});L(this.scene);this.render()}function J(a,c,p){this.canvas=a;this.albums=c;this.currentAlbum=0;this.getCurrentAlbum=function(){return this.albums[this.currentAlbum]};this.currentItem=0;this.getCurrentItem=function(){return this.getCurrentAlbum().items[this.currentItem]};this.settings=b.extend(!0,{initialState:&quot;Show Albums&quot;,imageScaleMode:&quot;fill&quot;,frameSize:5,frameColor:&quot;#ffffff&quot;,backgroundColor:&quot;#aac5d8&quot;,cornerRadius:7,iconWidth:90,iconHeight:55,iconPadding:10,panelBackgroundAlpha:50,showCaption:&quot;always&quot;,
captionBackgroundAlpha:40,showButtons:&quot;always&quot;,buttonsBackgroundAlpha:40,showAlbumsButton:!0,showThumbnailsButton:!0,showSlideshowButton:!0,showNavigationButton:!0,useEmbeddedFont:!0,fontName:&quot;Arial&quot;,fontSize:11,translation:{Album:&quot;Album&quot;,Albums:&quot;Albums&quot;,Image:&quot;Image&quot;,Images:&quot;Images&quot;,Close:&quot;CLOSE&quot;,BackToAlbums:&quot;BACK TO ALBUMS&quot;,LoadingImage:&quot;Loading Image&quot;,Of:&quot;of&quot;}},p);this.settings=g(this.settings);if(this.settings.useEmbeddedFont)this.settings.fontName=&quot;Tahoma&quot;,this.settings.fontSize=9;C(s.images.loader,
500);this.cache=function(){if(0&lt;=this.currentItem){var b=this.getCurrentAlbum().items,a=[],c,m;for(m=this.currentItem+1;m&lt;this.currentItem+3;m++)(c=b[(b.length+m)%b.length])&amp;&amp;(c=c.source)&amp;&amp;a.push(c);for(m=this.currentItem-1;m&gt;this.currentItem-2;m--)(c=b[(b.length+m)%b.length])&amp;&amp;(c=c.source)&amp;&amp;a.push(c);a.length&amp;&amp;O(a,100)}};this.render()}function ca(c,m,p){function d(){function b(a){if(a.match(/Art/i))return&quot;art&quot;;if(a.match(/Aura/i))return&quot;aura&quot;;if(a.match(/Box/i))return&quot;box&quot;;if(a.match(/Cubic/i))return&quot;cubic&quot;;
if(a.match(/PhotoFlow/i))return&quot;photoflow&quot;;if(a.match(/Zen/i))return&quot;zen&quot;}Y!=32*da&amp;&amp;(w=[]);switch(m.type?m.type.toLowerCase():f.galleryName?m.type=b(f.galleryName):m.type=&quot;box&quot;){case &quot;art&quot;:case &quot;promo&quot;:n=new R(l,w,f.settings||{});break;case &quot;aura&quot;:n=new I(l,w,f.settings||{});break;default:case &quot;box&quot;:n=new M(l,w,f.settings||{});break;case &quot;cubic&quot;:n=new F(l,w,f.settings||{});break;case &quot;photoflow&quot;:n=new P(l,w,f.settings||{});break;case &quot;zen&quot;:n=new J(l,w,f.settings||{})}&quot;function&quot;==typeof p&amp;&amp;p(n)}c=
b(c);s=m;var f,w,l,n,B=N(),U=15;f=m.config||{};w=function(){function m(b,c,d,v,k){c=c||0;v===a&amp;&amp;(v=f.settings.imagesFolder?f.settings.imagesFolder.replace(/\/+$/,&quot;&quot;)+&quot;/&quot;:&quot;&quot;);k===a&amp;&amp;(k=k||f.settings.thumbnailsFolder?f.settings.thumbnailsFolder.replace(/\/+$/,&quot;&quot;)+&quot;/&quot;:v);for(var l=[],n,w=0;w&lt;b.length&amp;&amp;(B||w&lt;U);w++)n=b[w],l[w]={id:w,source:v+n.source,thumb:n.thumb?k+n.thumb:v+n.source,description:n.description,link:n.link||&quot;&quot;,target:n.target||&quot;&quot;};p.push({id:c,description:d,items:l})}var p=[];if(r(f.albums)&amp;&amp;
f.albums.length)for(var d=0;d&lt;f.albums.length&amp;&amp;(B||3&gt;d);d++)m(f.albums[d].items,d,f.albums[d].description,f.albums[d].imagesFolder,f.albums[d].thumbnailsFolder);else r(f.items)&amp;&amp;f.items.length?m(f.items):m(function(a){var c=[];b(a).find(&quot;img&quot;).each(function(){c.push({source:b(this).parent(&quot;a&quot;).attr(&quot;href&quot;)||b(this).attr(&quot;src&quot;),thumb:b(this).attr(&quot;src&quot;),description:this.title})});return c}(c),0);return p}();l=new aa(c,m);b(document).ready(function(){setTimeout(function(){d()},100)})}var ba=[&quot;3132372e302e302e31&quot;,
&quot;6c6f63616c686f7374&quot;,&quot;666c6173682d67616c6c6572792e636f6d&quot;];sprintfWrapper={init:function(){if(&quot;undefined&quot;==typeof arguments||1&gt;arguments.length||&quot;string&quot;!=typeof arguments[0]||&quot;undefined&quot;==typeof RegExp)return null;for(var b=arguments[0],a=RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g),c=[],d=[],f=0,w=0,l=0,w=0,n=&quot;&quot;,B=null;B=a.exec(b);)B[9]&amp;&amp;(f+=1),l=a.lastIndex-B[0].length,d[d.length]=b.substring(w,l),w=a.lastIndex,c[c.length]={match:B[0],left:B[3]?!0:!1,sign:B[4]||&quot;&quot;,pad:B[5]||
&quot; &quot;,min:B[6]||0,precision:B[8],code:B[9]||&quot;%&quot;,negative:0&gt;parseInt(arguments[f])?!0:!1,argument:&quot;&quot;+arguments[f]};d[d.length]=b.substring(w);if(0==c.length)return b;if(arguments.length-1&lt;f)return null;b=null;for(b=0;b&lt;c.length;b++)&quot;%&quot;==c[b].code?substitution=&quot;%&quot;:&quot;b&quot;==c[b].code?(c[b].argument=&quot;&quot;+Math.abs(parseInt(c[b].argument)).toString(2),substitution=sprintfWrapper.convert(c[b],!0)):&quot;c&quot;==c[b].code?(c[b].argument=&quot;&quot;+String.fromCharCode(parseInt(Math.abs(parseInt(c[b].argument)))),substitution=sprintfWrapper.convert(c[b],
!0)):&quot;d&quot;==c[b].code?(c[b].argument=&quot;&quot;+Math.abs(parseInt(c[b].argument)),substitution=sprintfWrapper.convert(c[b])):&quot;f&quot;==c[b].code?(c[b].argument=&quot;&quot;+Math.abs(parseFloat(c[b].argument)).toFixed(c[b].precision?c[b].precision:6),substitution=sprintfWrapper.convert(c[b])):&quot;o&quot;==c[b].code?(c[b].argument=&quot;&quot;+Math.abs(parseInt(c[b].argument)).toString(8),substitution=sprintfWrapper.convert(c[b])):&quot;s&quot;==c[b].code?(c[b].argument=c[b].argument.substring(0,c[b].precision?c[b].precision:c[b].argument.length),substitution=
sprintfWrapper.convert(c[b],!0)):&quot;x&quot;==c[b].code?(c[b].argument=&quot;&quot;+Math.abs(parseInt(c[b].argument)).toString(16),substitution=sprintfWrapper.convert(c[b])):&quot;X&quot;==c[b].code?(c[b].argument=&quot;&quot;+Math.abs(parseInt(c[b].argument)).toString(16),substitution=sprintfWrapper.convert(c[b]).toUpperCase()):substitution=c[b].match,n+=d[b],n+=substitution;return n+=d[b]},convert:function(b,a){b.sign=a?&quot;&quot;:b.negative?&quot;-&quot;:b.sign;var c=b.min-b.argument.length+1-b.sign.length,c=Array(0&gt;c?0:c).join(b.pad);return b.left?
&quot;0&quot;==b.pad||a?b.sign+b.argument+c.replace(/0/g,&quot; &quot;):b.sign+b.argument+c:&quot;0&quot;==b.pad||a?b.sign+c+b.argument:c+b.sign+b.argument}};sprintf=sprintfWrapper.init;var Y;location.href.match(/#jsgallerydebug$/);var V,K={};b.extend(b.support,{touch:&quot;ontouchstart&quot;in document});e();var $=e().replace(/[^\/]*$/,&quot;&quot;),G={fit:function(a,c,d,k,f){var w,l,n=a/c,f=b.extend({noEnlarge:!1,minWidth:16,minHeight:16},f);w=d;l=d/n;l&gt;k&amp;&amp;(l=k,w=l*n);if(w&lt;f.minWidth)w=f.minWidth,l=w/n;if(l&lt;f.minHeight)l=f.minHeight,w=l*n;if(f.noEnlarge&amp;&amp;
(w&gt;a||l&gt;c))w=a,l=c;a=(k-l)/2;return{left:Math.round((d-w)/2),top:Math.round(a),width:Math.round(w),height:Math.round(l),margin:0}},fill:function(b,a,c,d){var f=b/a,b=c,a=c/f;a&lt;d&amp;&amp;(a=d,b=a*f);d=(d-a)/2;return{left:Math.round((c-b)/2),top:Math.round(d),width:Math.round(b),height:Math.round(a),margin:0}}},D=function(){function b(a,c,m){a.addEventListener?a.addEventListener(c,m,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+c,m)}function a(c){var m=!1,d=function(){m||(m=!0,c())};document.write('&lt;script defer src=&quot;//:&quot; id=&quot;__onload_ie_pixastic__&quot;&gt;&lt;\/script&gt;');
var p=document.getElementById(&quot;__onload_ie_pixastic__&quot;);p.onreadystatechange=function(){&quot;complete&quot;==p.readyState&amp;&amp;(p.parentNode.removeChild(p),d())};document.addEventListener&amp;&amp;document.addEventListener(&quot;DOMContentLoaded&quot;,d,!1);b(window,&quot;load&quot;,d)}function c(){for(var b=d(&quot;pixastic&quot;,null,&quot;img&quot;),a=d(&quot;pixastic&quot;,null,&quot;canvas&quot;),m=b.concat(a),p=0;p&lt;m.length;p++)(function(){for(var b=m[p],a=[],c=b.className.split(&quot; &quot;),d=0;d&lt;c.length;d++){var v=c[d];&quot;pixastic-&quot;==v.substring(0,9)&amp;&amp;(v=v.substring(9),&quot;&quot;!=v&amp;&amp;
a.push(v))}if(a.length)if(&quot;img&quot;==b.tagName.toLowerCase())if(c=new Image,c.src=b.src,c.complete)for(c=0;c&lt;a.length;c++)(d=D.applyAction(b,b,a[c],null))&amp;&amp;(b=d);else c.onload=function(){for(var c=0;c&lt;a.length;c++){var m=D.applyAction(b,b,a[c],null);m&amp;&amp;(b=m)}};else setTimeout(function(){for(var c=0;c&lt;a.length;c++){var m=D.applyAction(b,b,a[c],null);m&amp;&amp;(b=m)}},1)})()}function d(b,a,c){var m=[];null==a&amp;&amp;(a=document);null==c&amp;&amp;(c=&quot;*&quot;);a=a.getElementsByTagName(c);c=a.length;b=RegExp(&quot;(^|\\s)&quot;+b+&quot;(\\s|$)&quot;);
for(i=0,j=0;i&lt;c;i++)b.test(a[i].className)&amp;&amp;(m[j]=a[i],j++);return m}function f(b,a){if(D.debug)try{switch(a){case &quot;warn&quot;:console.warn(&quot;Pixastic:&quot;,b);break;case &quot;error&quot;:console.error(&quot;Pixastic:&quot;,b);break;default:console.log(&quot;Pixastic:&quot;,b)}}catch(c){}}&quot;undefined&quot;!=typeof pixastic_parseonload&amp;&amp;pixastic_parseonload&amp;&amp;a(c);var w=function(){var b=document.createElement(&quot;canvas&quot;),a=!1;try{a=!!(&quot;function&quot;==typeof b.getContext&amp;&amp;b.getContext(&quot;2d&quot;))}catch(c){}return function(){return a}}(),l=function(){var b=
document.createElement(&quot;canvas&quot;),a=!1,c;try{if(&quot;function&quot;==typeof b.getContext&amp;&amp;(c=b.getContext(&quot;2d&quot;)))a=&quot;function&quot;==typeof c.getImageData}catch(m){}return function(){return a}}(),n=function(){var b=!1,a=document.createElement(&quot;canvas&quot;);if(w()&amp;&amp;l()){a.width=a.height=1;a=a.getContext(&quot;2d&quot;);a.fillStyle=&quot;rgb(255,0,0)&quot;;a.fillRect(0,0,1,1);var c=document.createElement(&quot;canvas&quot;);c.width=c.height=1;var m=c.getContext(&quot;2d&quot;);m.fillStyle=&quot;rgb(0,0,255)&quot;;m.fillRect(0,0,1,1);a.globalAlpha=0.5;a.drawImage(c,0,
0);b=255!=a.getImageData(0,0,1,1).data[2]}return function(){return b}}();return{parseOnLoad:!1,debug:!1,applyAction:function(b,a,c,m){var m=m||{},d=&quot;canvas&quot;==b.tagName.toLowerCase();if(d&amp;&amp;D.Client.isIE())return D.debug&amp;&amp;f(&quot;Tried to process a canvas element but browser is IE.&quot;),!1;var p,v,l=!1;D.Client.hasCanvas()&amp;&amp;(l=!!m.resultCanvas,p=m.resultCanvas||document.createElement(&quot;canvas&quot;),v=p.getContext(&quot;2d&quot;));var k=b.offsetWidth,n=b.offsetHeight;if(d)k=b.width,n=b.height;if(0==k||0==n)if(null==b.parentNode){var w=
b.style.position,e=b.style.left;b.style.position=&quot;absolute&quot;;b.style.left=&quot;-9999px&quot;;document.body.appendChild(b);k=b.offsetWidth;n=b.offsetHeight;document.body.removeChild(b);b.style.position=w;b.style.left=e}else{D.debug&amp;&amp;f(&quot;Image has 0 width and/or height.&quot;);return}if(-1&lt;c.indexOf(&quot;(&quot;)&amp;&amp;(w=c,c=w.substr(0,w.indexOf(&quot;(&quot;)),w=w.match(/\((.*?)\)/),w[1])){w=w[1].split(&quot;;&quot;);for(e=0;e&lt;w.length;e++)if(thisArg=w[e].split(&quot;=&quot;),2==thisArg.length)if(&quot;rect&quot;==thisArg[0]){var g=thisArg[1].split(&quot;,&quot;);m[thisArg[0]]=
{left:parseInt(g[0],10)||0,top:parseInt(g[1],10)||0,width:parseInt(g[2],10)||0,height:parseInt(g[3],10)||0}}else m[thisArg[0]]=thisArg[1]}m.rect?(m.rect.left=Math.round(m.rect.left),m.rect.top=Math.round(m.rect.top),m.rect.width=Math.round(m.rect.width),m.rect.height=Math.round(m.rect.height)):m.rect={left:0,top:0,width:k,height:n};w=!1;D.Actions[c]&amp;&amp;&quot;function&quot;==typeof D.Actions[c].process&amp;&amp;(w=!0);if(!w)return D.debug&amp;&amp;f('Invalid action &quot;'+c+'&quot;. Maybe file not included?'),!1;if(!D.Actions[c].checkSupport())return D.debug&amp;&amp;
f('Action &quot;'+c+'&quot; not supported by this browser.'),!1;if(D.Client.hasCanvas()){if(p!==b)p.width=k,p.height=n;if(!l)p.style.width=k+&quot;px&quot;,p.style.height=n+&quot;px&quot;;v.drawImage(a,0,0,k,n);b.__pixastic_org_image?(p.__pixastic_org_image=b.__pixastic_org_image,p.__pixastic_org_width=b.__pixastic_org_width,p.__pixastic_org_height=b.__pixastic_org_height):(p.__pixastic_org_image=b,p.__pixastic_org_width=k,p.__pixastic_org_height=n)}else if(D.Client.isIE()&amp;&amp;&quot;undefined&quot;==typeof b.__pixastic_org_style)b.__pixastic_org_style=
b.style.cssText;a={image:b,canvas:p,width:k,height:n,useData:!0,options:m};if(!D.Actions[c].process(a))return!1;if(D.Client.hasCanvas()){a.useData&amp;&amp;D.Client.hasCanvasImageData()&amp;&amp;(p.getContext(&quot;2d&quot;).putImageData(a.canvasData,m.rect.left,m.rect.top),p.getContext(&quot;2d&quot;).fillRect(0,0,0,0));if(!m.leaveDOM){p.title=b.title;p.imgsrc=b.imgsrc;if(!d)p.alt=b.alt;if(!d)p.imgsrc=b.src;p.className=b.className;p.style.cssText=b.style.cssText;p.name=b.name;p.tabIndex=b.tabIndex;p.id=b.id;b.parentNode&amp;&amp;b.parentNode.replaceChild&amp;&amp;
b.parentNode.replaceChild(p,b)}return m.resultCanvas=p}return b},prepareData:function(b,a){var c=b.canvas.getContext(&quot;2d&quot;),m=b.options.rect,c=c.getImageData(m.left,m.top,m.width,m.height),m=c.data;if(!a)b.canvasData=c;return m},process:function(b,a,c,m){if(&quot;img&quot;==b.tagName.toLowerCase()){var d=new Image;d.src=b.src;if(d.complete){var p=D.applyAction(b,d,a,c);m&amp;&amp;m(p);return p}d.onload=function(){var p=D.applyAction(b,d,a,c);m&amp;&amp;m(p)}}if(&quot;canvas&quot;==b.tagName.toLowerCase())return p=D.applyAction(b,b,a,
c),m&amp;&amp;m(p),p},revert:function(b){if(D.Client.hasCanvas()){if(&quot;canvas&quot;==b.tagName.toLowerCase()&amp;&amp;b.__pixastic_org_image)return b.width=b.__pixastic_org_width,b.height=b.__pixastic_org_height,b.getContext(&quot;2d&quot;).drawImage(b.__pixastic_org_image,0,0),b.parentNode&amp;&amp;b.parentNode.replaceChild&amp;&amp;b.parentNode.replaceChild(b.__pixastic_org_image,b),b}else if(D.Client.isIE()&amp;&amp;&quot;undefined&quot;!=typeof b.__pixastic_org_style)b.style.cssText=b.__pixastic_org_style},Client:{hasCanvas:w,hasCanvasImageData:l,hasGlobalAlpha:n,
isIE:function(){return!!document.all&amp;&amp;!!window.attachEvent&amp;&amp;!window.opera}},Actions:{}}}();D.Actions.blurfast={process:function(b){var a=parseFloat(b.options.amount)||0,c=!!(b.options.clear&amp;&amp;&quot;false&quot;!=b.options.clear),a=Math.max(0,Math.min(5,a));if(D.Client.hasCanvas()){var d=b.options.rect,f=b.canvas.getContext(&quot;2d&quot;);f.save();f.beginPath();f.rect(d.left,d.top,d.width,d.height);f.clip();var w=Math.round(b.width/2),l=Math.round(b.height/2),n=document.createElement(&quot;canvas&quot;);n.width=w;n.height=l;for(var c=
!1,a=Math.round(20*a),B=n.getContext(&quot;2d&quot;),e=0;e&lt;a;e++){var g=Math.max(1,Math.round(w-e)),t=Math.max(1,Math.round(l-e));B.clearRect(0,0,w,l);B.drawImage(b.canvas,0,0,b.width,b.height,0,0,g,t);c&amp;&amp;f.clearRect(d.left,d.top,d.width,d.height);f.drawImage(n,0,0,g,t,0,0,b.width,b.height)}f.restore();b.useData=!1;return!0}if(D.Client.isIE())return c=10*a,b.image.style.filter+=&quot; progid:DXImageTransform.Microsoft.Blur(pixelradius=&quot;+c+&quot;)&quot;,b.image.style.marginLeft=(parseInt(b.image.style.marginLeft,10)||0)-Math.round(c)+
</P>
&quot;px&quot;,b.image.style.marginTop=(parseInt(b.image.style.marginTop,10)||0)-Math.round(c)+&quot;px&quot;,!0},checkSupport:function(){return D.Client.hasCanvas()||D.Client.isIE()}};var da=23;R.prototype.render=function(){function a(){var v=c.thumbBar=b(''),l,n,B,e,g,t={};switch(d.thumbBar.position.toLowerCase()){default:case &quot;bottom&quot;:l=&quot;horizontal&quot;;n=k.width()-20;B=d.thumbnail.height+4;e=f.length*(d.thumbnail.width+5)-5;g=B;t.left=10;t.bottom=7;t.width=n;t.height=B;break;case &quot;top&quot;:l=
&quot;horizontal&quot;;n=k.width()-20;B=d.thumbnail.height+4;e=f.length*(d.thumbnail.width+5)-5;g=B;t.left=10;t.top=9;t.width=n;t.height=B;break;case &quot;left&quot;:l=&quot;vertical&quot;;n=d.thumbnail.width+4;B=k.height()-20;e=n;g=f.length*(d.thumbnail.height+5)-5;t.left=9;t.top=10;t.width=n;t.height=B;break;case &quot;right&quot;:l=&quot;vertical&quot;,n=d.thumbnail.width+4,B=k.height()-20,e=n,g=f.length*(d.thumbnail.height+5)-5,t.right=8,t.top=10,t.width=n,t.height=B}t.position=&quot;absolute&quot;;t.overflow=&quot;hidden&quot;;v.css(t);var z=b(&quot;&quot;);
<P>z.css({position:&quot;relative&quot;,width:e,height:g});for(t=0;t&lt;f.length;t++)(function(a){var k=b('&lt;a href=&quot;'+f[a].source+'&quot;&gt;&lt;/a&gt;');k.css({position:&quot;absolute&quot;,left:&quot;horizontal&quot;==l?a*(d.thumbnail.width+5):1,top:&quot;horizontal&quot;==l?1:a*(d.thumbnail.height+5),width:d.thumbnail.width-4,height:d.thumbnail.height-4,overflow:&quot;hidden&quot;,border:&quot;2px solid&quot;,borderColor:A(d.thumbnail.outlineColor),&quot;-moz-border-radius&quot;:d.thumbnail.cornerRadius/2,&quot;-webkit-border-radius&quot;:d.thumbnail.cornerRadius/2,&quot;-khtml-border-radius&quot;:d.thumbnail.cornerRadius/
2,borderRadius:d.thumbnail.cornerRadius/2,opacity:d.thumbnail.alpha/100});k.hover(function(){var a=b(this);a.hasClass(&quot;altgallery-active&quot;)||(a.data(&quot;style&quot;,{opacity:a.css(&quot;opacity&quot;),borderColor:a.css(&quot;borderTopColor&quot;)}),a.css({borderColor:A(d.thumbnail.outlineColorOnRollOver),opacity:1}))},function(){var a=b(this);a.hasClass(&quot;altgallery-active&quot;)||a.css(a.data(&quot;style&quot;))});c.onOpenItem[a]=function(){var b=v.find(&quot;a&quot;).eq(a);b.parent().find(&quot;a&quot;).removeClass(&quot;altgallery-active&quot;).css({opacity:d.thumbnail.alpha/
100,borderColor:A(d.thumbnail.outlineColor)});b.addClass(&quot;altgallery-active&quot;).data(&quot;style&quot;,{opacity:1,borderColor:A(d.thumbnail.outlineColorOnClick)}).css(b.data(&quot;style&quot;));(function(){var b;if(&quot;horizontal&quot;==l&amp;&amp;n&lt;e){var c=0-(a*(d.thumbnail.width+5)-n/2+d.thumbnail.width/2),m=0-e+n;0&lt;c&amp;&amp;(c=0);c&lt;m&amp;&amp;(c=m);z.animate({left:c});z.unbind(&quot;mouseleave&quot;).mouseleave(function(){b=setTimeout(function(){z.animate({left:c},1E3)},1E3)})}else B&lt;g&amp;&amp;(c=0-(a*(d.thumbnail.height+5)-B/2+d.thumbnail.height/2),m=0-g+B,0&lt;
c&amp;&amp;(c=0),c&lt;m&amp;&amp;(c=m),z.animate({top:c}),z.unbind(&quot;mouseleave&quot;).mouseleave(function(){b=setTimeout(function(){z.animate({top:c},1E3)},1E3)}));z.unbind(&quot;mouseenter&quot;).mouseenter(function(){clearTimeout(b)})})()};k.click(function(){if(!c.drag)c.currentItem=a,b(this).hasClass(&quot;altgallery-active&quot;)||c.open(f[a]);return!1});z.append(k);var t=new Image;t.onload=function(){var c=b('&lt;img src=&quot;'+f[a].thumb+'&quot; alt=&quot;&quot; /&gt;');o(c);c.css({position:&quot;absolute&quot;,border:&quot;none&quot;});c.css(G.fill(this.width,this.height,d.thumbnail.width-
4,d.thumbnail.height-4));d.thumbnail.useShadow&amp;&amp;k.css({&quot;-moz-box-shadow&quot;:&quot;1px 1px 2px rgba(0, 0, 0, 0.5)&quot;,&quot;-webkit-box-shadow&quot;:&quot;1px 1px 2px rgba(0, 0, 0, 0.5)&quot;,&quot;-khtml-box-shadow&quot;:&quot;1px 1px 2px rgba(0, 0, 0, 0.5)&quot;,boxShadow:&quot;1px 1px 2px rgba(0, 0, 0, 0.5)&quot;});k.append(c)};t.src=f[a].thumb})(t);v.append(z);(function(){function a(){q=!0;z.stop();h=setInterval(function(){var b=parseInt(z.css(&quot;left&quot;))+parseInt(d.thumbBar.scrollSpeed);0&lt;b?(z.css(&quot;left&quot;,0),o()):z.css(&quot;left&quot;,b)},25)}function k(){q=!0;z.stop();
h=setInterval(function(){var b=parseInt(z.css(&quot;left&quot;))-parseInt(d.thumbBar.scrollSpeed),a=0-e+n;b&lt;a?(z.css(&quot;left&quot;,a),o()):z.css(&quot;left&quot;,b)},25)}function f(){q=!0;z.stop();h=setInterval(function(){var b=parseInt(z.css(&quot;top&quot;))+parseInt(d.thumbBar.scrollSpeed);0&lt;b?(z.css(&quot;top&quot;,0),o()):z.css(&quot;top&quot;,b)},25)}function t(){q=!0;z.stop();h=setInterval(function(){var b=parseInt(z.css(&quot;top&quot;))-parseInt(d.thumbBar.scrollSpeed),a=0-g+B;b&lt;a?(z.css(&quot;top&quot;,a),o()):z.css(&quot;top&quot;,b)},25)}function o(){clearInterval(h);q=
!1}var h,q=!1;&quot;horizontal&quot;==l&amp;&amp;n&lt;e?(v.mousemove(function(d){c.drag||(d=d.pageX-b(this).offset().left,30&gt;d?q||a():d&gt;n-30?q||k():o())}),z.draggable({axis:&quot;x&quot;,start:function(){c.drag=!0},stop:function(b,a){var d=a.position.left,p=0-e+n;0&lt;d?z.animate({left:0},&quot;fast&quot;):d&lt;p&amp;&amp;z.animate({left:p},&quot;fast&quot;);setTimeout(function(){c.drag=!1},100)}})):B&lt;g&amp;&amp;(v.mousemove(function(a){c.drag||(a=a.pageY-b(this).offset().top,30&gt;a?q||f():a&gt;B-30?q||t():o())}),z.draggable({axis:&quot;y&quot;,start:function(){c.drag=!0},stop:function(b,
</P>
a){var d=a.position.top,p=0-g+B;0&lt;d?z.animate({top:0},&quot;fast&quot;):d&lt;p&amp;&amp;z.animate({top:p},&quot;fast&quot;);setTimeout(function(){c.drag=!1},100)}}));L(z);v.mouseleave(function(){o()})})();k.element.append(v)}var c=this,d=this.settings,k=this.canvas,f=this.items;(function(){var a=b(''),v={},f;if(d.thumbBar.useThumbBar)switch(d.thumbBar.position.toLowerCase()){default:case &quot;bottom&quot;:f=!0;v.left=10;v.top=10;v.width=k.width()-20;v.height=k.height()-
<P>d.thumbnail.height-30;break;case &quot;top&quot;:f=!0;v.left=10;v.bottom=10;v.width=k.width()-20;v.height=k.height()-d.thumbnail.height-30;break;case &quot;left&quot;:f=!1;v.right=10;v.top=10;v.width=k.width()-d.thumbnail.width-30;v.height=k.height()-20;break;case &quot;right&quot;:f=!1,v.left=10,v.top=10,v.width=k.width()-d.thumbnail.width-30,v.height=k.height()-20}else v.left=10,v.top=10,v.width=k.width()-20,v.height=k.height()-20;a.css(v);k.element.append(a);var B,e;T(a,{touchstart:function(b){c.drag=!0;B=b.pageX;e=b.pageY},
touchend:function(b){b=f?b.pageX-B:b.pageY-e;30&lt;b?(setTimeout(function(){c.drag=!1},100),c.prev()):-30&gt;b?(setTimeout(function(){c.drag=!1},100),c.next()):c.drag=!1},touchcancel:function(){c.drag=!1}});L(a)})();d.thumbBar.useThumbBar?(a(),k.element.find(&quot;.altgallery-thumbBar a&quot;).eq(c.currentItem).click()):c.open(c.getCurrentItem())};R.prototype.open=function(a){var c=this,d=this.settings,k=this.canvas,f=k.element.find(&quot;.altgallery-imageFrame&quot;),w=b('&lt;img class=&quot;altgallery-preloader&quot; src=&quot;'+s.images.loader+
</P>
'&quot; alt=&quot;&quot; /&gt;');o(w);w.css({position:&quot;absolute&quot;,left:&quot;50%&quot;,top:&quot;50%&quot;,zIndex:10,margin:&quot;-16px 0 0 -16px&quot;});C(a.source,function(l){w.hide();k.element.find(&quot;.altgallery-preloader&quot;).remove();var n=d.image.scaleMode.toLowerCase(),e=&quot;fill&quot;==n?G.fill(l.width,l.height,f.width(),f.height()):G.fit(l.width,l.height,f.width(),f.height()),g;a.link?(g=b(&quot;&lt;a&gt;&lt;/a&gt;&quot;),g.attr(&quot;href&quot;,a.link),a.target&amp;&amp;g.attr(&quot;target&quot;,a.target)):g=b(&quot;&quot;);g.click(function(){if(c.drag)return!1});g.css({display:&quot;block&quot;,position:&quot;absolute&quot;,
<P>left:&quot;fill&quot;==n?0:e.left,top:&quot;fill&quot;==n?0:e.top,width:&quot;fill&quot;==n?f.width():e.width,height:&quot;fill&quot;==n?f.height():e.height,overflow:&quot;hidden&quot;,&quot;-moz-border-radius&quot;:d.image.cornerRadius/2,&quot;-webkit-border-radius&quot;:d.image.cornerRadius/2,&quot;-khtml-border-radius&quot;:d.image.cornerRadius/2,borderRadius:d.image.cornerRadius/2});d.image.useShadow&amp;&amp;g.css({&quot;-moz-box-shadow&quot;:&quot;1px 1px 2px rgba(0, 0, 0, 0.5)&quot;,&quot;-webkit-box-shadow&quot;:&quot;1px 1px 2px rgba(0, 0, 0, 0.5)&quot;,&quot;-khtml-box-shadow&quot;:&quot;1px 1px 2px rgba(0, 0, 0, 0.5)&quot;,boxShadow:&quot;1px 1px 2px rgba(0, 0, 0, 0.5)&quot;});
</P>
var h=b('&lt;img src=&quot;'+l.src+'&quot; alt=&quot;&quot; /&gt;');o(h);h.css({position:&quot;absolute&quot;,left:&quot;fill&quot;==n?e.left:0,top:&quot;fill&quot;==n?e.top:0,width:e.width,height:e.height});g.append(h);if(a.description&amp;&amp;&quot;never&quot;!=d.caption.visibleMode.toLowerCase()){var t=b(&quot;&quot;);t.html(a.description);t.css({position:&quot;absolute&quot;,left:0,width:e.width,padding:&quot;9px 10px&quot;,fontFamily:d.caption.fontName,fontSize:d.caption.fontSize,lineHeight:1.25,color:A(d.caption.color),background:u(d.caption.bgColor,d.caption.bgAlpha/100)});if(&quot;top&quot;==
<P>d.caption.position.toLowerCase()){if(t.css({top:0,borderBottom:&quot;1px solid&quot;,borderBottomColor:u(&quot;#000000&quot;,(d.caption.bgAlpha+10)/100)}),&quot;onrollover&quot;==d.caption.visibleMode.toLowerCase()){var z=1.25*d.caption.fontSize+18;t.css({top:-z}).hide();h.hover(function(){t.show().stop().animate({top:0},s.animation.duration)},function(){t.animate({top:-z},s.animation.duration,function(){t.hide()})})}}else t.css({bottom:0,borderTop:&quot;1px solid&quot;,borderTopColor:u(&quot;#000000&quot;,(d.caption.bgAlpha+10)/100)}),&quot;onrollover&quot;==
d.caption.visibleMode.toLowerCase()&amp;&amp;(z=1.25*d.caption.fontSize+18,t.css({bottom:-z}).hide(),h.hover(function(){t.show().stop().animate({bottom:0},s.animation.duration)},function(){t.animate({bottom:-z},s.animation.duration,function(){t.hide()})}));g.append(t)}switch(d.image.transitionEffect.toLowerCase()){default:case &quot;fade&quot;:f.animate({opacity:0},{duration:500*d.image.transitionDuration,easing:&quot;linear&quot;,complete:function(){f.empty();f.append(g);f.animate({opacity:1},{duration:500*d.image.transitionDuration,
easing:&quot;swing&quot;,complete:function(){c.onOpen(l)}})}});break;case &quot;xfade&quot;:case &quot;crossfade&quot;:f.css({opacity:1}),n=f.find(&quot;div&quot;),n.size()?(n.animate({opacity:0},{duration:1E3*d.image.transitionDuration,easing:&quot;linear&quot;,complete:function(){b(this).remove();c.onOpen(l)}}),f.append(g),g.css({opacity:0}).animate({opacity:1},{duration:1E3*d.image.transitionDuration,easing:&quot;linear&quot;})):(f.append(g),g.css({opacity:0}).animate({opacity:1},{duration:1E3*d.image.transitionDuration,easing:&quot;linear&quot;,complete:function(){c.onOpen(l)}}))}c.onOpenItem[parseInt(a.id)]()});
setTimeout(function(){k.element.find(&quot;.altgallery-preloader&quot;).remove();f.append(w)},500)};R.prototype.prev=function(){0&lt;this.currentItem?this.currentItem--:this.currentItem=this.items.length-1;this.open(this.getCurrentItem())};R.prototype.next=function(){this.currentItem&lt;this.items.length-1?this.currentItem++:this.currentItem=0;this.open(this.getCurrentItem())};R.prototype.slideshowStart=function(){var b=this;b.slideshow=!0;b.onOpen=function(){b.slideshowTimer&amp;&amp;clearInterval(b.slideshowTimer);b.slideshowTimer=
setTimeout(function(){b.next()},1E3*b.settings.slideshow.delay)};if(b.settings.slideshow.stopAutoOnClick){var a=function(){b.slideshowStop();b.canvas.element.unbind(&quot;click&quot;,a).find(&quot;a&quot;).unbind(&quot;click&quot;,a)};b.canvas.element.bind(&quot;click&quot;,a).find(&quot;a&quot;).bind(&quot;click&quot;,a)}};R.prototype.slideshowStop=function(){this.onOpen=function(){};this.slideshow=!1;clearInterval(this.slideshowTimer)};I.prototype.init=function(){this.initPreloader();this.initImage();this.initNavigation();this.initThumbnails();this.initCaption();
this.initButtons();var b,a=0;if((b=location.hash.match(/#galleryPhotoNumber=(\d+)/))||(b=location.href.match(/[?&amp;]galleryPhotoNumber=(\d+)/)))a=b[1]-1;this.open(this.items[a])};I.prototype.initPreloader=function(){var a=this.canvas;C(s.images.loader,500);var c=this.preloader=b('&lt;img alt=&quot;&quot; /&gt;');c.attr({src:s.images.loader}).css({position:&quot;absolute&quot;,left:&quot;50%&quot;,top:&quot;50%&quot;,zIndex:100,margin:&quot;-16px 0 0 -16px&quot;});a.append(c)};I.prototype.initImage=function(){var a=this,c=a.canvas,d=a.settings,k=b(&quot;&lt;div /&gt;&quot;);
k.css({position:&quot;absolute&quot;,left:0,top:0,width:c.width(),height:c.height()});c.append(k);var f=a.background=b(&quot;&lt;div /&gt;&quot;);f.css({position:&quot;absolute&quot;,left:0,top:0,zIndex:0,width:c.width(),height:c.height(),overflow:&quot;hidden&quot;,background:A(d.image.bgTintColor)});k.append(f);f=a.imageFrame=b(&quot;&lt;div /&gt;&quot;);f.css({position:&quot;absolute&quot;,left:d.image.padding,top:d.image.padding,zIndex:1,width:c.width()-2*d.image.padding,height:c.height()-2*d.image.padding,overflow:&quot;visible&quot;});k.append(f);var w;T(k,{touchstart:function(b){a.drag=
</P>
!0;w=b.pageX},touchend:function(b){b=b.pageX-w;30&lt;b?(setTimeout(function(){a.drag=!1},100),a.prev()):-30&gt;b?(setTimeout(function(){a.drag=!1},100),a.next()):a.drag=!1},touchcancel:function(){setTimeout(function(){a.drag=!1},100)}});L(k)};I.prototype.initNavigation=function(){this.initPrevButton();this.initNextButton()};I.prototype.initPrevButton=function(){var a=this,c=a.canvas,d=a.prevButton=b(&quot;&quot;);d.css({position:&quot;absolute&quot;,left:-10,top:(c.height()-69)/2,zIndex:1,width:72,height:69,background:&quot;no-repeat center 0&quot;,
backgroundImage:y(s.images.folder+&quot;aura-arrows.png&quot;),opacity:0.5,cursor:&quot;pointer&quot;}).hover(function(){b(this).css({opacity:1})},function(){b(this).css({opacity:0.5})}).click(function(){a.prev();return!1});c.append(d)};I.prototype.initNextButton=function(){var a=this,c=a.canvas,d=a.nextButton=b(&quot;&quot;);d.css({position:&quot;absolute&quot;,right:-10,top:(c.height()-69)/2,zIndex:1,width:72,height:69,background:&quot;no-repeat center -75px&quot;,backgroundImage:y(s.images.folder+&quot;aura-arrows.png&quot;),opacity:0.5,cursor:&quot;pointer&quot;}).hover(function(){b(this).css({opacity:1})},
<P>function(){b(this).css({opacity:0.5})}).click(function(){a.next();return!1});c.append(d)};I.prototype.initThumbnails=function(){function a(){z||(z=!0,t=setInterval(function(){var b=parseInt(g.css(&quot;left&quot;))+10;0&lt;b&amp;&amp;(b=0);g.css({left:b})},25))}function c(){z||(z=!0,t=setInterval(function(){var b=parseInt(g.css(&quot;left&quot;))-10,a=-(o-f.width()+10);b&lt;a&amp;&amp;(b=a);g.css({left:b})},25))}function d(){z=!1;clearInterval(t)}var k=this,f=k.canvas,w=k.settings,l=k.items,n=b(&quot;&lt;div /&gt;&quot;);f.append(n);var e=k.thumbBar=b(&quot;&lt;div /&gt;&quot;);
e.css({position:&quot;absolute&quot;,left:0,bottom:0,zIndex:1,width:f.width(),height:w.thumbnail.height+50,background:&quot;rgba(0,0,0,0.5)&quot;});n=b(&quot;&lt;div /&gt;&quot;);n.css({position:&quot;absolute&quot;,left:0,top:29,width:f.width(),height:1,background:&quot;#fff&quot;,opacity:0.7});x(n,{boxShadow:&quot;0 1px 0 #000&quot;});e.append(n);var g=b('&lt;div class=&quot;altgallery-thumbnails&quot; /&gt;');g.css({position:&quot;absolute&quot;,left:0,bottom:10});var o=l.length*(w.thumbnail.width+10),t,z=!1;e.mousemove(function(k){k=k.pageX-b(this).offset().left;50&gt;k?a():k&gt;f.width()-
50?c():d()}).mouseleave(function(){d()});f.element.mouseover(function(){e.stop().animate({opacity:1})});f.element.mouseleave(function(){d();e.stop().animate({opacity:0})});g.draggable({axis:&quot;x&quot;,start:function(){k.drag=!0},stop:function(b,a){var c=a.position.left,d=-(o-f.width()+10);0&lt;c?g.animate({left:0},&quot;fast&quot;):c&lt;d&amp;&amp;g.animate({left:d},&quot;fast&quot;);setTimeout(function(){k.drag=!1},100)}});for(n=0;n&lt;l.length;n++){var h=b(&quot;&lt;a&gt;&lt;/a&gt;&quot;);h.attr({href:l[n].source}).css({position:&quot;absolute&quot;,left:10+n*(w.thumbnail.width+
10),bottom:0,width:w.thumbnail.width,height:w.thumbnail.height,overflow:&quot;hidden&quot;});(function(a,c){c.hover(function(){x(this,{boxShadow:&quot;0 0 6px #fff&quot;})},function(){a!=k.currentItem&amp;&amp;x(this,{boxShadow:&quot;none&quot;})}).click(function(){k.drag||k.open(l[a],function(){});return!1});C(l[a].thumb,function(a){var d=b('&lt;img alt=&quot;&quot; /&gt;');d.attr({src:a.src});d.css({position:&quot;absolute&quot;});d.css(G.fill(a.width,a.height,w.thumbnail.width,w.thumbnail.height));c.append(d)},50*a)})(n,h);g.append(h)}e.append(g);f.append(e);
L(e)};I.prototype.initCaption=function(){var a=this.caption=b(&quot;&lt;div /&gt;&quot;);a.css({position:&quot;absolute&quot;,left:10,top:10,fontFamily:'&quot;Times New Roman&quot;, Times, serif',fontSize:&quot;12px&quot;,fontWeight:&quot;bold&quot;,color:&quot;#fff&quot;,textShadow:&quot;0 1px 0 #000&quot;});this.thumbBar.append(a)};I.prototype.initButtons=function(){function a(){b(this).css({opacity:1})}function c(){b(this).css({opacity:0.5})}var d=this,k=d.settings,f=b(&quot;&lt;div /&gt;&quot;);f.css({position:&quot;absolute&quot;,right:5,top:7});var e={cssFloat:&quot;left&quot;,width:16,height:16,margin:&quot;0 0 0 4px&quot;,
backgroundImage:y(s.images.folder+&quot;aura-buttons.png&quot;),backgroundRepeat:&quot;no-repeat&quot;,opacity:0.5,cursor:&quot;pointer&quot;},l=b(&quot;&lt;div /&gt;&quot;);l.prop({title:k.translation.getLink}).css(e).css({backgroundPosition:&quot;0 -40px&quot;}).click(function(){h(d.getCurrentItem().source,&quot;_blank&quot;)}).hover(a,c);f.append(l);l=b(&quot;&lt;div /&gt;&quot;);l.prop({title:k.translation.shareWithFacebook}).css(e).css({backgroundPosition:&quot;0 -60px&quot;}).click(function(){h(&quot;<A href="http://www.facebook.com/sharer.php?u=" class="external free" rel="nofollow">http://www.facebook.com/sharer.php?u=</A>&quot;+location.href+&quot;%23galleryPhotoNumber=&quot;+(d.currentItem+
1)+&quot;&amp;t=&quot;+d.getCurrentItem().description||&quot;&quot;,&quot;_blank&quot;)}).hover(a,c);f.append(l);l=b(&quot;&lt;div /&gt;&quot;);l.prop({title:k.translation.tweet}).css(e).css({backgroundPosition:&quot;0 -80px&quot;}).click(function(){h(&quot;<A href="https://twitter.com/intent/tweet?url=" class="external free" rel="nofollow">https://twitter.com/intent/tweet?url=</A>&quot;+location.href+&quot;%23galleryPhotoNumber=&quot;+(d.currentItem+1)+&quot;&amp;text=&quot;+d.getCurrentItem().description||&quot;&quot;,&quot;_blank&quot;)}).hover(a,c);f.append(l);l=b(&quot;&lt;div /&gt;&quot;);l.css({cssFloat:&quot;left&quot;,width:1,height:14,margin:&quot;0 3px 0 5px&quot;,background:&quot;#fff&quot;});f.append(l);l=b(&quot;&lt;div /&gt;&quot;);l.prop({title:k.translation.startSlideshow}).css(e).css({backgroundPosition:&quot;0 0&quot;}).click(function(){d.slideshow?
(d.slideshowStop(),b(this).css({backgroundPosition:&quot;0 0&quot;})):(d.slideshowStart(),b(this).css({backgroundPosition:&quot;0 -20px&quot;}))}).hover(a,c);f.append(l);d.thumbBar.append(f)};I.prototype.update=function(){this.updateThumbnails();this.updateNavigation();this.updateCaption()};I.prototype.updateThumbnails=function(){var a=this,c=0;a.thumbBar.find(&quot;.altgallery-thumbnails a&quot;).each(function(){var d=b(this);c==a.currentItem?x(d,{boxShadow:&quot;0 0 6px #fff&quot;}):x(d,{boxShadow:&quot;none&quot;});c++})};I.prototype.updateNavigation=
function(){0==this.currentItem?this.prevButton.hide():this.prevButton.show();this.currentItem==this.items.length-1?this.nextButton.hide():this.nextButton.show()};I.prototype.updateCaption=function(b){this.caption.html(b||this.getCurrentItem().description||this.settings.translation.image+&quot; &quot;+(this.currentItem+1)+&quot;/&quot;+this.items.length)};I.prototype.open=function(a,c){var d=this,k=d.canvas,f=d.settings;if(d.currentItem!=a.id){d.currentItem=a.id;var e=setTimeout(function(){d.preloader.show()},500);C(a.source,
function(a){clearTimeout(e);d.preloader.hide();(function(){var c=b('&lt;img alt=&quot;&quot; /&gt;');c.attr({src:a.src}).css({position:&quot;absolute&quot;});var m,k=d.imageFrame.width(),v=d.imageFrame.height();if(&quot;fill&quot;==f.image.scaleMode){m=G.fill(a.width,a.height,k,v);if(m.width&gt;k)m.width=k,m.left=0;if(m.height&gt;v)m.height=v,m.top=0}else m=G.fit(a.width,a.height,k,v);c.css(G.fill(a.width,a.height,m.width,m.height));var e=d.imageFrame.find(&quot;div&quot;),k=b(&quot;&lt;div /&gt;&quot;);k.css({position:&quot;absolute&quot;,overflow:&quot;hidden&quot;}).css(m).hide();
x(k,{boxShadow:&quot;0 6px 6px rgba(0,0,0,0.6)&quot;});k.append(c);d.imageFrame.append(k);e.animate({opacity:&quot;hide&quot;},s.animation.duration/2);k.animate({opacity:&quot;show&quot;},s.animation.duration/2,function(){e.remove()})})();(function(){var c=b('&lt;img alt=&quot;&quot; /&gt;');c.attr({src:a.src}).css({position:&quot;absolute&quot;});c.css(G.fill(a.width,a.height,k.width(),k.height()));var m=d.background.find(&quot;div&quot;),f=b(&quot;&lt;div /&gt;&quot;);f.css({opacity:0});f.append(c);d.background.append(f);D.process(c.get(0),&quot;blurfast&quot;,{amount:1.5});m.animate({opacity:0},
s.animation.duration);f.animate({opacity:0.5},s.animation.duration,function(){m.remove()})})();&quot;function&quot;==typeof c&amp;&amp;c(a);C(d.items[(d.currentItem+1)%d.items.length].source)});d.update()}};I.prototype.prev=function(b){0&lt;this.currentItem?this.open(this.items[this.currentItem-1],b):this.open(this.items[this.items.length-1],b)};I.prototype.next=function(b){this.currentItem&lt;this.items.length-1?this.open(this.items[this.currentItem+1],b):this.open(this.items[0],b)};I.prototype.slideshowStart=function(){var b=
this,a=b.settings;if(!b.slideshow){var c=function(){b.slideshowTimeoutId=setTimeout(function(){b.next(c)},1E3*a.slideshow.delay+2E3)};b.slideshow=!0;setTimeout(function(){b.next(c)},1E3*a.slideshow.delay)}};I.prototype.slideshowStop=function(){if(this.slideshow)this.slideshow=!1,clearTimeout(this.slideshowTimeoutId)};M.prototype.render=function(c){var d=this,p=this.canvas,k=this.items,f=this.settings;if(c===a)c=d.page;p.element.empty();var e=p.width(),l=p.height(),n=parseInt(f.thumbnail.width),g=
parseInt(f.thumbnail.height),o=Math.floor((e-40)/n);1&gt;o&amp;&amp;(o=1);var h=Math.floor((l-40)/g);1&gt;h&amp;&amp;(h=1);c=Math.ceil(k.length/o);h&gt;c&amp;&amp;(h=c);var t=o*h,z=d.pagesCount=Math.ceil(k.length/t),q=Math.floor(f.thumbnail.width)+2,r=Math.floor(f.thumbnail.height)+2,Q=Math.floor((e-q*o)/2-8),u=Math.floor((l-r*h)/2-8),Z=d.pageWidth=q*o,c=d.pageHeight=r*h,S=b('&lt;div class=&quot;altgallery-frame&quot; /&gt;'),l={position:&quot;absolute&quot;,left:Q,top:u,width:Math.floor(e-2*(Q+8))+14,height:Math.floor(l-2*(u+8))+14,background:A(f.colorScheme.thumbsFrameColor),
&quot;-moz-border-radius&quot;:&quot;4px&quot;,&quot;-webkit-border-radius&quot;:&quot;4px&quot;,&quot;-khtml-border-radius&quot;:&quot;4px&quot;,borderRadius:&quot;4px&quot;};f.colorScheme.useShadow&amp;&amp;(l=b.extend(l,{&quot;-moz-box-shadow&quot;:&quot;0 0 10px rgba(0, 0, 0, 0.5)&quot;,&quot;-webkit-box-shadow&quot;:&quot;0 0 10px rgba(0, 0, 0, 0.5)&quot;,&quot;-khtml-box-shadow&quot;:&quot;0 0 10px rgba(0, 0, 0, 0.5)&quot;,boxShadow:&quot;0 0 10px rgba(0, 0, 0, 0.5)&quot;}));S.css(l);p.element.append(S);e=b('&lt;div class=&quot;altgallery-frameMask&quot; /&gt;');l.background=&quot;#000&quot;;l.opacity=0.6;l.zIndex=20;l[&quot;-moz-box-shadow&quot;]=&quot;none&quot;;l[&quot;-webkit-box-shadow&quot;]=
&quot;none&quot;;l[&quot;-khtml-box-shadow&quot;]=&quot;none&quot;;l.boxShadow=&quot;none&quot;;e.css(l).hide();p.element.append(e);p=b(&quot;&lt;div /&gt;&quot;);p.css({position:&quot;absolute&quot;,left:8,top:8,width:Z-2,height:c-2,overflow:&quot;hidden&quot;});var D=d.imagesContainer=b(&quot;&lt;div /&gt;&quot;);D.css({position:&quot;relative&quot;,left:0,top:0,width:q*o*z-2,height:r*h-2});p.append(D);S.append(p);d.drag=!1;var W=0;D.draggable({axis:&quot;x&quot;,distance:30,start:function(b,a){W=a.position.left;d.drag=!0},stop:function(b,a){30&lt;Math.abs(Math.abs(W)-Math.abs(a.position.left))?W&lt;a.position.left?
d.prevPage():d.nextPage():d.placePage();setTimeout(function(){d.drag=!1},100)}});L(D);for(p=0;p&lt;k.length;p++)z=p%o*q+Math.floor(p/t)*Z,e=Math.floor(p/o)%h*r,function(a,c,p){var l=b(&quot;&lt;img /&gt;&quot;),v=b(&quot;&lt;a /&gt;&quot;);v.attr({href:k[a].source}).css({display:&quot;block&quot;,position:&quot;absolute&quot;,left:Math.floor(c),top:Math.floor(p+0.5*g),width:n,height:g,overflow:&quot;hidden&quot;,opacity:0,background:A(f.colorScheme.imageBGColor),border:&quot;none&quot;,margin:0,padding:0}).click(function(){return!1});D.append(v);var e=function(){v.click(function(){if(!d.drag)d.currentItem=
a,d.open(k[a],{left:a%o*q+Q,top:p+u});return!1}).mouseover(function(){l.stop().animate({opacity:1},s.animation.duration/2)}).mouseleave(function(){l.stop().animate({opacity:f.thumbnail.alpha/100},s.animation.duration/2)})};a&lt;t?setTimeout(function(){v.animate({top:p,opacity:1},{duration:s.animation.duration,complete:e})},200*a):(v.css({top:p,opacity:1}),e());C(k[a].thumb,function(b){l.attr({src:b.src}).css({display:&quot;block&quot;,position:&quot;absolute&quot;,margin:0,padding:0,border:&quot;none&quot;,opacity:f.thumbnail.alpha/
100}).css(G.fill(b.width,b.height,parseInt(f.thumbnail.width),parseInt(f.thumbnail.height)));v.append(l)},200*a)}(p,z,e);h=d.prevPageButton=b(&quot;&lt;div /&gt;&quot;);h.css({position:&quot;absolute&quot;,left:5,top:c/2-10,width:30,height:30,background:y(s.images.folder+&quot;/left.png&quot;),cursor:&quot;pointer&quot;});x(h,{borderRadius:&quot;4px&quot;});h.click(function(){d.prevPage()});S.append(h);h=d.nextPageButton=b(&quot;&lt;div /&gt;&quot;);h.css({position:&quot;absolute&quot;,right:5,top:c/2-10,width:30,height:30,background:y(s.images.folder+&quot;/right.png&quot;),cursor:&quot;pointer&quot;});
x(h,{borderRadius:&quot;4px&quot;});h.click(function(){d.nextPage()});S.append(h);S.mouseover(function(){d.showControls()});S.mouseleave(function(){d.hideControls()});d.hideControls();d.showControls()};M.prototype.hideControls=function(){this.prevPageButton.hide();this.nextPageButton.hide()};M.prototype.showControls=function(){0&lt;this.page&amp;&amp;this.prevPageButton.show();this.page&lt;this.pagesCount-1&amp;&amp;this.nextPageButton.show()};M.prototype.open=function(c,d){var p=this,k=this.settings,f=b('&lt;img class=&quot;altgallery-preloader&quot; src=&quot;'+
s.images.loader+'&quot; alt=&quot;&quot; /&gt;');o(f);f.css({position:&quot;absolute&quot;,left:&quot;50%&quot;,top:&quot;50%&quot;,zIndex:10,margin:&quot;-16px 0 0 -16px&quot;});var e=b('&lt;img src=&quot;'+c.thumb+'&quot; /&gt;');C(c.thumb,function(l){b(&quot;.altgallery-imageFrame&quot;,p.canvas.element).remove();b(&quot;.altgallery-frameMask&quot;,p.canvas.element).fadeIn(s.animation.duration);var n=document.createElement(&quot;div&quot;);b(n).addClass(&quot;altgallery-imageFrame&quot;).css({position:&quot;absolute&quot;,padding:8,background:A(k.colorScheme.imageBGColor),zIndex:30});b(n).hide();var g=G.fit(l.width,
l.height,p.canvas.width()-48,p.canvas.height()-48),h={left:g.left+16+g.width/3,top:g.top+16+g.height/3,width:g.width/3,height:g.height/3};if(d!==a){if(d.left!==a)h.left=d.left;if(d.top!==a)h.top=d.top}b(n).css(h);var l=G.fit(l.width,l.height,p.canvas.width()-48,p.canvas.height()-48),o={left:l.left+16+l.width/3,top:l.top+16+l.height/3,width:l.width/3,height:l.height/3,margin:0,padding:0,border:&quot;none&quot;,maxWidth:&quot;none&quot;,maxHeight:&quot;none&quot;,cursor:&quot;pointer&quot;};e.css(o);b(n).append(e);p.canvas.element.append(n);
</P>
e.animate(l,s.animation.duration);b(n).animate({opacity:&quot;show&quot;,left:g.left+16,top:g.top+16,width:g.width,height:g.height},s.animation.duration,function(){var a=b(&quot;&quot;);a.css({position:&quot;absolute&quot;,left:8,top:8,width:g.width,height:g.height,overflow:&quot;hidden&quot;,cursor:&quot;pointer&quot;});if(c.description){var d=parseInt(k.imageCaption.fontSize),d=d||p.defaultSettings.imageCaption.fontSize,m=b(&quot;<DIV><DIV>&quot;+c.description+&quot;</DIV></DIV>&quot;);m.css({position:&quot;absolute&quot;,left:0,width:g.width,fontFamily:k.imageCaption.fontName,
<P>fontSize:d+&quot;px&quot;,lineHeight:1.25,color:A(k.imageCaption.color),background:u(k.imageCaption.bgColor,k.imageCaption.bgAlpha/100)});a.append(m);b(n).append(a);&quot;bottom&quot;==k.imageCaption.position.toLowerCase()?(m.css({bottom:&quot;-33px&quot;,borderTop:&quot;1px solid &quot;+u(k.imageCaption.bgColor,(k.imageCaption.bgAlpha+10)/100)}),m.children(&quot;div&quot;).css({padding:&quot;8px 10px 10px&quot;}),m.animate({bottom:0})):(m.css({top:&quot;-33px&quot;,borderBottom:&quot;1px solid &quot;+u(k.imageCaption.bgColor,(k.imageCaption.bgAlpha+10)/100)}),m.children(&quot;div&quot;).css({padding:&quot;10px 10px 8px&quot;}),
m.animate({top:0}))}var l=b('&lt;a class=&quot;altgallery-close&quot; style=&quot;position:absolute; right:-15px; top:-13px; width:30px; height:30px; z-index:40; background:no-repeat center; cursor:pointer;&quot;&gt;&lt;/a&gt;');l.css({backgroundImage:y(s.images.close)});l.click(function(){b(this).remove();m&amp;&amp;m.remove();h.opacity=&quot;hide&quot;;b(n).animate(h,s.animation.duration,function(){b(this).remove()});e.animate(o,s.animation.duration);b(&quot;.altgallery-frameMask&quot;,p.canvas.element).fadeOut(s.animation.duration)});b(n).append(l);a.click(function(){l.remove();
m&amp;&amp;m.remove();h.opacity=&quot;hide&quot;;b(n).animate(h,s.animation.duration,function(){b(this).remove();p.next()});e.animate(o,s.animation.duration)});setTimeout(function(){b(n).append(f)},500)})});C(c.source,function(){f.hide();p.canvas.element.find(&quot;.altgallery-preloader&quot;).remove();b(e).attr(&quot;src&quot;,c.source)})};M.prototype.prev=function(){this.currentItem--;if(0&gt;this.currentItem)this.currentItem=this.items.length-1;this.open(this.getCurrentItem())};M.prototype.next=function(){this.currentItem++;if(this.currentItem&gt;=
this.items.length)this.currentItem=0;this.open(this.getCurrentItem())};M.prototype.placePage=function(){var b=this;b.hideControls();b.imagesContainer.animate({left:-(b.page*b.pageWidth)},{duration:s.animation.duration,complete:function(){b.showControls()}})};M.prototype.prevPage=function(){this.page--;if(0&gt;this.page)this.page=0;this.placePage()};M.prototype.nextPage=function(){this.page++;if(this.page&gt;=this.pagesCount)this.page=this.pagesCount-1;this.placePage()};F.prototype.init=function(){var b=
</P>
this.settings;this.initFrame();this.initNavigation();this.initCaption();this.initButtons();this.initThumbnails();this.initImage();switch(b.initialState.toLowerCase()){case &quot;show thumbnails&quot;:this.showThumbnails();break;default:case &quot;load image&quot;:case &quot;show image&quot;:this.showImage();break;case &quot;start slideshow&quot;:this.showImage(),this.slideshowStart()}};F.prototype.initFrame=function(){var a=this.canvas,c=this.settings,d=this.frame=b(&quot;&quot;),k=a.width()-10,f=a.height()-10;d.css({position:&quot;absolute&quot;,
left:5,top:5,width:k,height:f,overflow:&quot;hidden&quot;,background:A(c.buttons.bgColor)});x(d,{borderRadius:&quot;5px&quot;,boxShadow:&quot;0 0 4px rgba(0, 0, 0, 0.5)&quot;});var e=this.content=b(&quot;&quot;),k=this.contentWidth=k-18,f=this.contentHeight=f-43;e.css({position:&quot;absolute&quot;,left:9,top:9,width:k,height:f,background:A(c.base.color)});x(e,{borderRadius:&quot;4px&quot;});d.append(e);c=this.preloader=b('&lt;img alt=&quot;&quot; /&gt;');c.attr(&quot;src&quot;,s.images.loader);c.css({position:&quot;absolute&quot;,left:&quot;50%&quot;,top:&quot;50%&quot;,zIndex:100,margin:&quot;-16px 0 0 -16px&quot;});
e.append(c);a.append(d)};F.prototype.initNavigation=function(){this.initPrevButton();this.initNextButton()};F.prototype.initPrevButton=function(){var a=this.settings,c=b(&quot;&quot;);c.css({position:&quot;absolute&quot;,left:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,background:A(a.buttons.bgColor),cursor:&quot;default&quot;});x(c,{borderRadius:&quot;10px&quot;,boxShadow:&quot;5px 0 15px rgba(0, 0, 0, 0.5)&quot;});this.frame.append(c);prevOverlay=b(&quot;&quot;);prevOverlay.css({position:&quot;absolute&quot;,left:0,top:this.contentHeight/
2-30,zIndex:10,width:9,height:80,background:A(a.buttons.bgColor),cursor:&quot;default&quot;});this.frame.append(prevOverlay);var d=this.prevButton=b('');d.css({position:&quot;absolute&quot;,left:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,cursor:&quot;pointer&quot;});this.frame.append(d);var k;this.canvas.element.hover(function(){clearTimeout(k);c.stop().show().css({opacity:1}).animate({left:0});
d.stop().animate({left:0,opacity:1})},function(){k=setTimeout(function(){c.stop().animate({left:-12},function(){c.fadeOut()});d.stop().animate({left:-12,opacity:0})},100)});this.hidePrevButton=function(){c.css({visibility:&quot;hidden&quot;});prevOverlay.css({visibility:&quot;hidden&quot;});d.css({visibility:&quot;hidden&quot;})};this.showPrevButton=function(){c.css({visibility:&quot;visible&quot;});prevOverlay.css({visibility:&quot;visible&quot;});d.css({visibility:&quot;visible&quot;})}};F.prototype.initNextButton=function(){var a=this.settings,c=b(&quot;&quot;);
c.css({position:&quot;absolute&quot;,right:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,background:A(a.buttons.bgColor),cursor:&quot;default&quot;});x(c,{borderRadius:&quot;10px&quot;,boxShadow:&quot;-5px 0 15px rgba(0, 0, 0, 0.5)&quot;});this.frame.append(c);nextOverlay=b(&quot;&quot;);nextOverlay.css({position:&quot;absolute&quot;,right:0,top:this.contentHeight/2-30,zIndex:10,width:9,height:80,background:A(a.buttons.bgColor),cursor:&quot;default&quot;});this.frame.append(nextOverlay);var d=this.nextButton=b('');d.css({position:&quot;absolute&quot;,right:0,top:this.contentHeight/2-20,zIndex:10,width:21,height:60,cursor:&quot;pointer&quot;});this.frame.append(d);var k;this.canvas.element.hover(function(){clearTimeout(k);c.stop().show().css({opacity:1}).animate({right:0});d.stop().animate({right:0,opacity:1})},function(){k=setTimeout(function(){c.stop().animate({right:-12},function(){c.fadeOut()});d.stop().animate({right:-12,opacity:0})},100)});this.hideNextButton=
function(){c.css({visibility:&quot;hidden&quot;});nextOverlay.css({visibility:&quot;hidden&quot;});d.css({visibility:&quot;hidden&quot;})};this.showNextButton=function(){c.css({visibility:&quot;visible&quot;});nextOverlay.css({visibility:&quot;visible&quot;});d.css({visibility:&quot;visible&quot;})}};F.prototype.initCaption=function(){var a=this.caption=b(&quot;&quot;);a.css({position:&quot;absolute&quot;,left:10,bottom:10,width:this.contentWidth-60,overflow:&quot;hidden&quot;,fontFamily:&quot;Arial, Helvetica, sans-serif&quot;,fontSize:&quot;11px&quot;,color:&quot;#777&quot;});this.frame.append(a)};F.prototype.initButtons=
function(){var a=this,c=a.settings,d=function(){b(this).css({borderColor:&quot;#fff #bbb #bbb #fff&quot;});x(this,{boxShadow:&quot;0 0 2px rgba(0, 0, 0, 0.2)&quot;})},k=function(){b(this).css({borderColor:&quot;transparent&quot;});x(this,{boxShadow:&quot;none&quot;})};if(c.buttons.showSlideshowButton){var f=a.slideshowButton=b(&quot;&quot;);f.css({position:&quot;absolute&quot;,right:c.buttons.showThumbnailsButton?29:5,bottom:5,width:23,height:23,background:y(s.images.folder+&quot;cubic-buttons.png&quot;)+&quot; no-repeat 0px -51px&quot;,border:&quot;1px solid&quot;,borderColor:&quot;transparent&quot;,
cursor:&quot;pointer&quot;});x(f,{borderRadius:&quot;3px 4px 3px 4px&quot;});f.hover(d,k);f.click(function(){a.showImage();a.slideshowStart()});a.frame.append(f)}if(c.buttons.showThumbnailsButton)c=a.showThumbnailsButton=b(&quot;&quot;),c.css({position:&quot;absolute&quot;,right:5,bottom:5,width:23,height:23,background:y(s.images.folder+&quot;cubic-buttons.png&quot;)+&quot; no-repeat -1px -126px&quot;,border:&quot;1px solid&quot;,borderColor:&quot;transparent&quot;,cursor:&quot;pointer&quot;}).hide(),x(c,{borderRadius:&quot;3px 4px 3px 4px&quot;}),c.hover(d,k),c.click(function(){a.showThumbnails()}),
a.frame.append(c),c=a.showImagesButton=b(&quot;&quot;),c.css({position:&quot;absolute&quot;,right:5,bottom:5,width:23,height:23,background:y(s.images.folder+&quot;cubic-buttons.png&quot;)+&quot; no-repeat -1px -101px&quot;,border:&quot;1px solid&quot;,borderColor:&quot;transparent&quot;,cursor:&quot;pointer&quot;}).hide(),x(c,{borderRadius:&quot;3px 4px 3px 4px&quot;}),c.hover(d,k),c.click(function(){a.showImage()}),a.frame.append(c)};F.prototype.initImage=function(){var a=this.imageWidth=this.contentWidth-2*this.settings.base.visibleFrame,c=this.imageHeight=this.contentHeight-
2*this.settings.base.visibleFrame,d=this.imagesFrame=b(&quot;&quot;);d.css({position:&quot;absolute&quot;,left:this.settings.base.visibleFrame,top:this.settings.base.visibleFrame,width:a,height:c,overflow:&quot;hidden&quot;}).hide();x(d,{borderRadius:&quot;3px&quot;});this.content.append(d);a=this.imagesContainer=b(&quot;&quot;);a.css({position:&quot;relative&quot;,left:0,top:0});d.append(a)};F.prototype.showImage=function(b){var a=this,c=function(){function b(){setTimeout(function(){a.drag=!1},100)}a.cleanup();a.thumbnailsFrame.hide();
<P>a.imagesFrame.show();a.showImagesButton.hide();a.showThumbnailsButton.show();a.showPrevButton();a.showNextButton();a.prevButton.unbind(&quot;click&quot;).click(function(){a.slideshowStop();a.prev()});a.nextButton.unbind(&quot;click&quot;).click(function(){a.slideshowStop();a.next()});var c=0;a.imagesContainer.draggable({axis:&quot;x&quot;,distance:30,start:function(b,d){a.drag=!0;c=d.position.left},stop:function(d,p){30&lt;Math.abs(Math.abs(c)-Math.abs(p.position.left))?c&lt;p.position.left?a.prev(s.animation.duration,b):a.next(s.animation.duration,
</P>
b):a.place(s.animation.duration,b)}});a.imagesContainer.unbind(&quot;dblclick&quot;).dblclick(function(){a.showThumbnails()});L(a.imagesContainer)};!1!==b?(a.hidePrevButton(),a.hideNextButton(),a.open(a.getCurrentItem(),c)):c()};F.prototype.initThumbnails=function(){function a(){c.cleanup()}var c=this,d=c.canvas,k=c.thumbnailsWidth=c.contentWidth-2*c.settings.base.visibleFrame,f=c.thumbnailsHeight=c.contentHeight-2*c.settings.base.visibleFrame,e=c.thumbnailsFrame=b(&quot;&quot;);e.css({position:&quot;absolute&quot;,
left:c.settings.base.visibleFrame,top:c.settings.base.visibleFrame,width:k,height:f,overflow:&quot;hidden&quot;}).hide();x(e,{borderRadius:&quot;3px&quot;});c.content.append(e);var l=c.thumbnailsContainer=b('');l.css({position:&quot;relative&quot;,left:0,top:0,width:k*Math.ceil(c.items.length/20),height:f});e.append(l);for(var n=Math.round((k-5)/5),g=Math.round((f-4)/4),h=Math.round((k-5*n)/10),q=Math.round((f-4*g)/8),f=0;f&lt;c.items.length;f++)(function(f,e){C(e.thumb,function(w){var r=f%
<P>5,Q=Math.floor(f%20/5),s=b('&lt;a class=&quot;altgallery-thumbnail altgallery-thumbnail-'+f+'&quot;&gt;&lt;/a&gt;');o(s);s.attr({href:e.source}).css({display:&quot;block&quot;,position:&quot;absolute&quot;,left:r*n+Math.floor(f/20)*k+1*r+h,top:Q*g+1*Q+q,width:n,height:g,overflow:&quot;hidden&quot;,cursor:&quot;pointer&quot;,zIndex:Math.floor(f%20/5)});x(s,{boxShadow:&quot;0px 3px 3px rgba(0, 0, 0, 0.5)&quot;});s.mouseover(function(){if(c.enableThumbnailsHover&amp;&amp;!c.drag){var h=0;0==r?h=n/8:4==r&amp;&amp;(h=-n/8);var o=0;0==Q?o=g/8:3==Q&amp;&amp;(o=-g/8);c.updateCaption(e.description||
&quot;Image &quot;+(f+1)+&quot; / &quot;+c.items.length);c.cleanup();d.element.find(&quot;.altgallery-thumbnail&quot;).css({opacity:0.8});var q=b(this).clone();q.addClass(&quot;altgallery-clone&quot;);q.css({left:b(this).offset().left-l.offset().left,top:b(this).offset().top-l.offset().top,zIndex:10,opacity:1});x(q,{boxShadow:&quot;5px 15px 13px rgba(0, 0, 0, 0.7)&quot;});l.append(q);var s=q.find(&quot;img&quot;);q.animate({width:1.25*n,height:1.25*g,marginLeft:-n/8+h,marginTop:-g/8+o},{duration:&quot;fast&quot;,easing:&quot;linear&quot;,step:function(){s.css(G.fill(w.width,
w.height,q.width(),q.height()))}});q.click(function(){if(!c.drag)c.currentItem=f,q.unbind(&quot;mouseleave&quot;),c.canvas.element.unbind(&quot;mouseleave&quot;,a),x(q,{boxShadow:&quot;none&quot;}),q.animate({left:c.currentPage*k,top:0,width:c.imageWidth,height:c.imageHeight,marginLeft:0,marginTop:0},{duration:&quot;normal&quot;,step:function(){s.css(G.fill(w.width,w.height,q.width(),q.height()))},complete:function(){c.showImage()}});return!1});q.mouseleave(function(){c.cleanup();c.updateCaption(&quot; &quot;)})}});s.click(function(){if(!c.drag)c.currentItem=
f,c.showImage();return!1});var y=b(&quot;&lt;img /&gt;&quot;);y.attr({src:e.thumb}).css({display:&quot;block&quot;,position:&quot;absolute&quot;,border:&quot;none&quot;}).css(G.fill(w.width,w.height,n,g));s.append(y);l.append(s)})})(f,c.items[f]);c.canvas.element.mouseleave(a);c.currentPage=0;c.preloader.hide()};F.prototype.showThumbnails=function(){function b(a,c){f.thumbnailsContainer.stop().animate({left:-f.currentPage*f.thumbnailsWidth},{duration:a||2*s.animation.duration,complete:function(){f.enableThumbnailsHover=!0;&quot;function&quot;==typeof c&amp;&amp;
c()}})}function a(c,d){if(0&lt;f.currentPage)f.currentPage--,f.enableThumbnailsHover=!1,f.cleanup();b(c,d);f.updateNavigation()}function c(a,d){if(f.currentPage&lt;Math.ceil(f.items.length/20)-1)f.currentPage++,f.enableThumbnailsHover=!1,f.cleanup();b(a,d);f.updateNavigation()}function d(){setTimeout(function(){f.drag=!1},100)}var f=this;f.slideshow&amp;&amp;f.slideshowStop();f.updateCaption(&quot; &quot;);f.imagesFrame.hide();f.thumbnailsFrame.show();f.showThumbnailsButton.hide();f.showImagesButton.show();f.prevButton.unbind(&quot;click&quot;).click(function(){a()});
f.nextButton.unbind(&quot;click&quot;).click(function(){c()});f.updateNavigation();var e=0;f.thumbnailsContainer.draggable({axis:&quot;x&quot;,distance:30,start:function(b,a){f.drag=!0;e=a.position.left;f.cleanup()},stop:function(f,n){30&lt;Math.abs(Math.abs(e)-Math.abs(n.position.left))?e&lt;n.position.left?a(s.animation.duration,d):c(s.animation.duration,d):b(s.animation.duration,d)}});L(f.thumbnailsContainer)};F.prototype.updateNavigation=function(){var b=Math.ceil(this.items.length/20);0&lt;this.currentPage?this.showPrevButton():
</P>
this.hidePrevButton();this.currentPage&lt;b-1?this.showNextButton():this.hideNextButton()};F.prototype.updateCaption=function(b){(b=b||this.getCurrentItem().description)?this.caption.html(b):this.caption.html(&quot;Image &quot;+(this.currentItem+1)+&quot; / &quot;+this.items.length)};F.prototype.loadImage=function(c,d){var p=this,c=c%p.items.length;p.items[c]!==a&amp;&amp;C(p.items[c].source,function(a){var f=&quot;altgallery-image-&quot;+c;if(!p.imagesContainer.find(&quot;.&quot;+f).size()){f=b('');f.css({position:&quot;absolute&quot;,
left:p.imageWidth*c,top:0,width:p.imageWidth,height:p.imageHeight,overflow:&quot;hidden&quot;});var e=b('&lt;img style=&quot;position:absolute;&quot; /&gt;');e.attr(&quot;src&quot;,a.src);e.css(G.fill(a.width,a.height,p.imageWidth,p.imageHeight));f.append(e);p.imagesContainer.append(f)}&quot;function&quot;==typeof d&amp;&amp;d(a)})};F.prototype.open=function(a,c){var d=this,k=&quot;altgallery-image-&quot;+d.currentItem;d.imagesContainer.find(&quot;.&quot;+k).size()?&quot;function&quot;==typeof c&amp;&amp;c():(d.preloader.show(),C(a.source,function(a){var e=b('');
<P>e.css({position:&quot;absolute&quot;,left:d.imageWidth*d.currentItem,top:0,width:d.imageWidth,height:d.imageHeight,overflow:&quot;hidden&quot;});var l=b('&lt;img style=&quot;position:absolute;&quot; /&gt;');l.attr(&quot;src&quot;,a.src);l.css(G.fill(a.width,a.height,d.imageWidth,d.imageHeight));e.append(l);d.imagesContainer.append(e);d.preloader.hide();&quot;function&quot;==typeof c&amp;&amp;c()}));d.imagesContainer.stop().css({left:-d.imageWidth*d.currentItem});d.updateCaption();d.loadImage(a.id+1);d.loadImage(a.id-1)};F.prototype.place=function(b,a){this.imagesContainer.stop().animate({left:-this.imageWidth*
this.currentItem},{duration:b||2*s.animation.duration,complete:function(){&quot;function&quot;==typeof a&amp;&amp;a()}})};F.prototype.prev=function(b,a){var c=this;if(0&lt;c.currentItem){c.currentItem--;var d=setTimeout(function(){c.preloader.show()},500);c.loadImage(c.currentItem,function(){clearTimeout(d);c.preloader.hide();c.place(b,a);c.updateCaption();c.loadImage(c.currentItem-1)})}else c.currentItem=c.items.length-1,c.showImage()};F.prototype.next=function(b,a){var c=this;if(c.currentItem&lt;c.items.length-1){c.currentItem++;
var d=setTimeout(function(){c.preloader.show()},500);c.loadImage(c.currentItem,function(){clearTimeout(d);c.preloader.hide();c.place(b,function(){c.slideshow&amp;&amp;c.slideshowStart();&quot;function&quot;==typeof a&amp;&amp;a()});c.updateCaption();c.loadImage(c.currentItem+1)})}else c.currentItem=0,c.showImage(),c.slideshow&amp;&amp;c.slideshowStart()};F.prototype.slideshowStart=function(){var b=this;b.showImage(!1);clearTimeout(b.slideshowTimer);b.slideshow=!0;b.slideshowButton.css({background:y(s.images.folder+&quot;cubic-buttons.png&quot;)+
&quot; no-repeat 0px -76px&quot;});b.slideshowButton.unbind(&quot;click&quot;).click(function(){b.slideshowStop()});b.slideshowTimer=setTimeout(function(){b.next()},1E3*b.settings.slideshowDelay)};F.prototype.slideshowStop=function(){var b=this;b.slideshow=!1;clearTimeout(b.slideshowTimer);b.slideshowButton.css({background:y(s.images.folder+&quot;cubic-buttons.png&quot;)+&quot; no-repeat 0px -51px&quot;});b.slideshowButton.unbind(&quot;click&quot;).click(function(){b.slideshowStart()})};F.prototype.cleanup=function(){this.canvas.element.find(&quot;.altgallery-clone&quot;).remove();
</P>
b(this.canvas.element).find(&quot;.altgallery-thumbnail&quot;).css({opacity:1})};P.prototype.showScrollbar=function(){var a=this,c=this.settings,d=this.canvas,k=b(''),f=Math.round(0.8*d.width())-36;k.css({position:&quot;absolute&quot;,zIndex:1E3,left:(d.width()-f)/2,bottom:5,width:f+36,height:17,background:u(c.scrollbar.bgColor,c.scrollbar.bgAlpha/100),&quot;-moz-border-radius&quot;:8,&quot;-webkit-border-radius&quot;:8,borderRadius:8});if(b.browser.msie&amp;&amp;9&gt;b.browser.version){var e=sprintf(&quot;%02x%s&quot;,
255*c.scrollbar.bgAlpha/100,A(c.scrollbar.bgColor).replace(&quot;#&quot;,&quot;&quot;));k.css({filter:&quot;progid:DXImageTransform.Microsoft.gradient(startColorstr=#&quot;+e+&quot;,endColorstr=#&quot;+e+&quot;)&quot;})}var l=b(''),n=f/a.items.length;l.css({position:&quot;absolute&quot;,left:Math.round(a.currentItem*n),top:-10,width:Math.floor(n),height:30});var g=b(&quot;&lt;div /&gt;&quot;);g.css({position:&quot;relative&quot;,top:10,height:13,background:A(c.scrollbar.handleColor),opacity:c.scrollbar.handleAlpha/100,cursor:&quot;ew-resize&quot;});
g.hover(function(){g.css({opacity:1})},function(){g.css({opacity:c.scrollbar.handleAlpha/100})});l.append(g);l.draggable({axis:&quot;x&quot;,containment:&quot;parent&quot;,stop:function(b,c){a.currentItem=Math.floor(c.position.left/f*a.items.length);l.css({left:Math.round(a.currentItem*n)});a.animate()}});e=b(&quot;&quot;);e.css({position:&quot;relative&quot;,top:2,height:13,margin:&quot;0 18px&quot;});e.click(function(c){c=c.pageX-b(this).offset().left;a.currentItem=Math.floor(c/f*a.items.length);l.css({left:Math.round(a.currentItem*
n)});a.animate()});var h={position:&quot;absolute&quot;,top:2,width:16,height:16,fontFamily:&quot;Arial, Helvetica, sans-serif&quot;,fontSize:&quot;10px&quot;,lineHeight:&quot;14px&quot;,textAlign:&quot;center&quot;,color:A(c.scrollbar.arrowsColor),opacity:c.scrollbar.arrowsAlpha/100,cursor:&quot;pointer&quot;},o=b(&quot;<DIV>â</DIV>&quot;);o.css(h);o.css({left:1});o.click(function(){a.prev()});k.append(o);o=b(&quot;<DIV>âº</DIV>&quot;);o.css(h);o.css({right:1});o.click(function(){a.next()});k.append(o);e.append(l);k.append(e);d.element.append(k);L(l)};P.prototype.updateScrollbar=
<P>function(){var b=this.canvas,a=(Math.round(0.8*b.width())-36)/this.items.length;b.element.find(&quot;.altgallery-scrollbar-handle&quot;).css({left:Math.round(this.currentItem*a)})};P.prototype.getItemStyle=function(b,a){var c=this.settings,d=this.canvas,f,e;f=this.getItemX(a);e=this.getItemZ(a);var l;l=Math.abs(f);var g=G.fit(b.width,b.height,c.maxImageWidth*(1&gt;l?1:2&gt;l?0.55:3&gt;l?0.5:0.6-0.05*l),d.height()-60);return{zIndex:10*e,left:(d.width()-g.width)/2+f*d.width()/8+(f?f/l*c.maxImageWidth/3:0),top:(d.height()-
g.height)/2-30,width:g.width,height:g.height,opacity:f?0.8:1,transform:{rotateY:-(f?f/l:0)*c.imageAngle+&quot;deg&quot;}}};P.prototype.render=function(){function a(c,l){C(f[c].source,function(a){var n=d.getItemStyle(a,c),h=b('&lt;a class=&quot;altgallery-item-'+c+'&quot;&gt;&lt;/a&gt;');f[c].link&amp;&amp;(h.attr(&quot;href&quot;,f[c].link),f[c].target&amp;&amp;h.attr(&quot;target&quot;,f[c].target));h.css({display:&quot;block&quot;,position:&quot;absolute&quot;,zIndex:n.zIndex,left:n.left,top:n.top,width:n.width,height:n.height,overflow:&quot;visible&quot;,background:&quot;#000&quot;,cursor:&quot;pointer&quot;,
</P>
outline:&quot;none&quot;});g&amp;&amp;q(h,{rotateY:n.transform.rotateY});var t=b('&lt;img src=&quot;&quot; alt=&quot;&quot; /&gt;');t.attr(&quot;src&quot;,a.src);o(t);t.css({display:&quot;block&quot;,width:n.width,height:n.height,opacity:n.opacity});h.append(t);if(d.showReflections){a=t.clone();a.css({position:&quot;absolute&quot;,opacity:e.reflectionAlpha/100,&quot;-moz-transform&quot;:&quot;scaleY(-1)&quot;,&quot;-webkit-transform&quot;:&quot;scaleY(-1)&quot;,&quot;-o-transform&quot;:&quot;scaleY(-1)&quot;,&quot;-ms-transform&quot;:&quot;scaleY(-1)&quot;,transform:&quot;scaleY(-1)&quot;,zIndex:1});var v=b('');v.css({position:&quot;absolute&quot;,
top:n.height,width:n.width,height:n.height,background:k.element.css(&quot;backgroundColor&quot;),zIndex:0});var B=b('');B.css({position:&quot;absolute&quot;,top:n.height,width:n.width,height:n.height,zIndex:2});var n=k.element.css(&quot;backgroundColor&quot;),s=[u(n,0),u(n,0.5),u(n,1)];b.browser.mozilla?B.css({background:&quot;-moz-linear-gradient(top, &quot;+s[0]+&quot; 0%, &quot;+s[1]+&quot; 15%, &quot;+s[2]+&quot; 50%)&quot;}):b.browser.webkit?B.css({background:&quot;-webkit-linear-gradient(top, &quot;+s[0]+&quot; 0%, &quot;+s[1]+&quot; 15%, &quot;+s[2]+
<P>&quot; 50%)&quot;}):b.browser.opera?B.css({background:&quot;-o-linear-gradient(top, &quot;+s[0]+&quot; 0%, &quot;+s[1]+&quot; 15%, &quot;+s[2]+&quot; 50%)&quot;}):b.browser.msie?(n=A(n).replace(&quot;#&quot;,&quot;&quot;),B.css({filter:&quot;progid:DXImageTransform.Microsoft.gradient(startColorstr=#00&quot;+n+&quot;,endColorstr=#ff&quot;+n+&quot;,GradientType=0)&quot;})):B.css({background:&quot;linear-gradient(top, &quot;+s[0]+&quot; 0%, &quot;+s[1]+&quot; 15%, &quot;+s[2]+&quot; 50%)&quot;});h.append(a);h.append(v);h.append(B)}h.click(function(){if(!d.drag){d.currentItem+=l;if(0&gt;d.currentItem)d.currentItem=0;else if(d.currentItem&gt;=f.length)d.currentItem=
f.length-1;d.animate()}return!1}).hover(function(){t.css({opacity:1})},function(){t.css({opacity:l?0.8:1})});c==d.currentItem&amp;&amp;h.unbind(&quot;click&quot;).click(function(){if(d.drag)return!1});d.scene.append(h)})}var d=this,e=this.settings,k=this.canvas,f=this.items,g=!c();d.scene.empty();d.scene.css({&quot;-webkit-perspective&quot;:400,&quot;-moz-perspective&quot;:400,perspective:400});var l,n,h,s,r,t=0;s=d.currentItem;r=2*Math.max(s,f.length-s);for(n=1;n&lt;=r;n++)l=s+(n%2?parseInt(n/2):-parseInt(n/2)),0&lt;=l&amp;&amp;l&lt;f.length&amp;&amp;function(b){setTimeout(function(){h=
d.getItemX(b);a(b,h)},100*t++)}(l);e.useScrollBar&amp;&amp;d.showScrollbar();b.browser.mozilla&amp;&amp;d.showReflections&amp;&amp;d.animate()};P.prototype.animate=function(){function b(c,e,l){C(k[c].source,function(b){function n(b){function c(a){return o[a]+(v[a]-o[a])*b/1E4}g.css({left:c(&quot;left&quot;),top:c(&quot;top&quot;),zIndex:parseInt(c(&quot;zIndex&quot;)),width:c(&quot;width&quot;),height:c(&quot;height&quot;)});h.css({width:c(&quot;width&quot;),height:c(&quot;height&quot;)});a.showReflections&amp;&amp;w.css({top:c(&quot;height&quot;),width:c(&quot;width&quot;),height:c(&quot;height&quot;)});f&amp;&amp;q(g,{rotateY:parseFloat(o.transform.rotateY)+
(parseFloat(v.transform.rotateY)-parseFloat(o.transform.rotateY))*b/1E4+&quot;deg&quot;})}var g=a.scene.find(&quot;.altgallery-item-&quot;+c),h=g.find(&quot;img&quot;),o={left:parseInt(g.css(&quot;left&quot;)),top:parseInt(g.css(&quot;top&quot;)),zIndex:parseInt(g.css(&quot;z-index&quot;)),width:g.width(),height:g.height(),opacity:g.find(&quot;img&quot;).css(&quot;opacity&quot;),transform:q(g)},v=a.getItemStyle(b,c);l||g.show();g.unbind(&quot;click&quot;).click(function(){if(!a.drag){a.currentItem+=e;if(0&gt;a.currentItem)a.currentItem=0;else if(a.currentItem&gt;=k.length)a.currentItem=k.length-
1;a.animate()}return!1}).unbind(&quot;hover&quot;).hover(function(){h.first().css({opacity:1})},function(){h.first().css({opacity:e?0.8:1})});h.first().css({opacity:v.opacity});var w=g.find(&quot;.altgallery-overlay&quot;);g.stop().prop(&quot;animate&quot;,0);l?n(1E4):g.animate({animate:1E4},{duration:500*d.flipDuration,easing:&quot;linear&quot;,step:function(b){n(b)},complete:function(){g.prop(&quot;animate&quot;,0);c==a.currentItem&amp;&amp;g.unbind(&quot;click&quot;).click(function(){if(a.drag)return!1})}})})}var a=this,d=this.settings,k=this.items,f=!c(),e,l,
n,g,h;g=a.currentItem;h=2*Math.max(g,k.length-g);for(l=1;l&lt;=h;l++)if(e=g+(l%2?parseInt(l/2):-parseInt(l/2)),0&lt;=e&amp;&amp;e&lt;k.length){var o=Math.abs(a.currentItem-e);n=a.getItemX(e);4&gt;o?b(e,n):(a.scene.find(&quot;.altgallery-item-&quot;+e).hide(),b(e,n,!0))}d.useScrollBar&amp;&amp;a.updateScrollbar()};P.prototype.open=function(b){this.currentItem=b.id;this.animate()};P.prototype.prev=function(b){b=this.currentItem-(b||1);0&gt;b&amp;&amp;(b=0);if(this.currentItem!=b)this.currentItem=b,this.animate()};P.prototype.next=function(b){b=this.currentItem+
</P>
(b||1);b&gt;=this.items.length&amp;&amp;(b=this.items.length-1);if(this.currentItem!=b)this.currentItem=b,this.animate()};J.prototype.render=function(){var a=this,c=this.settings,d=this.canvas;d.element.css({fontFamily:c.fontName,fontSize:parseInt(c.fontSize)+&quot;px&quot;,lineHeight:1.2*parseInt(c.fontSize)+&quot;px&quot;});(function(){var k=b('');k.css({width:d.width()-2*c.frameSize,height:d.height()-2*c.frameSize,padding:c.frameSize,background:A(c.frameColor),borderRadius:c.cornerRadius/
2});var f=b('');f.css({position:&quot;relative&quot;,width:d.width()-2*c.frameSize,height:d.height()-2*c.frameSize,overflow:&quot;hidden&quot;,background:A(c.backgroundColor),borderRadius:c.cornerRadius/2-c.frameSize/4,cursor:&quot;pointer&quot;});var e=b('&lt;img src=&quot;&quot; alt=&quot;&quot; /&gt;');o(f.children(&quot;img&quot;));e.css({position:&quot;absolute&quot;});k.click(function(){a.next()});f.append(e);k.append(f);d.element.append(k);a.open(a.getCurrentItem())})();switch(c.initialState.toLowerCase()){default:case &quot;show albums&quot;:this.showAlbums();
<P>break;case &quot;show thumbnails&quot;:this.showThumbnails();case &quot;load image&quot;:case &quot;start slideshow&quot;:}};J.prototype.showAlbums=function(){function a(){function f(){var b=t*q+1,a=t*q+q;if(a&gt;c.albums.length)a=c.albums.length;r.html(b+&quot;-&quot;+a+&quot; &quot;+k.translation.Of+&quot; &quot;+c.albums.length);0&gt;=t?(x.css({opacity:0.3,cursor:&quot;default&quot;}),x.unbind(&quot;click&quot;).click(function(){return!1})):(x.css({opacity:1,cursor:&quot;pointer&quot;}),x.unbind(&quot;click&quot;).click(A));t&gt;=v-1?(D.css({opacity:0.3,cursor:&quot;default&quot;}),D.unbind(&quot;click&quot;).click(function(){return!1})):
</P>
(D.css({opacity:1,cursor:&quot;pointer&quot;}),D.unbind(&quot;click&quot;).click(E))}c.hideThumbnails();c.hideButtons();c.hideCaption();c.hideNavigation();var e=b(''),l=d.width()-2*k.frameSize,g=k.iconHeight+115;e.css({position:&quot;absolute&quot;,left:k.frameSize,top:(d.height()-g)/2,width:d.width()-2*k.frameSize,height:g,overflow:&quot;hidden&quot;,color:&quot;#fff&quot;,border:&quot;1px #000&quot;,borderStyle:&quot;solid none&quot;,zIndex:2});var h=b('');h.css({position:&quot;absolute&quot;,
left:k.frameSize,top:(d.height()-g)/2,width:d.width()-2*k.frameSize,height:g+1,background:&quot;#000&quot;,opacity:k.panelBackgroundAlpha/100,zIndex:1});d.element.append(h);g=b(&quot;&quot;);g.css({position:&quot;absolute&quot;,top:10,right:20});h=b('&lt;a class=&quot;altgallery-close&quot; href=&quot;#&quot;&gt;'+k.translation.Close+&quot;&lt;/a&gt;&quot;);h.css({marginRight:0,color:&quot;#fff&quot;,fontWeight:&quot;bold&quot;,textDecoration:&quot;none&quot;,textShadow:&quot;0 1px 0 rgba(0, 0, 0, 0.5)&quot;,background:&quot;no-repeat left center&quot;,backgroundImage:y(s.images.folder+&quot;zen-close.png&quot;),paddingLeft:12});
h.click(function(){c.hideAlbums();c.showButtons();c.showCaption();c.showNavigation();return!1});g.append(h);e.append(g);var q=Math.floor((l-20)/(k.iconWidth+k.iconPadding)),q=q&gt;c.albums.length?c.albums.length:q,g=(k.iconWidth+k.iconPadding)*q-k.iconPadding,h=(k.iconWidth+k.iconPadding)*c.albums.length-k.iconPadding,v=Math.ceil(c.albums.length/q),t=0,z=b(&quot;<DIV>&quot;+k.translation.Albums+&quot;</DIV>&quot;);z.css({position:&quot;absolute&quot;,left:9,top:0,padding:10,paddingLeft:25,textShadow:&quot;-1px 1px 0 rgba(0, 0, 0, 0.5)&quot;,
fontWeight:&quot;bold&quot;,background:&quot;no-repeat left center&quot;,backgroundImage:y(s.images.folder+&quot;zen-albums.png&quot;)});e.append(z);var r=b(&quot;&quot;);r.css({marginLeft:&quot;1em&quot;,fontWeight:&quot;normal&quot;});z.append(r);z=b(&quot;&quot;);z.css({position:&quot;absolute&quot;,left:(l-g)/2-4,top:42,width:g+4,height:k.iconHeight+70,overflow:&quot;hidden&quot;});var u=b(&quot;&quot;);u.css({position:&quot;relative&quot;,left:0,width:h});z.append(u);l=b(&quot;&quot;);l.css({position:&quot;absolute&quot;,right:4,bottom:3,height:20,opacity:0.9});var x=b('&lt;a href=&quot;#&quot; style=&quot;float:left;&quot;&gt;&lt;/a&gt;');
<P>x.css({display:&quot;block&quot;,cssFloat:&quot;left&quot;,width:16,height:16,marginRight:3,background:&quot;no-repeat center&quot;,backgroundImage:y(s.images.folder+&quot;zen-prev.png&quot;)});var A=function(){0&lt;t&amp;&amp;t--;var b=(k.iconWidth+k.iconPadding)*q*t;u.stop().animate({left:-b},2*s.animation.duration,&quot;easeOutQuart&quot;);f();return!1};x.click(A);l.append(x);e.append(z);var D=b('&lt;a href=&quot;#&quot; style=&quot;float:left;&quot;&gt;&lt;/a&gt;');D.css({display:&quot;block&quot;,cssFloat:&quot;left&quot;,width:16,height:16,marginRight:3,background:&quot;no-repeat center&quot;,backgroundImage:y(s.images.folder+
</P>
&quot;zen-next.png&quot;)});var E=function(){t&lt;v-1&amp;&amp;t++;var b=(k.iconWidth+k.iconPadding)*q*t;u.stop().animate({left:-b},2*s.animation.duration,&quot;easeOutQuart&quot;);f();return!1};D.click(E);l.append(D);e.append(l);f();for(var F,l=0;l&lt;c.albums.length;l++)(function(a,d){var f=b(&quot;&quot;);f.css({position:&quot;absolute&quot;,left:(k.iconWidth+k.iconPadding)*d,top:0,width:k.iconWidth+k.iconPadding+6,overflow:&quot;hidden&quot;,textShadow:&quot;0 1px 0 rgba(0, 0, 0, 0.5)&quot;});var e=b('');e.css({position:&quot;relative&quot;,
width:k.iconWidth-2,height:k.iconHeight-2,overflow:&quot;hidden&quot;,border:&quot;1px solid&quot;,borderColor:c.currentAlbum==d?&quot;#000&quot;:&quot;#fff&quot;,margin:&quot;2px&quot;,cursor:&quot;pointer&quot;});C(a.items[0].thumb,function(a){var c=b('&lt;img src=&quot;&quot; alt=&quot;&quot; /&gt;');c.attr(&quot;src&quot;,a.src);o(c);c.css({position:&quot;absolute&quot;});c.css(G.fill(a.width,a.height,k.iconWidth-2,k.iconHeight-2));e.append(c)},50*d);f.append(e);f.append('<DIV style="padding:7px 2px 2px; font-weight:bold;">'+(a.description||&quot;Album &quot;+(d+1))+&quot;<DIV>&quot;);f.append('<DIV style="padding:1px 2px;">'+
a.items.length+&quot; &quot;+(1==a.items.length?k.translation.Image:k.translation.Images)+&quot;<DIV>&quot;);f.hover(function(){u.find(&quot;.altgallery-thumbnail&quot;).css({borderWidth:&quot;1px&quot;,margin:&quot;2px&quot;});e.css({borderWidth:&quot;3px&quot;,margin:&quot;0px&quot;})},function(){e.css({borderWidth:&quot;1px&quot;,margin:&quot;2px&quot;})}).click(function(){if(!F){if(c.currentAlbum!=d)c.currentItem=-1;c.currentAlbum=d;c.showThumbnails()}});u.append(f)})(c.albums[l],l);d.element.append(e);1&lt;v&amp;&amp;(u.draggable({axis:&quot;x&quot;,start:function(){F=!0},stop:function(b,a){a.position.left&gt;<P>a.originalPosition.left?A():E();setTimeout(function(){F=!1},100)}}),L(e))}var c=this,d=this.canvas,k=this.settings;d.element.find(&quot;.altgallery-albums&quot;).size()||a()};J.prototype.hideAlbums=function(){this.canvas.element.find(&quot;.altgallery-albums, .altgallery-albums-overlay&quot;).remove()};J.prototype.showThumbnails=function(){function a(){function g(){var b=z*v+1,a=z*v+v;if(a&gt;f.items.length)a=f.items.length;u.html(b+&quot;-&quot;+a+&quot; &quot;+e.translation.Of+&quot; &quot;+f.items.length);0&gt;=z?(A.css({opacity:0.3,cursor:&quot;default&quot;}),
</P>
A.unbind(&quot;click&quot;).click(function(){return!1})):(A.css({opacity:1,cursor:&quot;pointer&quot;}),A.unbind(&quot;click&quot;).click(D));z&gt;=t-1?(E.css({opacity:0.3,cursor:&quot;default&quot;}),E.unbind(&quot;click&quot;).click(function(){return!1})):(E.css({opacity:1,cursor:&quot;pointer&quot;}),E.unbind(&quot;click&quot;).click(F))}c.hideAlbums();c.hideButtons();c.hideCaption();c.hideNavigation();var l=b(''),n=d.width()-2*e.frameSize,h=e.iconHeight+75;l.css({position:&quot;absolute&quot;,left:e.frameSize,top:(d.height()-h)/2,width:d.width()-
2*e.frameSize,height:h,overflow:&quot;hidden&quot;,color:&quot;#fff&quot;,border:&quot;1px #000&quot;,borderStyle:&quot;solid none&quot;,zIndex:2});var q=b('');q.css({position:&quot;absolute&quot;,left:e.frameSize,top:(d.height()-h)/2,width:d.width()-2*e.frameSize,height:h+1,background:&quot;#000&quot;,opacity:e.panelBackgroundAlpha/100,zIndex:1});d.element.append(q);h=b(&quot;&quot;);h.css({position:&quot;absolute&quot;,top:10,right:20});1&lt;c.albums.length&amp;&amp;(q=b('&lt;a class=&quot;altgallery-back&quot; href=&quot;#&quot;&gt;'+e.translation.BackToAlbums+
<P>&quot;&lt;/a&gt;&quot;),q.css({marginRight:&quot;1.5em&quot;,color:&quot;#fff&quot;,fontWeight:&quot;bold&quot;,textDecoration:&quot;none&quot;,textShadow:&quot;0 1px 0 rgba(0, 0, 0, 0.5)&quot;,background:&quot;no-repeat left center&quot;,backgroundImage:y(s.images.folder+&quot;zen-backToAlbums.png&quot;),paddingLeft:14}),q.click(function(){c.showAlbums();return!1}),h.append(q));q=b('&lt;a class=&quot;altgallery-close&quot; href=&quot;#&quot;&gt;'+e.translation.Close+&quot;&lt;/a&gt;&quot;);q.css({marginRight:0,color:&quot;#fff&quot;,fontWeight:&quot;bold&quot;,textDecoration:&quot;none&quot;,textShadow:&quot;0 1px 0 rgba(0, 0, 0, 0.5)&quot;,background:&quot;no-repeat left center&quot;,
</P>
backgroundImage:y(s.images.folder+&quot;zen-close.png&quot;),paddingLeft:12});q.click(function(){c.hideThumbnails();c.showButtons();c.showCaption();c.showNavigation();return!1});h.append(q);l.append(h);var v=Math.floor((n-20)/(e.iconWidth+e.iconPadding)),v=v&gt;f.items.length?f.items.length:v,h=(e.iconWidth+e.iconPadding)*v-e.iconPadding,q=(e.iconWidth+e.iconPadding)*f.items.length-e.iconPadding,t=Math.ceil(f.items.length/v),z=0,r=b(&quot;<DIV>&quot;+e.translation.Images+&quot;</DIV>&quot;);r.css({position:&quot;absolute&quot;,left:9,top:0,
padding:10,paddingLeft:25,textShadow:&quot;-1px 1px 0 rgba(0, 0, 0, 0.5)&quot;,fontWeight:&quot;bold&quot;,background:&quot;no-repeat left center&quot;,backgroundImage:y(s.images.folder+&quot;zen-thumbnails.png&quot;)});l.append(r);var u=b(&quot;&quot;);u.css({marginLeft:&quot;1em&quot;,fontWeight:&quot;normal&quot;});r.append(u);r=b(&quot;&quot;);r.css({position:&quot;absolute&quot;,left:(n-h)/2-4,top:42,width:h+4,height:e.iconHeight+4,overflow:&quot;hidden&quot;});var x=b(&quot;&quot;);x.css({position:&quot;relative&quot;,left:0,width:q});r.append(x);l.append(r);n=b(&quot;&quot;);
<P>n.css({position:&quot;absolute&quot;,right:4,bottom:3,height:20,opacity:0.9});var A=b('&lt;a href=&quot;#&quot; style=&quot;float:left;&quot;&gt;&lt;/a&gt;');A.css({display:&quot;block&quot;,cssFloat:&quot;left&quot;,width:16,height:16,marginRight:3,background:&quot;no-repeat center&quot;,backgroundImage:y(s.images.folder+&quot;zen-prev.png&quot;)});var D=function(){0&lt;z&amp;&amp;z--;var b=(e.iconWidth+e.iconPadding)*v*z;x.stop().animate({left:-b},2*s.animation.duration,&quot;easeOutQuart&quot;);g();return!1};A.click(D);n.append(A);var E=b('&lt;a href=&quot;#&quot; style=&quot;float:left;&quot;&gt;&lt;/a&gt;');E.css({display:&quot;block&quot;,
</P>
cssFloat:&quot;left&quot;,width:16,height:16,marginRight:3,background:&quot;no-repeat center&quot;,backgroundImage:y(s.images.folder+&quot;zen-next.png&quot;)});var F=function(){z&lt;t-1&amp;&amp;z++;var b=(e.iconWidth+e.iconPadding)*v*z;x.stop().animate({left:-b},2*s.animation.duration,&quot;easeOutQuart&quot;);g();return!1};E.click(F);n.append(E);l.append(n);g();for(var H=!1,n=0;n&lt;f.items.length;n++)(function(a,d){var f=b(&quot;&quot;);f.css({position:&quot;absolute&quot;,left:(e.iconWidth+e.iconPadding)*d,top:0,width:e.iconWidth+e.iconPadding+6,overflow:&quot;hidden&quot;,
textShadow:&quot;0 1px 0 rgba(0, 0, 0, 0.5)&quot;});var g=b('');g.css({position:&quot;relative&quot;,width:e.iconWidth-2,height:e.iconHeight-2,overflow:&quot;hidden&quot;,border:&quot;1px solid&quot;,borderColor:c.currentItem==d?&quot;#000&quot;:&quot;#fff&quot;,margin:&quot;2px&quot;,cursor:&quot;pointer&quot;});C(a.thumb,function(a){var c=b('&lt;img src=&quot;&quot; alt=&quot;&quot; /&gt;');c.attr(&quot;src&quot;,a.src);o(c);c.css({position:&quot;absolute&quot;});c.css(G.fill(a.width,a.height,e.iconWidth-2,e.iconHeight-2));g.append(c)},50*d);f.append(g);f.hover(function(){x.find(&quot;.altgallery-thumbnail&quot;).css({borderWidth:&quot;1px&quot;,
<P>margin:&quot;2px&quot;});g.css({borderWidth:&quot;3px&quot;,margin:&quot;0px&quot;})},function(){g.css({borderWidth:&quot;1px&quot;,margin:&quot;2px&quot;})}).click(function(){if(!H)c.currentItem=d,c.open(c.getCurrentItem())});x.append(f)})(f.items[n],n);d.element.append(l);1&lt;t&amp;&amp;(x.draggable({axis:&quot;x&quot;,start:function(){H=!0},stop:function(b,a){a.position.left&gt;a.originalPosition.left?D():F();setTimeout(function(){H=!1},100)}}),L(l))}var c=this,d=this.canvas,e=this.settings,f=this.getCurrentAlbum();d.element.find(&quot;.altgallery-images&quot;).size()||a()};
</P>
J.prototype.hideThumbnails=function(){this.canvas.element.find(&quot;.altgallery-images, .altgallery-images-overlay&quot;).remove()};J.prototype.showButtons=function(){function a(){var d=b('');d.css({position:&quot;absolute&quot;,right:c.settings.frameSize,top:25+c.settings.frameSize,padding:&quot;3px 3px 3px 1px&quot;,background:&quot;rgba(0, 0, 0, &quot;+c.settings.buttonsBackgroundAlpha/100+&quot;)&quot;,border:&quot;1px solid rgba(0, 0, 0, 0.8)&quot;,borderRight:&quot;none&quot;,&quot;-moz-border-top-left-radius&quot;:&quot;3px&quot;,&quot;-moz-border-bottom-left-radius&quot;:&quot;3px&quot;,
<P>&quot;-webkit-border-top-left-radius&quot;:&quot;3px&quot;,&quot;-webkit-border-bottom-left-radius&quot;:&quot;3px&quot;,&quot;border-top-left-radius&quot;:&quot;3px&quot;,&quot;border-bottom-left-radius&quot;:&quot;3px&quot;});if(b.browser.msie&amp;&amp;9&gt;b.browser.version){var e=Math.round(255*parseInt(c.settings.buttonsBackgroundAlpha)/100),e=16&gt;e?&quot;0&quot;+e.toString(16):e.toString(16);d.css({borderColor:&quot;#000&quot;,filter:&quot;progid:DXImageTransform.Microsoft.gradient(startColorstr=#&quot;+e+&quot;000000,endColorstr=#&quot;+e+&quot;000000)&quot;})}c.settings.showAlbumsButton&amp;&amp;1&lt;c.albums.length&amp;&amp;(e=b('&lt;a href=&quot;#&quot; style=&quot;float:left;&quot;&gt;&lt;/a&gt;'),
e.css({display:&quot;block&quot;,cssFloat:&quot;left&quot;,margin:&quot;0 2px&quot;,width:16,height:16,background:&quot;no-repeat center&quot;,backgroundImage:y(s.images.folder+&quot;zen-albums.png&quot;),opacity:0.8}),e.click(function(){c.showAlbums();return!1}),d.append(e));c.settings.showThumbnailsButton&amp;&amp;(e=b('&lt;a href=&quot;#&quot; style=&quot;float:left;&quot;&gt;&lt;/a&gt;'),e.css({display:&quot;block&quot;,cssFloat:&quot;left&quot;,margin:&quot;0 2px&quot;,width:16,height:16,background:&quot;no-repeat center&quot;,backgroundImage:y(s.images.folder+&quot;zen-thumbnails.png&quot;),opacity:0.8}),e.click(function(){c.showThumbnails();
return!1}),d.append(e));c.canvas.element.append(d)}var c=this;if(&quot;never&quot;!=c.settings.showButtons.toLowerCase()&amp;&amp;(c.settings.showAlbumsButton||c.settings.showThumbnailsButton))c.canvas.element.find(&quot;.altgallery-buttons&quot;).size()||a()};J.prototype.hideButtons=function(){this.canvas.element.find(&quot;.altgallery-buttons&quot;).remove()};J.prototype.showCaption=function(){this.hideCaption();if(&quot;never&quot;!=this.settings.showCaption.toLowerCase()&amp;&amp;(this.getCurrentAlbum()&amp;&amp;this.getCurrentAlbum().description||this.getCurrentItem()&amp;&amp;</P>
this.getCurrentItem().description)){var a=b('');a.css({position:&quot;absolute&quot;,left:this.settings.frameSize,top:25+this.settings.frameSize,padding:&quot;4px 10px 5px 7px&quot;,color:&quot;#fff&quot;,textShadow:&quot;-1px 1px 0 rgba(0, 0, 0, 0.3)&quot;,background:&quot;rgba(0, 0, 0, &quot;+this.settings.captionBackgroundAlpha/100+&quot;)&quot;,border:&quot;1px solid rgba(0, 0, 0, 0.8)&quot;,borderLeft:&quot;none&quot;,&quot;-moz-border-top-right-radius&quot;:&quot;3px&quot;,&quot;-moz-border-bottom-right-radius&quot;:&quot;3px&quot;,&quot;-webkit-border-top-right-radius&quot;:&quot;3px&quot;,
&quot;-webkit-border-bottom-right-radius&quot;:&quot;3px&quot;,&quot;border-top-right-radius&quot;:&quot;3px&quot;,&quot;border-bottom-right-radius&quot;:&quot;3px&quot;});if(b.browser.msie&amp;&amp;9&gt;b.browser.version){var c=Math.round(255*parseInt(this.settings.captionBackgroundAlpha)/100),c=16&gt;c?&quot;0&quot;+c.toString(16):c.toString(16);a.css({borderColor:&quot;#000&quot;,filter:&quot;progid:DXImageTransform.Microsoft.gradient(startColorstr=#&quot;+c+&quot;000000,endColorstr=#&quot;+c+&quot;000000)&quot;})}this.getCurrentAlbum().description&amp;&amp;a.append('<DIV style="font-weight:bold;">'+this.getCurrentAlbum().description+
&quot;</DIV>&quot;);this.getCurrentItem().description&amp;&amp;a.append('<DIV style="">'+this.getCurrentItem().description+&quot;</DIV>&quot;);this.canvas.element.append(a)}};J.prototype.hideCaption=function(){this.canvas.element.find(&quot;.altgallery-caption&quot;).remove()};J.prototype.showNavigation=function(){function a(){var d=b('');d.css({position:&quot;absolute&quot;,right:c.settings.frameSize,bottom:25+c.settings.frameSize,padding:&quot;3px 3px 3px 1px&quot;,background:&quot;rgba(0, 0, 0, &quot;+c.settings.buttonsBackgroundAlpha/
<P>100+&quot;)&quot;,border:&quot;1px solid rgba(0, 0, 0, 0.8)&quot;,borderRight:&quot;none&quot;,&quot;-moz-border-top-left-radius&quot;:&quot;3px&quot;,&quot;-moz-border-bottom-left-radius&quot;:&quot;3px&quot;,&quot;-webkit-border-top-left-radius&quot;:&quot;3px&quot;,&quot;-webkit-border-bottom-left-radius&quot;:&quot;3px&quot;,&quot;border-top-left-radius&quot;:&quot;3px&quot;,&quot;border-bottom-left-radius&quot;:&quot;3px&quot;});if(b.browser.msie&amp;&amp;9&gt;b.browser.version){var e=Math.round(255*parseInt(c.settings.buttonsBackgroundAlpha)/100),e=16&gt;e?&quot;0&quot;+e.toString(16):e.toString(16);d.css({borderColor:&quot;#000&quot;,filter:&quot;progid:DXImageTransform.Microsoft.gradient(startColorstr=#&quot;+
e+&quot;000000,endColorstr=#&quot;+e+&quot;000000)&quot;})}c.settings.showNavigationButton&amp;&amp;(e=b('&lt;a href=&quot;#&quot; style=&quot;float:left;&quot;&gt;&lt;/a&gt;'),e.css({display:&quot;block&quot;,cssFloat:&quot;left&quot;,margin:&quot;0 2px&quot;,width:16,height:16,background:&quot;no-repeat center&quot;,backgroundImage:y(s.images.folder+&quot;zen-prev.png&quot;),opacity:0.8}),e.click(function(){c.prev();return!1}),d.append(e),e=b('&lt;a href=&quot;#&quot; style=&quot;float:left;&quot;&gt;&lt;/a&gt;'),e.css({display:&quot;block&quot;,cssFloat:&quot;left&quot;,margin:&quot;0 2px&quot;,width:16,height:16,background:&quot;no-repeat center&quot;,backgroundImage:y(s.images.folder+
&quot;zen-next.png&quot;),opacity:0.8}),e.click(function(){c.next();return!1}),d.append(e));c.canvas.element.append(d)}var c=this;&quot;never&quot;!=c.settings.showButtons.toLowerCase()&amp;&amp;c.settings.showNavigationButton&amp;&amp;(c.canvas.element.find(&quot;.altgallery-navigation&quot;).size()||a())};J.prototype.hideNavigation=function(){this.canvas.element.find(&quot;.altgallery-navigation&quot;).remove()};J.prototype.open=function(a){var c=this,d=this.canvas,e=this.settings;c.hideAlbums();c.hideThumbnails();c.showButtons();c.showCaption();c.showNavigation();
d.element.find(&quot;.altgallery-image img&quot;).hide();var f=d.element.find(&quot;.altgallery-imageFrame&quot;),g=b('&lt;img class=&quot;altgallery-preloader&quot; src=&quot;'+s.images.loader+'&quot; alt=&quot;&quot; /&gt;');o(g);g.css({position:&quot;absolute&quot;,left:&quot;50%&quot;,top:&quot;50%&quot;,zIndex:10,margin:&quot;-16px 0 0 -16px&quot;});C(a.source,function(b){g.hide();d.element.find(&quot;.altgallery-preloader&quot;).remove();var f=d.element.find(&quot;.altgallery-image img&quot;);&quot;fit&quot;==e.imageScaleMode?f.css(G.fit(b.width,b.height,d.width()-2*e.frameSize,d.height()-2*e.frameSize)):f.css(G.fill(b.width,
b.height,d.width()-2*e.frameSize,d.height()-2*e.frameSize));f.attr(&quot;src&quot;,a.source).fadeIn(2*s.animation.duration);c.cache()});setTimeout(function(){d.element.find(&quot;.altgallery-preloader&quot;).remove();f.append(g)},500)};J.prototype.prev=function(){0&lt;this.currentItem?this.currentItem--:this.currentItem=this.getCurrentAlbum().items.length-1;this.open(this.getCurrentItem())};J.prototype.next=function(){this.currentItem&lt;this.getCurrentAlbum().items.length-1?this.currentItem++:this.currentItem=0;this.open(this.getCurrentItem())};
var s={};b.fn.altgallery=function(c,d){function e(){g.each(function(){ca(this,c,d)})}var g=this,c=b.extend(!0,{width:&quot;550px&quot;,height:&quot;400px&quot;,background:&quot;none&quot;,images:{folder:$+&quot;img/&quot;,left:&quot;left.png&quot;,right:&quot;right.png&quot;,close:&quot;close.png&quot;,loader:&quot;loader.png&quot;},animation:{duration:500},config:{settings:{}}},c);if(c.images.folder){c.images.folder=c.images.folder.replace(/\/+$/,&quot;&quot;)+&quot;/&quot;;for(var f in c.images)&quot;folder&quot;!=f&amp;&amp;!c.images[f].match(&quot;/&quot;)&amp;&amp;(c.images[f]=c.images.folder+c.images[f])}if(&quot;string&quot;==typeof c.config){g.css({visibility:&quot;hidden&quot;});
var h={load:function(b,c,d){if(c!==a)switch(c.toLowerCase()){case &quot;xml&quot;:this.loadXML(b,d);break;default:case &quot;json&quot;:this.loadJSON(b,d)}else b.match(/(xml)$/i)?this.loadXML(b,d):this.loadJSON(b,d)},loadJSON:function(a,c){b.ajax({url:a,dataType:&quot;json&quot;,success:function(b){b=h.parse(b);&quot;function&quot;==typeof c&amp;&amp;c(b)},error:function(){&quot;function&quot;==typeof c&amp;&amp;c({})}})},loadXML:function(a,c){function d(b){var a;&quot;undefined&quot;==typeof a&amp;&amp;(a=function(){});a.ObjTree=function(){return this};a.ObjTree.prototype.attr_prefix=
&quot;&quot;;a.ObjTree.prototype.parseDOM=function(a){if(a){this.__force_array={};if(this.force_array)for(var b=0;b&lt;this.force_array.length;b++)this.__force_array[this.force_array[b]]=1;b=this.parseElement(a);this.__force_array[a.nodeName]&amp;&amp;(b=[b]);if(11!=a.nodeType){var c={};c[a.nodeName]=b;b=c}return b}};a.ObjTree.prototype.parseElement=function(a){if(7!=a.nodeType){if(3==a.nodeType||4==a.nodeType)return null==a.nodeValue.match(/[^\x00-\x20]/)?void 0:a.nodeValue;var b,c={};if(a.attributes&amp;&amp;a.attributes.length){b=
{};for(var d=0;d&lt;a.attributes.length;d++){var e=a.attributes[d].nodeName;if(&quot;string&quot;==typeof e){var f=a.attributes[d].nodeValue;f&amp;&amp;(e=this.attr_prefix+e,&quot;undefined&quot;==typeof c[e]&amp;&amp;(c[e]=0),c[e]++,this.addNode(b,e,c[e],f))}}}if(a.childNodes&amp;&amp;a.childNodes.length){e=!0;b&amp;&amp;(e=!1);for(d=0;d&lt;a.childNodes.length&amp;&amp;e;d++)f=a.childNodes[d].nodeType,3==f||4==f||(e=!1);if(e){b||(b=&quot;&quot;);for(d=0;d&lt;a.childNodes.length;d++)b+=a.childNodes[d].nodeValue}else{b||(b={});for(d=0;d&lt;a.childNodes.length;d++)if(e=a.childNodes[d].nodeName,
&quot;string&quot;==typeof e&amp;&amp;(f=this.parseElement(a.childNodes[d])))&quot;undefined&quot;==typeof c[e]&amp;&amp;(c[e]=0),c[e]++,this.addNode(b,e,c[e],f)}}return b}};a.ObjTree.prototype.addNode=function(a,b,c,d){this.__force_array[b]?(1==c&amp;&amp;(a[b]=[]),a[b][a[b].length]=d):1==c?a[b]=d:2==c?a[b]=[a[b],d]:a[b][a[b].length]=d};a=new a.ObjTree;a.attr_prefix=&quot;&quot;;return a.parseDOM(b)[&quot;#document&quot;]}b.ajax({url:a,dataType:&quot;xml&quot;,success:function(a){a=d(a);a=h.parse(a);&quot;function&quot;==typeof c&amp;&amp;c(a)},error:function(){&quot;function&quot;==typeof c&amp;&amp;c({})}})},
parse:function(a){if(a.gallery){if(a.galleryName)a.gallery.galleryName=a.galleryName;a=a.gallery;if(a.items&amp;&amp;a.items.item)a.items=a.items.item.length?a.items.item:[a.items.item];if(a.albums){if(a.albums.album)a.albums=a.albums.album.length?a.albums.album:[a.albums.album];for(var b=0;b&lt;a.albums.length;b++)if(a.albums[b].items.item)a.albums[b].items=a.albums[b].items.item.length?a.albums[b].items.item:[a.albums[b].items.item]}}return a}};h.load(c.config,c.configType,function(a){g.css({visibility:&quot;visible&quot;});
</P>
c.config=a;e()})}else e();return this};b.altbox=function(a,c){if(d!=top)var d=top,e=d.document;c=b.extend(!0,{frame:{color:&quot;#000&quot;,borderRadius:0},mask:{color:&quot;#000&quot;,opacity:0.7},images:{folder:$+&quot;img/&quot;,close:&quot;close.png&quot;,loader:&quot;loader.gif&quot;},animation:{duration:700}},c);if(c.images.folder){c.images.folder=c.images.folder.replace(/\/+$/,&quot;&quot;)+&quot;/&quot;;for(var f in c.images)&quot;folder&quot;!=f&amp;&amp;!c.images[f].match(&quot;/&quot;)&amp;&amp;(c.images[f]=c.images.folder+c.images[f])}var g=b('');
<P>g.css({opacity:0,backgroundColor:c.mask.color,backgroundImage:y(c.images.loader)});b(e.body).append(g);g.animate({opacity:c.mask.opacity},c.animation.duration);var h=new Image;h.onload=function(){function f(){g.remove();u.remove()}function o(){A.remove();t.opacity=&quot;hide&quot;;u.animate(t,0.67*c.animation.duration);x.animate({width:t.width-20,height:t.height-20},0.67*c.animation.duration);g.fadeOut(c.animation.duration,function(){f()});return!1}var q=b(d).width()-100,s=b(d).height()-100,t=G.fit(h.width/
</P>
4,h.height/4,q,s,{noEnlarge:!0,minWidth:100,minHeight:100});t.left+=50;t.top+=50;var r=G.fit(h.width+20,h.height+20,q,s,{noEnlarge:!0,minWidth:120,minHeight:120});r.left+=50;r.top+=50;var u=b('');u.css(t);u.css({backgroundColor:c.frame.color,borderRadius:c.frame.borderRadius,MozUserSelect:&quot;none&quot;,webkitUserSelect:&quot;none&quot;,userSelect:&quot;none&quot;});u.hide();var x=b('&lt;img src=&quot;'+a+'&quot; alt=&quot;&quot; style=&quot;display:block;&quot; /&gt;');x.css({margin:&quot;10px&quot;,width:t.width-20,height:t.height-
<P>20,borderRadius:8&lt;c.frame.borderRadius?c.frame.borderRadius-8:0});var A=b('&lt;a href=&quot;#&quot; style=&quot;display:block; position:absolute; right:-12px; top:-10px; width:30px; height:30px; background:no-repeat center;&quot;&gt;&lt;/a&gt;');A.css({backgroundImage:y(c.images.close)});u.append(x);b(e.body).append(u);(function(){g.css({backgroundImage:&quot;none&quot;});x.animate({width:r.width-20,height:r.height-20,margin:&quot;10px&quot;},c.animation.duration,&quot;easeOutBack&quot;);r.opacity=&quot;show&quot;;u.animate(r,c.animation.duration,&quot;easeOutBack&quot;,function(){u.append(A)})})();
b(d).resize(function(){q=b(d).width()-100;s=b(d).height()-100;t=G.fit(h.width/4,h.height/4,q,s,{noEnlarge:!0,minWidth:100,minHeight:100});t.left+=50;t.top+=50;r=G.fit(h.width+20,h.height+20,q,s,{noEnlarge:!0,minWidth:120,minHeight:120});r.left+=50;r.top+=50;u.css(r);x.css({width:r.width-20,height:r.height-20})});g.click(f);A.click(o);u.dblclick(o)};h.src=a}})(jQuery);
</P>
(function(b,a){window.flashgallery_id=window.flashgallery_id||0;b.flashgallery=b.flashgallery||function(d,c,r,o){var h;h=&quot;object&quot;==typeof c?b.browser.msie?JSON.stringify({config:c}):{config:JSON.stringify(c)}:{configPath:c};r=b.extend({width:&quot;550px&quot;,height:&quot;400px&quot;,background:&quot;transparent&quot;},r);window.flashgallery_id++;var e=&quot;flashgallery-&quot;+window.flashgallery_id;o==a?document.write(''):b(o).html('');o=b(document.getElementById(e));o.css({width:r.width,height:r.height,
<P>overflow:&quot;hidden&quot;});var y={allowScriptAccess:&quot;always&quot;,allowFullScreen:&quot;true&quot;,wmode:&quot;opaque&quot;,quality:&quot;high&quot;},A=r.background.match(/(#[0-9a-f]+)/i);A?y.bgcolor=A[1]:y.wmode=&quot;transparent&quot;;swfobject.embedSWF(d,e,r.width.toString().match(/^\d+%$/)?r.width:parseInt(r.width),r.height.toString().match(/^\d+%$/)?r.height:parseInt(r.height),&quot;10.0.12.36&quot;,&quot;<A href="http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf" class="external free" rel="nofollow">http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf</A>&quot;,h,y,{style:&quot;outline:none;&quot;},function(a){a.success?b(a.ref).css({background:r.background}):
</P>
(r.config=c,o.altgallery(r))})};b.fn.flashgallery=b.fn.flashgallery||function(a,c,r){b.flashgallery(a,c,r,this)}})(jQuery);</DIV></DIV></DIV></DIV><DIV class="printfooter">
Retrieved from &quot;<A href="http://2012.igem.org/Team:Macquarie_Australia/gallery/flashgallery.js">http://2012.igem.org/Team:Macquarie_Australia/gallery/flashgallery.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Macquarie_Australia/gallery/flashgallery.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Macquarie_Australia/gallery/flashgallery.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Macquarie_Australia/gallery/flashgallery.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Macquarie_Australia/gallery/flashgallery.js&amp;oldid=65621" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2012.igem.org:Privacy_policy" title="2012.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2012.igem.org:General_disclaimer" title="2012.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>