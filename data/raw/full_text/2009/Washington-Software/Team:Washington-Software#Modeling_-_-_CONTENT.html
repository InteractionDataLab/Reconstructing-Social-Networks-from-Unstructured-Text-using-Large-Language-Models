<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Washington-Software_Modeling"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu"><UL><LI class="selected"><A href="/Team:Washington-Software/Modeling">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Washington-Software/Modeling&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Washington-Software/Modeling&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Washington-Software/Modeling&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Washington-Software/Modeling" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Washington-Software/Modeling</H1><DIV id="bodyContent"><H3 id="siteSub">From 2009.igem.org</H3><TABLE style="color:Gold;background-color:#500050;" cellpadding="3" cellspacing="1" border="1" width="100%" align="center"><TBODY><TR><TH style="border: #6b0c6a outset 3px;"><A href="/Team:Washington-Software" title="Team:Washington-Software"><FONT color="gold">Home</FONT></A></TH><TH style="border: #6b0c6a outset 3px;"><A href="/Team:Washington-Software/Team" title="Team:Washington-Software/Team"><FONT color="gold">Team</FONT></A></TH><TH style="border: #6b0c6a outset 3px;"><A href="/Team:Washington-Software/Project" title="Team:Washington-Software/Project"><FONT color="gold">Project</FONT></A></TH><TH style="border: #6b0c6a inset 3px;"><STRONG class="selflink"><FONT color="gold">Modeling</FONT></STRONG></TH><TH style="border: #6b0c6a outset 3px;"><A href="/Team:Washington-Software/Notebook" title="Team:Washington-Software/Notebook"><FONT color="gold">Notebook</FONT></A></TH><TH style="border: #6b0c6a outset 3px;"><A href="/Team:Washington-Software/Challenges" title="Team:Washington-Software/Challenges"><FONT color="gold">Challenges</FONT></A></TH><TH style="border: #6b0c6a outset 3px;"><A href="/Team:Washington-Software/Miscellaneous" title="Team:Washington-Software/Miscellaneous" class="mw-redirect"><FONT color="gold">Miscellaneous</FONT></A></TH></TR></TBODY></TABLE><TABLE id="toc" class="toc"><TBODY><TR><TD><DIV id="toctitle"><H2>Contents</H2></DIV><UL><LI class="toclevel-1 tocsection-1"><A href="#Mathematical_Modeling"><SPAN class="tocnumber">1</SPAN><SPAN class="toctext">Mathematical Modeling</SPAN></A></LI><LI class="toclevel-2 tocsection-2"><A href="#Solving_Reverse_Triangulation_in_3-D_Space_with_Polar_Coordinate_Constraints"><SPAN class="tocnumber">1.1</SPAN><SPAN class="toctext">Solving Reverse Triangulation in 3-D Space with Polar Coordinate Constraints</SPAN></A></LI><LI class="toclevel-3 tocsection-3"><A href="#Problem"><SPAN class="tocnumber">1.1.1</SPAN><SPAN class="toctext">Problem</SPAN></A></LI><LI class="toclevel-3 tocsection-4"><A href="#Constants"><SPAN class="tocnumber">1.1.2</SPAN><SPAN class="toctext">Constants</SPAN></A></LI><LI class="toclevel-3 tocsection-5"><A href="#Construction"><SPAN class="tocnumber">1.1.3</SPAN><SPAN class="toctext">Construction</SPAN></A></LI><LI class="toclevel-3 tocsection-6"><A href="#Solution"><SPAN class="tocnumber">1.1.4</SPAN><SPAN class="toctext">Solution</SPAN></A></LI></UL></TD></TR></TBODY></TABLE><H2><SPAN class="mw-headline" id="Mathematical_Modeling">Mathematical Modeling</SPAN></H2><H3><SPAN class="mw-headline" id="Solving_Reverse_Triangulation_in_3-D_Space_with_Polar_Coordinate_Constraints">Solving Reverse Triangulation in 3-D Space with Polar Coordinate Constraints</SPAN></H3><H4><SPAN class="mw-headline" id="Problem">Problem</SPAN></H4><P>Given the following construction and point <I>p</I>, or (<I>x</I>,<I>y</I>,<I>z</I>) find the angles <I>θ<SUB>1</SUB></I>, <I>θ<SUB>2</SUB></I>, and <I>θ<SUB>3</SUB></I>.
</P><P>Note that positive <I>z</I> is the down direction.
</P><H4><SPAN class="mw-headline" id="Constants">Constants</SPAN></H4><UL><LI><I>TR</I></LI><LI>Top radius
</LI></UL><LI><I>BR</I></LI><LI>Bottom radius
</LI><LI><I>L</I></LI><LI>Linkage
</LI><LI><I>CA</I></LI><LI>Control Arm
</LI><LI><I>φ<SUB>1</SUB></I> and <I>φ<SUB>2</SUB></I></LI><LI>Two angles
</LI><H4><SPAN class="mw-headline" id="Construction">Construction</SPAN></H4><P>We based the mathematical construction on the physical structure of ALPHA.
</P><P>From the top to the bottom:
</P><UL><LI>A circle centered at the origin with radius <I>TR</I>, named <I>O</I></LI><LI>Make three lines <I>A<SUB>1</SUB></I>, <I>A<SUB>2</SUB></I>, and <I>A<SUB>3</SUB></I> such that:
</LI><LI>The lines <I>A<SUB>x</SUB></I> are perpendicular to a tangent of <I>O</I> and a radius of <I>O</I>,
</LI><LI>The angle between the radii of <I>A<SUB>1</SUB></I> and <I>A<SUB>2</SUB></I> is <I>φ<SUB>1</SUB></I>, and
</LI><LI>The angle between the radii of <I>A<SUB>2</SUB></I> and <I>A<SUB>3</SUB></I> is <I>φ<SUB>2</SUB></I>.
</LI></UL><LI>Make a circle centered at point <I>p</I> with radius <I>BR</I>, named <I>P</I></LI><LI>Find three points <I>P<SUB>1</SUB></I>, <I>P<SUB>2</SUB></I>, and <I>P<SUB>3</SUB></I> such that:
</LI><LI>They are on the circumference of <I>P</I>,
</LI><LI>The angle between the radius which touches <I>P<SUB>1</SUB></I> and the radius that touches <I>P<SUB>2</SUB></I> is <I>φ<SUB>1</SUB></I>,
</LI><LI>The angle between the radius which touches <I>P<SUB>2</SUB></I> and the radius that touches <I>P<SUB>3</SUB></I> is <I>φ<SUB>2</SUB></I>,
</LI><LI>The ray from the center of <I>P</I> to <I>P<SUB>x</SUB></I> is parallel to the ray from the center of <I>O</I> to the point which is on <I>A<SUB>x</SUB></I> and <I>O</I> 's circumference, for all <I>x</I>.
</LI><LI>Construct three line segments <I>CA<SUB>1</SUB></I>, <I>CA<SUB>2</SUB></I>, and <I>CA<SUB>3</SUB></I> such that:
</LI><LI><I>CA<SUB>x</SUB></I> is in the same plane as <I>A<SUB>x</SUB></I>, for all <I>x</I>, 
</LI><LI>The length of <I>CA<SUB>x</SUB></I> is <I>CA</I>, and
</LI><LI>The angle between <I>CA<SUB>x</SUB></I> and <I>A<SUB>x</SUB></I> is <I>θ<SUB>x</SUB></I>, for all <I>x</I>.
</LI><LI>The distance between <I>P<SUB>x</SUB></I> and the end point of <I>CA<SUB>x</SUB></I> that is not on <I>A<SUB>x</SUB></I> is <I>L</I>, for all <I>x</I>.
</LI><H4><SPAN class="mw-headline" id="Solution">Solution</SPAN></H4><OL><LI>Note that the locus of the control arms are circles of radius <I>CA</I>, while the locus of the linkages are spheres of radius <I>L</I>.
</LI><LI>We will calculate <I>θ<SUB>1</SUB></I> first, which only involves the points, circles and lines <I>p</I>, <I>CA<SUB>1</SUB></I>, <I>A<SUB>1</SUB></I>, and <I>P<SUB>1</SUB></I>.
</LI><LI>Find the plane where <I>CA<SUB>1</SUB></I> 's circle resides in. Use it to cut the sphere around <I>P<SUB>1</SUB></I>. For future reference, call <I>CA<SUB>1</SUB></I> 's circle <I>C<SUB>1</SUB></I> and the circle resulting from the cut <I>C<SUB>2</SUB></I></LI><LI>Define <I>x<SUB>o<SUB>1</SUB></SUB></I>, for x offset, for the difference in the <I>x</I> coordinates of the center of <I>C<SUB>1</SUB></I> and the point <I>P<SUB>1</SUB></I>.
</LI><LI><I>x<SUB>o<SUB>1</SUB></SUB> = TR - BR - x</I></LI><LI>Define <I>D<SUB>1</SUB></I> to be the distance between the center of <I>C<SUB>1</SUB></I> and <I>C<SUB>2</SUB></I>. It will also be the line connecting the centers.
</LI><LI><I>D<SUB>1</SUB> = sqrt(x<SUB>1</SUB><SUP>2</SUP> + z<SUP>2</SUP>)</I></LI><LI>Obviously, <I>D<SUB>1</SUB></I>, <I>CA<SUB>1</SUB></I>, and linkage form a triangle. The angle between <I>CA<SUB>1</SUB></I> and <I>D<SUB>1</SUB></I> is a close approximation to <I>θ<SUB>1</SUB></I>, but it is not exact. We will find the error in the next step. We will call this angle <I>θ<SUB>1<SUB>1</SUB></SUB></I>. We use the law of cosines to calculate <I>θ<SUB>1<SUB>1</SUB></SUB></I>.
</LI><LI><I>L<SUP>2</SUP> = CA<SUP>2</SUP> + D<SUB>1</SUB><SUP>2</SUP> - CA * D * cos(θ<SUB>1<SUB>1</SUB></SUB>)</I></LI><LI><I>θ<SUB>1<SUB>1</SUB></SUB> = cos<SUP>-1</SUP>((D<SUB>1</SUB><SUP>2</SUP> + CA<SUP>2</SUP> - L<SUP>2</SUP>)/(2*D<SUB>1</SUB>*CA))</I></LI><LI>One endpoint of <I>D<SUB>1</SUB></I> is on <I>A<SUB>1</SUB></I>. Thus, we can make another triangle, and the angle between <I>D<SUB>1</SUB></I> and <I>A<SUB>1</SUB></I> is the difference between <I>θ<SUB>1</SUB></I> and <I>θ<SUB>1<SUB>1</SUB></SUB></I>. We will call this angle <I>θ<SUB>1<SUB>2</SUB></SUB></I>. If we have the length of the side on <I>A<SUB>1</SUB></I> be <I>z</I>, then the last side will be <I>x<SUB>o</SUB></I> and the triangle will be a right angle triangle. Since only <I>x<SUB>o<SUB>1</SUB></SUB></I> changes sign in the good interval, we should use a trigonometric function that involves <I>x<SUB>o</SUB></I> in the numerator. Thus,
</LI><LI><I>θ<SUB>1<SUB>2</SUB></SUB> = sin<SUP>-1</SUP>(x<SUB>o<SUB>1</SUB></SUB>/D<SUB>1</SUB>)</I></LI><LI><I>θ<SUB>1</SUB> = cos<SUP>-1</SUP>((D<SUB>1</SUB><SUP>2</SUP> + CA<SUP>2</SUP> - L<SUP>2</SUP>)/(2*D<SUB>1</SUB>*CA)) - sin<SUP>-1</SUP>(x<SUB>o<SUB>1</SUB></SUB>/D<SUB>1</SUB>)</I></LI><LI>You just have to rotate the model <I>φ<SUB>1</SUB></I> degrees counterclockwise for <I>θ<SUB>2</SUB></I>, and another <I>φ<SUB>2</SUB></I> degrees for <I>θ<SUB>3</SUB></I> using the following three dimensional rotational matrixes: </LI><LI>Once you rotate the model, use steps 3-7 to get the next angles.
</LI><LI><I>θ<SUB>2</SUB> = cos<SUP>-1</SUP>((D<SUB>2</SUB><SUP>2</SUP> + CA<SUP>2</SUP> - L<SUP>2</SUP>)/(2*D<SUB>2</SUB>*CA)) - sin<SUP>-1</SUP>(x<SUB>o<SUB>2</SUB></SUB>/D<SUB>2</SUB>)</I></LI><LI><I>θ<SUB>3</SUB> = cos<SUP>-1</SUP>((D<SUB>3</SUB><SUP>2</SUP> + CA<SUP>2</SUP> - L<SUP>2</SUP>)/(2*D<SUB>3</SUB>*CA)) - sin<SUP>-1</SUP>(x<SUB>o<SUB>3</SUB></SUB>/D<SUB>3</SUB>)</I></LI></OL><DIV class="printfooter">
Retrieved from &quot;<A href="http://2009.igem.org/Team:Washington-Software/Modeling">http://2009.igem.org/Team:Washington-Software/Modeling</A>&quot;</DIV></DIV></DIV><DIV id="footer-box"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Washington-Software/Modeling" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Washington-Software/Modeling" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Washington-Software/Modeling&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Washington-Software/Modeling&amp;oldid=114100" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2009.igem.org:Privacy_policy" title="2009.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2009.igem.org:General_disclaimer" title="2009.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>