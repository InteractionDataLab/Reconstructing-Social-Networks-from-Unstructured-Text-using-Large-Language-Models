<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_EPF-Lausanne_Modeling_NamdConf"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu"><UL><LI class="selected"><A href="/Team:EPF-Lausanne/Modeling/NamdConf">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:EPF-Lausanne/Modeling/NamdConf&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:EPF-Lausanne/Modeling/NamdConf&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:EPF-Lausanne/Modeling/NamdConf&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:EPF-Lausanne/Modeling/NamdConf" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:EPF-Lausanne/Modeling/NamdConf</H1><DIV id="bodyContent"><H3 id="siteSub">From 2009.igem.org</H3><DIV style="position: relative; left: 190px; top: -134px; padding: 0px; margin: 0px; border: 0px solid white;z-index:1;"><DIV class="wrapper1"><DIV class="wrapper" style="width:650px;"><DIV class="nav-wrapper"><DIV class="nav"><UL id="navigation" style="width:600px"><LI class="#"><A href="https://2009.igem.org/Team:EPF-Lausanne" target="_self"><SPAN class="menu-mid">Home</SPAN></A></LI><LI class="#"><A href="https://2009.igem.org/Team:EPF-Lausanne/Team" target="_self"><SPAN class="menu-mid">Team</SPAN></A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Team" target="_self">Presentation</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Team#Where_we_are_from" target="_self">School</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Team_Management" target="_self">Team Management</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Brainstorming" target="_self">Brainstorming</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Sponsors" target="_self">Sponsors</A></LI></UL></DIV><LI class="#"><A href="https://2009.igem.org/Team:EPF-Lausanne/Project_Abstract" target="_self"><SPAN class="menu-mid">Project</SPAN></A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Project_Abstract" target="_self">Abstract</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/LOVTAP" target="_self">Theory</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Strategy" target="_self">Strategy</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Experimental_Setup" target="_self">Experimental Setup</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/LOVTAP_Results" target="_self">Results</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Parts" target="_self">Parts submitted to the Registry</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Future_directions" target="_self">Future directions</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/References" target="_self">References</A></LI></DIV><LI class="#"><A href="https://2009.igem.org/Team:EPF-Lausanne/Modeling_overview" target="_self"><SPAN class="menu-mid">Modeling</SPAN></A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Modeling_overview" target="_self">Modeling overview</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Analysis methods" target="_self">Analysis Methods</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Results" target="_self">Results</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Information_&amp;_references" target="_self">References</A></LI></DIV><LI class="#"><A href="https://2009.igem.org/Team:EPF-Lausanne/Social_overview" target="_self"><SPAN class="menu-mid">Human practices</SPAN></A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Social_overview" target="_self">Overview</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Talks" target="_self">Talks</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Survey" target="_self">Survey</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Media" target="_self">Media</A></LI></DIV><LI class="#"><A href="https://2009.igem.org/Team:EPF-Lausanne/Safety" target="_self"><SPAN class="menu-mid">Safety</SPAN></A></LI><LI class="#"><A href="https://2009.igem.org/Team:EPF-Lausanne/Notebook" target="_self"><SPAN class="menu-mid">Lab</SPAN></A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Last_News" target="_self">Last News</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Notebook" target="_self">Notebook</A></LI><LI><A href="https://2009.igem.org/Team:EPF-Lausanne/Protocols" target="_self">Protocols used</A></LI></DIV></DIV></DIV></DIV><DIV class="epfltrick"><TABLE id="toc" class="toc"><TBODY><TR><TD><DIV id="toctitle"><H2>Contents</H2></DIV><UL><LI class="toclevel-1 tocsection-1"><A href="#Job_description"><SPAN class="tocnumber">1</SPAN><SPAN class="toctext">Job description</SPAN></A></LI><LI class="toclevel-1 tocsection-2"><A href="#Adjustable_parameters"><SPAN class="tocnumber">2</SPAN><SPAN class="toctext">Adjustable parameters</SPAN></A></LI><LI class="toclevel-2 tocsection-3"><A href="#First_run"><SPAN class="tocnumber">2.1</SPAN><SPAN class="toctext">First run</SPAN></A></LI><LI class="toclevel-2 tocsection-4"><A href="#Resume_from_.coord.2C_.vel.2C_.xsc"><SPAN class="tocnumber">2.2</SPAN><SPAN class="toctext">Resume from .coord, .vel, .xsc</SPAN></A></LI></UL><LI class="toclevel-1 tocsection-5"><A href="#Simulation_parameters"><SPAN class="tocnumber">3</SPAN><SPAN class="toctext">Simulation parameters</SPAN></A></LI><LI class="toclevel-2 tocsection-6"><A href="#First_run_2"><SPAN class="tocnumber">3.1</SPAN><SPAN class="toctext">First run</SPAN></A></LI><LI class="toclevel-2 tocsection-7"><A href="#Resume_from_.coord.2C_.vel.2C_.xsc_2"><SPAN class="tocnumber">3.2</SPAN><SPAN class="toctext">Resume from .coord, .vel, .xsc</SPAN></A></LI><LI class="toclevel-1 tocsection-8"><A href="#Execution_script"><SPAN class="tocnumber">4</SPAN><SPAN class="toctext">Execution script</SPAN></A></LI><LI class="toclevel-2 tocsection-9"><A href="#Heating"><SPAN class="tocnumber">4.1</SPAN><SPAN class="toctext">Heating</SPAN></A></LI><LI class="toclevel-2 tocsection-10"><A href="#NPT_run"><SPAN class="tocnumber">4.2</SPAN><SPAN class="toctext">NPT run</SPAN></A></LI></TD></TR></TBODY></TABLE></DIV><DIV class="epfl09"><H1><SPAN class="mw-headline" id="Job_description">Job description</SPAN></H1><P>This section is needed are we trying to keep track of each run, please put type of simulation, pdb loaded, date, time and your name
</P><DL><DD> #############################################################
</DD><DD> ## JOB DESCRIPTION                                         ##
</DD><DD> #############################################################
</DD><DD> # NPT simul
</DD><DD> # 2v0u in a water box
</DD><DD> # 12.08.09
</DD><DD> # 14:00
</DD><DD> # Nicolas Gobet
</DD></DL><H1><SPAN class="mw-headline" id="Adjustable_parameters">Adjustable parameters</SPAN></H1><H2><SPAN class="mw-headline" id="First_run">First run</SPAN></H2><P>This is an example for the heating.
</P><DL><DD> #############################################################
</DD><DD> ## ADJUSTABLE PARAMETERS                                   ##
</DD><DD> #############################################################
</DD></DL><DL><DD>structure          ./2v0up_wb_i.psf
</DD><DD>coordinates        ./2v0up_wb_i.pdb
</DD></DL><DL><DD>set paramfich    ./common/par_all27_prot_lipid-fmn_dark.prm
</DD></DL><DL><DD>set temperature    300
</DD></DL><DL><DD> #initial temperature
</DD><DD>temperature         $temperature
</DD></DL><DL><DD>set outputdir        ./output_eq3
</DD></DL><DL><DD>set outputname       $outputdir/2v0up_wb_i_eq
</DD><DD>set outputmin        $outputdir/min
</DD><DD>set outputheating    $outputdir/heating
</DD><DD>set outputnpt1       $outputdir/NPT_1
</DD><DD>set outputnvt        $outputdir/NVT_1
</DD><DD>set outputnpt2       $outputdir/NPT_2
</DD></DL><H2><SPAN class="mw-headline" id="Resume_from_.coord.2C_.vel.2C_.xsc">Resume from .coord, .vel, .xsc</SPAN></H2><P>This is to resume from .coor, .vel and .xsc files. As we load velocities and positions from a file, we don't have to set initial temperature, load .pdb for postions of the atoms and set parameters such as box size
</P><DL><DD> #############################################################
</DD><DD> ## ADJUSTABLE PARAMETERS                                   ##
</DD><DD> #############################################################
</DD></DL><DL><DD>structure          ./2v0up_wb_i.psf
</DD><DD>set paramfich    ./common/par_all27_prot_lipid-fmn_dark.prm
</DD></DL><DL><DD>set temperature 300
</DD></DL><DL><DD>set inputdir        ./output_eq2
</DD><DD>set inputname       2v0up_wb_i_eq
</DD></DL><DL><DD>coordinates 	$inputdir/$inputname.coor
</DD><DD>velocities	$inputdir/$inputname.vel
</DD><DD>extendedSystem  $inputdir/$inputname.xsc
</DD></DL><DL><DD>set outputdir        ./output_sim2
</DD></DL><DL><DD>set outputname       $outputdir/2v0up_wb_i_sim
</DD><DD>set outputsim        $outputdir/min
</DD></DL><H1><SPAN class="mw-headline" id="Simulation_parameters">Simulation parameters</SPAN></H1><H2><SPAN class="mw-headline" id="First_run_2">First run</SPAN></H2><P>This part is from a heating .conf. The size of the box and origin has to be adjusted.
PMEGridSize parameters have to be adjusted to be higher than the size of the box and be a multiple of 2, 3 and 5. (please refer to tutorial)
</P><DL><DD> #############################################################
</DD><DD> ## SIMULATION PARAMETERS                                   ##
</DD><DD> #############################################################
</DD></DL><DL><DD>firsttimestep      0
</DD></DL><DL><DD> # Input
</DD><DD>paraTypeCharmm	    on
</DD><DD>parameters          $paramfich
</DD></DL><DL><DD> # Force-Field Parameters
</DD><DD>exclude             scaled1-4
</DD><DD>1-4scaling          1.0
</DD><DD>cutoff              12.
</DD><DD>switching           on
</DD><DD>switchdist          10.
</DD><DD>pairlistdist        13.5
</DD></DL><DL><DD> # Integrator Parameters
</DD><DD> # <B>We use timestep of 2.0 only for heating!!!!!!</B> Any other case is 1.0
</DD><DD>timestep            <B>2.0</B></DD><DD>rigidBonds          all  ;# needed for 2fs steps
</DD><DD>nonbondedFreq       1
</DD><DD>fullElectFrequency  2  
</DD><DD>stepspercycle       10   
</DD></DL><DL><DD> # Constant Temperature Control
</DD><DD>langevin            on    ;# do langevin dynamics
</DD><DD>langevinDamping     $temperature     ;# damping coefficient (gamma) of 5/ps
</DD><DD>langevinTemp        $temperature # je viens de changer, foiruex avant
</DD><DD>langevinHydrogen    off    ;# don't couple langevin bath to hydrogens
</DD></DL><DL><DD> # Periodic Boundary Conditions
</DD><DD><B>cellBasisVector1    63.39    0.   0.</B></DD><DD><B>cellBasisVector2     0.   65.404   0.</B></DD><DD><B>cellBasisVector3     0.    0   69.675</B></DD><DD><B>cellOrigin          14.1049346924   3.42041158676  3.65775823593</B></DD></DL><DL><DD>wrapAll             on
</DD></DL><DL><DD> # PME (for full-system periodic electrostatics)
</DD><DD>PME                 yes
</DD><DD><B>PMEGridSizeX        66</B></DD><DD><B>PMEGridSizeY        66</B></DD><DD><B>PMEGridSizeZ        70</B></DD></DL><DL><DD> # Constant Pressure Control (variable volume)
</DD><DD>useGroupPressure      yes ;# needed for rigidBonds
</DD><DD>useFlexibleCell       no ;# no for water box
</DD><DD>useConstantArea       no ;# no for water box
</DD></DL><DL><DD>langevinPiston        on
</DD><DD>langevinPistonTarget  1.01325 ;#  in bar -&gt; 1 atm
</DD><DD>langevinPistonPeriod  200.
</DD><DD>langevinPistonDecay   100.
</DD><DD>langevinPistonTemp    $temperature
</DD></DL><DL><DD> # Output
</DD><DD>outputName          $outputname
</DD></DL><DL><DD>restartfreq         500     ;# 500steps = every 1ps
</DD><DD>dcdfreq             200
</DD><DD>xstFreq             200
</DD><DD>outputEnergies      200
</DD><DD>outputPressure      200
</DD><DD>outputTiming   	    200
</DD><DD>binaryoutput	    off
</DD></DL><H2><SPAN class="mw-headline" id="Resume_from_.coord.2C_.vel.2C_.xsc_2">Resume from .coord, .vel, .xsc</SPAN></H2><P>The only difference here is that we lower timestep for NPT simulation to copy parameters from Schulten's paper. Then, we don't set the size of the water box as it is loaded from the file and we lower the frequency of output.
This is what you have to copy for a NPT simulation.
</P><DL><DD> #############################################################
</DD><DD> ## SIMULATION PARAMETERS                                   ##
</DD><DD> #############################################################
</DD></DL><DL><DD>firsttimestep      0
</DD></DL><DL><DD> # Input
</DD><DD>paraTypeCharmm	    on
</DD><DD>parameters          $paramfich
</DD></DL><DL><DD> # Force-Field Parameters
</DD><DD>exclude             scaled1-4
</DD><DD>1-4scaling          1.0
</DD><DD>cutoff              12.
</DD><DD>switching           on
</DD><DD>switchdist          10.
</DD><DD>pairlistdist        13.5
</DD></DL><DL><DD> # Integrator Parameters
</DD><DD><B>timestep            1.0</B></DD><DD>rigidBonds          all  ;# needed for 2fs steps
</DD><DD>nonbondedFreq       1
</DD><DD>fullElectFrequency  2  
</DD><DD>stepspercycle       10   
</DD></DL><DL><DD> # Constant Temperature Control
</DD><DD>langevin            on    ;# do langevin dynamics
</DD><DD>langevinDamping     $temperature     ;# damping coefficient (gamma) of 5/ps
</DD><DD>langevinTemp        $temperature # je viens de changer, foiruex avant
</DD><DD>langevinHydrogen    off    ;# don't couple langevin bath to hydrogens
</DD></DL><DL><DD> # Periodic Boundary Conditions
</DD><DD>wrapAll             on
</DD></DL><DL><DD> # PME (for full-system periodic electrostatics)
</DD><DD>PME                 yes
</DD><DD>PMEGridSizeX        50
</DD><DD>PMEGridSizeY        54
</DD><DD>PMEGridSizeZ        60
</DD></DL><DL><DD> # Constant Pressure Control (variable volume)
</DD><DD>useGroupPressure      yes ;# needed for rigidBonds
</DD><DD>useFlexibleCell       no ;# no for water box
</DD><DD>useConstantArea       no ;# no for water box
</DD></DL><DL><DD>langevinPiston        on
</DD><DD>langevinPistonTarget  1.01325 ;#  in bar -&gt; 1 atm
</DD><DD>langevinPistonPeriod  200.
</DD><DD>langevinPistonDecay   100.
</DD><DD>langevinPistonTemp    $temperature
</DD></DL><DL><DD> # Output
</DD><DD>outputName          $outputname
</DD></DL><DL><DD>restartfreq         2000     ;# 500steps = every 1ps
</DD><DD>dcdfreq             2000
</DD><DD>xstFreq             2000
</DD><DD>outputEnergies      2000
</DD><DD>outputPressure      2000
</DD><DD>outputTiming   	    2000
</DD><DD>binaryoutput	    off
</DD></DL><H1><SPAN class="mw-headline" id="Execution_script">Execution script</SPAN></H1><H2><SPAN class="mw-headline" id="Heating">Heating</SPAN></H2><DL><DD> #############################################################
</DD><DD> ## EXECUTION SCRIPT                                        ##
</DD><DD> #############################################################
</DD></DL><DL><DD> # run one step to get into scripting mode
</DD><DD>minimize 0
</DD></DL><DL><DD> # turn off until later
</DD><DD>langevinPiston	off
</DD></DL><DL><DD> # Minimization
</DD><DD>minimize            2500 
</DD><DD>reinitvels          5
</DD><DD>output $outputmin
</DD></DL><DL><DD> # heating NPT
</DD><DD> # langevin	on
</DD><DD>for {set i 5} {$i &lt;= $temperature} {incr i 5} {			;# i = 5, $i&lt;300, incr i = 5
</DD><DD>set temperaturei $i
</DD><DD>langevinTemp $temperaturei
</DD><DD>langevinPistonTemp $temperaturei
</DD><DD>run 2000						;# run 2000
</DD><DD>} 
</DD></DL><DL><DD> #to be sure we are at the right temperature
</DD><DD>langevinTemp $temperature
</DD><DD>langevinPistonTemp $temperature
</DD></DL><DL><DD>output $outputheating
</DD></DL><DL><DD> # 1st equilibrate pression
</DD><DD> # NPT equilibration
</DD><DD> # langevin on
</DD><DD>langevinPiston on
</DD><DD>run 50000						;# run 50000
</DD><DD>output $outputnpt1
</DD></DL><DL><DD> # NVT equilibration
</DD><DD> # langevin off
</DD><DD>langevinPiston	off
</DD><DD>run 50000						;# run 50000
</DD><DD>output $outputnvt
</DD></DL><DL><DD> # NPT equilibration
</DD><DD>langevinPiston	on
</DD><DD>run 150000						;# run 150000
</DD><DD>output $outputnpt2
</DD></DL><H2><SPAN class="mw-headline" id="NPT_run">NPT run</SPAN></H2><DL><DD> #############################################################
</DD><DD> ## EXECUTION SCRIPT                                        ##
</DD><DD> #############################################################
</DD></DL><DL><DD> # run one step to get into scripting mode
</DD><DD> #minimize 0
</DD></DL><DL><DD> # NPT equilibration
</DD><DD> # langevin	on
</DD><DD> #langevinPiston	on
</DD><DD>run 1000000						;# run 1 ns
</DD><DD>output $outputsim
</DD></DL></DIV><DIV class="printfooter">
Retrieved from &quot;<A href="http://2009.igem.org/Team:EPF-Lausanne/Modeling/NamdConf">http://2009.igem.org/Team:EPF-Lausanne/Modeling/NamdConf</A>&quot;</DIV><DIV id="footer-box"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:EPF-Lausanne/Modeling/NamdConf" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:EPF-Lausanne/Modeling/NamdConf" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:EPF-Lausanne/Modeling/NamdConf&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:EPF-Lausanne/Modeling/NamdConf&amp;oldid=144262" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2009.igem.org:Privacy_policy" title="2009.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2009.igem.org:General_disclaimer" title="2009.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></BODY></HTML>