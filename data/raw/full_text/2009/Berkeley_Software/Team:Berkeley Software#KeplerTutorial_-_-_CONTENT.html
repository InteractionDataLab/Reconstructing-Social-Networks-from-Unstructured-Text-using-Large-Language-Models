<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Berkeley_Software_KeplerTutorial"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu"><UL><LI class="selected"><A href="/Team:Berkeley_Software/KeplerTutorial">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Berkeley_Software/KeplerTutorial&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Berkeley_Software/KeplerTutorial&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Berkeley_Software/KeplerTutorial&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Berkeley_Software/KeplerTutorial" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls"><FORM action="/Special:Search" id="searchform">Â </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Berkeley Software/KeplerTutorial</H1><DIV id="bodyContent"><H3 id="siteSub">From 2009.igem.org</H3><P><UL id="links"><LI><A title="Home" href="https://2009.igem.org/Team:Berkeley_Software">Home</A></LI><LI><A title="Project" href="https://2009.igem.org/Team:Berkeley_Software/Project">Project</A></LI><LI><A title="Team" href="https://2009.igem.org/Team:Berkeley_Software/Team">Team</A></LI><LI><A title="Notebooks" href="https://2009.igem.org/Team:Berkeley_Software/Notebook">Notebooks</A></LI><LI><A title="Downloads" href="https://2009.igem.org/Team:Berkeley_Software/Downloads">Downloads</A></LI><LI><A title="Misc" href="https://2009.igem.org/Team:Berkeley_Software/Misc">Miscellaneous</A></LI></UL></P><DIV id="rightSideBox"><P><UL id="imap"><LI id="Eugene"><A href="/Team:Berkeley_Software/Eugene" title="Team:Berkeley Software/Eugene">Eugene</A></LI><LI id="Spectacles"><A href="/Team:Berkeley_Software/Spectacles" title="Team:Berkeley Software/Spectacles">Spectacles</A></LI><LI id="Kepler"><A href="/Team:Berkeley_Software/Kepler" title="Team:Berkeley Software/Kepler">Kepler</A></LI><LI id="DataModel"><A href="/Team:Berkeley_Software/Data_Model" title="Team:Berkeley Software/Data Model">Data Model</A></LI></UL></P></DIV><H1 id="sectionTitle">
Kepler Tutorial


</H1><H3><SPAN class="mw-headline" id="Introduction">Introduction</SPAN></H3><DIV id="intro"><P>The Kepler design environment helps scientists design models and perform analysis across a broad range of scientific and engineering disciplines. We were interested in answering the question, <I>&quot;can Kepler be used in synthetic biology efficiently&quot;</I>. In order to investigate this more we introduced Kepler into synthetic biology by building a set of new Kepler actors for assembly automation and to provide a remote connection to Clotho. Our goal was to create a set of reusable actors and workflows which in the face of constant change could adapt to reflect the latest lab protocols and design flows. For more information on Kepler we invite you to check out the <A href="http://kepler-project.org/" class="external text" rel="nofollow">Kepler Project Website</A>. In addition, much of the work we performed was with the <A href="http://chess.eecs.berkeley.edu" class="external text" rel="nofollow">Center for Hybrid Embedded Software Systems (CHESS)</A> as Kepler was born of the <A href="http://ptolemy.eecs.berkeley.edu/" class="external text" rel="nofollow">Ptolemy Project</A>.
</P></DIV><DIV id="sectionContent"><H2><SPAN class="mw-headline" id="Components">Components</SPAN></H2><P>In Kepler, a workflow is built from a collection of process steps that run under the control of a supervisor system.</P><P>Those separate steps are called &quot;actors&quot;, they are represented as square icons but inside them resides code determining what to run in a &quot;step&quot; of a workflow simulation. A step can be an input/output operation, a computational function, or even another workflow. Actors can support hierarchical construction where composite actors contain multiple primitive actors. These actors are supervised by the &quot;director&quot;, which keeps track of when to run each actor.</P><DIV class="thumb tleft"><DIV class="thumbinner" style="width:532px;"><DIV class="thumbcaption"><SPAN style="font-family: Georgia, serif;">Some Sample Kepler Actors</SPAN></DIV></DIV></DIV><DIV class="thumb tleft"><DIV class="thumbinner" style="width:172px;"><DIV class="thumbcaption"><SPAN style="font-family: Georgia, serif;">Common Kepler Directors - Static DataFlow and Dynamic DataFlow</SPAN></DIV></DIV></DIV><P>Kepler comes with a library of available actors for many tasks, and user can always write their custom actors and share.
</P><P>The online manuals provide detailed instruction for installing and making workflows: <A href="https://kepler-project.org/users/documentation" class="external text" rel="nofollow">Kepler Documentation</A>. We highly recommend those interested read this material as it contains much more detailed descriptions then we will provide here.</P><H2><SPAN class="mw-headline" id="Automated_Assembly_Workflow">Automated Assembly Workflow</SPAN></H2><CENTER><DIV class="thumb tleft"><DIV class="thumbinner" style="width:902px;"><DIV class="thumbcaption"><SPAN style="font-family: Georgia, serif;">Our Automated Assembly Kepler Workflow</SPAN></DIV></DIV></DIV></CENTER><P>
As described in the <A href="https://2009.igem.org/Team:Berkeley_Software/Kepler" class="external text" rel="nofollow">Kepler project page</A>, this workflow receives  assembly information from Clotho's Algorithm Manager, and outputs files for the liquid handling robot as well as human readable instructions.</P><H3><SPAN class="mw-headline" id="Detailed_Actor_List">Detailed Actor List</SPAN></H3><P><B>A</B>. OpenClothoConnection: connect Kepler to Clotho while the Clotho RMI Tool is running. If successful, this actor will output the connection with Clotho RMI methods so the next actors can use them.<B>B</B>. GetAssemblyGraph &amp; GetString: both receive data from Clotho, such as an assembly graph or some debugging information. These actors output either genetic Object data or a special structure such as the assembly information.<B>C</B>. GraphProcessing: process the assembly information, check &amp; prepare data for further options.<B>D</B>. DialogOption: allows for users to make antibiotic choices, either at runtime or the user can provide a choice as a parameter before workflow runs.<B>E</B>. AutomationScheduler<B>F</B>. Constant: Input for the stage number. This is only a constant number, thus it is easy for future modifications such as using an array so that multiple stages can be specified in one run.<B>G</B>. OneStageProcessing: Creates the files from an assembly graph, the choice of stage, and antibiotic selection.<B>H</B>. Display actors: Use to display information, such as when the workflow is finished getting data and the names of created files.</P><H2><SPAN class="mw-headline" id="Clotho_RMI_Connection">Clotho RMI Connection</SPAN></H2><P>One of the key challenges for biology tool development is how to effectively share and cooperate. This year we strengthened the possibility of establishing a connection between Clotho and other software tools. In particular, the Clotho platform and Kepler can connect and send data through the a remote API interface via Java RMI. This RMI connection will guarantee Clotho and Kepler to talk to any Java software that import the same interface.
</P><CENTER><DIV class="thumb tleft"><DIV class="thumbinner" style="width:552px;"><DIV class="thumbcaption"><SPAN style="font-family: Georgia, serif;">RMI Connection and Clotho Interaction</SPAN></DIV></DIV></DIV></CENTER><P>In our assembly workflow, we made a custom actor which opens a Clotho RMI connection. We also made actors that read data from Clotho tools. These actors support communication via genetic data objects (for maximum flexibility) and have parameters for tool name and object fields, thus they will work with any future Clotho tools, as long as those tools support <A href="https://2009.igem.org/Team:Berkeley_Software/Data_Model" class="external text" rel="nofollow">Clotho Data API</A> methods.
</P><P>Clotho RMI interface:</P><PRE>   /**
    * Get data from a Clotho tool. The tool must already instantiated in Clotho.
    * Data will be called from the core method getData
    * @param toolName - exact class name in up &amp; lower case of a Clotho tool
    * @param object
    * @param field
    * @return data as Object, need to cast back to the correct class
    * @throws java.rmi.RemoteException
    */
   public Object getData(String toolName, String object, String field) throws RemoteException;
   /**
    * Send data to an instantiated Clotho tool.
    * Data will be sent by the core method sendData without operation code
    * @param toolName -exact class name in up &amp; lower case of a  Clotho tool
    * @param object
    * @param field
    * @param data - Data to be sent
    * @throws java.rmi.RemoteException
    */
   public void sendData(String toolName, String object, String field, Object data) throws RemoteException;
</PRE><CENTER><DIV class="thumb tleft"><DIV class="thumbinner" style="width:702px;"><DIV class="thumbcaption"><SPAN style="font-family: Georgia, serif;">&quot;GetString&quot; Actor Interface</SPAN></DIV></DIV></DIV></CENTER><P>
This is the configuration of the Kepler actor &quot;GetString&quot;. This actor can read data from tools in Clotho and send out a String object to output ports. In the image, we want to read data from the tool &quot;AlgorithmManager&quot;, if there are multiple data fields, we can further specify what data we want with the other two parameters.
</P><H2><SPAN class="mw-headline" id="User_Options">User Options</SPAN></H2><P>In an assembly workflow, we need to to have some user options such as antibiotic selection or stage choices. The problem during a running workflow is to allow the user the ability to select a choice at runtime, along with displaying some information about the current data so the user knows as much as possible about about their preferred choices. However, if the same workflow needs to run multiple times, with almost the same data and choices, repeatedly asking the user to click similar things repeatedly is not ideal. With Kepler workflows, we present two ways of giving users choices, either at runtime or via parameters before workflow starts. For example, the &quot;Dialog Option&quot; actor for antibiotic choices will pop up a dialog for choosing antibiotics at runtime, after Kepler receives the assembly graph and provides an explanation about each choice. Alternatively, experienced users can also input an integer as an antibiotic index before clicking run, and the workflow will run to completion without pause for a pop-up dialog box. These dual ways of presenting user options enable the workflow to run as a regular tool with step-by-step choices and a fully automated process for a large numbers of similar runs, even without graphical interface. 
</P><CENTER><DIV class="thumb tleft"><DIV class="thumbinner" style="width:602px;"><DIV class="thumbcaption"><SPAN style="font-family: Georgia, serif;">&quot;Dialog Option&quot; Actor Illustration for Antibiotic Selection</SPAN></DIV></DIV></DIV></CENTER><P>The stage chooser also is designed with flexibility in mind, allowing users to further modify the stage choice by putting an array of stage numbers, or another dialog option.
</P><H2><SPAN class="mw-headline" id="Demo">Demo</SPAN></H2><P><CENTER> Demo illustrating a Kepler workflow in action.</CENTER></P></DIV><DIV class="printfooter">
Retrieved from &quot;<A href="http://2009.igem.org/Team:Berkeley_Software/KeplerTutorial">http://2009.igem.org/Team:Berkeley_Software/KeplerTutorial</A>&quot;</DIV></DIV></DIV><DIV id="footer-box"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Berkeley_Software/KeplerTutorial" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Berkeley_Software/KeplerTutorial" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Berkeley_Software/KeplerTutorial&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Berkeley_Software/KeplerTutorial&amp;oldid=161773" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2009.igem.org:Privacy_policy" title="2009.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2009.igem.org:General_disclaimer" title="2009.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>