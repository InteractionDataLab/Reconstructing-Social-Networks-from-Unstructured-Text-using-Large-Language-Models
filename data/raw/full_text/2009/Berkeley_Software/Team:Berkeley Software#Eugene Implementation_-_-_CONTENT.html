<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Berkeley_Software_Eugene_Implementation"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu"><UL><LI class="selected"><A href="/Team:Berkeley_Software/Eugene_Implementation">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Berkeley_Software/Eugene_Implementation&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Berkeley_Software/Eugene_Implementation&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Berkeley_Software/Eugene_Implementation&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Berkeley_Software/Eugene_Implementation" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Berkeley Software/Eugene Implementation</H1><DIV id="bodyContent"><H3 id="siteSub">From 2009.igem.org</H3><P><UL id="links"><LI><A title="Home" href="https://2009.igem.org/Team:Berkeley_Software">Home</A></LI><LI><A title="Project" href="https://2009.igem.org/Team:Berkeley_Software/Project">Project</A></LI><LI><A title="Team" href="https://2009.igem.org/Team:Berkeley_Software/Team">Team</A></LI><LI><A title="Notebooks" href="https://2009.igem.org/Team:Berkeley_Software/Notebook">Notebooks</A></LI><LI><A title="Downloads" href="https://2009.igem.org/Team:Berkeley_Software/Downloads">Downloads</A></LI><LI><A title="Misc" href="https://2009.igem.org/Team:Berkeley_Software/Misc">Miscellaneous</A></LI></UL></P><SPAN id="Implementation"><H3><SPAN class="mw-headline" id="Implementation">Implementation</SPAN></H3></SPAN><DIV class="center"><DIV class="thumb tnone"><DIV class="thumbinner" style="width:902px;"><DIV class="thumbcaption"><P style="text-align: center;"><FONT size="2"><SPAN style="font-family: Georgia, serif;">Figure 1: Eugene Flow Diagram</SPAN></FONT></P></DIV></DIV></DIV></DIV><P><B><FONT size="3">Header File Creation</FONT></B>
Header files give the language the functionality to access many already predefined Parts in the databases. For the purpose of convenient data exchange over the Internet, XML could be used to read information from a database. Then the data is converted into Eugene syntax to represent the header files. As a result the language definitions are not just abstract statements but are tied to existing designs. There are three main header files: PropertyDefintion.h, PartDefiniton.h and PartDeclaration.h shown in Figure 1.</P><P style="text-align: right;"><A href="#Implementation">Back Up</A></P><P><B><FONT size="3">Eugene Main File</FONT></B>
This is the file that will specify the design expressed in Eugene syntax. The main .eug file can include the header files, which need to be specified at the top:
</P><PRE>
include PropertyDefintion.h, PartDefinition.h, PartDeclaration.h;
</PRE><P>The main file will generally consist of custom <A href="/Team:Berkeley_Software/Eugene#Part_Definition_Part" title="Team:Berkeley Software/Eugene"> Part definitions</A>/<A href="/Team:Berkeley_Software/Eugene#Part_Declaration" title="Team:Berkeley Software/Eugene">declarations</A>, <A href="/Team:Berkeley_Software/Eugene#Devices" title="Team:Berkeley Software/Eugene"> device constructs</A>, <A href="/Team:Berkeley_Software/Eugene#Rules" title="Team:Berkeley Software/Eugene"> rule implementations</A>, <A href="/Team:Berkeley_Software/Eugene#ConditionalSt" title="Team:Berkeley Software/Eugene"> control statements</A>, and <A href="/Team:Berkeley_Software/Eugene#Functions" title="Team:Berkeley Software/Eugene">function calls</A>.</P><P style="text-align: right;"><A href="#Implementation">Back Up</A></P><P><B><FONT size="3">Eugene Compiler</FONT></B>
The Eugene Compiler was created using <A href="http://www.antlr.org" class="external text" rel="nofollow">ANTLR</A>, which is a LL(*) recursive-descent parser generator that accepts lexer, parser, and tree grammars. <A href="http://www.antlr.org" class="external text" rel="nofollow">ANTLR</A> is used as the parser generator for Eugene code, since it allows the reuse of grammar with different semantic actions and the creation of parsers in another language, which can be useful in implementing Eugene with other tools. The grammar for Eugene eugene.g is taken as input by <A href="http://www.antlr.org" class="external text" rel="nofollow">ANTLR</A> to create a Eugene parser and lexer file. The Eugene parser internally establishes a Backend Data Model to be used further by the Eugene Exporter. At the same time, when inputing a design in Eugene language, a data structure is created after some preprocessing of the header files. This can be applied either directly to <A href="/Team:Berkeley_Software/Spectacles" title="Team:Berkeley Software/Spectacles">Spectacles</A>, or to other visual tools after conversion to XML from our internal <A href="#Data_Structure">Data Structure</A>.</P><P style="text-align: right;"><A href="#Implementation">Back Up</A></P><P><B><FONT size="3"><SPAN id="Data_Structure">Data Structure</SPAN></FONT></B>
The data structure consists of four main <A href="#Classes">classes</A>, which directly relate to the Eugene syntax. Each instance of these classes is referenced by the user-defined name from the Eugene files and stored in global hash maps according to the class type. </P><P><SPAN id="Classes"><FONT size="3"><I>Classes</I></FONT></SPAN></P><OL><LI>The Primitive class acts as a container for numbers, text, lists and boolean values. </LI><LI>The Part class stores the instance of a Part and its Property values as a Hash map of Property labels referencing Primitive data types. Each Part instance will point towards the Part definition it came from through its type field. An image path can be bound to a Part where Part instances can have different images if the user specifies accordingly.</LI><LI>The Device class stores the instance of a Device and the names of the ordered list of components. An image path can also be associated with a specific instance. </LI><LI>The Rule class stores the instance of a Rule definition, where the rule statement is broken into three components: the left and right operand and the operator. </LI></OL><P align="center"><B>Figure 2: Class Organization for Eugene</B></P><P><SPAN id="Global_Data_Structure"><FONT size="3"><I>Global Data Structure</I></FONT></SPAN>
The data structure is divided between the storage of Part and Property definitions and the actual instances corresponding to their classes for efficient and immediate access to the data. Every instance is referenced by name and stored in a hash map according to the class it belongs. Parts, Devices, rules and primitives are kept in separate hash maps.
The hash map propertyDefinitions stores the defined Property labels and their type. For instance the sequence property will be of type txt as shown in Figure 3. The hash map partDefinitions stores the defined Parts and the property labels as well as any image associated with the specific Part. For example the Part Promoter will have the properties ID, Sequence and Orientation.</P><P align="center"><B>Figure 3: Populating Global Data Structures with Property and Part Definitions</B></P><P>The hash map partDeclarations contains the declared Part instances. Each instance contains a list of Property values. For example, the Part instance BBa_I0500 is of type Promoter having the properties ID, Sequence and Orientation where Sequence is of type “txt” and has “GATCTtta…” as its value as shown in Figure 4. Similarly, deviceDeclarations, ruleDeclarations and primitiveDeclarations store the instance names referring to class instances of Device, Rule and Primitive respectively.</P><P align="center"><B>Figure 4: Populating Global Data Structures with Primitive, Part, and Device Declarations </B></P><P>The hash maps ruleAsssertions and ruleNotes in Figure 5 store the assert and note statements as keys which point towards lists containing the individual elements of the statement in reverse Polish notation. Postfix notation is used to help evaluate the truth-value of each assert or note statement. The statements have a global scope. Therefore, every time a Device is created the program goes through each list and applies these statements to the Device.</P><P align="center"><B>Figure 5: Populating Global Data Structures with Rule Declarations, Assertions, and Notes </B></P><P style="text-align: right;"><A href="#Implementation">Back Up</A></P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2009.igem.org/Team:Berkeley_Software/Eugene_Implementation">http://2009.igem.org/Team:Berkeley_Software/Eugene_Implementation</A>&quot;</DIV></DIV></DIV><DIV id="footer-box"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Berkeley_Software/Eugene_Implementation" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Berkeley_Software/Eugene_Implementation" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Berkeley_Software/Eugene_Implementation&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Berkeley_Software/Eugene_Implementation&amp;oldid=162667" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2009.igem.org:Privacy_policy" title="2009.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2009.igem.org:General_disclaimer" title="2009.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>