<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Tianjin_Team_js_responsiveslides_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Tianjin/Team/js/responsiveslides.js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>/*! ResponsiveSlides.js v1.32
</P><PRE>* <A rel="nofollow" class="external free" href="http://responsiveslides.com">http://responsiveslides.com</A>
* <A rel="nofollow" class="external free" href="http://viljamis.com">http://viljamis.com</A>
*
* Copyright (c) 2011-2012 @viljamis
* Available under the MIT license
*/
</PRE><P>/*jslint browser: true, sloppy: true, vars: true, plusplus: true, indent: 2 */
</P><P>(function ($, window, i) {
</P><PRE> $.fn.responsiveSlides = function (options) {
</PRE><PRE>   // Default settings
   var settings = $.extend({
     &quot;auto&quot;: true,             // Boolean: Animate automatically, true or false
     &quot;speed&quot;: 1000,            // Integer: Speed of the transition, in milliseconds
     &quot;timeout&quot;: 4000,          // Integer: Time between slide transitions, in milliseconds
     &quot;pager&quot;: false,           // Boolean: Show pager, true or false
     &quot;nav&quot;: false,             // Boolean: Show navigation, true or false
     &quot;random&quot;: false,          // Boolean: Randomize the order of the slides, true or false
     &quot;pause&quot;: false,           // Boolean: Pause on hover, true or false
     &quot;pauseControls&quot;: false,   // Boolean: Pause when hovering controls, true or false
     &quot;prevText&quot;: &quot;Previous&quot;,   // String: Text for the &quot;previous&quot; button
     &quot;nextText&quot;: &quot;Next&quot;,       // String: Text for the &quot;next&quot; button
     &quot;maxwidth&quot;: &quot;&quot;,           // Integer: Max-width of the slideshow, in pixels
</PRE>
      &quot;controls&quot;: &quot;&quot;,           // Selector: Where controls should be appended to, default is after the <UL>
      &quot;namespace&quot;: &quot;rslides&quot;,   // String: change the default namespace used
      before: function () {},   // Function: Before callback
      after: function () {}     // Function: After callback
    }, options);

    return this.each(function () {

      // Index for namespacing
      i++;

      var $this = $(this),

        // Local variables
        selectTab,
        startCycle,
        restartCycle,
        rotate,
        $tabs,

        // Helpers
        index = 0,
        $slide = $this.children(),
        length = $slide.size(),
        fadeTime = parseFloat(settings.speed),
        waitTime = parseFloat(settings.timeout),
        maxw = parseFloat(settings.maxwidth),

        // Namespacing
        namespace = settings.namespace,
        namespaceIdx = namespace + i,

        // Classes
        navClass = namespace + &quot;_nav &quot; + namespaceIdx + &quot;_nav&quot;,
        activeClass = namespace + &quot;_here&quot;,
        visibleClass = namespaceIdx + &quot;_on&quot;,
        slideClassPrefix = namespaceIdx + &quot;_s&quot;,

        // Pager
        $pager = $(&quot;&lt;ul class='&quot; + namespace + &quot;_tabs &quot; + namespaceIdx + &quot;_tabs' /&gt;&quot;),

        // Styles for visible and hidden slides
        visible = {&quot;float&quot;: &quot;left&quot;, &quot;position&quot;: &quot;relative&quot;},
        hidden = {&quot;float&quot;: &quot;none&quot;, &quot;position&quot;: &quot;absolute&quot;},

        // Fading animation
        slideTo = function (idx) {
          settings.before();
          $slide
            .stop()
            .fadeOut(fadeTime, function () {
              $(this)
                .removeClass(visibleClass)
                .css(hidden);
            })
            .eq(idx)
            .fadeIn(fadeTime, function () {
              $(this)
                .addClass(visibleClass)
                .css(visible);
              settings.after();
              index = idx;
            });
        };

      // Random order
      if (settings.random) {
        $slide.sort(function () {
          return (Math.round(Math.random()) - 0.5);
        });
        $this
          .empty()
          .append($slide);
      }

      // Add ID's to each slide
      $slide.each(function (i) {
        this.id = slideClassPrefix + i;
      });

      // Add max-width and classes
      $this.addClass(namespace + &quot; &quot; + namespaceIdx);
      if (options &amp;&amp; options.maxwidth) {
        $this.css(&quot;max-width&quot;, maxw);
      }

      // Hide all slides, then show first one
      $slide
        .hide()
        .eq(0)
        .addClass(visibleClass)
        .css(visible)
        .show();

      // Only run if there's more than one slide
      if ($slide.size() &gt; 1) {

        // Make sure the timeout is at least 100ms longer than the fade
        if (waitTime &lt; fadeTime + 100) {
          return;
        }

        // Pager
        if (settings.pager) {
          var tabMarkup = [];
          $slide.each(function (i) {
            var n = i + 1;
            tabMarkup +=
              &quot;<LI>&quot; +
              &quot;&lt;a href='#' class='&quot; + slideClassPrefix + n + &quot;'&gt;&quot; + n + &quot;&lt;/a&gt;&quot; +
              &quot;</LI>&quot;;
<PRE>         });
         $pager.append(tabMarkup);
</PRE><PRE>         $tabs = $pager.find(&quot;a&quot;);
</PRE><PRE>         // Inject pager
         if (options.controls) {
           $(settings.controls).append($pager);
         } else {
           $this.after($pager);
         }
</PRE><PRE>         // Select pager item
         selectTab = function (idx) {
           $tabs
             .closest(&quot;li&quot;)
             .removeClass(activeClass)
             .eq(idx)
             .addClass(activeClass);
         };
       }
</PRE><PRE>       // Auto cycle
       if (settings.auto) {
</PRE><PRE>         startCycle = function () {
           rotate = setInterval(function () {
</PRE><PRE>             // Clear the event queue
             $slide.stop(true, true);
</PRE><PRE>             var idx = index + 1 &lt; length ? index + 1 : 0;
</PRE><PRE>             // Remove active state and set new if pager is set
             if (settings.pager) {
               selectTab(idx);
             }
</PRE><PRE>             slideTo(idx);
           }, waitTime);
         };
</PRE><PRE>         // Init cycle
         startCycle();
       }
</PRE><PRE>       // Restarting cycle
       restartCycle = function () {
         if (settings.auto) {
           // Stop
           clearInterval(rotate);
           // Restart
           startCycle();
         }
       };
</PRE><PRE>       // Pause on hover
       if (settings.pause) {
         $this.hover(function () {
           clearInterval(rotate);
         }, function () {
           restartCycle();
         });
       }
</PRE><PRE>       // Pager click event handler
       if (settings.pager) {
         $tabs.bind(&quot;click&quot;, function (e) {
           e.preventDefault();
</PRE><PRE>           if (!settings.pauseControls) {
             restartCycle();
           }
</PRE><PRE>           // Get index of clicked tab
           var idx = $tabs.index(this);
</PRE><PRE>           // Break if element is already active or currently animated
           if (index === idx || $(&quot;.&quot; + visibleClass + &quot;:animated&quot;).length) {
             return;
           }
</PRE><PRE>           // Remove active state from old tab and set new one
           selectTab(idx);
</PRE><PRE>           // Do the animation
           slideTo(idx);
         })
           .eq(0)
           .closest(&quot;li&quot;)
           .addClass(activeClass);
</PRE><PRE>         // Pause when hovering pager
         if (settings.pauseControls) {
           $tabs.hover(function () {
             clearInterval(rotate);
           }, function () {
             restartCycle();
           });
         }
       }
</PRE><PRE>       // Navigation
       if (settings.nav) {
         var navMarkup =
           &quot;&lt;a href='#' class='&quot; + navClass + &quot; prev'&gt;&quot; + settings.prevText + &quot;&lt;/a&gt;&quot; +
           &quot;&lt;a href='#' class='&quot; + navClass + &quot; next'&gt;&quot; + settings.nextText + &quot;&lt;/a&gt;&quot;;
</PRE><PRE>         // Inject navigation
         if (options.controls) {
           $(settings.controls).append(navMarkup);
         } else {
           $this.after(navMarkup);
         }
</PRE><PRE>         var $trigger = $(&quot;.&quot; + namespaceIdx + &quot;_nav&quot;),
           $prev = $(&quot;.&quot; + namespaceIdx + &quot;_nav.prev&quot;);
</PRE><PRE>         // Click event handler
         $trigger.bind(&quot;click&quot;, function (e) {
           e.preventDefault();
</PRE><PRE>           // Prevent clicking if currently animated
           if ($(&quot;.&quot; + visibleClass + &quot;:animated&quot;).length) {
             return;
           }
</PRE><PRE>           //  Adds active class during slide animation
           //  $(this)
           //    .addClass(namespace + &quot;_active&quot;)
           //    .delay(fadeTime)
           //    .queue(function (next) {
           //      $(this).removeClass(namespace + &quot;_active&quot;);
           //      next();
           //  });
</PRE><PRE>           // Determine where to slide
           var idx = $slide.index($(&quot;.&quot; + visibleClass)),
             prevIdx = idx - 1,
             nextIdx = idx + 1 &lt; length ? index + 1 : 0;
</PRE><PRE>           // Go to slide
           slideTo($(this)[0] === $prev[0] ? prevIdx : nextIdx);
           if (settings.pager) {
             selectTab($(this)[0] === $prev[0] ? prevIdx : nextIdx);
           }
</PRE><PRE>           if (!settings.pauseControls) {
             restartCycle();
           }
         });
</PRE><PRE>         // Pause when hovering navigation
         if (settings.pauseControls) {
           $trigger.hover(function () {
             clearInterval(rotate);
           }, function () {
             restartCycle();
           });
         }
       }
</PRE><PRE>     }
</PRE><PRE>     // Max-width fallback
     if (typeof document.body.style.maxWidth === &quot;undefined&quot; &amp;&amp; options.maxwidth) {
       var widthSupport = function () {
         $this.css(&quot;width&quot;, &quot;100%&quot;);
         if ($this.width() &gt; maxw) {
           $this.css(&quot;width&quot;, maxw);
         }
       };
</PRE><PRE>       // Init fallback
       widthSupport();
       $(window).bind(&quot;resize&quot;, function () {
         widthSupport();
       });
     }
</PRE><PRE>   });
</PRE><PRE> };
</PRE>
})(jQuery, this, 0);</UL></DIV></DIV></DIV></DIV></DIV></BODY></HTML>