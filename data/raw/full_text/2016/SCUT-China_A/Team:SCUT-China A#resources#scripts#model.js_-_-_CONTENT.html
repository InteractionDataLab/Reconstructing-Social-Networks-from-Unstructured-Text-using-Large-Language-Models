<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_SCUT-China_A_resources_scripts_model_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:SCUT-China A/resources/scripts/model.js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>// ******* Object Model ******** //
$axure.internal(function($ax) {
</P><PRE>   var _implementations = {};
</PRE><PRE>   var _initializeObject = function(type, obj) {
       $.extend(obj, _implementations[type]);
   };
   $ax.initializeObject = _initializeObject;
</PRE><PRE>   var _model = $ax.model = {};
</PRE><PRE>   _model.idsInRdo = function(rdoId, scriptIds) {
       var rdoScriptId = $ax.repeater.getScriptIdFromElementId(rdoId);
       var path = $ax.getPathFromScriptId(rdoScriptId);
       var rdoRepeater = $ax.getParentRepeaterFromScriptId(rdoScriptId);
</PRE><PRE>       if(!scriptIds) scriptIds = [];
       $ax('*').each(function(obj, elementId) {
           // Make sure in same rdo
           var scriptId = $ax.repeater.getScriptIdFromElementId(elementId);
           var elementPath = $ax.getPathFromScriptId(scriptId);
           // This is because last part of path is for the obj itself.
           elementPath.pop();
           if(elementPath.length != path.length) return;
           for(var i = 0; i &lt; path.length; i++) if(elementPath[i] != path[i]) return;
</PRE><PRE>           // If object is in a panel, the panel will be hidden, so the obj doesn't have to be.
           if(obj.parentDynamicPanel) return;
</PRE><PRE>           var repeater = $ax.getParentRepeaterFromScriptId(scriptId);
           if(repeater != rdoRepeater) return;
</PRE><PRE>           if($ax.public.fn.IsReferenceDiagramObject(obj.type)) _model.idsInRdo(scriptId, scriptIds);
           else if(scriptIds.indexOf(scriptId) != -1) return;
           // Kind of complicated, but returning for isContained objects, hyperlinks, tabel cell, non-root tree nodes, and images in the tree.
           else if (obj.isContained || obj.type == 'hyperlink' || $ax.public.fn.IsTableCell(obj.type) ||
               ($ax.public.fn.IsTreeNodeObject(obj.type) &amp;&amp; !$jobj(elementId).hasClass('treeroot')) ||
               ($ax.public.fn.IsImageBox(obj.type) &amp;&amp; $ax.public.fn.IsTreeNodeObject(obj.parent.type))) return;
           else scriptIds.push(scriptId);
       });
       return scriptIds;
   };
</PRE><P>});
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>