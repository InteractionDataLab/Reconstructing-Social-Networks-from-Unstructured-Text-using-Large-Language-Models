<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Uppsala_Model skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Uppsala/Model</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><DIV id="nav" class="container-fluid"><DIV class="row"><DIV class="col-lg-12"><UL class="nav nav-pills nav-justified"><LI role="presentation"><A href="https://2016.igem.org/Team:Uppsala">Home</A></LI><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Project </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Description"> ★  Description </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Project/Microfluidics">Microfluidics</A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Project/CRISPR">CRISPR/CPF1</A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Project/UnaG">UnaG</A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Design"> ★ Design </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Model"> ★ Modeling </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Experiments"> Protocols </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Proof"> ★ Proof of Concept </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Demonstrate"> ★ Demonstrate </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Interlab"> Interlab study </A></LI></UL><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Team </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Team">The Team </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Collaborations">★ Collaborations </A></LI><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Parts </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Parts">Parts </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Basic_Part"> ★ Basic Parts </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Composite_Part"> ★ Composite Parts </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Part_Collection"> ★ Part Collection </A></LI><LI role="presentation"><A href="https://2016.igem.org/Team:Uppsala/Safety">Safety</A></LI><LI role="presentation"><A href="https://2016.igem.org/Team:Uppsala/Attributions"> ★ Attributions</A></LI><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Human Practices </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Human_Practices">Human Practices </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/HP/Silver"> ★ The Price of Transformation</A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/HP/Gold"> ★ The Manual </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Integrated_Practices"> ★ Integrated Practices </A></LI><LI><A href="https://2016.igem.org/Team:Uppsala/Engagement"> ★ Engagement </A></LI></DIV></DIV></DIV><DIV class="container"><DIV class="row"><DIV class="col-lg-8 text"><H2 class="text"> Modeling</H2></DIV><DIV class="col-lg-12"><DIV style="text-align:center"><VIDEO width="420" height="340" controls="" loop=""><SOURCE src="https://static.igem.org/mediawiki/2016/e/e6/T--Uppsala--modeling_droplets.webm" type="video/webm">
Your browser does not support the video tag.
</SOURCE><VIDEO width="420" height="340" controls=""><SOURCE src="https://static.igem.org/mediawiki/2016/3/3b/T--Uppsala--modeling_heat.webm" type="video/webm">
Your browser does not support the video tag.
</SOURCE></VIDEO></VIDEO></DIV></DIV></DIV><DIV class="row"><DIV class="col-lg-8 text"><H3>Why do we need our models?</H3><P>
So, you have made a microfluidic chip for electroporation and one for heat shock transformation. You can easily test their efficiency by running a couple of transformations. You can also know the flow rate, applied voltage and other parameters. However, measuring the temperature or strength of an electric field can prove very challenging in microfluidic channels, given the small dimensions. For these reasons, models are a good method of acquiring knowledge about the details of your chip, especially the details that are difficult to measure. It is good to keep in mind that models are simply simulations of how the chip works and how it changes over time. That is, your actual values may not be exactly like those shown in the model but the model can give you a good picture of what is going on inside the chip. In our case, we were not able to measure the exact temperature of the cell channel inside our heat shock chip. With the help of a COMSOL simulation, we could see the heat spreading in PDMS. Thanks to that we could envision the time it would take for our middle channel to get warm. This was important in order to know if the cells are actually being heat shocked, and at what temperature. For our electroporation chip, we made a prototype and were able to model how certain features would function, had we tested it. Models help us predict results of experiments and estimate the functionality and viability of features on our chips. 
</P><H4>General COMSOL Setup</H4><P>
For modeling our chip we choose appropriate physics: Interface Tracking, Laminar Multiphase Flow, Level Set. Generally interface tracking uses a fixed mesh to calculate how the interface changes between two phases. This method is accurate but also has a high computational cost making it ideal for microfluidics applications where the number of droplets needed to be tracked are few. The model was set in 2D as opposed to 3D because of computational resource restrictions. For the electroporation model we decided to focus on a liquid/liquid interface system as these are generally easier to model and drew the T-junction in COMSOL and assigned correct materials, PDMS, oil and water. The materials were chosen from the included library that contained relevant physical constants. The initial flow rate for both phases was set to 0 as the two phases flow rate are defined under the inlet panel for each channel inlet. Finally an outlet was placed at the end of the main channel.
</P><H3>The Heat Shock Model</H3><P>
One important aspect of designing the heat shock chip was to determine how heat dissipated in the chip. Modeling the heat distribution over time in the heat transformation chip circumvented
the technical problems of measuring the temperature inside the channel which proved to be very complicated due to the small dimensions of the channels and a lack of equipment. To model our problem we used COMSOL. 
</P><P>
To set up the simulation we choose time dependent study and the conjugated heat transfer interface which is used to simulate the coupling between heat transfer and fluid flow. It uses the regular heat equation for the heat transfer in solids and the heat equation for fluids that accounts for energy transport due to flow, heat from pressure work and viscous effects that produce fluid heating. The heat equation of the fluid was coupled with the 2D Navier-Stokes equations for laminar flow.
</P><P>
The geometry of the model was built in COMSOL and the domains of the geometry was assigned material specific attributes from the library like heat capacity etc. The domain of the three channels was water and the domain around and between the channels was PDMS. 
</P><FIGURE><FIGCAPTION>Fig1: Geometry of heat shock chip in COMSOL</FIGCAPTION></FIGURE><P>
A mesh was generated of the drawn chip using the inbuilt mesh generating feature with the parameters set to physics-controlled mesh and element size finer. The mesh is necessary because COMSOL uses the finite element method, a numerical approach where the problem is divided into smaller parts, “elements”, to calculate difficult partial differential equation systems.
</P><FIGURE><FIGCAPTION>Fig2: Generated mesh of heat shock chip in COMSOL</FIGCAPTION></FIGURE><P>
After generating the mesh the initial values and the boundary conditions of the problem was set. Solutions to the PDEs must also satisfy these conditions. The walls of the channel had the no-slip boundary condition that states that the velocity of the fluid at the boundary relative to the wall is zero. This is a good approximation for viscous fluids.
</P><P>
The boundary of the chip to the surrounding was set to a constant temperature of 25°C and
the boundary condition of the two inlets was set to a constant temperature of 65°C to simulate a constant inflow of 65°C water. 
The flow rate of the inlets was set to a laminar inflow with average velocity of 10 cm/s and the outlets was set to open.
</P><P>
The initial temperature of the whole chip was set 25°C and the initial value of the velocity field was set to 0 everywhere in the channels.
</P><FIGURE><FIGCAPTION>Fig3: Simulation progress after 0.02, 3, 5 and 10 s</FIGCAPTION></FIGURE>

The results of modelling the heat shock system can be seen in a real time video at the top of the page.

<H3>The Electroporation Model</H3><H4>Key aspects of the model</H4><P>
We decided to model our design for the electroporation chip so that we could test out different designs of the chip and view the effects of changing parameters such as flow rate and channels size. These parameters ultimately determine the droplet generation and how well the cells are electroporated. By testing a virtual chip system we get both fast and detailed information that is helpful when deciding on the actual parameters of the physical chip. The main goal of the model was to determine if the structure we designed would be able to generate droplets with our intended values for the flow rate of a dispersible phase, an oil phase, and a continuous phase, cell solution. For our chip we also wanted to test a gas/liquid interface for droplet generation. This would be nitrogen gas and the cell solution and means that the continuous phase instead would be nitrogen and the dispersible phase the cell solution. Therefore depending on the interface type, gas/liquid or liquid/liquid, the final model had to be changed to meet the requirement for each type. 
</P><P>
We focused on modelling the T-junction where the continuous fluid acts on an orthogonal channel with incoming dispersible fluid, leading to droplet generation. Droplet formation is thought to occur as a combination of shear stress on the dispersible fluid and a pressure drop when the dispersible fluid droplet has almost filled the entire cross section of the channel. This structure is critical as the size of the droplets and their flow rate after formation will determine how well the cells is being transformed. In fig 4 the geometry of the t-junction is shown as seen in COMSOL with a blue line representing the initial liquid/liquid interface.
</P><FIGURE><FIGCAPTION>Fig4: Geometry of t-junction with initial line liquid/liquid interface</FIGCAPTION></FIGURE><P>
The wetting conditions of the walls was set to no slip conditions. The properties for the surface tension was defined by a liquid/liquid system and the library value for the olive oil/water surface tension coefficient was used. 
</P><P>
The boundary conditions was set to laminar inflow and the average velocity for the continuous phase: 100 nl/min and dispersible phase: 100 nl/min. The entrance length can be calculated from the formula 4A/P were A is the cross sectional area of the channel and P the circumference. Lastly a “coarser” mesh was generated with corner refinement around the edges where the orthogonal channel(dispersible phase channel) meets the main channel (continuous phase channel). The study was set to time dependent as we are tracking a timed event and time range of 0-10 sec with 0.1 s increments. The generated mesh can be seen in picture 1: 
</P><FIGURE><FIGCAPTION>Fig5: Generated mesh of t-junction </FIGCAPTION></FIGURE><P>
It is important to satisfy the CFL requirement of the Courants number being less than 1 for direct solvers. This means that higher flow rates require a finer mesh and smaller time step in order for the solver to converge.
</P>
The results of modeling the electroporation system can be seen in a real time video at the top of the page.

                

            </DIV></DIV><FOOTER><DIV class="container-fluid"><DIV class="container"><DIV class="row"><DIV class="col-lg-2"><P><B>Contact</B><UL><LI><A href="http://igemuppsala.se/"> Uppsala iGEM association </A></LI><LI>  info@igemuppsala.se </LI></UL></P><A href="#nav">
                        To top ↑       
                </A></DIV></DIV></DIV></DIV></FOOTER></DIV></DIV></DIV></DIV></DIV></DIV></BODY></HTML>