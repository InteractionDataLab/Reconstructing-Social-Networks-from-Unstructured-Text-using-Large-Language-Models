<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Tsinghua-A_jquery_poptrox_min_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Tsinghua-A/jquery.poptrox.min.js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>/* jquery.poptrox.js v2.3 | (c) n33 | n33.co | MIT licensed */
(function(d){d.fn.poptrox_disableSelection=function(){return d(this).css(&quot;user-select&quot;,&quot;none&quot;).css(&quot;-khtml-user-select&quot;,&quot;none&quot;).css(&quot;-moz-user-select&quot;,&quot;none&quot;).css(&quot;-o-user-select&quot;,&quot;none&quot;).css(&quot;-webkit-user-select&quot;,&quot;none&quot;)};d.fn.poptrox=function(v){function z(){A=d(window).width();w=d(window).height()+a.windowHeightPad}if(1&lt;this.length)for(var h=0;h&lt;this.length;h++)d(this[h]).poptrox(v);var a=d.extend({preload:!1,baseZIndex:1E3,fadeSpeed:300,overlayColor:&quot;#000000&quot;,overlayOpacity:0.6,windowMargin:50,
windowHeightPad:0,selector:&quot;a&quot;,popupSpeed:300,popupWidth:200,popupHeight:100,popupIsFixed:!1,useBodyOverflow:!0,usePopupEasyClose:!0,usePopupLoader:!0,usePopupCloser:!0,usePopupCaption:!1,usePopupNav:!1,usePopupDefaultStyling:!0,popupBackgroundColor:&quot;#FFFFFF&quot;,popupTextColor:&quot;#000000&quot;,popupLoaderTextSize:&quot;2em&quot;,popupCloserBackgroundColor:&quot;#000000&quot;,popupCloserTextColor:&quot;#FFFFFF&quot;,popupCloserTextSize:&quot;20px&quot;,popupPadding:10,popupCaptionHeight:60,popupCaptionTextSize:null,popupBlankCaptionText:&quot;(untitled)&quot;,
</P>
popupCloserText:&quot;×&quot;,popupLoaderText:&quot;••••&quot;,popupClass:&quot;poptrox-popup&quot;,popupSelector:null,popupLoaderSelector:&quot;.loader&quot;,popupCloserSelector:&quot;.closer&quot;,popupCaptionSelector:&quot;.caption&quot;,popupNavPreviousSelector:&quot;.nav-previous&quot;,popupNavNextSelector:&quot;.nav-next&quot;,onPopupClose:null,onPopupOpen:null},v);v=d(this);var G=d(&quot;body&quot;),n=d(&quot;&quot;),B=d(window),A,w,x=[],t=0,m=!1,I=[],y=navigator.userAgent.match(/MSIE ([0-9]+)\./),h=y&amp;&amp;6==RegExp.$1,y=y&amp;&amp;8&gt;RegExp.$1,H=h?&quot;absolute&quot;:&quot;fixed&quot;;
a.usePopupLoader||(a.popupLoaderSelector=null);a.usePopupCloser||(a.popupCloserSelector=null);a.usePopupCaption||(a.popupCaptionSelector=null);a.usePopupNav||(a.popupNavPreviousSelector=null,a.popupNavNextSelector=null);var c;c=a.popupSelector?d(a.popupSelector):d('<DIV class="'+a.popupClass+'">'+(a.popupLoaderSelector?'<DIV class="loader">'+a.popupLoaderText+&quot;</DIV>&quot;:&quot;&quot;)+''+(a.popupCaptionSelector?'':&quot;&quot;)+(a.popupCloserSelector?'<SPAN class="closer">'+
a.popupCloserText+&quot;</SPAN>&quot;:&quot;&quot;)+(a.popupNavPreviousSelector?'':&quot;&quot;)+(a.popupNavNextSelector?'':&quot;&quot;)+&quot;</DIV>&quot;);var s=c.find(&quot;.pic&quot;),f=d(),p=c.find(a.popupLoaderSelector),k=c.find(a.popupCaptionSelector),r=c.find(a.popupCloserSelector),C=c.find(a.popupNavNextSelector),D=c.find(a.popupNavPreviousSelector),u=C.add(D);if(a.usePopupDefaultStyling){c.css(&quot;background&quot;,a.popupBackgroundColor);c.css(&quot;color&quot;,a.popupTextColor);c.css(&quot;padding&quot;,a.popupPadding+
<P>&quot;px&quot;);0&lt;k.length&amp;&amp;(c.css(&quot;padding-bottom&quot;,a.popupCaptionHeight+&quot;px&quot;),k.css(&quot;position&quot;,&quot;absolute&quot;).css(&quot;left&quot;,&quot;0&quot;).css(&quot;bottom&quot;,&quot;0&quot;).css(&quot;width&quot;,&quot;100%&quot;).css(&quot;text-align&quot;,&quot;center&quot;).css(&quot;height&quot;,a.popupCaptionHeight+&quot;px&quot;).css(&quot;line-height&quot;,a.popupCaptionHeight+&quot;px&quot;),a.popupCaptionTextSize&amp;&amp;k.css(&quot;font-size&quot;,popupCaptionTextSize));0&lt;r.length&amp;&amp;r.html(a.popupCloserText).css(&quot;font-size&quot;,a.popupCloserTextSize).css(&quot;background&quot;,a.popupCloserBackgroundColor).css(&quot;color&quot;,a.popupCloserTextColor).css(&quot;display&quot;,
</P>
&quot;block&quot;).css(&quot;width&quot;,&quot;40px&quot;).css(&quot;height&quot;,&quot;40px&quot;).css(&quot;line-height&quot;,&quot;40px&quot;).css(&quot;text-align&quot;,&quot;center&quot;).css(&quot;position&quot;,&quot;absolute&quot;).css(&quot;text-decoration&quot;,&quot;none&quot;).css(&quot;outline&quot;,&quot;0&quot;).css(&quot;top&quot;,&quot;0&quot;).css(&quot;right&quot;,&quot;-40px&quot;);if(0&lt;p.length)p.html(&quot;&quot;).css(&quot;position&quot;,&quot;relative&quot;).css(&quot;font-size&quot;,a.popupLoaderTextSize).on(&quot;startSpinning&quot;,function(J){var b=d(&quot;<DIV>&quot;+a.popupLoaderText+&quot;</DIV>&quot;);b.css(&quot;height&quot;,Math.floor(a.popupHeight/2)+&quot;px&quot;).css(&quot;overflow&quot;,&quot;hidden&quot;).css(&quot;line-height&quot;,Math.floor(a.popupHeight/2)+
<P>&quot;px&quot;).css(&quot;text-align&quot;,&quot;center&quot;).css(&quot;margin-top&quot;,Math.floor((c.height()-b.height()+(0&lt;k.length?k.height():0))/2)).css(&quot;color&quot;,a.popupTextColor?a.popupTextColor:&quot;&quot;).on(&quot;xfin&quot;,function(){b.fadeTo(300,0.5,function(){b.trigger(&quot;xfout&quot;)})}).on(&quot;xfout&quot;,function(){b.fadeTo(300,0.05,function(){b.trigger(&quot;xfin&quot;)})}).trigger(&quot;xfin&quot;);p.append(b)}).on(&quot;stopSpinning&quot;,function(a){p.find(&quot;div&quot;).remove()});if(2==u.length){u.css(&quot;font-size&quot;,&quot;75px&quot;).css(&quot;text-align&quot;,&quot;center&quot;).css(&quot;color&quot;,&quot;#fff&quot;).css(&quot;text-shadow&quot;,
</P>
&quot;none&quot;).css(&quot;height&quot;,&quot;100%&quot;).css(&quot;position&quot;,&quot;absolute&quot;).css(&quot;top&quot;,&quot;0&quot;).css(&quot;opacity&quot;,&quot;0.35&quot;).css(&quot;cursor&quot;,&quot;pointer&quot;).css(&quot;box-shadow&quot;,&quot;inset 0px 0px 10px 0px rgba(0,0,0,0)&quot;).poptrox_disableSelection();var E,F;a.usePopupEasyClose?F=E=&quot;100px&quot;:(E=&quot;75%&quot;,F=&quot;25%&quot;);C.css(&quot;right&quot;,&quot;0&quot;).css(&quot;width&quot;,E).html('<DIV style="position: absolute; height: 100px; width: 125px; top: 50%; right: 0; margin-top: -50px;">&gt;</DIV>');D.css(&quot;left&quot;,&quot;0&quot;).css(&quot;width&quot;,F).html('<DIV style="position: absolute; height: 100px; width: 125px; top: 50%; left: 0; margin-top: -50px;">&lt;</DIV>')}}B.on(&quot;orientationchange&quot;,
<P>function(){B.trigger(&quot;resize&quot;)}).resize(function(){z();c.trigger(&quot;poptrox_close&quot;)});k.on(&quot;update&quot;,function(c,b){b&amp;&amp;0!=b.length||(b=a.popupBlankCaptionText);k.html(b)});r.css(&quot;cursor&quot;,&quot;pointer&quot;).on(&quot;click&quot;,function(a){a.preventDefault();a.stopPropagation();c.trigger(&quot;poptrox_close&quot;);return!0});C.on(&quot;click&quot;,function(){c.trigger(&quot;poptrox_next&quot;)});D.on(&quot;click&quot;,function(){c.trigger(&quot;poptrox_previous&quot;)});n.prependTo(y?&quot;body&quot;:&quot;html&quot;).hide();h?n.css(&quot;position&quot;,&quot;absolute&quot;):n.css(&quot;position&quot;,H).css(&quot;left&quot;,0).css(&quot;top&quot;,
0).css(&quot;z-index&quot;,a.baseZIndex).css(&quot;width&quot;,&quot;200%&quot;).css(&quot;height&quot;,&quot;200%&quot;).css(&quot;background-color&quot;,a.overlayColor);n.css(&quot;cursor&quot;,&quot;pointer&quot;).on(&quot;click&quot;,function(a){a.preventDefault();a.stopPropagation();c.trigger(&quot;poptrox_close&quot;)});if(a.usePopupEasyClose)s.css(&quot;cursor&quot;,&quot;pointer&quot;).on(&quot;click&quot;,function(a){a.preventDefault();a.stopPropagation();c.trigger(&quot;poptrox_close&quot;)});c.on(&quot;poptrox_next&quot;,function(){var a=t+1;a&gt;=x.length&amp;&amp;(a=0);c.trigger(&quot;poptrox_switch&quot;,[a])}).on(&quot;poptrox_previous&quot;,function(){var a=
t-1;0&gt;a&amp;&amp;(a=x.length-1);c.trigger(&quot;poptrox_switch&quot;,[a])}).on(&quot;poptrox_reset&quot;,function(){z();c.css(&quot;position&quot;,H).css(&quot;z-index&quot;,a.baseZIndex+1).css(&quot;width&quot;,a.popupWidth+&quot;px&quot;).css(&quot;height&quot;,a.popupHeight+&quot;px&quot;).css(&quot;left&quot;,A/2+&quot;px&quot;).css(&quot;top&quot;,w/2+&quot;px&quot;).css(&quot;top&quot;,w/2+&quot;px&quot;).css(&quot;margin-left&quot;,-1*(c.outerWidth()/2)+&quot;px&quot;).css(&quot;margin-top&quot;,-1*(c.outerHeight()/2)+&quot;px&quot;);p.hide().trigger(&quot;stopSpinning&quot;);k.hide();r.hide();u.hide();s.hide();f.detach()}).on(&quot;poptrox_open&quot;,function(d,b){if(m)return!0;m=!0;a.useBodyOverflow&amp;&amp;
G.css(&quot;overflow&quot;,&quot;hidden&quot;);if(a.onPopupOpen)a.onPopupOpen();n.fadeTo(a.fadeSpeed,a.overlayOpacity,function(){c.trigger(&quot;poptrox_switch&quot;,[b,!0])})}).on(&quot;poptrox_switch&quot;,function(h,b,e){var g;if(!e&amp;&amp;m)return!0;m=!0;k.hide();f.attr(&quot;src&quot;)&amp;&amp;f.attr(&quot;src&quot;,&quot;&quot;);f.detach();g=x[b];f=g.object;f.off(&quot;load&quot;);s.css(&quot;text-indent&quot;,&quot;-9999em&quot;).show().append(f);&quot;ajax&quot;==g.type?d.get(g.src,function(a){f.html(a);f.trigger(&quot;load&quot;)}):f.attr(&quot;src&quot;,g.src);&quot;image&quot;!=g.type&amp;&amp;f.css(&quot;position&quot;,&quot;relative&quot;).css(&quot;outline&quot;,&quot;0&quot;).css(&quot;z-index&quot;,
a.baseZIndex+100).width(g.width).height(g.height);p.trigger(&quot;startSpinning&quot;).fadeIn(300);c.show();a.popupIsFixed?(c.width(a.popupWidth).height(a.popupHeight).css(&quot;margin-left&quot;,-1*(c.innerWidth()/2)+&quot;px&quot;).css(&quot;margin-top&quot;,-1*(c.innerHeight()/2)+&quot;px&quot;),f.load(function(){f.off(&quot;load&quot;);p.hide().trigger(&quot;stopSpinning&quot;);k.trigger(&quot;update&quot;,[g.captionText]).fadeIn(a.fadeSpeed);r.fadeIn(a.fadeSpeed);s.css(&quot;text-indent&quot;,0).hide().fadeIn(a.fadeSpeed,function(){m=!1});t=b;u.fadeIn(a.fadeSpeed)})):f.load(function(){f.off(&quot;load&quot;);
z();var d=Math.abs(c.width()-c.outerWidth()),e=Math.abs(c.height()-c.outerHeight()),l=f.width(),q=f.height(),h=A-2*a.windowMargin-d,n=w-2*a.windowMargin-e;p.hide().trigger(&quot;stopSpinning&quot;);if(l&gt;h||q&gt;n)h=Math.min(h/l,n/q),l=Math.floor(h*l),q=Math.floor(h*q),f.width(l).height(q);c.innerWidth()==l+d&amp;&amp;c.innerHeight()==q+e?(k.trigger(&quot;update&quot;,[g.captionText]).fadeIn(a.fadeSpeed),r.fadeIn(a.fadeSpeed),s.css(&quot;text-indent&quot;,0).hide().fadeIn(a.fadeSpeed,function(){m=!1}),t=b):c.animate({width:l,height:q,marginLeft:-1*
(l/2)-d/2,marginTop:-1*(q/2)-e/2},a.popupSpeed,&quot;swing&quot;,function(){k.trigger(&quot;update&quot;,[g.captionText]).fadeIn(a.fadeSpeed);r.fadeIn(a.fadeSpeed);s.css(&quot;text-indent&quot;,0).hide().fadeIn(a.fadeSpeed,function(){m=!1});t=b;u.fadeIn(a.fadeSpeed)})});&quot;image&quot;!=g.type&amp;&amp;f.trigger(&quot;load&quot;)}).on(&quot;poptrox_close&quot;,function(){if(m)return!0;m=!0;c.hide().trigger(&quot;poptrox_reset&quot;);if(a.onPopupClose)a.onPopupClose();n.fadeOut(a.fadeSpeed,function(){a.useBodyOverflow&amp;&amp;G.css(&quot;overflow&quot;,&quot;auto&quot;);m=!1})}).prependTo(&quot;body&quot;).hide().trigger(&quot;poptrox_reset&quot;);
B.keydown(function(d){if(c.is(&quot;:visible&quot;))switch(d.keyCode){case 37:case 32:if(a.usePopupNav)return c.trigger(&quot;poptrox_previous&quot;),!1;break;case 39:if(a.usePopupNav)return c.trigger(&quot;poptrox_next&quot;),!1;break;case 27:return c.trigger(&quot;poptrox_close&quot;),!1}});v.find(a.selector).each(function(f){var b,e,g=d(this),h=g.find(&quot;img&quot;);e=g.data(&quot;poptrox&quot;);b={src:g.attr(&quot;href&quot;),captionText:h.attr(&quot;title&quot;),width:g.attr(&quot;width&quot;),height:g.attr(&quot;height&quot;),type:null,object:null};if(e){var k,l=e.split(&quot;,&quot;);for(k in l)(e=
l[k].match(/([0-9]+)x([0-9]+)/))&amp;&amp;3==e.length?(b.width=e[1],b.height=e[2]):b.type=l[k]}if(!b.type){e=b.src.match(/http[s]?:\/\/([a-z0-9\.]+)\/.*/);if(!e||3&gt;e.length)e=[!1];switch(e[1]){case &quot;api.soundcloud.com&quot;:b.type=&quot;soundcloud&quot;;break;case &quot;youtu.be&quot;:b.type=&quot;youtube&quot;;break;case &quot;vimeo.com&quot;:b.type=&quot;vimeo&quot;;break;default:b.type=&quot;image&quot;}}e=b.src.match(/http[s]?:\/\/[a-z0-9\.]+\/(.*)/);switch(b.type){case &quot;ignore&quot;:break;case &quot;iframe&quot;:b.object=d('&lt;iframe src=&quot;&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;');b.object.on(&quot;click&quot;,
</P>
function(a){a.stopPropagation()}).css(&quot;cursor&quot;,&quot;auto&quot;);break;case &quot;ajax&quot;:b.object=d('');b.object.on(&quot;click&quot;,function(a){a.stopPropagation()}).css(&quot;cursor&quot;,&quot;auto&quot;).css(&quot;overflow&quot;,&quot;auto&quot;);break;case &quot;soundcloud&quot;:b.object=d('&lt;iframe scrolling=&quot;no&quot; frameborder=&quot;no&quot; src=&quot;&quot;&gt;&lt;/iframe&gt;');b.src=&quot;<A rel="nofollow" class="external free" href="https://w.soundcloud.com/player/?url=">https://w.soundcloud.com/player/?url=</A>&quot;+escape(b.src);b.width=&quot;600&quot;;b.height=&quot;166&quot;;break;case &quot;youtube&quot;:b.object=d('&lt;iframe src=&quot;&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;1&quot;&gt;&lt;/iframe&gt;');b.src=
<P>&quot;<A rel="nofollow" class="external free" href="http://www.youtube.com/embed/">http://www.youtube.com/embed/</A>&quot;+e[1];break;case &quot;vimeo&quot;:b.object=d('&lt;iframe src=&quot;&quot; frameborder=&quot;0&quot; allowFullScreen=&quot;1&quot;&gt;&lt;/iframe&gt;');b.src=&quot;<A rel="nofollow" class="external free" href="http://player.vimeo.com/video/">http://player.vimeo.com/video/</A>&quot;+e[1];break;default:b.object=d('&lt;img src=&quot;&quot; alt=&quot;&quot; /&gt;'),a.preload&amp;&amp;(e=document.createElement(&quot;img&quot;),e.src=b.src,I.push(e))}x.push(b);h.attr(&quot;title&quot;,&quot;&quot;);if(&quot;ignore&quot;!=b.type)g.attr(&quot;href&quot;,&quot;&quot;).css(&quot;outline&quot;,0).on(&quot;click&quot;,function(a){a.preventDefault();a.stopPropagation();c.trigger(&quot;poptrox_open&quot;,[f])})});return d(this)}})(jQuery);
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>