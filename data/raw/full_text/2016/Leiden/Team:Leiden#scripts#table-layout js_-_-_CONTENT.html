<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Leiden_scripts_table-layout_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Leiden/scripts/table-layout js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>window.tableAutoLayout = {};
window.tableAutoLayout.layoutTable = function( table, tableCellContentCallbackContext, tableCellContentCallback, numCells, blockWidth ){
	// Get the table width
	tableWidth = table.parent().width();
</P><P>	// Get the number of cells per row
	numberOfCellsPerRow = Math.min( Math.max( 1, Math.floor( tableWidth / blockWidth ) ), numCells );
</P><P>	// Get the number of rows
	numberOfRows = Math.ceil( numCells / numberOfCellsPerRow );
</P><P>	// Clear current content
	table.html(&quot;&lt;tbody&gt;&lt;/tbody&gt;&quot;);
	tbody = table.find('tbody');
</P><P>	// Compute the total outputted table width
	var twidth = numberOfCellsPerRow * blockWidth;
</P><P>	// Compute the margins for the table to be center-aligned.
	var margin = (tableWidth - twidth) / 2;
</P><P>	// Move the table
	table.css('margin-left', margin + 'px');
	table.css('border','none');
</P><P>	// Start outputting!
	for( var rowIndex = 0; rowIndex &lt; numberOfRows; rowIndex++ ){
			// Add a row to the table
			row = $('&lt;tr class=&quot;auto-layout-table-row&quot;&gt;');
			row.css('border','none');
</P><P>			for( var colIndex = 0; colIndex &lt; numberOfCellsPerRow; colIndex++ ){
				cellNumber = colIndex + rowIndex * numberOfCellsPerRow;
</P><P>				if( cellNumber &gt;= numCells ){
						break;
				}
</P><P>				// Add a cell to the row
			  var 	cell = $('&lt;td class=&quot;auto-layout-table-cell&quot; style=&quot;width: '+ blockWidth +'px;&quot;&gt;');
				cell.css('border','none');
				cell.css('margin','0px');
				cell.css('padding','0px');
</P><P>				// Get the content for the cell
				cellContent = tableCellContentCallback( cellNumber, tableCellContentCallbackContext );
</P><P>				// Add the content to the cell
				$( cellContent ).appendTo( cell ); //cell.append( cellContent );
</P><P>				cell.appendTo( row );
</P><P>			}
</P><P>			row.appendTo( tbody );
	}
};
</P><P>window.tableAutoLayout.tables = [];
window.tableAutoLayout.addTable = function( tableSelector, cellContentsList, cellTemplateSelector, cellWidth, cellContentsCallback ){
</P><P>	var autoLayoutTable = {};
</P><P>	autoLayoutTable.tableSelector = tableSelector;
	autoLayoutTable.cellContentsList = cellContentsList;
	autoLayoutTable.cellTemplateSelector = cellTemplateSelector;
	autoLayoutTable.cellWidth = cellWidth;
	autoLayoutTable.cellContentsCallback = cellContentsCallback;
</P><P>	window.tableAutoLayout.tables.push( autoLayoutTable );
	window.tableAutoLayout.layout();
};
</P><P>window.tableAutoLayout.layout = function(){
	var tables = window.tableAutoLayout.tables;
</P><P>	for (var i = 0; i &lt; tables.length; i++) {
		var table = tables[i];
</P><P>		window.tableAutoLayout.layoutTable( $(table.tableSelector), table, function( cellNumber, table ){
			template = $( table.cellTemplateSelector ).clone();
			cellContent = table.cellContentsList[ cellNumber ];
</P><P>			cell = table.cellContentsCallback( cellContent, template );
			return cell;
		}, table.cellContentsList.length, table.cellWidth );
	}
};
</P><P>$( window ).resize(function(){
	window.tableAutoLayout.layout();
});
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>