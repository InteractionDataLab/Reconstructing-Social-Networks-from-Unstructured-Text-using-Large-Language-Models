<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Leiden_scripts_include-html_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Leiden/scripts/include-html js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>/* W3Data ver 1.1 by W3Schools.com */
var w3DataObject = {};
function w3DisplayData(id, data) {
</P><PRE>   var htmlObj, htmlTemplate, html, arr = [], a, l, rowClone, x, j, i, ii, cc, repeat, repeatObj, repeatX = &quot;&quot;;
   htmlObj = document.getElementById(id);
   htmlTemplate = w3InitTemplate(id, htmlObj);
   html = htmlTemplate.cloneNode(true);
   arr = w3GetElementsByAttribute(html, &quot;w3-repeat&quot;);
   l = arr.length;
   for (j = (l-1); j &gt;= 0; j -= 1) {
       cc = arr[j].getAttribute(&quot;w3-repeat&quot;).split(&quot; &quot;);
       if (cc.length == 1) {
           repeat = cc[0];
       } else {
           repeatX = cc[0];
           repeat = cc[2];
       }
       arr[j].removeAttribute(&quot;w3-repeat&quot;);
       repeatObj = data[repeat];
       if (repeatObj &amp;&amp; typeof repeatObj == &quot;object&quot; &amp;&amp; repeatObj.length != &quot;undefined&quot;) {
           i = 0;
           for (x in repeatObj) {
               i += 1;
               rowClone = arr[j];
               rowClone = w3NeedleInHaystack(rowClone, &quot;element&quot;, repeatX, repeatObj[x]);
               a = rowClone.attributes;
               for (ii = 0; ii &lt; a.length; ii += 1) {
                   a[ii].value = w3NeedleInHaystack(a[ii], &quot;attribute&quot;, repeatX, repeatObj[x]).value;
               }
               (i === repeatObj.length) ? arr[j].parentNode.replaceChild(rowClone, arr[j]) : arr[j].parentNode.insertBefore(rowClone, arr[j]);
           }
       } else {
           console.log(&quot;w3-repeat must be an array. &quot; + repeat + &quot; is not an array.&quot;);
           continue;
       }
   }
   html = w3NeedleInHaystack(html, &quot;element&quot;);
   htmlObj.parentNode.replaceChild(html, htmlObj);
   function w3InitTemplate(id, obj) {
       var template;
       template = obj.cloneNode(true);
       if (w3DataObject.hasOwnProperty(id)) {return w3DataObject[id];}
       w3DataObject[id] = template;
       return template;
   }
   function w3GetElementsByAttribute(x, att) {
       var arr = [], arrCount = -1, i, l, y = x.getElementsByTagName(&quot;*&quot;), z = att.toUpperCase();
       l = y.length;
       for (i = -1; i &lt; l; i += 1) {
           if (i == -1) {y[i] = x; }
           if (y[i].getAttribute(z) !== null) {arrCount += 1; arr[arrCount] = y[i];}
       }
       return arr;
   }
   function w3NeedleInHaystack(elmnt, typ, repeatX, x) {
       var value, rowClone, pos1, haystack, pos2, needle = [], needleToReplace, i, cc, r;
       rowClone = elmnt.cloneNode(true);
       pos1 = 0;
       while (pos1 &gt; -1) {
           haystack = (typ == &quot;attribute&quot;) ? rowClone.value : rowClone.innerHTML;
           pos1 = haystack.indexOf(&quot;{{&quot;, pos1);
           if (pos1 === -1) {break; }
           pos2 = haystack.indexOf(&quot;}}&quot;, pos1 + 1);
           needleToReplace = haystack.substring(pos1 + 2, pos2);
           needle = needleToReplace.split(&quot;||&quot;);
           value = undefined;
           for (i = 0; i &lt; needle.length; i += 1) {
               needle[i] = needle[i].replace(/^\s+|\s+$/gm,<I>); //trim</I>
               //value = ((x &amp;&amp; x[needle[i]]) || (data &amp;&amp; data[needle[i]]));
               if (x) {value = x[needle[i]];}
               if (value == undefined &amp;&amp; data) {value = data[needle[i]];}
               if (value == undefined) {
                   cc = needle[i].split(&quot;.&quot;);
                   if (cc[0] == repeatX) {value = x[cc[1]]; }
               }
               if (value == undefined) {
                   if (needle[i] == repeatX) {value = x; }
               }
               if (value == undefined) {
                   if (needle[i].substr(0,1) == '&quot;') {
                       value = needle[i].replace(/&quot;/g, &quot;&quot;);
                   } else if (needle[i].substr(0,1) == &quot;'&quot;) {
                       value = needle[i].replace(/'/g, &quot;&quot;);
                   }
               }
               if (value != undefined) {break;}
           }
           if (value != undefined) {
               r = &quot;<A href="/wiki/index.php?title=Template:%22_%2B_needleToReplace_%2B_%22&amp;action=edit&amp;redlink=1" class="new" title="Template:&quot; + needleToReplace + &quot; (page does not exist)">Template:&quot; + needleToReplace + &quot;</A>&quot;;
               if (typ == &quot;attribute&quot;) {
                   rowClone.value = rowClone.value.replace(r, value);
               } else {
                   w3ReplaceHTML(rowClone, r, value);
               }
           }
           pos1 = pos1 + 1;
       }
       return rowClone;
   }
   function w3ReplaceHTML(a, r, result) {
       var b, l, i, a, x, y, j, ll, nam;
       if (a.hasAttributes()) {
           b = a.attributes;
           l = b.length;
           for (i = 0; i &lt; l; i += 1) {
               if (b[i].value.indexOf(r) &gt; -1) {b[i].value = b[i].value.replace(r, result); }
           }
       }
       x = a.getElementsByTagName(&quot;*&quot;);
       l = x.length;
       a.innerHTML = a.innerHTML.replace(r, result);
   }
</PRE><P>}
function w3IncludeHTML() {
</P><PRE> var z, i, a, file, xhttp;
 z = document.getElementsByTagName(&quot;*&quot;);
 for (i = 0; i &lt; z.length; i++) {
   if (z[i].getAttribute(&quot;w3-include-html&quot;)) {
     a = z[i].cloneNode(false);
     file = z[i].getAttribute(&quot;w3-include-html&quot;);
     var xhttp = new XMLHttpRequest();
     xhttp.onreadystatechange = function() {
       if (xhttp.readyState == 4 &amp;&amp; xhttp.status == 200) {
         a.removeAttribute(&quot;w3-include-html&quot;);
         a.innerHTML = xhttp.responseText;
         z[i].parentNode.replaceChild(a, z[i]);
         w3IncludeHTML();
       }
     }      
     xhttp.open(&quot;GET&quot;, file, true);
     xhttp.send();
     return;
   }
 }
</PRE><P>}
function w3Http(target, readyfunc, xml, method) {
</P><PRE>   var httpObj;
   if (!method) {method = &quot;GET&quot;; }
   if (window.XMLHttpRequest) {
       httpObj = new XMLHttpRequest();
   } else if (window.ActiveXObject) {
       httpObj = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);
   }
   if (httpObj) {
       if (readyfunc) {httpObj.onreadystatechange = readyfunc; }
       httpObj.open(method, target, true);
       httpObj.send(xml);
   }
</PRE><P>}
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>