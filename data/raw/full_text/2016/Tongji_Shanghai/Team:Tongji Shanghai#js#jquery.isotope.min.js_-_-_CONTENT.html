<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Tongji_Shanghai_js_jquery_isotope_min_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Tongji Shanghai/js/jquery.isotope.min.js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>/**
</P><PRE>* Isotope v1.5.26
* An exquisite jQuery plugin for magical layouts
* <A rel="nofollow" class="external free" href="http://isotope.metafizzy.co">http://isotope.metafizzy.co</A>
*
* Commercial use requires one-time purchase of a commercial license
* <A rel="nofollow" class="external free" href="http://isotope.metafizzy.co/docs/license.html">http://isotope.metafizzy.co/docs/license.html</A>
*
* Non-commercial use is licensed under the MIT License
*
* Copyright 2014 Metafizzy
*/
</PRE><P>!function(t,i){&quot;use strict&quot;;var s,e=t.document,n=e.documentElement,o=t.Modernizr,r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},a=&quot;Moz Webkit O Ms&quot;.split(&quot; &quot;),h=function(t){var i,s=n.style;if(&quot;string&quot;==typeof s[t])return t;t=r(t);for(var e=0,o=a.length;o&gt;e;e++)if(i=a[e]+t,&quot;string&quot;==typeof s[i])return i},l=h(&quot;transform&quot;),u=h(&quot;transitionProperty&quot;),c={csstransforms:function(){return!!l},csstransforms3d:function(){var t=!!h(&quot;perspective&quot;);if(t&amp;&amp;&quot;webkitPerspective&quot;in n.style){var s=i(&quot;&lt;style&gt;@media (transform-3d),(-webkit-transform-3d){#modernizr{height:3px}}&lt;/style&gt;&quot;).appendTo(&quot;head&quot;),e=i('&lt;div id=&quot;modernizr&quot; /&gt;').appendTo(&quot;html&quot;);t=3===e.height(),e.remove(),s.remove()}return t},csstransitions:function(){return!!u}};if(o)for(s in c)o.hasOwnProperty(s)||o.addTest(s,c[s]);else{o=t.Modernizr={_version:&quot;1.6ish: miniModernizr for Isotope&quot;};var d,f=&quot; &quot;;for(s in c)d=c[s](),o[s]=d,f+=&quot; &quot;+(d?&quot;&quot;:&quot;no-&quot;)+s;i(&quot;html&quot;).addClass(f)}if(o.csstransforms){var m=o.csstransforms3d?{translate:function(t){return&quot;translate3d(&quot;+t[0]+&quot;px, &quot;+t[1]+&quot;px, 0) &quot;},scale:function(t){return&quot;scale3d(&quot;+t+&quot;, &quot;+t+&quot;, 1) &quot;}}:{translate:function(t){return&quot;translate(&quot;+t[0]+&quot;px, &quot;+t[1]+&quot;px) &quot;},scale:function(t){return&quot;scale(&quot;+t+&quot;) &quot;}},p=function(t,s,e){var n,o,r=i.data(t,&quot;isoTransform&quot;)||{},a={},h={};a[s]=e,i.extend(r,a);for(n in r)o=r[n],h[n]=m[n](o);var u=h.translate||&quot;&quot;,c=h.scale||&quot;&quot;,d=u+c;i.data(t,&quot;isoTransform&quot;,r),t.style[l]=d};i.cssNumber.scale=!0,i.cssHooks.scale={set:function(t,i){p(t,&quot;scale&quot;,i)},get:function(t){var s=i.data(t,&quot;isoTransform&quot;);return s&amp;&amp;s.scale?s.scale:1}},i.fx.step.scale=function(t){i.cssHooks.scale.set(t.elem,t.now+t.unit)},i.cssNumber.translate=!0,i.cssHooks.translate={set:function(t,i){p(t,&quot;translate&quot;,i)},get:function(t){var s=i.data(t,&quot;isoTransform&quot;);return s&amp;&amp;s.translate?s.translate:[0,0]}}}var y,g;o.csstransitions&amp;&amp;(y={WebkitTransitionProperty:&quot;webkitTransitionEnd&quot;,MozTransitionProperty:&quot;transitionend&quot;,OTransitionProperty:&quot;oTransitionEnd otransitionend&quot;,transitionProperty:&quot;transitionend&quot;}[u],g=h(&quot;transitionDuration&quot;));var v,_=i.event,A=i.event.handle?&quot;handle&quot;:&quot;dispatch&quot;;_.special.smartresize={setup:function(){i(this).bind(&quot;resize&quot;,_.special.smartresize.handler)},teardown:function(){i(this).unbind(&quot;resize&quot;,_.special.smartresize.handler)},handler:function(t,i){var s=this,e=arguments;t.type=&quot;smartresize&quot;,v&amp;&amp;clearTimeout(v),v=setTimeout(function(){_[A].apply(s,e)},&quot;execAsap&quot;===i?0:100)}},i.fn.smartresize=function(t){return t?this.bind(&quot;smartresize&quot;,t):this.trigger(&quot;smartresize&quot;,[&quot;execAsap&quot;])},i.Isotope=function(t,s,e){this.element=i(s),this._create(t),this._init(e)};var w=[&quot;width&quot;,&quot;height&quot;],C=i(t);i.Isotope.settings={resizable:!0,layoutMode:&quot;masonry&quot;,containerClass:&quot;isotope&quot;,itemClass:&quot;isotope-item&quot;,hiddenClass:&quot;isotope-hidden&quot;,hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:&quot;relative&quot;,overflow:&quot;hidden&quot;},animationEngine:&quot;best-available&quot;,animationOptions:{queue:!1,duration:800},sortBy:&quot;original-order&quot;,sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},i.Isotope.prototype={_create:function(t){this.options=i.extend({},i.Isotope.settings,t),this.styleQueue=[],this.elemCount=0;var s=this.element[0].style;this.originalStyle={};var e=w.slice(0);for(var n in this.options.containerStyle)e.push(n);for(var o=0,r=e.length;r&gt;o;o++)n=e[o],this.originalStyle[n]=s[n]||&quot;&quot;;this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var a={&quot;original-order&quot;:function(t,i){return i.elemCount++,i.elemCount},random:function(){return Math.random()}};this.options.getSortData=i.extend(this.options.getSortData,a),this.reloadItems(),this.offset={left:parseInt(this.element.css(&quot;padding-left&quot;)||0,10),top:parseInt(this.element.css(&quot;padding-top&quot;)||0,10)};var h=this;setTimeout(function(){h.element.addClass(h.options.containerClass)},0),this.options.resizable&amp;&amp;C.bind(&quot;smartresize.isotope&quot;,function(){h.resize()}),this.element.delegate(&quot;.&quot;+this.options.hiddenClass,&quot;click&quot;,function(){return!1})},_getAtoms:function(t){var i=this.options.itemSelector,s=i?t.filter(i).add(t.find(i)):t,e={position:&quot;absolute&quot;};return s=s.filter(function(t,i){return 1===i.nodeType}),this.usingTransforms&amp;&amp;(e.left=0,e.top=0),s.css(e).addClass(this.options.itemClass),this.updateSortData(s,!0),s},_init:function(t){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(t)},option:function(t){if(i.isPlainObject(t)){this.options=i.extend(!0,this.options,t);var s;for(var e in t)s=&quot;_update&quot;+r(e),this[s]&amp;&amp;this[s]()}},_updateAnimationEngine:function(){var t,i=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,&quot;&quot;);switch(i){case&quot;css&quot;:case&quot;none&quot;:t=!1;break;case&quot;jquery&quot;:t=!0;break;default:t=!o.csstransitions}this.isUsingJQueryAnimation=t,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var t=this.usingTransforms=this.options.transformsEnabled&amp;&amp;o.csstransforms&amp;&amp;o.csstransitions&amp;&amp;!this.isUsingJQueryAnimation;t||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=t?this._translate:this._positionAbs},_filter:function(t){var i=&quot;&quot;===this.options.filter?&quot;*&quot;:this.options.filter;if(!i)return t;var s=this.options.hiddenClass,e=&quot;.&quot;+s,n=t.filter(e),o=n;if(&quot;*&quot;!==i){o=n.filter(i);var r=t.not(e).not(i).addClass(s);this.styleQueue.push({$el:r,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:o,style:this.options.visibleStyle}),o.removeClass(s),t.filter(i)},updateSortData:function(t,s){var e,n,o=this,r=this.options.getSortData;t.each(function(){e=i(this),n={};for(var t in r)n[t]=s||&quot;original-order&quot;!==t?r[t](e,o):i.data(this,&quot;isotope-sort-data&quot;)[t];i.data(this,&quot;isotope-sort-data&quot;,n)})},_sort:function(){var t=this.options.sortBy,i=this._getSorter,s=this.options.sortAscending?1:-1,e=function(e,n){var o=i(e,t),r=i(n,t);return o===r&amp;&amp;&quot;original-order&quot;!==t&amp;&amp;(o=i(e,&quot;original-order&quot;),r=i(n,&quot;original-order&quot;)),(o&gt;r?1:r&gt;o?-1:0)*s};this.$filteredAtoms.sort(e)},_getSorter:function(t,s){return i.data(t,&quot;isotope-sort-data&quot;)[s]},_translate:function(t,i){return{translate:[t,i]}},_positionAbs:function(t,i){return{left:t,top:i}},_pushPosition:function(t,i,s){i=Math.round(i+this.offset.left),s=Math.round(s+this.offset.top);var e=this.getPositionStyles(i,s);this.styleQueue.push({$el:t,style:e}),this.options.itemPositionDataEnabled&amp;&amp;t.data(&quot;isotope-item-position&quot;,{x:i,y:s})},layout:function(t,i){var s=this.options.layoutMode;if(this[&quot;_&quot;+s+&quot;Layout&quot;](t),this.options.resizesContainer){var e=this[&quot;_&quot;+s+&quot;GetContainerSize&quot;]();this.styleQueue.push({$el:this.element,style:e})}this._processStyleQueue(t,i),this.isLaidOut=!0},_processStyleQueue:function(t,s){var e,n,r,a,h=this.isLaidOut?this.isUsingJQueryAnimation?&quot;animate&quot;:&quot;css&quot;:&quot;css&quot;,l=this.options.animationOptions,u=this.options.onLayout;if(n=function(t,i){i.$el[h](i.style,l)},this._isInserting&amp;&amp;this.isUsingJQueryAnimation)n=function(t,i){e=i.$el.hasClass(&quot;no-transition&quot;)?&quot;css&quot;:h,i.$el[e](i.style,l)};else if(s||u||l.complete){var c=!1,d=[s,u,l.complete],f=this;if(r=!0,a=function(){if(!c){for(var i,s=0,e=d.length;e&gt;s;s++)i=d[s],&quot;function&quot;==typeof i&amp;&amp;i.call(f.element,t,f);c=!0}},this.isUsingJQueryAnimation&amp;&amp;&quot;animate&quot;===h)l.complete=a,r=!1;else if(o.csstransitions){for(var m,p=0,v=this.styleQueue[0],_=v&amp;&amp;v.$el;!_||!_.length;){if(m=this.styleQueue[p++],!m)return;_=m.$el}var A=parseFloat(getComputedStyle(_[0])[g]);A&gt;0&amp;&amp;(n=function(t,i){i.$el[h](i.style,l).one(y,a)},r=!1)}}i.each(this.styleQueue,n),r&amp;&amp;a(),this.styleQueue=[]},resize:function(){this[&quot;_&quot;+this.options.layoutMode+&quot;ResizeChanged&quot;]()&amp;&amp;this.reLayout()},reLayout:function(t){this[&quot;_&quot;+this.options.layoutMode+&quot;Reset&quot;](),this.layout(this.$filteredAtoms,t)},addItems:function(t,i){var s=this._getAtoms(t);this.$allAtoms=this.$allAtoms.add(s),i&amp;&amp;i(s)},insert:function(t,i){this.element.append(t);var s=this;this.addItems(t,function(t){var e=s._filter(t);s._addHideAppended(e),s._sort(),s.reLayout(),s._revealAppended(e,i)})},appended:function(t,i){var s=this;this.addItems(t,function(t){s._addHideAppended(t),s.layout(t),s._revealAppended(t,i)})},_addHideAppended:function(t){this.$filteredAtoms=this.$filteredAtoms.add(t),t.addClass(&quot;no-transition&quot;),this._isInserting=!0,this.styleQueue.push({$el:t,style:this.options.hiddenStyle})},_revealAppended:function(t,i){var s=this;setTimeout(function(){t.removeClass(&quot;no-transition&quot;),s.styleQueue.push({$el:t,style:s.options.visibleStyle}),s._isInserting=!1,s._processStyleQueue(t,i)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(t,i){this.$allAtoms=this.$allAtoms.not(t),this.$filteredAtoms=this.$filteredAtoms.not(t);var s=this,e=function(){t.remove(),i&amp;&amp;i.call(s.element)};t.filter(&quot;:not(.&quot;+this.options.hiddenClass+&quot;)&quot;).length?(this.styleQueue.push({$el:t,style:this.options.hiddenStyle}),this._sort(),this.reLayout(e)):e()},shuffle:function(t){this.updateSortData(this.$allAtoms),this.options.sortBy=&quot;random&quot;,this._sort(),this.reLayout(t)},destroy:function(){var t=this.usingTransforms,i=this.options;this.$allAtoms.removeClass(i.hiddenClass+&quot; &quot;+i.itemClass).each(function(){var i=this.style;i.position=&quot;&quot;,i.top=&quot;&quot;,i.left=&quot;&quot;,i.opacity=&quot;&quot;,t&amp;&amp;(i[l]=&quot;&quot;)});var s=this.element[0].style;for(var e in this.originalStyle)s[e]=this.originalStyle[e];this.element.unbind(&quot;.isotope&quot;).undelegate(&quot;.&quot;+i.hiddenClass,&quot;click&quot;).removeClass(i.containerClass).removeData(&quot;isotope&quot;),C.unbind(&quot;.isotope&quot;)},_getSegments:function(t){var i,s=this.options.layoutMode,e=t?&quot;rowHeight&quot;:&quot;columnWidth&quot;,n=t?&quot;height&quot;:&quot;width&quot;,o=t?&quot;rows&quot;:&quot;cols&quot;,a=this.element[n](),h=this.options[s]&amp;&amp;this.options[s][e]||this.$filteredAtoms[&quot;outer&quot;+r(n)](!0)||a;i=Math.floor(a/h),i=Math.max(i,1),this[s][o]=i,this[s][e]=h},_checkIfSegmentsChanged:function(t){var i=this.options.layoutMode,s=t?&quot;rows&quot;:&quot;cols&quot;,e=this[i][s];return this._getSegments(t),this[i][s]!==e},_masonryReset:function(){this.masonry={},this._getSegments();var t=this.masonry.cols;for(this.masonry.colYs=[];t--;)this.masonry.colYs.push(0)},_masonryLayout:function(t){var s=this,e=s.masonry;t.each(function(){var t=i(this),n=Math.ceil(t.outerWidth(!0)/e.columnWidth);if(n=Math.min(n,e.cols),1===n)s._masonryPlaceBrick(t,e.colYs);else{var o,r,a=e.cols+1-n,h=[];for(r=0;a&gt;r;r++)o=e.colYs.slice(r,r+n),h[r]=Math.max.apply(Math,o);s._masonryPlaceBrick(t,h)}})},_masonryPlaceBrick:function(t,i){for(var s=Math.min.apply(Math,i),e=0,n=0,o=i.length;o&gt;n;n++)if(i[n]===s){e=n;break}var r=this.masonry.columnWidth*e,a=s;this._pushPosition(t,r,a);var h=s+t.outerHeight(!0),l=this.masonry.cols+1-o;for(n=0;l&gt;n;n++)this.masonry.colYs[e+n]=h},_masonryGetContainerSize:function(){var t=Math.max.apply(Math,this.masonry.colYs);return{height:t}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(t){var s=this,e=this.element.width(),n=this.fitRows;t.each(function(){var t=i(this),o=t.outerWidth(!0),r=t.outerHeight(!0);0!==n.x&amp;&amp;o+n.x&gt;e&amp;&amp;(n.x=0,n.y=n.height),s._pushPosition(t,n.x,n.y),n.height=Math.max(n.y+r,n.height),n.x+=o})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(t){var s=this,e=this.cellsByRow;t.each(function(){var t=i(this),n=e.index%e.cols,o=Math.floor(e.index/e.cols),r=(n+.5)*e.columnWidth-t.outerWidth(!0)/2,a=(o+.5)*e.rowHeight-t.outerHeight(!0)/2;s._pushPosition(t,r,a),e.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(t){var s=this;t.each(function(){var t=i(this);s._pushPosition(t,0,s.straightDown.y),s.straightDown.y+=t.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var t=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];t--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(t){var s=this,e=s.masonryHorizontal;t.each(function(){var t=i(this),n=Math.ceil(t.outerHeight(!0)/e.rowHeight);if(n=Math.min(n,e.rows),1===n)s._masonryHorizontalPlaceBrick(t,e.rowXs);else{var o,r,a=e.rows+1-n,h=[];for(r=0;a&gt;r;r++)o=e.rowXs.slice(r,r+n),h[r]=Math.max.apply(Math,o);s._masonryHorizontalPlaceBrick(t,h)}})},_masonryHorizontalPlaceBrick:function(t,i){for(var s=Math.min.apply(Math,i),e=0,n=0,o=i.length;o&gt;n;n++)if(i[n]===s){e=n;break}var r=s,a=this.masonryHorizontal.rowHeight*e;this._pushPosition(t,r,a);var h=s+t.outerWidth(!0),l=this.masonryHorizontal.rows+1-o;for(n=0;l&gt;n;n++)this.masonryHorizontal.rowXs[e+n]=h},_masonryHorizontalGetContainerSize:function(){var t=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:t}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(t){var s=this,e=this.element.height(),n=this.fitColumns;t.each(function(){var t=i(this),o=t.outerWidth(!0),r=t.outerHeight(!0);0!==n.y&amp;&amp;r+n.y&gt;e&amp;&amp;(n.x=n.width,n.y=0),s._pushPosition(t,n.x,n.y),n.width=Math.max(n.x+o,n.width),n.y+=r})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(t){var s=this,e=this.cellsByColumn;t.each(function(){var t=i(this),n=Math.floor(e.index/e.rows),o=e.index%e.rows,r=(n+.5)*e.columnWidth-t.outerWidth(!0)/2,a=(o+.5)*e.rowHeight-t.outerHeight(!0)/2;s._pushPosition(t,r,a),e.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(t){var s=this;t.each(function(){var t=i(this);s._pushPosition(t,s.straightAcross.x,0),s.straightAcross.x+=t.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},i.fn.imagesLoaded=function(t){function s(){t.call(n,o)}function e(t){var n=t.target;n.src!==a&amp;&amp;-1===i.inArray(n,h)&amp;&amp;(h.push(n),--r&lt;=0&amp;&amp;(setTimeout(s),o.unbind(&quot;.imagesLoaded&quot;,e)))}var n=this,o=n.find(&quot;img&quot;).add(n.filter(&quot;img&quot;)),r=o.length,a=&quot;data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==&quot;,h=[];return r||s(),o.bind(&quot;load.imagesLoaded error.imagesLoaded&quot;,e).each(function(){var t=this.src;this.src=a,this.src=t}),n};var z=function(i){t.console&amp;&amp;t.console.error(i)};i.fn.isotope=function(t,s){if(&quot;string&quot;==typeof t){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var s=i.data(this,&quot;isotope&quot;);return s?i.isFunction(s[t])&amp;&amp;&quot;_&quot;!==t.charAt(0)?void s[t].apply(s,e):void z(&quot;no such method '&quot;+t+&quot;' for isotope instance&quot;):void z(&quot;cannot call methods on isotope prior to initialization; attempted to call method '&quot;+t+&quot;'&quot;)})}else this.each(function(){var e=i.data(this,&quot;isotope&quot;);e?(e.option(t),e._init(s)):i.data(this,&quot;isotope&quot;,new i.Isotope(t,this,s))});return this}}(window,jQuery);
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>