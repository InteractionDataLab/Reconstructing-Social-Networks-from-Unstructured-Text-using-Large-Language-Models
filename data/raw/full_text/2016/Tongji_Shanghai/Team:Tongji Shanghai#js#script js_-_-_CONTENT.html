<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Tongji_Shanghai_js_script_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Tongji Shanghai/js/script js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>/* ----------------- Start JS Document ----------------- */
</P><P>// Page Loader
$(window).load(function () {
</P><PRE>   &quot;use strict&quot;;    
</PRE><P>	$('#loader').fadeOut();
});
</P><P>$(document).ready(function ($) {
	&quot;use strict&quot;;	
	////	Hidder Header	
	var headerEle = function () {
		var $headerHeight = $('header').height();
		$('.hidden-header').css({ 'height' : ($headerHeight-18)  + &quot;px&quot; });
	};
</P><P>	$(window).load(function () {
	    headerEle();
	});
</P><P>	$(window).resize(function () {
	    headerEle();
	});
</P><PRE>   /*---------------------------------------------------*/
   /* Progress Bar
   /*---------------------------------------------------*/    
   $('.skill-shortcode').appear(function() {
 		$('.progress').each(function(){ 
   		$('.progress-bar').css('width',  function(){ 
   			return ($(this).attr('data-percentage')+'%')});
 		});
</PRE><P>	},{accY: -100});	
</P><PRE>   /*--------------------------------------------------*/
   /* Counter
   /*--------------------------------------------------*/   
       
   $('.timer').countTo();
   $('.counter-item').appear(function() {
       $('.timer').countTo();
   },{
   	accY: -100
   });    
   
</PRE><P>	/*----------------------------------------------------*/
	/*	Nice-Scroll
	/*----------------------------------------------------*/
</P><P>	$(&quot;html&quot;).niceScroll({
		scrollspeed: 100,
		mousescrollstep: 38,
		cursorwidth: 5,
		cursorborder: 0,
		cursorcolor: '#333',
		autohidemode: true,
		zindex: 999999999,
		horizrailenabled: false,
		cursorborderradius: 0,
	});
</P><P>	/*----------------------------------------------------*/
	/*	Nav Menu &amp; Search
	/*----------------------------------------------------*/
</P><P>	$(&quot;.nav &gt; li:has(ul)&quot;).addClass(&quot;drop&quot;);
	$(&quot;.nav &gt; li.drop &gt; ul&quot;).addClass(&quot;dropdown&quot;);
	$(&quot;.nav &gt; li.drop &gt; ul.dropdown ul&quot;).addClass(&quot;sup-dropdown&quot;);
</P><P>	$('.show-search').click(function() {
		$('.search-form').fadeIn(300);
		$('.search-form input').focus();
	});
	$('.search-form input').blur(function() {
		$('.search-form').fadeOut(300);
	});
</P><P>	/*----------------------------------------------------*/
	/*	Back Top Link
	/*----------------------------------------------------*/
</P><PRE>   var offset = 200;
   var duration = 500;
   $(window).scroll(function() {
       if ($(this).scrollTop() &gt; offset) {
           $('.back-to-top').fadeIn(400);
       } else {
           $('.back-to-top').fadeOut(400);
       }
   });
   $('.back-to-top').click(function(event) {
       event.preventDefault();
       $('html, body').animate({scrollTop: 0}, 600);
       return false;
   })
</PRE><P>	/*----------------------------------------------------*/
	/*	Sliders &amp; Carousel
	/*----------------------------------------------------*/
</P><P>	////------- Touch Slider
	var time = 4.4,
		$progressBar,
		$bar,
		$elem,
		isPause,
		tick,
		percentTime;
	$('.touch-slider').each(function(){
		var owl = jQuery(this),
			sliderNav = $(this).attr('data-slider-navigation'),
			sliderPag = $(this).attr('data-slider-pagination'),
			sliderProgressBar = $(this).attr('data-slider-progress-bar');
</P><P>		if ( sliderNav == 'false' || sliderNav == '0' ) {
			var returnSliderNav = false
		}else {
			var returnSliderNav = true
		}
</P><P>		if ( sliderPag == 'true' || sliderPag == '1' ) {
			var returnSliderPag = true
		}else {
			var returnSliderPag = false
		}
</P><P>		if ( sliderProgressBar == 'true' || sliderProgressBar == '1' ) {
			var returnSliderProgressBar = progressBar
			var returnAutoPlay = false
		}else {
			var returnSliderProgressBar = false
			var returnAutoPlay = true
		}
</P><P>		owl.owlCarousel({
			navigation : returnSliderNav,
			pagination: returnSliderPag,
			slideSpeed : 400,
			paginationSpeed : 400,
			lazyLoad : true,
			singleItem: true,
			autoHeight : true,
			autoPlay: returnAutoPlay,
			stopOnHover: returnAutoPlay,
			transitionStyle : &quot;fade&quot;,
			afterInit : returnSliderProgressBar,
			startDragging : pauseOnDragging
		});
</P><P>	});
</P><PRE>   function progressBar(elem){
</PRE><P>		$elem = elem;
		buildProgressBar();
		start();
</P><PRE>   }
</PRE><PRE>   function buildProgressBar(){
</PRE>
		$progressBar = $(&quot;<DIV>&quot;,{
<P>			id:&quot;progressBar&quot;
		});
</P>
		$bar = $(&quot;<DIV>&quot;,{
<P>			id:&quot;bar&quot;
		});
		$progressBar.append($bar).prependTo($elem);
</P><PRE>   }
</PRE><PRE>   function pauseOnDragging(){
     isPause = true;
   }
</PRE><P>	////------- Projects Carousel
	$(&quot;.projects-carousel&quot;).owlCarousel({
		navigation : true,
		pagination: false,
		slideSpeed : 400,
		stopOnHover: true,
</P><PRE>   	autoPlay: 3000,
   	items : 4,
   	itemsDesktopSmall : [900,3],
</PRE><P>		itemsTablet: [600,2],
		itemsMobile : [479, 1]
	});
</P><P>	////------- Testimonials Carousel
	$(&quot;.testimonials-carousel&quot;).owlCarousel({
		navigation : true,
		pagination: false,
		slideSpeed : 2500,
		stopOnHover: true,
</P><PRE>   	autoPlay: 3000,
   	singleItem:true,
</PRE><P>		autoHeight : true,
		transitionStyle : &quot;fade&quot;
	});
</P><P>	
	////------- Custom Carousel
	$('.custom-carousel').each(function(){
		var owl = jQuery(this),
			itemsNum = $(this).attr('data-appeared-items'),
			sliderNavigation = $(this).attr('data-navigation');
</P><P>		if ( sliderNavigation == 'false' || sliderNavigation == '0' ) {
			var returnSliderNavigation = false
		}else {
			var returnSliderNavigation = true
		}
		if( itemsNum == 1) {
			var deskitemsNum = 1;
			var desksmallitemsNum = 1;
			var tabletitemsNum = 1;
		} 
		else if (itemsNum &gt;= 2 &amp;&amp; itemsNum &lt; 4) {
			var deskitemsNum = itemsNum;
			var desksmallitemsNum = itemsNum - 1;
			var tabletitemsNum = itemsNum - 1;
		} 
		else if (itemsNum &gt;= 4 &amp;&amp; itemsNum &lt; 8) {
			var deskitemsNum = itemsNum -1;
			var desksmallitemsNum = itemsNum - 2;
			var tabletitemsNum = itemsNum - 3;
		} 
		else {
			var deskitemsNum = itemsNum -3;
			var desksmallitemsNum = itemsNum - 6;
			var tabletitemsNum = itemsNum - 8;
		}
		owl.owlCarousel({
			slideSpeed : 300,
			stopOnHover: true,
			autoPlay: false,
			navigation : returnSliderNavigation,
			pagination: false,
			lazyLoad : true,
			items : itemsNum,
			itemsDesktop : [1000,deskitemsNum],
			itemsDesktopSmall : [900,desksmallitemsNum],
			itemsTablet: [600,tabletitemsNum],
			itemsMobile : false,
			transitionStyle : &quot;goDown&quot;,
		});
	});
</P><PRE>   ////------- Testimonials Carousel
</PRE><P>	$(&quot;.fullwidth-projects-carousel&quot;).owlCarousel({
		navigation : false,
		pagination: false,
		slideSpeed : 400,
		stopOnHover: true,
</P><PRE>   	autoPlay: 3000,
   	items : 5,
   	itemsDesktopSmall : [900,3],
</PRE><P>		itemsTablet: [600,2],
		itemsMobile : [479, 1]
	});
</P><P>	
	/*----------------------------------------------------*/
	/*	Tabs
	/*----------------------------------------------------*/
</P><P>	$('#myTab a').click(function (e) {
		e.preventDefault()
		$(this).tab('show')
	})
</P><P>	
	/*----------------------------------------------------*/
	/*	Css3 Transition
	/*----------------------------------------------------*/
</P><P>	$('*').each(function(){
		if($(this).attr('data-animation')) {
			var $animationName = $(this).attr('data-animation'),
				$animationDelay = &quot;delay-&quot;+$(this).attr('data-animation-delay');
			$(this).appear(function() {
				$(this).addClass('animated').addClass($animationName);
				$(this).addClass('animated').addClass($animationDelay);
			});
		}
	});
</P><P>	
	/*----------------------------------------------------*/
	/*	Pie Charts
	/*----------------------------------------------------*/
</P><P>	var pieChartClass = 'pieChart',
</P><PRE>       pieChartLoadedClass = 'pie-chart-loaded';
</PRE><P>	function initPieCharts() {
		var chart = $('.' + pieChartClass);
		chart.each(function() {
			$(this).appear(function() {
				var $this = $(this),
					chartBarColor = ($this.data('bar-color')) ? $this.data('bar-color') : &quot;#F54F36&quot;,
					chartBarWidth = ($this.data('bar-width')) ? ($this.data('bar-width')) : 150
				if( !$this.hasClass(pieChartLoadedClass) ) {
					$this.easyPieChart({
						animate: 2000,
						size: chartBarWidth,
						lineWidth: 2,
						scaleColor: false,
						trackColor: &quot;#eee&quot;,
						barColor: chartBarColor,
					}).addClass(pieChartLoadedClass);
				}
			});
		});
	}
	initPieCharts();
</P><P>	/*----------------------------------------------------*/
	/*	Animation Progress Bars
	/*----------------------------------------------------*/
</P><P>	$(&quot;[data-progress-animation]&quot;).each(function() {
</P><P>		var $this = $(this);
</P><P>		$this.appear(function() {
</P><P>			var delay = ($this.attr(&quot;data-appear-animation-delay&quot;) ? $this.attr(&quot;data-appear-animation-delay&quot;) : 1);
</P><P>			if(delay &gt; 1) $this.css(&quot;animation-delay&quot;, delay + &quot;ms&quot;);
</P><P>			setTimeout(function() { $this.animate({width: $this.attr(&quot;data-progress-animation&quot;)}, 800);}, delay);
</P><P>		}, {accX: 0, accY: -50});
</P><P>	});
</P><P>	/*----------------------------------------------------*/
	/*	Milestone Counter
	/*----------------------------------------------------*/
</P><P>	jQuery('.milestone-block').each(function() {
		jQuery(this).appear(function() {
			var $endNum = parseInt(jQuery(this).find('.milestone-number').text());
			jQuery(this).find('.milestone-number').countTo({
				from: 0,
				to: $endNum,
				speed: 4000,
				refreshInterval: 60,
			});
		},{accX: 0, accY: 0});
	});
</P><P>	/*----------------------------------------------------*/
	/*	Nivo Lightbox
	/*----------------------------------------------------*/
</P><P>	$('.lightbox').nivoLightbox({
		effect: 'fadeScale',
		keyboardNav: true,
		errorMessage: 'The requested content cannot be loaded. Please try again later.'
	});
</P><P>	/*----------------------------------------------------*/
	/*	Change Slider Nav Icons
	/*----------------------------------------------------*/
</P><P>	$('.touch-slider').find('.owl-prev').html('');
	$('.touch-slider').find('.owl-next').html('');
	$('.touch-carousel, .testimonials-carousel').find('.owl-prev').html('');
	$('.touch-carousel, .testimonials-carousel').find('.owl-next').html('');
	$('.read-more').append('');
</P><P>	
	/*----------------------------------------------------*/
	/*	Tooltips &amp; Fit Vids &amp; Parallax &amp; Text Animations
	/*----------------------------------------------------*/
</P><P>	$(&quot;body&quot;).fitVids();
</P><P>	$('.itl-tooltip').tooltip();
</P><P>	$('.bg-parallax').each(function() {
		$(this).parallax(&quot;30%&quot;, 0.2);
	});
</P><P>	$('.tlt').textillate({
		loop: true,
		in: {
			effect: 'fadeInUp',
			delayScale: 2,
			delay: 50,
			sync: false,
			shuffle: false,
			reverse: true,
		},
		out: {
			effect: 'fadeOutUp',
			delayScale: 2,
			delay: 50,
			sync: false,
			shuffle: false,
			reverse: true,
		},
	});
</P><P>	/*----------------------------------------------------*/
	/*	Sticky Header
	/*----------------------------------------------------*/
</P><P>	(function() {
</P><P>		var docElem = document.documentElement,
			didScroll = false,
			changeHeaderOn = 100;
			document.querySelector( 'header' );
</P><P>		function init() {
			window.addEventListener( 'scroll', function() {
				if( !didScroll ) {
					didScroll = true;
					setTimeout( scrollPage, 250 );
				}
			}, false );
		}
</P><P>		function scrollPage() {
			var sy = scrollY();
			if ( sy &gt;= changeHeaderOn ) {
				$('.top-bar').slideUp(300);
				$(&quot;header&quot;).addClass(&quot;fixed-header&quot;);
				$('.navbar-brand').css({ 'padding-top' : 19 + &quot;px&quot;, 'padding-bottom' : 19 + &quot;px&quot; });
</P><P>				if (/iPhone|iPod|BlackBerry/i.test(navigator.userAgent) || $(window).width() &lt; 479 ){
					$('.navbar-default .navbar-nav &gt; li &gt; a').css({ 'padding-top' : 0 + &quot;px&quot;, 'padding-bottom' : 0 + &quot;px&quot; })
				}else{
					$('.navbar-default .navbar-nav &gt; li &gt; a').css({ 'padding-top' : 20 + &quot;px&quot;, 'padding-bottom' : 20 + &quot;px&quot; })
					$('.search-side').css({ 'margin-top' : -7 + &quot;px&quot; });
				};
</P><P>			}
			else {
				$('.top-bar').slideDown(300);
				$(&quot;header&quot;).removeClass(&quot;fixed-header&quot;);
				$('.navbar-brand').css({ 'padding-top' : 27 + &quot;px&quot;, 'padding-bottom' : 27 + &quot;px&quot; });
</P><P>				if (/iPhone|iPod|BlackBerry/i.test(navigator.userAgent) || $(window).width() &lt; 479 ){
					$('.navbar-default .navbar-nav &gt; li &gt; a').css({ 'padding-top' : 0 + &quot;px&quot;, 'padding-bottom' : 0 + &quot;px&quot; })
				}else{
					$('.navbar-default .navbar-nav &gt; li &gt; a').css({ 'padding-top' : 28 + &quot;px&quot;, 'padding-bottom' : 28 + &quot;px&quot; })
					$('.search-side').css({ 'margin-top' : 0  + &quot;px&quot; });
				};
</P><P>			}
			didScroll = false;
		}
</P><P>		function scrollY() {
			return window.pageYOffset || docElem.scrollTop;
		}
</P><P>		init();
</P><P>	})();
});
</P><P>
/*----------------------------------------------------*/
/*	Portfolio Isotope
/*----------------------------------------------------*/
</P><P>jQuery(window).load(function(){
</P><P>	var $container = $('#portfolio');
	$container.isotope({
		layoutMode : 'masonry',
		filter: '*',
		animationOptions: {
			duration: 750,
			easing: 'linear',
			queue: false,
		}
	});
</P><P>	$('.portfolio-filter ul a').click(function(){
		var selector = $(this).attr('data-filter');
		$container.isotope({
			filter: selector,
			animationOptions: {
				duration: 750,
				easing: 'linear',
				queue: false,
			}
		});
	  return false;
	});
</P><P>	var $optionSets = $('.portfolio-filter ul'),
	    $optionLinks = $optionSets.find('a');
	$optionLinks.click(function(){
		var $this = $(this);
		if ( $this.hasClass('selected') ) { return false; }
		var $optionSet = $this.parents('.portfolio-filter ul');
		$optionSet.find('.selected').removeClass('selected');
		$this.addClass('selected'); 
	});
</P><P>});
/* ----------------- End JS Document ----------------- */
</P><P>
// Styles Switcher JS
function setActiveStyleSheet(title) {
</P><PRE> var i, a, main;
 for(i=0; (a = document.getElementsByTagName(&quot;link&quot;)[i]); i++) {
   if(a.getAttribute(&quot;rel&quot;).indexOf(&quot;style&quot;) != -1 &amp;&amp; a.getAttribute(&quot;title&quot;)) {
     a.disabled = true;
     if(a.getAttribute(&quot;title&quot;) == title) a.disabled = false;
   }
 }
</PRE><P>}
</P><P>function getActiveStyleSheet() {
</P><PRE> var i, a;
 for(i=0; (a = document.getElementsByTagName(&quot;link&quot;)[i]); i++) {
   if(a.getAttribute(&quot;rel&quot;).indexOf(&quot;style&quot;) != -1 &amp;&amp; a.getAttribute(&quot;title&quot;) &amp;&amp; !a.disabled) return a.getAttribute(&quot;title&quot;);
 }
 return null;
</PRE><P>}
</P><P>function getPreferredStyleSheet() {
</P><PRE> var i, a;
 for(i=0; (a = document.getElementsByTagName(&quot;link&quot;)[i]); i++) {
   if(a.getAttribute(&quot;rel&quot;).indexOf(&quot;style&quot;) != -1
      &amp;&amp; a.getAttribute(&quot;rel&quot;).indexOf(&quot;alt&quot;) == -1
      &amp;&amp; a.getAttribute(&quot;title&quot;)
      ) return a.getAttribute(&quot;title&quot;);
 }
 return null;
</PRE><P>}
</P><P>function createCookie(name,value,days) {
</P><PRE> if (days) {
   var date = new Date();
   date.setTime(date.getTime()+(days*24*60*60*1000));
   var expires = &quot;; expires=&quot;+date.toGMTString();
 }
 else expires = &quot;&quot;;
 document.cookie = name+&quot;=&quot;+value+expires+&quot;; path=/&quot;;
</PRE><P>}
</P><P>function readCookie(name) {
</P><PRE> var nameEQ = name + &quot;=&quot;;
 var ca = document.cookie.split(';');
 for(var i=0;i &lt; ca.length;i++) {
   var c = ca[i];
   while (c.charAt(0)==' ') c = c.substring(1,c.length);
   if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
 }
 return null;
</PRE><P>}
</P><P>window.onload = function(e) {
</P><PRE> var cookie = readCookie(&quot;style&quot;);
 var title = cookie ? cookie : getPreferredStyleSheet();
 setActiveStyleSheet(title);
</PRE><P>}
</P><P>window.onunload = function(e) {
</P><PRE> var title = getActiveStyleSheet();
 createCookie(&quot;style&quot;, title, 365);
</PRE><P>}
</P><P>var cookie = readCookie(&quot;style&quot;);
var title = cookie ? cookie : getPreferredStyleSheet();
setActiveStyleSheet(title);
</P><P>$(document).ready(function(){
</P><P>	// Styles Switcher
	$(document).ready(function(){
		$('.open-switcher').click(function(){
			if($(this).hasClass('show-switcher')) {
				$('.switcher-box').css({'left': 0});
				$('.open-switcher').removeClass('show-switcher');
				$('.open-switcher').addClass('hide-switcher');
			}else if(jQuery(this).hasClass('hide-switcher')) {
				$('.switcher-box').css({'left': '-212px'});
				$('.open-switcher').removeClass('hide-switcher');
				$('.open-switcher').addClass('show-switcher');
			}
		});
	});
</P><P>	//Top Bar Switcher
	$(&quot;.topbar-style&quot;).change(function(){
		if( $(this).val() == 1){
			$(&quot;.top-bar&quot;).removeClass(&quot;dark-bar&quot;),
			$(&quot;.top-bar&quot;).removeClass(&quot;color-bar&quot;),
			$(window).resize();
		} else if( $(this).val() == 2){
			$(&quot;.top-bar&quot;).removeClass(&quot;color-bar&quot;),
			$(&quot;.top-bar&quot;).addClass(&quot;dark-bar&quot;),
			$(window).resize();
		} else if( $(this).val() == 3){
			$(&quot;.top-bar&quot;).removeClass(&quot;dark-bar&quot;),
			$(&quot;.top-bar&quot;).addClass(&quot;color-bar&quot;),
			$(window).resize();
		}
	});
</P><P>	//Layout Switcher
	$(&quot;.layout-style&quot;).change(function(){
		if( $(this).val() == 1){
			$(&quot;#container&quot;).removeClass(&quot;boxed-page&quot;),
			$(window).resize();
		} else{
			$(&quot;#container&quot;).addClass(&quot;boxed-page&quot;),
			$(window).resize();
		}
	});
</P><P>	//Background Switcher
	$('.switcher-box .bg-list li a').click(function() {
		var current = $('.switcher-box select[id=layout-style]').find('option:selected').val();
		if(current == '2') {
			var bg = $(this).css(&quot;backgroundImage&quot;);
			$(&quot;body&quot;).css(&quot;backgroundImage&quot;,bg);
		} else {
			alert('Please select boxed layout');
		}
	});
</P><P>});
</P><P>/**
</P><PRE>* Slick Nav 
*/
</PRE><P>$('.wpb-mobile-menu').slicknav({
</P><PRE> prependTo: '.navbar-header',
 parentTag: 'margo',
 allowParentLinks: true,
 duplicate: false,
 label: <I>,</I>
 closedSymbol: '',
 openedSymbol: '',
</PRE>
});</DIV></DIV></DIV></DIV></DIV></DIV></DIV></BODY></HTML>