Team:UESTC-software/js/basic/newSublevel
var id = 0; var selectItem = 0; var beginrecord = 0; var currentUrl = location.href.toString(); if( currentUrl.indexOf("?id=") >= 0 ){
id = parseInt(currentUrl.split("?id=")[1]);
} var str = '<img src="'+data[id].firstImg+'" class="logo" />
'+
'
'+data[id].title+'
'+     '
'+data[id].descFirst+'
'+     '
'+data[id].descSecond+'
';
$(".detail-desc").html(str);
drawSecondNav(beginrecord,selectItem); if(data[id].subData.length <= 4){
$(".detail-container").find("ul").width(250 * data[id].subData.length);
} function drawSecondNav(beginrecord,selectItem){
var htmlStr = '
';     if(data[id].subData.length > 4){         htmlStr += '
<img src="../img/bt_left.png" />
';
}
htmlStr += '
';
for(var i = beginrecord; i < data[id].subData.length && i < 4 + beginrecord; i++){        if(selectItem == i){
htmlStr += '
<a href="'+data[id].subData[i].src+'">';         }else{             htmlStr += '
<a href="'+data[id].subData[i].src+'">';         }         htmlStr += '<img class="img1" src="'+data[id].subData[i].img1+'" />'+             '<img class="img2" src="'+data[id].subData[i].img2+'" /></br>'+             '
'+data[id].subData[i].name+''+             '<img src="../img/go1.png" class="ionc1" />'+             '<img src="../img/go2.png" class="ionc2"/>
'+             '
'+data[id].subData[i].desc+'
'+             '</a>
';
}
htmlStr += '
';
if(data[id].subData.length > 4){
htmlStr +=  '
<img src="../img/bt_right.png" />
';
}    $(".detail-container").html(htmlStr);
$(".detail-container ul .item").mouseenter(function(){        var index = $(".detail-container ul .item").index(this);        selectItem = index + beginrecord;        $(this).addClass("active").siblings(".item").removeClass("active");    });
$(".next-page").click(function(){        if(beginrecord < data[id].subData.length - 4){            beginrecord++;            selectItem = selectItem + 1;            drawSecondNav(beginrecord,selectItem);        }    });    $(".pre-page").click(function(){        if(beginrecord > 0){            beginrecord--;            selectItem = selectItem - 1;            drawSecondNav(beginrecord,selectItem);        }    });
