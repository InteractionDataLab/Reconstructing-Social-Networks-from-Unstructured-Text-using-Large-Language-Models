Team:Goettingen/js/frontside
window.addEventListener("load", function(){
/*############################Javascript using the anime.js library for the mindmap on the fronside#################*/           var wrapper_width = function(){        return window       .getComputedStyle(document.getElementById("mindmap_wrapper"),null)            .getPropertyValue("width")            .match(/\d+/);    }                               var calc_center = function(){        return window            .getComputedStyle(document.getElementById("mindmap_wrapper"),null)            .getPropertyValue("width")            .match(/\d+/)/2;    }                        var spread_out = anime({        targets: ".mindmap_topic",        translateY: function(el, i){            return wrapper_width()*0.37*Math.cos(2*Math.PI*i/5);        },        translateX: function(el, i){            return wrapper_width()*0.37*Math.sin(2*Math.PI*i/5);        },        delay: function(target, index, count){            return index*200;        },        scale: 2.5,        loop: 1,        autoplay: false,        duration: 2000,        elasticity: 200,    });        var show_background = anime({        targets: ".mindmap_background",        scale: 5,        loop: 1,        duration: 2000,        easing: "easeInQuad",        autoplay: false,    });                                document.getElementsByClassName("mindmap_iGEMLogo")[0].onclick = function(){        spread_out.play();        show_background.play();    }
/*##################################Javascript to build an interactive slideshow on the frontpage####################*/    var imageSwitcher = {        images: document.getElementsByClassName("slider_imgContainer"),        imgCount: document.getElementsByClassName("slider_imgContainer").length,        currPos: 0,         slidePos: 1,        changeImage: function(direction){            if(direction == "right"){                if(this.slidePos < this.imgCount-2){                    $(".slider_slideWrapper").animate({                        left: "-=33.666%",                    },{                        duration: 1000,                    })                    this.slidePos++;                }            }            else{                if(this.slidePos > 1){                    $(".slider_slideWrapper").animate({                        left: "+=33.666%",                    },{                        duration: 1000,                    })                    this.slidePos--;                }            }        },        modalSwitchImage: function(direction){            if(direction == "left"){                if(this.images[this.currPos-1]){                    this.currPos--;                    document.getElementsByClassName("slider_modalImg")[0]                        .setAttribute("src",this.images[this.currPos]                        .childNodes[1].getAttribute("src"));                    document.getElementById("slider_modalDescription")                        .innerHTML = this.images[this.currPos]                        .childNodes[1].getAttribute("alt");                }            }            else{                console.log(this.images[3]);                if(this.images[this.currPos+1]){                    this.currPos++;                        document.getElementsByClassName("slider_modalImg")[0]                        .setAttribute("src",this.images[this.currPos]                        .childNodes[1].getAttribute("src"));                    document.getElementById("slider_modalDescription")                        .innerHTML = this.images[this.currPos]                        .childNodes[1].getAttribute("alt");                }            }        },        modalShowImage: function(index){            this.currPos = index;            document.getElementsByClassName("slider_modalImg")[0]                .setAttribute("src",this.images[this.currPos]                .childNodes[1].getAttribute("src"));            document.getElementById("slider_modalDescription").innerHTML =  this.images[this.currPos].childNodes[1].getAttribute("alt");        }    }                        for(var i=0; i<imageSwitcher.images.length; i++){        (function(_i){            imageSwitcher.images[_i].addEventListener("click", function(){                imageSwitcher.modalShowImage(_i);                $(".slider_modalFoundation").css({zIndex: "999"});                $(".modalFade").fadeIn(2000);            })           })(i);    }                    $(".button_right").click(function(){        imageSwitcher.changeImage("right");    });    $(".button_left").click(function(){        imageSwitcher.changeImage("left");    });                        $(".slider_modalExit").click(function(){        $(".modalFade").fadeOut(2000,function(){            $(".slider_modalFoundation").css({zIndex: "0"});        });    })                    $(".slider_modalRight").click(function(){        imageSwitcher.modalSwitchImage("right");    })    $(".slider_modalLeft").click(function(){        imageSwitcher.modalSwitchImage("left");    })
});
