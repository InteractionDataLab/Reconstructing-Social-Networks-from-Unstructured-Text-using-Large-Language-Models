<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_ECUST_JS skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:ECUST/JS</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>var bouncing = 0;
</P><P>$(document).ready(function() {
</P><PRE>   $(&quot;#HQ_page&quot;).attr('id',<I>);</I></PRE><PRE>   setNavigation();
   ufoLinks();
   resizeDiv();
</PRE><PRE>   $('.back-to-top').click(function () {
       $('body,html').animate({scrollTop: 0}, 1000);
</PRE><P>	return false;
</P><PRE>   });
   $(&quot;.at-a-glance&quot;).on(&quot;click&quot;, &quot;.hashlink&quot;, function(event) {
       fixPagePosition(event.target.getAttribute('href'));
   });
   $(&quot;.team&quot;).on(&quot;click&quot;, &quot;.teamlink&quot;, function(event) {
       console.log(event.currentTarget.getAttribute('xlink:href'));
       fixPagePosition(event.currentTarget.getAttribute('xlink:href'));
   });
</PRE><P>});
</P><P>function bounceUfo() {
</P><PRE>   bouncing = 1;
   $('#ufo').animate({&quot;bottom&quot;: -150}, 800, function(){
       $('#ufo').animate({&quot;bottom&quot;: -253}, 700);
       if((window.pageYOffset || document.documentElement.scrollTop) &lt; 20){
           bounceUfo();
       }
   });
</PRE><P>}
</P><P>$(window).on(&quot;load&quot;, function() {
</P><PRE>   fixPagePosition(window.location.hash); 
   if((window.location.href === &quot;<A rel="nofollow" class="external free" href="https://2018.igem.org/Team:ECUST">https://2018.igem.org/Team:ECUST</A>&quot;)||(window.location.href === &quot;<A rel="nofollow" class="external free" href="https://2018.igem.org/Team:ECUST/Results">https://2018.igem.org/Team:ECUST/Results</A>&quot;)){
       setTimeout(function(){
           bounceUfo();
       } ,2000);
   }
</PRE><P>});
</P><P>function fixPagePosition(hash) {
</P><PRE>       console.log(hash);
       var hash = hash;
       if(hash.length &gt; 1) {
          $('body,html').animate({scrollTop: $(hash).offset().top-120}, 1000);
       }
</PRE><P>}
</P><P>function ufoLinks() {
</P><PRE>   if (window.location.href.includes(&quot;ohgfhg&quot;)){
       ufo = &quot;&lt;a href='#nina'&gt;Student Members&lt;/a&gt;&lt;a href='#thorsten'&gt;Supervisors&lt;/a&gt;&quot;;
   } else {
   var ufo = <I>;</I>
     for (var i = 1; i &lt;= $(&quot;h1&quot;).length - 1; i++) {
       if($(&quot;h1&quot;)[i].id == <I>) {</I>
           $(&quot;h1&quot;)[i].setAttribute(&quot;id&quot;,&quot;section&quot;+i);
       }
       ufo += &quot;&lt;a href='#&quot; + $(&quot;h1&quot;)[i].id + &quot;'&gt;&quot; + $(&quot;h1&quot;)[i].innerHTML + &quot;&lt;/a&gt;&quot;;
     }
   }
   $(&quot;.ufo-links&quot;).html(ufo);
   $(&quot;.ufo-links&quot;).on(&quot;click&quot;, &quot;a&quot;, function(event) {
        fixPagePosition(event.target.getAttribute('href'));
   });
</PRE><P>}
</P><P>function toggleNav() {
</P><PRE>   var x = document.getElementById(&quot;nav-toggle&quot;);
   if (x.className === &quot;closed&quot;) {
   	x.className = &quot;open&quot;;
   }else{
   	x.className = &quot;closed&quot;;
   }
   $(&quot;.navbar&quot;).slideToggle();
</PRE><P>} 
</P><P>window.onresize = function(event) {
</P><PRE>   resizeDiv();
</PRE><P>}
</P><P>function resizeDiv() {
</P><PRE>   if(window.innerHeight &gt; 0.55 * window.innerWidth) {
       if(150 &gt; 0.55 * window.innerWidth - 210) {
           var divHeight =  150;
       }else{
           var divHeight = 0.55 * window.innerWidth - 210;
       }
   }else{
       var divHeight = window.innerHeight - 210;
   }
   $(&quot;#bannerspace&quot;).css({&quot;height&quot;: divHeight});
   $(&quot;#pagebanner&quot;).css({&quot;min-height&quot;: window.innerWidth});
   setFullscreenValues();
</PRE><P>}
</P><P>function setNavigation() {
</P><PRE>   var path = $(location).attr('href');
</PRE><PRE>   $(&quot;nav a&quot;).each(function () {
       var href = $(this).attr('href');
       if (path === href) {
           $(this).addClass('active');
           var section = $(this).closest('nav &gt; div &gt; ul &gt; li');
           if (section){
           section.addClass('active');
           }
       }
   });
</PRE><P>}
</P><P>document.onscroll = function() {
</P><PRE>       if (bouncing) { $(&quot;#ufo&quot;).stop(); bouncing=0; $(&quot;#ufo&quot;).stop();}
       pos = window.pageYOffset || document.documentElement.scrollTop;
       if (pos &lt; 263) {
           $(&quot;#ufo&quot;).css({&quot;bottom&quot;: -253+pos});
       }else{
           if (pos &gt;= ($('.footerbar').offset().top-window.innerHeight)){
               $(&quot;#ufo&quot;).animate({&quot;bottom&quot;: pos-($('.footerbar').offset().top-window.innerHeight)+10},10);
           }else{
               $(&quot;#ufo&quot;).animate({&quot;bottom&quot;: 10},10);
           }
       }
</PRE><P>};
</P><P>function setFullscreenValues(){
</P><PRE>   if ((window.innerWidth / window.innerHeight) &lt; 1.75) {
       $('#fullscreen').parent().css({&quot;flex-wrap&quot;: &quot;wrap&quot;});
       $('#fullscreen').parent().css({&quot;align-items&quot;: &quot;center&quot;});
       document.getElementById(&quot;fullscreen-caption&quot;).style.minHeight = &quot;20vh&quot;;
       document.getElementById(&quot;fullscreen&quot;).style.maxHeight = &quot;80vh&quot;;
       document.getElementById(&quot;fullscreen-caption&quot;).style.minWidth = &quot;0&quot;;
       document.getElementById(&quot;fullscreen&quot;).style.maxWidth = &quot;100%&quot;;
   } else {
       $('#fullscreen').parent().css({&quot;flex-wrap&quot;: &quot;nowrap&quot;});
       $('#fullscreen').parent().css({&quot;align-items&quot;: &quot;flex-end&quot;});
       document.getElementById(&quot;fullscreen-caption&quot;).style.minWidth = &quot;30%&quot;;
       document.getElementById(&quot;fullscreen&quot;).style.maxWidth = &quot;70%&quot;;
       document.getElementById(&quot;fullscreen-caption&quot;).style.minHeight = &quot;0&quot;;
       document.getElementById(&quot;fullscreen&quot;).style.maxHeight = &quot;90vh&quot;;
   }
</PRE><P>}
</P><P>var fullscreen = false;
</P><P>$('.zoom').on('click', function (){
</P><PRE>   document.getElementById(&quot;fullscreen&quot;).setAttribute(&quot;src&quot;, $(this).attr('src'));
   if ($(this).next().is('figcaption')) {
       setFullscreenValues();
       document.getElementById(&quot;fullscreen-caption&quot;).innerHTML = $(this).next().html();
   }else{
       document.getElementById(&quot;fullscreen-caption&quot;).innerHTML = <I>;</I>
       document.getElementById(&quot;fullscreen-caption&quot;).style.minWidth = 0;
       document.getElementById(&quot;fullscreen&quot;).style.maxWidth = &quot;100%&quot;;
       document.getElementById(&quot;fullscreen-caption&quot;).style.minHeight = &quot;0&quot;;
       document.getElementById(&quot;fullscreen&quot;).style.maxHeight = &quot;90vh&quot;;
   }
   $('#modal').slideToggle();
   fullscreen = true;
</PRE><P>});
</P><P>$(document).on('keyup',function(evt) {
</P><PRE>   if (evt.keyCode == 27) {
       if (fullscreen) {
           $('#modal').slideToggle();
           fullscreen = false;
       }
   }
</PRE><P>});
</P><P>$('#fullscreen').on('click', function (){
</P><PRE>   $('#modal').slideToggle();
   fullscreen = false;
</PRE><P>});
</P><P>$('#close-fullscreen').on('click', function (){
</P><PRE>   $('#modal').slideToggle();
   fullscreen = false;
</PRE><P>});
</P><P>$('.dropbtn span').on('touchstart', function(){
</P><PRE>   console.log(&quot;Hey there&quot;);
   if ($(this).closest('.dropbtn').closest('li').hasClass(&quot;show&quot;)) {
       console.log(&quot;removing&quot;);
       $(this).closest('.dropbtn').closest('li').removeClass(&quot;show&quot;);
   }else{
       console.log(&quot;adding&quot;);
       $(this).closest('.dropbtn').closest('li').addClass(&quot;show&quot;);
   }
</PRE><P>});
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>