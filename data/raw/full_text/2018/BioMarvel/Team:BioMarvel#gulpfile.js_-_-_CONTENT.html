<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_BioMarvel_gulpfile_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:BioMarvel/gulpfile.js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>var gulp = require('gulp');
var sass = require('gulp-sass');
var header = require('gulp-header');
var cleanCSS = require('gulp-clean-css');
var rename = require(&quot;gulp-rename&quot;);
var uglify = require('gulp-uglify');
var pkg = require('./package.json');
var browserSync = require('browser-sync').create();
</P><P>// Set the banner content
var banner = ['/*!\n',
</P><PRE> ' * Start Bootstrap - &lt;%= pkg.title %&gt; v&lt;%= pkg.version %&gt; (&lt;%= pkg.homepage %&gt;)\n',
 ' * Copyright 2013-' + (new Date()).getFullYear(), ' &lt;%= pkg.author %&gt;\n',
 ' * Licensed under &lt;%= pkg.license %&gt; (<A rel="nofollow" class="external free" href="https://github.com/BlackrockDigital/">https://github.com/BlackrockDigital/</A>&lt;%= pkg.name %&gt;/blob/master/LICENSE)\n',
 ' */\n',
 
</PRE><P>].join(<I>);</I></P><P>// Copy third party libraries from /node_modules into /vendor
gulp.task('vendor', function() {
</P><PRE> // Bootstrap
 gulp.src([
     './node_modules/bootstrap/dist/**/*',
     '!./node_modules/bootstrap/dist/css/bootstrap-grid*',
     '!./node_modules/bootstrap/dist/css/bootstrap-reboot*'
   ])
   .pipe(gulp.dest('./vendor/bootstrap'))
</PRE><PRE> // Font Awesome
 gulp.src([
     './node_modules/font-awesome/**/*',
     '!./node_modules/font-awesome/{less,less/*}',
     '!./node_modules/font-awesome/{scss,scss/*}',
     '!./node_modules/font-awesome/.*',
     '!./node_modules/font-awesome/*.{txt,json,md}'
   ])
   .pipe(gulp.dest('./vendor/font-awesome'))
</PRE><PRE> // jQuery
 gulp.src([
     './node_modules/jquery/dist/*',
     '!./node_modules/jquery/dist/core.js'
   ])
   .pipe(gulp.dest('./vendor/jquery'))
</PRE><PRE> // jQuery Easing
 gulp.src([
     './node_modules/jquery.easing/*.js'
   ])
   .pipe(gulp.dest('./vendor/jquery-easing'))
</PRE><P>});
</P><P>// Compile SCSS
gulp.task('css:compile', function() {
</P><PRE> return gulp.src('./scss/**/*.scss')
   .pipe(sass.sync({
     outputStyle: 'expanded'
   }).on('error', sass.logError))
   .pipe(header(banner, {
     pkg: pkg
   }))
   .pipe(gulp.dest('./css'))
</PRE><P>});
</P><P>// Minify CSS
gulp.task('css:minify', ['css:compile'], function() {
</P><PRE> return gulp.src([
     './css/*.css',
     '!./css/*.min.css'
   ])
   .pipe(cleanCSS())
   .pipe(rename({
     suffix: '.min'
   }))
   .pipe(gulp.dest('./css'))
   .pipe(browserSync.stream());
</PRE><P>});
</P><P>// CSS
gulp.task('css', ['css:compile', 'css:minify']);
</P><P>// Minify JavaScript
gulp.task('js:minify', function() {
</P><PRE> return gulp.src([
     './js/*.js',
     '!./js/*.min.js'
   ])
   .pipe(uglify())
   .pipe(rename({
     suffix: '.min'
   }))
   .pipe(header(banner, {
     pkg: pkg
   }))
   .pipe(gulp.dest('./js'))
   .pipe(browserSync.stream());
</PRE><P>});
</P><P>// JS
gulp.task('js', ['js:minify']);
</P><P>// Default task
gulp.task('default', ['css', 'js', 'vendor']);
</P><P>// Configure the browserSync task
gulp.task('browserSync', function() {
</P><PRE> browserSync.init({
   server: {
     baseDir: &quot;./&quot;
   }
 });
</PRE><P>});
</P><P>// Dev task
gulp.task('dev', ['css', 'js', 'browserSync'], function() {
</P><PRE> gulp.watch('./scss/*.scss', ['css']);
 gulp.watch('./js/*.js', ['js']);
 gulp.watch('./*.html', browserSync.reload);
</PRE><P>});
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>