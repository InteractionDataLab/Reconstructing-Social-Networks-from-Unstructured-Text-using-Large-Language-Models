<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_AHUT_China_simpleLightbox_min_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:AHUT China/simpleLightbox.min js</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">!function(a){&quot;function&quot;==typeof define&amp;&amp;define.amd?define([&quot;jquery&quot;],a):&quot;object&quot;==typeof module&amp;&amp;module.exports?module.exports=a(require(&quot;jquery&quot;)):a(jQuery)}(function(a){function b(a){this.init.apply(this,arguments)}var c=0,d=a(&quot;html&quot;),e=a(document),f=a(window);return b.defaults={elementClass:&quot;&quot;,elementLoadingClass:&quot;slbLoading&quot;,htmlClass:&quot;slbActive&quot;,closeBtnClass:&quot;&quot;,nextBtnClass:&quot;&quot;,prevBtnClass:&quot;&quot;,loadingTextClass:&quot;&quot;,closeBtnCaption:&quot;Close&quot;,nextBtnCaption:&quot;Next&quot;,prevBtnCaption:&quot;Previous&quot;,loadingCaption:&quot;Loading...&quot;,bindToItems:!0,closeOnOverlayClick:!0,closeOnEscapeKey:!0,nextOnImageClick:!0,showCaptions:!0,captionAttribute:&quot;title&quot;,urlAttribute:&quot;href&quot;,startAt:0,loadingTimeout:100,appendTarget:&quot;body&quot;,beforeSetContent:null,beforeClose:null,beforeDestroy:null,videoRegex:new RegExp(/youtube.com|vimeo.com/)},a.extend(b.prototype,{init:function(d){this.options=a.extend({},b.defaults,d),this.ens=&quot;.slb&quot;+ ++c,this.items=[],this.captions=[];var e=this;this.options.$items?(this.$items=this.options.$items,this.$items.each(function(){var b=a(this);e.items.push(b.attr(e.options.urlAttribute)),e.captions.push(b.attr(e.options.captionAttribute))}),this.options.bindToItems&amp;&amp;this.$items.on(&quot;click&quot;+this.ens,function(b){b.preventDefault(),e.showPosition(e.$items.index(a(b.currentTarget)))})):this.options.items&amp;&amp;(this.items=this.options.items),this.options.captions&amp;&amp;(this.captions=this.options.captions)},next:function(){return this.showPosition(this.currentPosition+1)},prev:function(){return this.showPosition(this.currentPosition-1)},normalizePosition:function(a){return a&gt;=this.items.length?a=0:a&lt;0&amp;&amp;(a=this.items.length-1),a},showPosition:function(a){return this.currentPosition=this.normalizePosition(a),this.setupLightboxHtml().prepareItem(this.currentPosition,this.setContent).show()},loading:function(a){var b=this;a?this.loadingTimeout=setTimeout(function(){b.$el.addClass(b.options.elementLoadingClass),b.$content.html('<P class="slbLoadingText '+b.options.loadingTextClass+'">'+b.options.loadingCaption+&quot;</P>&quot;),b.show()},this.options.loadingTimeout):(this.$el&amp;&amp;this.$el.removeClass(this.options.elementLoadingClass),clearTimeout(this.loadingTimeout))},prepareItem:function(b,c){var d=this,e=this.items[b];if(this.loading(!0),this.options.videoRegex.test(e))c.call(d,a('<DIV class="slbIframeCont">&lt;iframe class=&quot;slbIframe&quot; frameborder=&quot;0&quot; allowfullscreen src=&quot;'+e+'&quot;&gt;&lt;/iframe&gt;</DIV>'));else{var f=a('<DIV class="slbImageWrap">&lt;img class=&quot;slbImage&quot; src=&quot;'+e+'&quot; /&gt;</DIV>');this.$currentImage=f.find(&quot;.slbImage&quot;),this.options.showCaptions&amp;&amp;this.captions[b]&amp;&amp;f.append('<DIV class="slbCaption">'+this.captions[b]+&quot;</DIV>&quot;),this.loadImage(e,function(){d.setImageDimensions(),c.call(d,f),d.loadImage(d.items[d.normalizePosition(d.currentPosition+1)])})}return this},loadImage:function(a,b){if(!this.options.videoRegex.test(a)){var c=new Image;b&amp;&amp;(c.onload=b),c.src=a}},setupLightboxHtml:function(){var b=this.options;return this.$el||(this.$el=a('<DIV class="slbElement '+b.elementClass+'"><DIV class="slbWrapOuter"><DIV class="slbWrap"><DIV class="slbContentOuter">&lt;button type=&quot;button&quot; title=&quot;'+b.closeBtnCaption+'&quot; class=&quot;slbCloseBtn '+b.closeBtnClass+'&quot;&gt;Ã—&lt;/button&gt;</DIV></DIV></DIV></DIV>'),this.items.length&gt;1&amp;&amp;a('<DIV class="slbArrows">&lt;button type=&quot;button&quot; title=&quot;'+b.prevBtnCaption+'&quot; class=&quot;prev slbArrow'+b.prevBtnClass+'&quot;&gt;'+b.prevBtnCaption+'&lt;/button&gt;&lt;button type=&quot;button&quot; title=&quot;'+b.nextBtnCaption+'&quot; class=&quot;next slbArrow'+b.nextBtnClass+'&quot;&gt;'+b.nextBtnCaption+&quot;&lt;/button&gt;</DIV>&quot;).appendTo(this.$el.find(&quot;.slbContentOuter&quot;)),this.$content=this.$el.find(&quot;.slbContent&quot;)),this.$content.empty(),this},show:function(){return this.modalInDom||(this.$el.appendTo(a(this.options.appendTarget)),d.addClass(this.options.htmlClass),this.setupLightboxEvents(),this.modalInDom=!0),this},setContent:function(b){var c=a(b);return this.loading(!1),this.setupLightboxHtml(),this.options.beforeSetContent&amp;&amp;this.options.beforeSetContent(c,this),this.$content.html(c),this},setImageDimensions:function(){this.$currentImage&amp;&amp;this.$currentImage.css(&quot;max-height&quot;,f.height()+&quot;px&quot;)},setupLightboxEvents:function(){var b=this;this.lightboxEventsSetuped||(this.$el.on(&quot;click&quot;+this.ens,function(c){var d=a(c.target);d.is(&quot;.slbCloseBtn&quot;)||b.options.closeOnOverlayClick&amp;&amp;d.is(&quot;.slbWrap&quot;)?b.close():d.is(&quot;.slbArrow&quot;)?d.hasClass(&quot;next&quot;)?b.next():b.prev():b.options.nextOnImageClick&amp;&amp;b.items.length&gt;1&amp;&amp;d.is(&quot;.slbImage&quot;)&amp;&amp;b.next()}),e.on(&quot;keyup&quot;+this.ens,function(a){b.options.closeOnEscapeKey&amp;&amp;27===a.keyCode&amp;&amp;b.close(),b.items.length&gt;1&amp;&amp;((39===a.keyCode||68===a.keyCode)&amp;&amp;b.next(),(37===a.keyCode||65===a.keyCode)&amp;&amp;b.prev())}),f.on(&quot;resize&quot;+this.ens,function(){b.setImageDimensions()}),this.lightboxEventsSetuped=!0)},close:function(){this.modalInDom&amp;&amp;(this.options.beforeClose&amp;&amp;this.options.beforeClose(this),this.$el&amp;&amp;this.$el.off(this.ens),e.off(this.ens),f.off(this.ens),this.lightboxEventsSetuped=!1,this.$el.detach(),d.removeClass(this.options.htmlClass),this.modalInDom=!1)},destroy:function(){this.close(),this.options.beforeDestroy&amp;&amp;this.options.beforeDestroy(this),this.$items&amp;&amp;this.$items.off(this.ens),this.$el&amp;&amp;this.$el.remove()}}),b.open=function(a){var c=new b(a);return a.content?c.setContent(a.content).show():c.showPosition(c.options.startAt)},a.fn.simpleLightbox=function(c){var d,e=this;return this.each(function(){a.data(this,&quot;simpleLightbox&quot;)||(d=d||new b(a.extend({},c,{$items:e})),a.data(this,&quot;simpleLightbox&quot;,d))})},a.simpleLightbox=a.SimpleLightbox=b,a});

</DIV></DIV></DIV></DIV></DIV></BODY></HTML>