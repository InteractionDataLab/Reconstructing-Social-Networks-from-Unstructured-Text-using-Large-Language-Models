<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Peking_Software skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Peking/Software</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><DIV id="navigation" class="navbar navbar-fixed-top"><DIV class="navbar-inner "><DIV class="container no-padding"><DIV class="nav-collapse collapse"><UL class="nav"><LI class="menu-1"><A class="colapse-menu1" href="https://2018.igem.org/Team:Peking">Home</A></LI><LI class="dropdown menu-2"><A class="dropdown-toggle" data-toggle="dropdown" href="#">Project</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Project" class="barfont1">Description</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Design" class="barfont1">Design</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Demonstrate" class="barfont1">Demonstration</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Perspective" class="barfont1">Perspective</A></LI></UL><LI class="menu-3"><A class="colapse-menu1" href="https://2018.igem.org/Team:Peking/Model">Modeling</A></LI><LI class="menu-4"><A class="colapse-menu1" href="https://2018.igem.org/Team:Peking/Software">Software</A></LI><LI class="menu-6"><A class="colapse-menu1" href="https://2018.igem.org/Team:Peking/Human_Practices">Human Practices</A></LI><LI class="dropdown menu-7"><A class="dropdown-toggle" data-toggle="dropdown" href="#">Achievement</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Judging_Form" class="barfont1">Judging Form</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Parts" class="barfont1">Parts</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Improve" class="barfont1">Improvement</A></LI><LI><A href="https://2018.igem.org/Team:Peking/InterLab" class="barfont1">InterLab</A></LI><LI class="dropdown menu-8"><A class="dropdown-toggle" data-toggle="dropdown" href="#">Lab</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Team_Members">Team Members</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Attributions" class="barfont1">Attributions</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Notebook" class="barfont1">Notebook</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Collaborations" class="barfont1">Collaborations</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Safety" class="barfont1">Safety</A></LI><LI><A href="https://2018.igem.org/Team:Peking/Acknowledgement" class="barfont1">Acknowledgement</A></LI></DIV></DIV></DIV></DIV><DIV id="page-title"><DIV class="row"><DIV class="twelve columns centered text-center"><H1>Software </H1></DIV></DIV></DIV><DIV id="page-content" class="row page"><DIV id="primary" class="twelve columns"><SECTION><DIV class="row"><DIV class="row"><DIV class="three columns"><DIV id="page-wrap"><DIV id="sidebar" style="color:#000000"><H4><A href="javascript:void(0);" onclick="naver('A')">•Overview</A></H4><H4><A href="javascript:void(0);" onclick="naver('B')">•Naming Rules Management</A></H4><H4><A href="javascript:void(0);" onclick="naver('C')">•Grayscale &amp; Merge</A></H4><H4><A href="javascript:void(0);" onclick="naver('D')">•Video &amp; Z Stacks</A></H4><H4><A href="javascript:void(0);" onclick="naver('E')">•Cropping</A></H4><H4><A href="javascript:void(0);" onclick="naver('F')">•Fixing Drift &amp; Rotation</A></H4><H4><A href="javascript:void(0);" onclick="naver('G')">•Time Scale &amp; Scale Plate</A></H4></DIV></DIV></DIV><DIV class="nine columns"><DIV class="coll"><DIV class="texttitle">	Overview
</DIV><DIV class="content"><P>We produce abundant fluorescence images in our experiments. However, there are many challenges in the processing of such data, which can be extremely large. Even in the case of 1 hour of imaging for 25 positions at 3 channels every minute, the microscope will yield 4500 high-resolution images. To help with the image processing in such a high throughput, we developed software for microscope image batching(Fig. 1).
<A href="https://github.com/igemsoftware2018/Team_Peking">(Github: https://github.com/igemsoftware2018/Team_Peking)</A></P><P style="text-align:justify; text-justify:inter-ideograph">This software was written specifically for the problems we encountered. </P><DIV align="center">Figure. 1 The GUI of the software</DIV></DIV></DIV><DIV class="coll"><DIV class="texttitle">Naming Rules management
</DIV><DIV class="content"><P>The first problem we met is that the file names of the exported images are generated according to <B>fuzzy rules</B>. Confusingly, the rules for the number of the positions, channels and times vary among files. To address the diversity of file names of images derived from different microscopes, we managed to build a <B>naming rule manager</B> (Fig. 2), which can create and modify the naming rule. The rules that can be made are <B>flexible</B>, and can contain up to 4 variables and 4 customized strings. Every variable has a customized zero filling function that can solve annoying problems such as the numbers 01 to 99. The users can also <B>share</B> their rules in the form of a file, which may benefit group projects.<A href="https://static.igem.org/mediawiki/2018/3/32/T--Peking--Users_manual.pdf"> Please refer to the user manuals for more details.</A></P><DIV align="center"><DIV align="center">Figure. 2 The GUI of naming rules manager</DIV></DIV></DIV></DIV><DIV class="coll"><DIV class="texttitle">Grayscale and Channels Merge
</DIV><DIV class="content"><P>After solving the problem of obtaining the files, we can now address their processing.The most important difference between fluorescence microscope images and ordinary photographs is the channel function. We needed to contrast different fluorescence channels to assess the result. However, exporting a great number of large images can be exceedingly time-consuming. Thus, if we can merge the channels or convert the images to grayscale after cropping, we will save much time. Thus, we added the functions of <B>merging</B>(Fig. 3) and <B>grayscale conversion</B> (Fig. 4)to our software first.<A href="https://static.igem.org/mediawiki/2018/3/32/T--Peking--Users_manual.pdf"> Please refer to the user manuals for more details.</A></P><DIV align="center">Figure. 3 The images before and after channels merging</DIV><DIV align="center">Figure. 4 The images before and after grayscale conversion</DIV></DIV></DIV><DIV class="coll"><DIV class="texttitle">Video and Z Stacks
</DIV><DIV class="content"><P>In living organisms, if we want to show dynamic processes using video recordings, we will need to fuse the images in the correct order to make a video. We therefore wrote functions to <B>export video</B> by time or by z axis.(Fig. 5) <A href="https://static.igem.org/mediawiki/2018/3/32/T--Peking--Users_manual.pdf"> Please refer to the user manuals for more details.</A></P><DIV align="center">Figure. 5 The GUI of the video functions and the video exported</DIV></DIV></DIV><DIV class="coll"><DIV class="texttitle">Cropping
</DIV><DIV class="content"><P>In scientific research, cropping is widely used to beautify the images and emphasize the target. To meet the need for flexible cropping, we provided two cropping methods. <B>Drawing cropping</B> can draw the range to be cropped while <B>position cropping</B> crops the given position.(Fig. 6) Please refer to the user manuals for more details.  <A href="https://static.igem.org/mediawiki/2018/3/32/T--Peking--Users_manual.pdf"> Please refer to the user manuals for more details.</A></P><DIV align="center">Figure. 6 The cropping process</DIV></DIV></DIV><DIV class="coll"><DIV class="texttitle">Fixing Drift and Rotation
</DIV><DIV class="coll"><DIV class="content"><P>What’s more, sometime the cells float during the process of photographing, which results in the cells drifting or even rotating in the video. We will have to make a larger cropping to ensure that the cell will not move out of the field of view. To solve this problem, we wrote a function that can move the cropping frame with the cell linearly, which can <B>fix the drifting</B> of cells to some extent(Fig. 7). Also, we can rotate the image using the setting before cropping, by which we may also <B>fix the rotation</B> of the cells(Fig. 8). Please refer to the user manuals for more details. <A href="https://static.igem.org/mediawiki/2018/3/32/T--Peking--Users_manual.pdf"> Please refer to the user manuals for more details.</A></P><DIV align="center"><DIV align="center">Figure. 7 The videos before and after drift fixing. The yeast are less locomotive after fixing.</DIV></DIV><DIV align="center">Figure. 8 The videos before and after rotation and drift fixing, The yeast are less rotational after fixing.</DIV></DIV></DIV><DIV class="coll"><DIV class="texttitle">Time Scale and Scale Plate
</DIV><DIV class="content"><P>Eventually, the micrographs in science need information attached to them before they can be shown to the public. The time scale of every frame and the scale of the cells are the most common features.(Fig. 9) We can add the <B>time scale</B> information to the image by the given position, start time, interval and unit. Furthermore, <B>the scale bar</B>, which indicates the scale of the cells, can be added by the given position, total length, length/pixel and unit.<A href="https://static.igem.org/mediawiki/2018/3/32/T--Peking--Users_manual.pdf"> Please refer to the user manuals for more details.</A></P><DIV align="center"><DIV align="center">Figure. 9 The GUI of adding information and the image with time and scale bar</DIV></DIV></DIV>
Almost all micrographs shown in our wiki and ppt were processed using this software. It helped us a lot and we wish to share it with anyone who needs it. If you want more detail, please refer to the user manuals. The software is available at:<A href="https://github.com/igemsoftware2018/Team_Peking">https://github.com/igemsoftware2018/Team_Peking (Github)</A>. If you want an updated version after the project freeze and after iGEM, check<A href="https://github.com/IndigoMad/Microscopic-Images-Batching"> here: (Github)</A>, we will release all the updates there. 
                            
                     
                       </DIV></DIV></DIV></DIV></DIV></SECTION></DIV></DIV><FOOTER id="page-footer"><FOOTER id="page-footer"><DIV class="row"><DIV class="twelve columns"><UL class="copyright"><LI><A href="https://2018.igem.org/Team:Peking">Home</A>   <A href="mailto:pekingigem2018@126.com">Contact</A></LI><SPAN>©2018 PEKING IGEM. All Rights Reserved.</SPAN><LI><A href="http://getbootstrap.com/2.3.2/">Based on Bootstrap</A></LI></UL></DIV><DIV id="go-top" style="display: block;"><A title="Back to Top" href="#">Go To Top</A></DIV></DIV></FOOTER></FOOTER></DIV></DIV></DIV></DIV></DIV></BODY></HTML>