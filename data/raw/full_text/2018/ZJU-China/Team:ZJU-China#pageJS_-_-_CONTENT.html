<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_ZJU-China_pageJS skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:ZJU-China/pageJS</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>var times = 6;
$(function(){
	$(window).scrollTop(0);
	var height;
	height = $('.cnt_psg').offset().top - $('.demo').height() * 2;
	$(window).scroll(function(){
		if($(window).scrollTop() &gt;= height) {
			$('.cnt').fadeIn(300);
		} else {
			$('.cnt').fadeOut(300);
		}
	});
</P><P>	var indices = document.getElementsByClassName('psg_ttl');
	var i, temp, allCnt;
	allCnt = <I>;</I>
	for(i=0; i&lt;indices.length-1; i++) {
		temp = indices[i].innerHTML;
</P>
		allCnt += '<P class="cnt_p" id=".27.2B_i.toString.28.29_.2B.27"> '+temp+'</P>';
<P>	}
	temp = indices[indices.length-1].innerHTML;
</P>
	allCnt += '<P class="cnt_p" id=".27.2B.28indices.length-1.29.toString.28.29.2B.27"> '+temp+'</P>';
<P>	$('.cnt').html(allCnt);
</P><P>	var tops = new Array();
	var contents = new Array();
	for(i=0; i&lt;indices.length; i++) {
		tops.push(indices[i].offsetTop);
		contents.push(indices[i].innerHTML);
	}    
</P><P>	var cnts = $('.cnt').find('*');
	$('.cnt&gt;p').click(function() {
		var temp = $(this).html();
		temp = temp.slice(6)
		var index = contents.indexOf(temp);
		if(index &gt;= 0) {
			temp = tops[index] -  6 * $('.psg_ttl').height();
			$('html,body').animate({scrollTop: temp}, 800);
		}
	});
	$(window).scroll(function() {
		var temp = tops.length - 1;
		var top = $(window).scrollTop();
		var index = getIndex(tops, top);
		for(var i=0; i&lt;=temp; i++) {
			cnts[i].style.color = 'black';
			cnts[i].style.fontWeight = 'normal';
		}
		cnts[index].style.display = 'block';
		cnts[index].style.color = 'steelblue';
		cnts[index].style.fontWeight = 'bolder';
	});
});
</P><P>function getIndex(tops, top) {
	var times = 6;
	var temp = tops.length - 1;
	if(top&lt;=tops[0] -  times * $('.psg_ttl').height()) return 0;
	else if(top&gt;=tops[temp] -  times * $('.psg_ttl').height()) return tops.length-1;
	for(var i=0;i&lt;temp;i++) {
		if(top&gt;=tops[i] -  times * $('.psg_ttl').height() &amp;&amp; top&lt;tops[i+1] -  6 * $('.psg_ttl').height()) return i;
	}
	return 0;
}
</P></DIV></DIV></DIV></DIV></DIV></BODY></HTML>