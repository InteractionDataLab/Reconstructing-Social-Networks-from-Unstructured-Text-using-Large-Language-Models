<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_NCTU_Formosa_Dry_Lab_Productivity_Model skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:NCTU Formosa/Dry Lab/Productivity Model</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><DIV class="igem_2017_menu_wrapper"><DIV class="menu_button" id="display_menu_control">
		MENU
	</DIV><DIV id="menu_content"><A href="https://2017.igem.org/Team:NCTU_Formosa"><DIV class="menu_button direct_to_page">
				HOME
			</DIV></A><DIV class="menu_button"> TEAM
		</DIV><DIV class="submenu_wrapper" id="team_submenu"><A href="https://2017.igem.org/Team:NCTU_Formosa/Team"><DIV class="submenu_button" id="Team_page">
					Team
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Collaborations"><DIV class="submenu_button" id="Collaborations_page">
					Collaborations
				</DIV></A></DIV><DIV class="menu_button"> PROJECT
		</DIV><DIV class="submenu_wrapper"><A href="https://2017.igem.org/Team:NCTU_Formosa/Description"><DIV class="submenu_button" id="Description_page">
					Description
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Design"><DIV class="submenu_button" id="Design_page">
					Design
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Experiments"><DIV class="submenu_button" id="Experiments_page">
					Experiments
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Notebook"><DIV class="submenu_button" id="Notebook_page">
					Notebook
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/InterLab"><DIV class="submenu_button" id="InterLab_page">
					InterLab
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Contribution"><DIV class="submenu_button" id="Contribution_page">
					Contribution
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Model"><DIV class="submenu_button" id="Model_page">
					Model
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Results"><DIV class="submenu_button" id="Results_page">
					Results
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Demonstrate"><DIV class="submenu_button" id="Demonstrate_page">
					Demonstrate
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Improve"><DIV class="submenu_button" id="Improve_page">
					Improve
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Attributions"><DIV class="submenu_button" id="Attributions_page">
					Attributions
				</DIV></A></DIV><DIV class="menu_button"> PARTS
		</DIV><DIV class="submenu_wrapper"><A href="https://2017.igem.org/Team:NCTU_Formosa/Parts"><DIV class="submenu_button" id="Parts_page">
					Parts
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Basic_Part"><DIV class="submenu_button" id="Basic_Part_page">
					Basic Parts
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Composite_Part"><DIV class="submenu_button" id="Composite_Part_page">
					Composite Parts
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Part_Collection"><DIV class="submenu_button" id="Part_Collection_page">
					Part Collection
				</DIV></A></DIV><A href="https://2017.igem.org/Team:NCTU_Formosa/Safety"><DIV class="menu_button direct_to_page">
				SAFETY
			</DIV></A><DIV class="menu_button"> HUMAN PRACTICES
		</DIV><DIV class="submenu_wrapper"><A href="https://2017.igem.org/Team:NCTU_Formosa/HP/Silver"><DIV class="submenu_button" id="Silver_page">
					Silver HP
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/HP/Gold_Integrated"><DIV class="submenu_button" id="Gold_Integrated_page">
					Integrated and Gold
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Engagement"><DIV class="submenu_button" id="Engagement_page">
					Public Engagement
				</DIV></A></DIV><DIV class="menu_button"> AWARDS
		</DIV><DIV class="submenu_wrapper"><A href="https://2017.igem.org/Team:NCTU_Formosa/Applied_Design"><DIV class="submenu_button" id="Applied_Design_page">
					Applied Design
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Entrepreneurship"><DIV class="submenu_button" id="Entrepreneurship_page">
					Entrepreneurship
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Hardware"><DIV class="submenu_button" id="Hardware_page">
					Hardware
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Measurement"><DIV class="submenu_button" id="Measurement_page">
					Measurement
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Model"><DIV class="submenu_button" id="Model_page">
					Model
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Plant"><DIV class="submenu_button" id="Plant_page">
					Plant
				</DIV></A><A href="https://2017.igem.org/Team:NCTU_Formosa/Software"><DIV class="submenu_button" id="Software_page">
					Software
				</DIV></A></DIV><A href="https://igem.org/2017_Judging_Form?team=NCTU_Formosa"><DIV class="menu_button direct_to_page">
				JUDGING FORM
			</DIV></A></DIV></DIV><TITLE>Navigation Bar</TITLE><DIV class="main-container" onscroll="shadow()" id="main-container"><UL class="main-menu" style="list-style-image: none;"><LI class="dropdown"><A href="https://2018.igem.org/Team:NCTU_Formosa" class="dropbtn" id="navigation">Home</A></LI><LI class="dropdown"><A href="#" class="dropbtn"><SPAN class="menu_sign">Project</SPAN></A><DIV class="dropdown-content" style="display: none;"><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Project/Description" id="first">Description</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Applied_Design">Design</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Hardware">IoT System</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Demonstrate">Demonstration</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Entrepreneurship">Entrepreneurship</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/InterLab" id="last">InterLab</A></DIV></DIV></LI><LI class="dropdown"><A href="#" class="dropbtn"><SPAN class="menu_sign">Dry Lab</SPAN></A><DIV class="dropdown-content" style="display: none;"><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Model" id="first">Overview</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Dry_Lab/Microbiota_Prediciton">Microbiota Prediction</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Dry_Lab/Peptide_Prediction">Peptide Prediction</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Dry_Lab/Growth_Model">Growth Model</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Dry_Lab/Productivity_Model">Productivity Model</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Dry_Lab/NGS_Data_Analysis" id="last">NGS Data Analysis</A></DIV></DIV></LI><LI class="dropdown"><A href="#" class="dropbtn"><SPAN class="menu_sign">Wet Lab</SPAN></A><DIV class="dropdown-content" style="display: none;"><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Wet_Lab" id="first">Experiment Design</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Wet_Lab/Expression">Protein Expression</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Wet_Lab/Functional_Analysis">Functional Analysis</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Wet_Lab/Curcumin_Biosensor">Curcumin Bio-sensor</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Wet_Lab/Safety" id="last">Safety</A></DIV></DIV></LI><LI class="dropdown"><A href="#" class="dropbtn"><SPAN class="menu_sign">Parts</SPAN></A><DIV class="dropdown-content" style="display: none;"><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Parts" id="first">Parts</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Basic_Part">Basic Parts</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Composite_Part">Composite Parts</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Part_Collection">Part Collection</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Improve" id="last">Improvement</A></DIV></DIV></LI><LI class="dropdown"><A href="#" class="dropbtn"><SPAN class="menu_sign">Human Practice</SPAN></A><DIV class="dropdown-content" style="display: none;"><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Human_Practices" id="first">Overview</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Public_Engagement">Education &amp;Public Engagement</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Human_Practices/Integrated">Integrated HP</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Collaborations" id="last">Collaboration</A></DIV></DIV></LI><LI class="dropdown"><A href="#" class="dropbtn"><SPAN class="menu_sign">Team</SPAN></A><DIV class="dropdown-content" style="display: none;"><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Team_Member" id="first">Team Introduction</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Attributions" id="last">Attributions</A></DIV></DIV></LI><LI class="dropdown"><A href="#" class="dropbtn"><SPAN class="menu_sign">Notebook</SPAN></A><DIV class="dropdown-content" style="display: none;"><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Notebook" id="first">Lab Note</A></DIV><DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Protocol" id="last">Protocol</A></DIV></DIV></LI><LI class="dropdown"><A href="https://2018.igem.org/Team:NCTU_Formosa/Achievements" class="dropbtn_final">Achievements</A></LI></UL></DIV><DIV id="Navigation2"><DIV id="three_bar"><P style="color: white; font-weight: bold; z-index: 100;">☰</P></DIV><DIV class="igem_2018_menu2_wrapper"><DIV class="menu2_content"><A href="https://2018.igem.org/Team:NCTU_Formosa"><DIV class="menu2_button direct_to_page">
                    HOME
                </DIV></A><DIV class="menu2_button"> Project
            </DIV><DIV class="submenu2_wrapper" id="Project_submenu"><A href="https://2018.igem.org/Team:NCTU_Formosa/Project/Description"><DIV class="submenu2_button" id="Description_page">
                        Description
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Applied_Design"><DIV class="submenu2_button" id="Design_page">
                        Design
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Hardware"><DIV class="submenu2_button" id="Peptide_Prediction_page">
                        IoT System
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Demonstrate"><DIV class="submenu2_button" id="Spore_Germinaition_Prediction_page">
                        Demostration
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Entrepreneurship"><DIV class="submenu2_button">
                        Entrepreneurship
                  </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/InterLab"><DIV class="submenu2_button" id="Safety_page">
                        InterLab
                    </DIV></A></DIV><DIV class="menu2_button"> Dry Lab
            </DIV><DIV class="submenu2_wrapper"><A href="https://2018.igem.org/Team:NCTU_Formosa/Model"><DIV class="submenu2_button" id="SCM_Model_page">
                        Overview
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Dry_Lab/Microbiota_Prediciton"><DIV class="submenu2_button" id="Spore_Germination_Model_page">
                        Microbiota Prediction
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Dry_Lab/Peptide_Prediction"><DIV class="submenu2_button" id="Spore_Germination_Model_page">
                        Peptide Prediction
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Dry_Lab/Growth_Model"><DIV class="submenu2_button" id="Spore_Germination_Model_page">
                        Growth Model
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Dry_Lab/Productivity_Model"><DIV class="submenu2_button" id="Spore_Germination_Model_page">
                        Productivity Model
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Dry_Lab/NGS_Data_Analysis"><DIV class="submenu2_button" id="Spore_Germination_Model_page">
                        NGS Data Analysis
                    </DIV></A></DIV><DIV class="menu2_button"> Wet Lab
            </DIV><DIV class="submenu2_wrapper"><A href="https://2018.igem.org/Team:NCTU_Formosa/Wet_Lab"><DIV class="submenu2_button" id="Fungal_Experiment_page">
                        Experiment Design
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Wet_Lab/Expression"><DIV class="submenu2_button" id="Fungal_Experiment_page">
                        Protein Expression
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Wet_Lab/Functional_Analysis"><DIV class="submenu2_button" id="Plant_Experiment_page">
                        Functional Analysis
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Wet_Lab/Curcumin_Biosensor"><DIV class="submenu2_button" id="Protein_Expression_page">   Curcumin Bio-sensor
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Wet_Lab/Safety"><DIV class="submenu2_button" id="Safety_page">
                        Safety
                    </DIV></A></DIV><DIV class="menu2_button"> Parts
            </DIV><DIV class="submenu2_wrapper"><A href="https://2018.igem.org/Team:NCTU_Formosa/Parts"><DIV class="submenu2_button" id="Basic_Part_page">
                        Parts
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Basic_Part"><DIV class="submenu2_button" id="Basic_Part_page">
                        Basic Parts
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Composite_Part"><DIV class="submenu2_button" id="Composite_Part_page">
                        Composite Parts
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Part_Collection"><DIV class="submenu2_button" id="Composite_Part_page">
                        Part Collection
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Improve"><DIV class="submenu2_button" id="Improvement_page">
                        Improvement
                    </DIV></A></DIV><DIV class="menu2_button"> Human Practice
            </DIV><DIV class="submenu2_wrapper"><A href="https://2018.igem.org/Team:NCTU_Formosa/Human_Practices"><DIV class="submenu2_button" id="Gold_Integrated_page">
                        Overview
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Public_Engagement"><DIV class="submenu2_button" id="Gold_Integrated_page">
                      Education and Public Engagement
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Human_Practices/Integrated"><DIV class="submenu2_button" id="Gold_Integrated_page">
                        Integrated HP
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Collaborations"><DIV class="submenu2_button" id="Collaboration_page">
                        Collaboration
                    </DIV></A></DIV><DIV class="menu2_button"> Team
            </DIV><DIV class="submenu2_wrapper"><A href="https://2018.igem.org/Team:NCTU_Formosa/Team_Member"><DIV class="submenu2_button" id="Team_page">
                        Team Introduction
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Attributions"><DIV class="submenu2_button" id="Appreciation_page">
                        Attributions
                    </DIV></A></DIV><DIV class="menu2_button"> Notebook
            </DIV><DIV class="submenu2_wrapper"><A href="https://2018.igem.org/Team:NCTU_Formosa/Notebook"><DIV class="submenu2_button" id="Lab_Notes_page">
                        Lab Note
                    </DIV></A><A href="https://2018.igem.org/Team:NCTU_Formosa/Protocol"><DIV class="submenu2_button" id="Protocol_page">
                        Protocol
                    </DIV></A></DIV><A href="https://2018.igem.org/Team:NCTU_Formosa/Achievements"><DIV class="menu2_button direct_to_page">
                    Achievements
                </DIV></A></DIV></DIV></DIV><TITLE>Productivity Model</TITLE><DIV class="wrapper"><DIV class="sec1"><DIV class="text" style="width: 75%;"><P>     The core nutrients nitrogen, phosphorus and potassium directly impact the productivity of crops. To predict how our fertilizers affect crop yield, we generate a model that relates cumulative N, P and K application to final curcumin concentration. Using neural networks is a popular method of deriving connection between a combination of factors and a final value, in this case a combination of N, P and K values and a productivity value. Constructing the following neural network with back-propagating methods results in a non-linear regression model that predicts productivity from cumulative fertilization.
        </P></DIV><DIV class="explanation">
        Figure 1: Schema of the neural network
      </DIV><DIV class="text" style="width: 75%;"><P>     We use simple three layer ANN (Artificial Neural Network) design to build up our productivity model, including one input layer, one hidden layer, and one output layer. Input layer contains the data of nitrogen, phosphate, and potassium, three nutrients added  to soil respectively. Hidden layer contains three neuron (more details will be explained below). Finally, output layer contains one predicted productivity.
        </P></DIV><DIV class="title"><P>ANN Training Process</P></DIV><DIV class="explanation">
        Figure 2: The detail of the neural network training process
      </DIV><DIV class="title_1"><P>1. Initialization</P></DIV><DIV class="text"><P>     Set all the weights and threshold levels of the network to random numbers uniformly distributed inside a small range (Haykin, 2008): $$\left ( -\frac{1}{Fi},+\frac{1}{Fi} \right )$$ where Fi is the total number of inputs of neuron i in the network. The weight initialization is done on a neuron-by-neuron basis.
        </P></DIV><DIV class="title_1"><P>2. Activation</P></DIV><DIV class="text"><P>     Activate the back-propagation neural network by applying our inputs (N,P,K value) and outputs (productivity)
        </P></DIV><DIV class="title_3"><P>(1) Calculate the actual outputs of the neurons in the hidden layer:</P></DIV><DIV class="equation">$$y_{j}(p)=sigmoid\left [ \sum_{i=1}^{n}x_{i}(p) \times w_{ij}(p)-\theta _{j} \right ]$$</DIV><DIV class="table"><TABLE><CAPTION><P class="explanation">
            Table 1: Variable and Parameter in the eauations above.
          </P></CAPTION><THEAD><TR><TH><P>Symbol</P></TH><TH><P>Unit</P></TH><TH><P>Explanation</P></TH></TR></THEAD><TBODY><TR><TD>$y_i$</TD><TD>MT/ha</TD><TD><P>Output from hidden layer</P></TD></TR><TR><TD>$p$</TD><TD>-</TD><TD><P>Number of iteration</P></TD></TR><TR><TD>$x_i$</TD><TD>kg/ha</TD><TD><P>Input data from input layer</P></TD></TR><TR><TD>$w_{ij}$</TD><TD>-</TD><TD><P>Weights of units in input layer</P></TD></TR><TR><TD>$\theta_j$</TD><TD>-</TD><TD><P>Bias of hidden layer</P></TD></TR></TBODY></TABLE></DIV><DIV class="title_3"><P>(2) Calculate the actual outputs of the neurons in the output layer:</P></DIV><DIV class="equation">$$y_{k}(p)=linear\left [ \sum_{j=1}^{m}x_{jk}(p) \times w_{jk}(p)-\theta _{k} \right ]$$</DIV><DIV class="table"><TABLE><CAPTION><P class="explanation">
            Table 2: Variable and Parameter in the eauations above.
          </P></CAPTION><THEAD><TR><TH><P>Symbol</P></TH><TH><P>Unit</P></TH><TH><P>Explanation</P></TH></TR></THEAD><TBODY><TR><TD>$y_k$</TD><TD>MT/ha</TD><TD><P>Output from output layer</P></TD></TR><TR><TD>$p$</TD><TD>-</TD><TD><P>Number of iteration</P></TD></TR><TR><TD>$x_{jk}$</TD><TD>kg/ha</TD><TD><P>Input data from hidden layer</P></TD></TR><TR><TD>$w_{jk}$</TD><TD>-</TD><TD><P>Weights of units in hidden layer</P></TD></TR><TR><TD>$\theta_j$</TD><TD>-</TD><TD><P>Bias of output layer</P></TD></TR></TBODY></TABLE></DIV><DIV class="title_1"><P>3. Weight training</P></DIV><DIV class="text"><P>Update the weights in the back-propagation network propagating.( Backward the errors associated with output neurons.)
        </P></DIV><DIV class="title_3"><P>(1) Calculate the error gradient for the neurons in the output layer:</P></DIV><DIV class="text"><P>
          $$\delta _{k}(p)=y_{k}(p)\times\left [ 1-y_{k}(p) \right ]\times e_{k}(p)$$
               where
          $$e_{k}(p)=y_{d,k}(p)-y_{k}(p)$$
               Calculate the weight corrections:
          $$\Delta w_{jk}(p)=\alpha\times y_{j}(p)\times \delta_{k}(p)$$
               Update the weights at the output neurons:
          $$w_{jk}(p+1)=w_{jk}(p)+\Delta w_{jk}(p)$$
        </P></DIV><DIV class="title_3"><P>(2) Calculate the error gradient for the neurons in the hidden layer:</P></DIV><DIV class="text"><P>
          $$\delta_{j}(p)=y_{j}(p)\times\left [ 1-y_{j}(p) \right ]\times\sum_{k=1}^{l}\delta_{k}\times w_{jk}(p)$$
               Calculate the weight corrections:
          $$\Delta w_{ij}(p)=\alpha\times x_{i}(p)\times\delta_{j}(p)$$
               Update the weights at the hidden neurons:
          $$w_{ij}(p+1)=w_{ij}(p)+\Delta w_{ij}(p)$$
        </P></DIV><DIV class="title_1"><P>4. Iteration</P></DIV><DIV class="text"><P>
          Increase iteration p by one, go back to Step 2(Activation) and repeat the process until the selected error criterion is satisfied.
        </P></DIV><DIV class="title"><P>Demonstration</P></DIV><DIV class="text"><P>     Using the neural net fitting tool from MATLAB, can help us easily build up the whole neural network. Furthermore, we use MATLAB API, which can be used to connect MATLAB with Python, to integrate all the model we built.      The training result of our nueral network was shown below. The accuracy can be expressed through “Performance” and  “Regression” figure below.
        </P></DIV><DIV class="title_1"><P>Performance</P></DIV><DIV class="text"><P>     With every iteration, the error will decrease, and maxize the performance of our neural network. The training and test mean square errors was shown in the following figure.
        </P></DIV><DIV class="explanation"><P>
          Figure 3: The train set error and the test set error have similar characteristics, which represents a good reliability of our model.Moreover, the small mean square error of 0.0035968 shows the accuracy of our model.</P></DIV><DIV class="title_1"><P>Regression</P></DIV><DIV class="text"><P>     Regression model shows how well our model had been trained and how accurate our model predicted. The training accuracy result of our model was shown below through the regression model.
        </P></DIV><DIV class="regression" id="regression1"><DIV class="explanation"><P>
          Figure 4: The regression result of training </P></DIV></DIV><DIV class="regression"><DIV class="explanation"><P>
          Figure 5: The regression result of test</P></DIV></DIV><DIV class="regression"><DIV class="explanation"><P>
          Figure 6: The regression result of total</P></DIV></DIV><DIV class="title_1"><P>More Details</P></DIV><DIV class="text" style="margin-bottom: 2vw;"><P>     All the training results including weights and bias values, parameters, and equations were shown in the code below. If you're really interesting in the detail of our results, please click the button below to see more!
        </P></DIV></DIV></DIV><DIV class="content"><PRE class="codeinput"><SPAN class="keyword">function</SPAN> [Y,Xf,Af] = myNeuralNetworkFunction(X,~,~)
<SPAN class="comment">%MYNEURALNETWORKFUNCTION neural network simulation function.</SPAN><SPAN class="comment">%</SPAN><SPAN class="comment">% Generated by Neural Network Toolbox function genFunction, 08-Oct-2018 02:58:43.</SPAN><SPAN class="comment">%</SPAN><SPAN class="comment">% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:</SPAN><SPAN class="comment">%</SPAN><SPAN class="comment">%   X = 1xTS cell, 1 inputs over TS timesteps</SPAN><SPAN class="comment">%   Each X{1,ts} = 3xQ matrix, input #1 at timestep ts.</SPAN><SPAN class="comment">%</SPAN><SPAN class="comment">% and returns:</SPAN><SPAN class="comment">%   Y = 1xTS cell of 1 outputs over TS timesteps.</SPAN><SPAN class="comment">%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.</SPAN><SPAN class="comment">%</SPAN><SPAN class="comment">% where Q is number of samples (or series) and TS is the number of timesteps.</SPAN><SPAN class="comment">%#ok&lt;*RPMT0&gt;</SPAN><SPAN class="comment">% ===== NEURAL NETWORK CONSTANTS =====</SPAN><SPAN class="comment">% Input 1</SPAN>
x1_step1.xoffset = [0;0;0];
x1_step1.gain = [2;2;2];
x1_step1.ymin = -1;

<SPAN class="comment">% Layer 1</SPAN>
b1 = [0.23675927677470898214;-0.63098819262182737067;0.24618381408376058261];
IW1_1 = [0.0050654773982650811576 -0.18103144215429012309 -0.37951143126028297203;         0.65951962684049847407 0.29027817917052955998 -0.5096428679218601987;         0.36779863987598404584 0.35978048669490930722 1.2466465250108169638];

<SPAN class="comment">% Layer 2</SPAN>
b2 = 0.11579284002726117353;
LW2_1 = [0.47667513579074882735 0.80893762887468689815 0.84471206418024180618];

<SPAN class="comment">% Output 1</SPAN>
y1_step1.ymin = -1;
y1_step1.gain = 2;
y1_step1.xoffset = 0;

<SPAN class="comment">% ===== SIMULATION ========</SPAN><SPAN class="comment">% Format Input Arguments</SPAN>
isCellX = iscell(X);
<SPAN class="keyword">if</SPAN> ~isCellX
    X = {X};
<SPAN class="keyword">end</SPAN><SPAN class="comment">% Dimensions</SPAN>
TS = size(X,2); <SPAN class="comment">% timesteps</SPAN><SPAN class="keyword">if</SPAN> ~isempty(X)
    Q = size(X{1},2); <SPAN class="comment">% samples/series</SPAN><SPAN class="keyword">else</SPAN>
    Q = 0;
<SPAN class="keyword">end</SPAN><SPAN class="comment">% Allocate Outputs</SPAN>
Y = cell(1,TS);

<SPAN class="comment">% Time loop</SPAN><SPAN class="keyword">for</SPAN> ts=1:TS

    <SPAN class="comment">% Input 1</SPAN>
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);

    <SPAN class="comment">% Layer 1</SPAN>
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);

    <SPAN class="comment">% Layer 2</SPAN>
    a2 = repmat(b2,1,Q) + LW2_1*a1;

    <SPAN class="comment">% Output 1</SPAN>
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
<SPAN class="keyword">end</SPAN><SPAN class="comment">% Final Delay States</SPAN>
Xf = cell(1,0);
Af = cell(2,0);

<SPAN class="comment">% Format Output Arguments</SPAN><SPAN class="keyword">if</SPAN> ~isCellX
    Y = cell2mat(Y);
<SPAN class="keyword">end</SPAN><SPAN class="keyword">end</SPAN><SPAN class="comment">% ===== MODULE FUNCTIONS ========</SPAN><SPAN class="comment">% Map Minimum and Maximum Input Processing Function</SPAN><SPAN class="keyword">function</SPAN> y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
<SPAN class="keyword">end</SPAN><SPAN class="comment">% Sigmoid Symmetric Transfer Function</SPAN><SPAN class="keyword">function</SPAN> a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
<SPAN class="keyword">end</SPAN><SPAN class="comment">% Map Minimum and Maximum Output Reverse-Processing Function</SPAN><SPAN class="keyword">function</SPAN> x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
<SPAN class="keyword">end</SPAN></PRE></DIV><DIV class="title" style="margin-top: 4vw;"><P>Curcumin Transformation Model</P></DIV><DIV class="text"><P>     After constructing the tumeric model, we also built up a model which can predict the curcumin containment from tumeric's productivity. Some researches showed high positive correlation between curcumin containment and tumeric mass. Thus, we use the data from the papers to build up the transformation model. Moreover, we use our curcumin sensor to fixed the model with current data from our farm.
      </P></DIV><DIV class="curcumin"><DIV class="explanation"><P>
        Figure 7: The relation between tumeric yield and curcumin content</P></DIV></DIV><DIV class="text"><P>     According to the data, we got the equation below
      </P></DIV><DIV class="equation">$$y=0.0956x+1.0496\qquad where\ R^2=0.9552$$</DIV><DIV class="title"><P>Productivity from Electrical Conductivity</P></DIV><DIV class="text"><P>     Now, we can easily predict the curcumin content through our productivity model. However, currently, there does not exist a real-time sensor that detects nutrient levels in soil. Rather, the two commonly used sensors that detect nutrient levels non-destructively require extraction of soil and analysis in the lab. The first type is an optical sensor that uses reflectance spectroscopy to detect the level of energy in form of reflectance/absorbance by soil particles and nutrient ions. The other type consists of electromagnetic sensors using ion-selective membranes that produce a voltage output in response to ion activity of selected ions, mainly concentrated on H, NO<SUB>3</SUB>, K, Na etc. Both methods are time-intensive processes.     This year we developed a sensor that can detect levels of the macronutrients nitrogen, phosphorus and potassium by measuring electrical conductivity (EC) alone. This concept stems from a general model we construct relating EC to N, P and K levels through data collected during the process of fertilization.     From literature<SUP>[5]</SUP> we found that EC to salt concentration can be described by a simple squared function. We therefore began with:
      </P></DIV><DIV class="equation">$$ax^2+bx+c$$</DIV><DIV class="text"><P>
        We then used our collected data to fit the curve, resulting in:
      </P></DIV><DIV class="equation">$$y=-0.0022x^2+0.051x+0.0033\qquad where\ R^2=0.9996$$</DIV><DIV class="explanation"><P>
      Figure 8: The relation between fertilizer and electrical conductivity</P></DIV><DIV class="text"><P>From curve fitting we obtained the following individual equations for nitrogen, phosphorus and potassium:</P></DIV><DIV class="equation" style="text-align: left;">
      $$N : 63.253x^2+14.213x+0.180\\
        P : 31.626x^2+7.107x+0.180\\
        K : 31.626x^2+7.107x+0.180
      $$
    </DIV><DIV class="text"><P>     From these we can directly relate an EC measurement to an amount of fertilizer as long as it is fixed in ratio of N, P, and K. Because we have an EC to productivity model, we can convert our EC reading into an N, P, and K value; comparison with our curcumin sensor allows us to compare our actual curcumin concentration with predicted value, strengthening our model.
      </P></DIV><DIV class="title"><P>Conclusion</P></DIV><DIV class="text"><P>     Through the concept, we built up the world's first productivity model which can accurately predict the productivity with barely nutrients amount in the soil. In the future, our productivity model can be applied to any crop the farmers want simply by training the model with validate data of the crops.
      </P></DIV><DIV class="text"><P>     If you are interesting in our model, please click the icon to find out how them work in GitHub!
        </P></DIV></DIV><DIV class="title_1"><P>References</P></DIV><DIV class="text" style="margin-bottom: 150px;"><P>
        1. Akbar, A., et al. (2016). &quot;Development of Prediction Model and Experimental Validation in Predicting the Curcumin Content of Turmeric (Curcuma longa L.).&quot;  7(1507).
        2. Negnevitsky, M. (2005). Artificial intelligence: a guide to intelligent systems, Pearson Education.
        3. Ramana Reddy, D. V., et al. (2015). &quot;Soil-Plant-Fertilizer Relationships in Turmeric Assessment of Soil-Plant-Fertilizer-Nutrient Relationships for Sustainable Productivity of Turmeric under Alfisols and Inceptisols in Southern India.&quot; Communications in Soil Science and Plant Analysis 46(6): 781-799.
        4. Sumathi, C., et al. (2010). &quot;Influence of biotic and abiotic features on Curcuma longa L. plantation under tropical condition.&quot;
        5. Brinkmann, T., et al. (2002). &quot;Non-linear calibration functions in ion chromatography with suppressed conductivity detection using hydroxide eluents.&quot;  957(2): 99-109.
        </P></DIV><P><TITLE>Template</TITLE></P></DIV></DIV></DIV></DIV></BODY></HTML>