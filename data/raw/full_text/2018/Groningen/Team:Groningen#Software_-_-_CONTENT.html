<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Groningen_Software skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Groningen/Software</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P><TITLE>iGem Groningen 2018</TITLE></P><DIV class="navbar-fixed"><NAV class="row green"><UL id="dropdown-project" class="dropdown-content"><LI><A href="https://2018.igem.org/Team:Groningen/Description" class="green-text">Description</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Design" class="green-text">Design</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Results" class="green-text">Results</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Demonstrate" class="green-text">Demonstrate</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Entrepreneurship" class="green-text">Entrepreneurship</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Awards" class="green-text">Awards</A></LI></UL><UL id="dropdown-notebook" class="dropdown-content"><LI><A href="https://2018.igem.org/Team:Groningen/Notebook" class="green-text">Notebook</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Protocols" class="green-text">Protocols</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Safety" class="green-text">Safety</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Measurement" class="green-text">Measurement</A></LI></UL><UL id="dropdown-parts" class="dropdown-content"><LI><A href="https://2018.igem.org/Team:Groningen/Parts" class="green-text">Parts</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Primers" class="green-text">Primers</A></LI></UL><UL id="dropdown-HP" class="dropdown-content"><LI><A href="https://2018.igem.org/Team:Groningen/Human_Practices" class="green-text">Integrated Human Practices (Gold)</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Public_Engagement" class="green-text">Education &amp; Public Engagement</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Applied_Design" class="green-text">Applied Design</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Ethics" class="green-text">Ethics</A></LI></UL><UL id="dropdown-attribution" class="dropdown-content"><LI><A href="https://2018.igem.org/Team:Groningen/Attributions" class="green-text">Attributions</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Sponsors" class="green-text">Sponsors</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Crowdfunding" class="green-text">Crowdfunding</A></LI></UL><UL id="dropdown-help" class="dropdown-content"><LI><A href="https://2018.igem.org/Team:Groningen/InterLab" class="green-text">InterLab</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Software" class="green-text">Software</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Collaborations" class="green-text">Collaborations</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Embassy" class="green-text">Consulate Meetup</A></LI></UL><UL id="dropdown-team" class="dropdown-content"><LI><A href="https://2018.igem.org/Team:Groningen/Team" class="green-text">Team</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Supervisors" class="green-text">Supervisors</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Team_Building" class="green-text">Team Building</A></LI></UL><UL id="dropdown-model" class="dropdown-content"><LI><A href="https://2018.igem.org/Team:Groningen/Model" class="green-text">Overview</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Model/Molecular_Dynamics" class="green-text">Proximity by affinity</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Model/Mathematical_Modeling" class="green-text">Cellulose Degradation</A></LI><LI><A href="https://2018.igem.org/Team:Groningen/Model/Flux_Based_Analysis" class="green-text">Optimizing StyGreen Production</A></LI></UL><DIV class="nav-wrapper" id="nav"><UL class="left" id="nav-buttons"><LI><A href="https://2018.igem.org/Team:Groningen" class="waves-effect waves-light block"><I class="material-icons">home</I></A></LI><LI><A href="#!" class="dropdown-button waves-effect waves-light block" data-activates="dropdown-project">Project</A></LI><LI><A href="#!" class="dropdown-button waves-effect waves-light block" data-activates="dropdown-notebook">Lab</A></LI><LI><A href="#!" class="dropdown-button waves-effect waves-light block" data-activates="dropdown-model">Model</A></LI><LI><A href="#!" class="dropdown-button waves-effect waves-light block" data-activates="dropdown-parts">Sequences/Parts</A></LI><LI><A href="#!" class="dropdown-button waves-effect waves-light block" data-activates="dropdown-HP">Human Practices</A></LI><LI><A href="#!" class="dropdown-button waves-effect waves-light block" data-activates="dropdown-help">Contributions</A></LI><LI><A href="#!" class="dropdown-button waves-effect waves-light block" data-activates="dropdown-team">Team</A></LI><LI><A href="#!" class="dropdown-button waves-effect waves-light block" data-activates="dropdown-attribution">Acknowledgements</A></LI></UL><UL class="right" id="contact"><LI title="Click to visit our Facebook page"><A target="_blank " href="https://www.facebook.com/igemgroningen2018/" class="menu-hover waves-effect waves-light block"><SPAN>Groningen.iGEM2018</SPAN></A></LI><LI title="Click to e-mail us"><A target="_blank" href="mailto:igem2018rug@gmail.com" class="menu-hover waves-effect waves-light block"><SPAN>igem2018rug@gmail.com</SPAN></A></LI><LI><A class="menu-hover" id="cross"><I class="material-icons">close</I></A></LI></UL></DIV></NAV></DIV><A href="#!" class="btn-floating btn-large waves-effect waves-light green" id="menu-btn"><I class="material-icons">menu</I></A><DIV class="igem_2018_team_content" style="background-color: white"><DIV class="igem_2018_team_column_wrapper"><DIV class="column two_thirds_size"><H4>Introduction </H4><P>Buffy the Bufferbot is designed as a example of how Artificial Intelligence can be used to make work in the <A href="Design">lab</A> easier. The objective of the robot is to get an unknown buffer and add enough base or acid until it reaches the right pH. The goal is to make a plug-and-play, low cost robot, to lower the efforts of the people in the lab. For now Buffy only works in simulation, and is only used for demonstration, but in the future, we hope that Buffy will have a body so it can help people all over the world. </P></DIV><DIV class="column two_thirds_size"><H4>How to use the simulation  </H4><P>As buffy is properly packaged, it can be installed directly from the source by running “pip install git+https://github.com/Ezmagon/buffy” in a command line terminal. A wrapper script to run the buffy simulation is then added to your path and can be run using “buffy_run.py”. The program opens a TKinter window to accept the goal pH as input. This is the only input that is needed as buffy is able to derive all the other system parameters by itself. When computer vision is pressed in the next window, it starts the simulation of how the finished computer vision will be able to automatically read the current pH of the buffer from an existing pH meter. The system incrementally shows how the algorithm approaches the correct area of the image and reads the numbers. When a key is pressed, the simulation windows opens. </P></DIV><DIV class="column two_thirds_size"><H4>Results </H4><P>The simulation window shows the underlying (real) buffer pH curve in orange that is being simulated. Just like in the future hardware version of buffy, it doesn’t know this curve beforehand. Buffy will start to add acid or base depending on whether the pH has to increase or decrease. The new pH of the buffer is recorded. As buffy records more data points, it is able to fit a third order polynomial to the data points, shown as the green line. The fit gets progressively more accurate as more data points are gathered. Despite the addition of random noise to the data points, buffy is able to accurately predict the real underlying pH curve of the buffer. Using this fit it is possible to make increasingly accurate predictions of how much acid or base to add to the solution, drastically reducing the time required to adjust a buffer manually. </P></DIV><DIV class="column"><H1>A look inside the brain of a robot!</H1><P>
                Buffy uses a feedback loop to calculate which should be added, acid or base. First it observes the pH meter by a computer vision module. After this, it processes this information. Based on it's knowledge, it then makes a choice on what action to take. In the future, the consequences from these actions can be used to train the machine. 
            </P></DIV><DIV class="column two_thirds_size"><H4>The simulation</H4><P>To be able to properly simulate the pH curve of the buffer, the “real” buffer pH has to be approximated by a continuous function. The well established Henderson-Hasselbalch equation (<I>pH = pKa + log10 ([A-]/[HA])</I>) was used to generate data points within the range of the buffer. However, this function tends to infinity as one of the buffer components approaches zero. Therefore the rest of the data points were linearly approximated. A third order polynomial was fit to the data points to yield a continuous function that could be used to approximate the pH range across the entire pH range. </P></DIV><DIV class="column two_thirds_size"><H4>Observe</H4><P>The computer vision algorithm uses different techniques to find the number on the screen. The amount of deep learning is minimized, as we want to make Buffy as memory efficient as possible. (1) First , the algorithm uses a Gaussian blur to smoothen out the noise in the camera view. (2) After this, the Canny Edge Detection algorithm is used, and this way the edges are clear for Buffy. (3) Now, the contours are found, and the biggest ones are marked. After this, it focuses on the biggest contour to find the pH meter. (4) After this, the process is repeated to find the screen of the pH meter. Then, after the Canny Edge Detection is used, (5) Buffy looks for contours of the right size to find the numbers. (6) If the numbers are found, the area of interest is taken out and put into a Neural Network trained on recognizing ResNet numbers. This returns the number of the pH meter. We are still working to optimize this process.</P></DIV><DIV class="column two_thirds_size"><H4>Predict the polynomial of the buffer</H4><P>To predict the polynomial of the buffer, Buffy has to predict where the buffer is, as the pH curve is not linear. Therefore we gave it knowledge of the buffer curve, which is that all buffers are polynomials to the 3rd degree. Therefore, Buffy expects a line in the form of ax3 + bx2 + cx + d = y. To give the user insight in the knowledge of Buffy, the line is projected over the real line, and over time we can see it is learning, and coming closer to the right point. </P></DIV></DIV></DIV></DIV></DIV><FOOTER><H4 class="center">We thank our sponsors:</H4></FOOTER></DIV></DIV></DIV></BODY></HTML>