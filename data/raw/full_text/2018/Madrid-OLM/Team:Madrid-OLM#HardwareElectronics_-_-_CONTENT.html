<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Madrid-OLM_HardwareElectronics skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Madrid-OLM/HardwareElectronics</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P><TITLE>Madrid-OLM</TITLE></P><DIV class="nav-container"><NAV id="menu1" class="bar bar--sm bar-1 bar--absolute bar--dark" data-scroll-class="100px:pos-fixed" style="background-color: rgba(0, 0, 0, 0); box-shadow: 0px 0px 25px 0px rgba(0, 0, 0, 0) !important;"><DIV class="container"><DIV class="row"><DIV class="col-lg-12 col-md-12 text-left-xs text-left-sm" style=" background: #686868; opacity: 0.9;"><DIV class="bar__module text-right"><UL class="menu-horizontal text-left"><LI class="dropdown"><SPAN class="dropdown__trigger subttt">Team</SPAN></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Team">Members</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Attributions">Attribution</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Sponsor">Sponsors</A></LI></UL></DIV></DIV></DIV></DIV><LI class="dropdown"><SPAN class="dropdown__trigger subttt">Project</SPAN></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Description">Description</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Contribution">Contribution</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Improve">Improve</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Demonstrate">Demonstrate</A></LI><LI class=""><A class="subtt" href="https://igem.org/2018_Judging_Form?team=Madrid-OLM">Judging Form</A></LI></NAV></DIV></DIV></DIV></DIV><LI class="dropdown"><SPAN class="dropdown__trigger subttt">Aptamers</SPAN></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Aptamer">Overview</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/AptDiscovery">Discovery</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/AptCharacterization">Characterization</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Computationaimprovement">Computational Improvement</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/ElectrodeIntegration">Binding to Electrode </A></LI></DIV></DIV><LI class="dropdown"><SPAN class="dropdown__trigger subttt">Device</SPAN></LI><LI><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/OurHardware">
                                                                    Overview
                                                                </A></LI><LI><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/FirstPrototype">                                 First Prototype
                                                                </A></LI><LI class="dropdown"><SPAN class="dropdown__trigger subttt">Final Prototype</SPAN></LI><LI><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/FinalPrototype">
                                                                                            Overview
                                                                                        </A></LI><LI><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/HardawareMicrofluidics">
                                                                                            Microfluidics
                                                                                        </A></LI><LI><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/HardwareElectronics">
                                                                                            Electronics
                                                                                        </A></LI><LI class="dropdown"><SPAN class="dropdown__trigger subttt">Experiments</SPAN></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/InterLab">Interlab</A></LI><LI class="dropdown"><SPAN class="dropdown__trigger subttt">Protocols</SPAN></LI><LI><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/AptamerProtocols">
                                                                                            Aptamer Related
                                                                                        </A></LI><LI><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/ProManufacturing">
                                                                                            Manufacturing
                                                                                        </A></LI><LI class="dropdown"><SPAN class="dropdown__trigger subttt">Human Practices</SPAN></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Human_Practices">Integrated Human Practice</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Public_Engagement">Education and Engagements </A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Collaborations">Collaborations</A></LI><LI class="dropdown"><SPAN class="dropdown__trigger subttt">Awards</SPAN></LI><LI><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Hardware">
                                                                    Hardware
                                                                </A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Applied_Design">Applied Design</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Entrepreneurship">Entrepreneurship</A></LI><LI class=""><A class="subtt" href="https://2018.igem.org/Team:Madrid-OLM/Measurement">Measurement</A></LI><LI class="dropdown"><SPAN><A href="https://2018.igem.org/Team:Madrid-OLM/Medals" style="font-size: 0.857142857142857em; line-height: 2.166666666666667em; text-transform: uppercase; font-weight: 600; letter-spacing: .5px; color: white; text-decoration: none;">Medals</A></SPAN></LI><TITLE>Electronic part of the device</TITLE><DIV class="main-container"><SECTION id="home" class="tittle-secc text-center switchable feature-large"><DIV class="container"><DIV class="row justify-content-around"><DIV class="col-md-8 col-lg-8"><H1 id="Teamtittle">Electronics</H1><P class="lead">The final version of the device integrates multiples features. Each one of these characteristics comes with its own platform and its own firmware.</P><P class="lead">We have chosen each one of them with the essential characteristic of being Arduino compatible. The final device looks like a patchwork, with all the different platforms working together to accomplish the main objective: automate the measurement of the electrode.</P></DIV></DIV></DIV></SECTION><SECTION id="hard" class="text-center"><DIV class="container"><DIV class="row"><DIV class="col-md-10 col-lg-8 boxed boxed--border bg--secondary boxed--lg box-shadow"><H2>Hardware</H2><P class="lead">The hardware is mainly composed of different modules, interconnected for two main purposes: distributing the powers rails through all the modules and communicating each module with the main controller.</P><P class="lead" style="margin-left:15%; margin-right:10%;">Figure 1: Diagram of the different platforms that run the system.</P><P class="lead">Broadly the system is composed of four main sections: </P><OL class="ourlist"><LI><P class="lead">A pumping system on a microlitre scale. Composed of eight stepper motors, controlling the syringe’s pumps. It is in charge of injecting and removing the fluid from the chips. This system is directly connected to a 12V power supply and controlled through the digital pins from the main controller, Arduino Mega.</P></LI><LI><P class="lead">A potentiostatic measurement system, the <A href="http://iorodeo.com/products/potentiostat-shield">Rodeostat</A>, directly connected to the microfluidic chip. It connects directly to the Arduino (which governs the device) through Serial communication. For that purpose, the pins 26 and 31 of the P14 connector in the RodeoStat have been connected to the RX2 and TX2 pins on the Arduino Mega. The system is supplied by the 5V pin of the Arduino Mega power converter. For a more detailed description of the system connection, check  <A href="http://forum.iorodeo.com/topic/91/arduino-communication/17">this</A> thread where we have explained to the RodeoStat community our setup.</P></LI><LI><P class="lead">A WiFi module, designed and developed by ourselves. The system is based on the board ESP8266, broadly extended in IoT applications. It communicates to Arduino through Serial protocol through its RX3 and TX3 pins. The purpose of this module is to uploads the data sent by Arduino to an external cloud server on FireBase. You could go over all the schematic and board designs on <A href="https://github.com/OpenLabMadrid/iGEM-Madrid-OLM/tree/master/Electronics/Final%20version/WiFi%20Module">our GitHub.</A></P></LI><LI class="mt--1"><P class="lead">The main controller which operates the rest of the components, the Arduino Mega 2560.</P><P class="lead nomargin"><SPAM class="red mt--1">CAUTION</SPAM>: the controllers have several modifications that allow it to work in the device. Trying to replicate it without the modifications is dangerous and can imply the universe destruction:</P></LI><LI class="mt--1"><P class="lead">Arduino’s M7 diode, whose job is to avoid an eventual situation of reverse current, has been removed. This is because of his inability to stand the 4 amperes that go through the system when the 8 motors are at their full capacity. In its position, we have soldered an IRLZ44N transistor, able to stand up to 50 A. To do it, the pins of the source and drain were connected in a similar way as the pins of the diode and the gate pin was connected to the 12V power supply. A heat sink was also put in the upper side.</P></LI><LI><P class="lead mt--1">An Arduino Shield was mounted to increase the total of pins to 8 Vin an 8 GND, to connect the power of the motor drivers.</P></LI></OL></DIV></DIV></DIV></SECTION><SECTION id="soft" class="text-center"><DIV class="container"><DIV class="col-md-10 col-lg-8 boxed boxed--border bg--secondary boxed--lg box-shadow"><SPAN class="h2">Software</SPAN><P class="lead">
							As we have introduced in the previous section, our system is like a patchwork, with several different platforms including actuators, sensors and control elements.
						</P><P class="lead">
							Although it is essential to correctly choose the programming language for the different platforms, it is mandatory to keep an eye choosing the communication protocols between all of the device’s platforms.
						</P><P class="lead" style="margin-left:5%; margin-right:5%;">Figure 3: The platform’s programming languages employed and the communication protocols between all of them.</P><P class="lead mt--1"><B>In our circuit there are five platforms liable to be programmed: </B></P><OL class="ourlist"><LI><P class="lead">The <B>ESP8266</B>, module is in charge of all the wifi communications. We have kept the original firmware because we didn’t have time to reprogramme it during this call.</P></LI><LI><P class="lead">In the <B>Rodeostat</B>, potentiostat responsible of the electrochemical measurements of the sensor, we miodified the original firmware so it could be controlled through the Arduino Mega, instead of a computer.</P></LI><LI><P class="lead">The <B>Arduino Mega</B> controls the whole device: handling the motors, receiving the Rodeostat measurements and sending them to the cloud through the WiFi module or the serial communication with the PC.</P></LI><LI><P class="lead">Outside the device, the data go to <B>Firebase server</B>. he server, on one hand, gets all the data and send them to an <B>iOS design app</B>, where the final user can watch the development of the data in real time.</P></LI><LI><P class="lead">Finally, a <B>PC program</B>, written in python with Qt creator, is able to communicate through the serial protocol with the device. The application let you to configure 8 different motors, run protocols sequentially or inject liquid into the microfluidic chips.</P></LI></OL><DIV class="row justify-content-around"><DIV class="col-md-6 col-lg-5 mt--1"><SPAN class="h5">Codes</SPAN><P class="lead">You can find the code for the PC app, the Arduino control and the Rodeostat’s modified firmware in <A href="http://github.com/OpenLabMadrid/iGEM-Madrid-OLM">our GitHub.</A></P></DIV><DIV class="col-lg-6 col-md-6 mt--1"><SPAN class="h5">Acknowledgements</SPAN><P class="lead">
								Both the iOS app and the firebase server was set up thanks to the help of <B>Marcos Hernández Cifuentes.</B>. </P></DIV></DIV></DIV></DIV></SECTION></DIV></BODY></HTML>