<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Montpellier_Software skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><DIV id="top_title"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Montpellier/Software</SPAN></H1></DIV><DIV id="HQ_page"><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><DIV class="menus"><NAV><A href="https://2018.igem.org/Team:Montpellier">Home</A></NAV><NAV><A>Project</A><DIV><A href="https://2018.igem.org/Team:Montpellier/Description">Description</A><A href="https://2018.igem.org/Team:Montpellier/Antisperm/antibodies">Antisperm antibodies</A><A href="https://2018.igem.org/Team:Montpellier/Peptides">Peptides</A><A href="https://2018.igem.org/Team:Montpellier/L_jensenii"><I>Lactobacillus jensenii</I></A><A href="https://2018.igem.org/Team:Montpellier/Results">Conclusions</A><A href="https://2018.igem.org/Team:Montpellier/Perspectives">Perspectives</A></DIV></NAV><NAV><A>DryLab</A><DIV><A href="https://2018.igem.org/Team:Montpellier/Model">Modeling</A><A href="https://2018.igem.org/Team:Montpellier/Tracking/Software">Tracking Software</A></DIV></NAV><NAV><A>WetLab</A><DIV><A href="https://2018.igem.org/Team:Montpellier/Protocols">Protocols</A><A href="https://2018.igem.org/Team:Montpellier/Toolbox">Toolbox</A><A href="https://2018.igem.org/Team:Montpellier/WetLab_ASA">Antisperm Antibodies</A><A href="https://2018.igem.org/Team:Montpellier/WetLab_Peptides">Peptides</A><A href="https://2018.igem.org/Team:Montpellier/Demonstrate">Sperm Motility Assay</A><A href="https://2018.igem.org/Team:Montpellier/InterLab">InterLab</A></DIV></NAV><NAV><A>Human Practices</A><DIV><A href="https://2018.igem.org/Team:Montpellier/Human_Practices">Integrated human practices</A><A href="https://2018.igem.org/Team:Montpellier/Public_Engagement"> Education &amp; Public Engagement</A><A href="https://2018.igem.org/Team:Montpellier/Ethics">Ethics</A></DIV></NAV><NAV><A>Parts</A><DIV><A href="https://2018.igem.org/Team:Montpellier/Parts">Parts</A></DIV></NAV><NAV><A>Team</A><DIV><A href="https://2018.igem.org/Team:Montpellier/Team">Members</A><A href="https://2018.igem.org/Team:Montpellier/Attributions">Attributions</A><A href="https://2018.igem.org/Team:Montpellier/Collaborations">Collaborations</A><A href="https://2018.igem.org/Team:Montpellier/Sponsors">Sponsors</A></DIV></NAV><NAV><A>Achievements</A><DIV><A href="https://2018.igem.org/Team:Montpellier/Award">Award</A><A href="https://2018.igem.org/Team:Montpellier/Medals">Medals</A></DIV></NAV></DIV><SECTION><H1> Software </H1><H2>Introduction</H2><P>To test the effect of our peptides and antibodies on sperm we needed a way to quantify the motility of spermatozoa. Ideally, we would be able to see the decreasing of sperm motility when in contact with our molecules or our bacteria. 
For this, we developed a software that is able to track spermatozoa frame by frame. This software can give us the speed of each spermatozoon from a video and thus permits us a quantitative analysis of sperm motility. Our tracking tool is based on the <STRONG>“Trackpy”</STRONG> package that contains basic functions for tracking biological elements in sample. </P><P>All the functions that we are using are mentioned and described at the end of the page and the commented code is linked below. In this part, we are explaining the general principle and steps of our tracking software. </P><H2>General steps to analyze the sperm motility : </H2><P>First of all the video is recorded by the camera and saved in TIFF format (figure 1).</P><CENTER><VIDEO width="50%" height="240" controls=""><CENTER><P class="legend">Figure 1 : Video of spermatozoa </P><P>The first goal of the tracking is to identify all the spermatozoa. This identification needs to be a good balance sensibility and specificity (figure 2). </P><P class="legend">Figure 2 : Identification of the spermatozoa thanks to the software </P><P>Once all spermatozoa are detected, the software analyzes the position frame by frame and gives as an output the trajectory of each spermatozoa (figure 3).</P><P class="legend"> Figure 3 : Trajectory of spermatozoa predicted by the software </P><P>The trajectories unable us to calculate the speed of each spermatozoa. We calculate the mean velocity and the median velocity with the uniform filter. 
Lastly, in some cases, we plotted a histogram with the percentage of motile spermatozoa depending on their velocity.(figure 4)</P><P>Figure 4 :Histogramm</P><H2>The functions used in the script :</H2><P>We start using the tp.locate function and put the good parameter that fit the circle to the object that has an average diameter. 
We detect for each frame spermatozoa by using the <STRONG>tp.batch</STRONG> function and we link each frame with another and annotate the same particle at each frame. 
We filter the data that we get by using <STRONG>tp.filter</STRONG> to keep only the spermatozoa that we detect only for 60FPs. 
We make other filtration as the filter by intensity to keep only the spermatozoa that have an intensity high specific mass. 
We add another filtration that it’s done manually in case the previous filtration doesn’t succeed to delete as the noise of background. Also, we combine the trajectory manually for the same spermatozoa. 
We add to the script line of code to make a video with trajectory. To see the efficacity of the tracking. 
We use the function <STRONG>tp.compute_drift</STRONG> to delete the drift case by the flux of the medium. 
We add to the DataFrame other columns that transform from pixel x and y position, to Um and final we calculate the velocity. 
To have more flexibility to use the data for each Spermatozoa we transform the DataFrame to Nestedictionary that contain dictionary and each dictionary contain dx, dy, and velocity for spermatozoa. </P><H2>Explanation of the script line by line </H2><P> Here you can find the script and its explanation line by line : <A href="https://static.igem.org/mediawiki/2018/9/9a/T--Montpellier--Tutorial_for_Tracking_montpellier2.pdf" target="_blank" class="lien"> tutorial </A>.</P><P> You can also download our fully commented script freely on our github page : <A href="https://github.com/iGEMMontpellier/Tracking-software-" target="_blank" class="lien"> tutorial on github</A>.

</P></CENTER></VIDEO><DIV class="footer_sponsors"><DIV class="contact_us"><H3> Sponsors </H3></DIV><DIV class="follow_us"><H3> Follow us on </H3></DIV><DIV class="contact_us"><H3> Contact us </H3><DIV class="contact_us_icons"><DIV class="deux_colonnes"><DIV class="colonne_2_70"><DIV><P class="p_footer"> igem.assomtp@gmail.com </P></DIV><DIV><P class="p_footer"> Centre de Biochimie Structurale, 29 Rue de Navacelles, 34090 Montpellier, France </P></DIV></DIV></DIV></DIV></DIV></DIV></CENTER></SECTION></DIV></DIV></DIV></DIV></DIV></BODY></HTML>