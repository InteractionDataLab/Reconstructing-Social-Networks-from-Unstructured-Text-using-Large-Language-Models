<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_SCUT_js_jquery_prettyPhoto_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:SCUT/js/jquery.prettyPhoto.js</SPAN></H1><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">(function(e){function t(){url=location.href;hashtag=url.indexOf(&quot;#prettyPhoto&quot;)!==-1?decodeURI(url.substring(url.indexOf(&quot;#prettyPhoto&quot;)+1,url.length)):false;return hashtag}function n(){if(typeof theRel==&quot;undefined&quot;)return;location.hash=theRel+&quot;/&quot;+rel_index+&quot;/&quot;}function r(){if(location.href.indexOf(&quot;#prettyPhoto&quot;)!==-1)location.hash=&quot;prettyPhoto&quot;}function i(e,t){e=e.replace(/[\[]/,&quot;\\[&quot;).replace(/[\]]/,&quot;\\]&quot;);var n=&quot;[\\?&amp;]&quot;+e+&quot;=([^&amp;#]*)&quot;;var r=new RegExp(n);var i=r.exec(t);return i==null?&quot;&quot;:i[1]}e.prettyPhoto={version:&quot;3.1.4&quot;};e.fn.prettyPhoto=function(s){function g(){e(&quot;.pp_loaderIcon&quot;).hide();projectedTop=scroll_pos[&quot;scrollTop&quot;]+(d/2-a[&quot;containerHeight&quot;]/2);if(projectedTop&lt;0)projectedTop=0;$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find(&quot;.pp_content&quot;).animate({height:a[&quot;contentHeight&quot;],width:a[&quot;contentWidth&quot;]},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:v/2-a[&quot;containerWidth&quot;]/2&lt;0?0:v/2-a[&quot;containerWidth&quot;]/2,width:a[&quot;containerWidth&quot;]},settings.animation_speed,function(){$pp_pic_holder.find(&quot;.pp_hoverContainer,#fullResImage&quot;).height(a[&quot;height&quot;]).width(a[&quot;width&quot;]);$pp_pic_holder.find(&quot;.pp_fade&quot;).fadeIn(settings.animation_speed);if(isSet&amp;&amp;S(pp_images[set_position])==&quot;image&quot;){$pp_pic_holder.find(&quot;.pp_hoverContainer&quot;).show()}else{$pp_pic_holder.find(&quot;.pp_hoverContainer&quot;).hide()}if(settings.allow_expand){if(a[&quot;resized&quot;]){e(&quot;a.pp_expand,a.pp_contract&quot;).show()}else{e(&quot;a.pp_expand&quot;).hide()}}if(settings.autoplay_slideshow&amp;&amp;!m&amp;&amp;!f)e.prettyPhoto.startSlideshow();settings.changepicturecallback();f=true});C();s.ajaxcallback()}function y(t){$pp_pic_holder.find(&quot;#pp_full_res object,#pp_full_res embed&quot;).css(&quot;visibility&quot;,&quot;hidden&quot;);$pp_pic_holder.find(&quot;.pp_fade&quot;).fadeOut(settings.animation_speed,function(){e(&quot;.pp_loaderIcon&quot;).show();t()})}function b(t){t&gt;1?e(&quot;.pp_nav&quot;).show():e(&quot;.pp_nav&quot;).hide()}function w(e,t){resized=false;E(e,t);imageWidth=e,imageHeight=t;if((p&gt;v||h&gt;d)&amp;&amp;doresize&amp;&amp;settings.allow_resize&amp;&amp;!u){resized=true,fitting=false;while(!fitting){if(p&gt;v){imageWidth=v-200;imageHeight=t/e*imageWidth}else if(h&gt;d){imageHeight=d-200;imageWidth=e/t*imageHeight}else{fitting=true}h=imageHeight,p=imageWidth}E(imageWidth,imageHeight);if(p&gt;v||h&gt;d){w(p,h)}}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(h),containerWidth:Math.floor(p)+settings.horizontal_padding*2,contentHeight:Math.floor(l),contentWidth:Math.floor(c),resized:resized}}function E(t,n){t=parseFloat(t);n=parseFloat(n);$pp_details=$pp_pic_holder.find(&quot;.pp_details&quot;);$pp_details.width(t);detailsHeight=parseFloat($pp_details.css(&quot;marginTop&quot;))+parseFloat($pp_details.css(&quot;marginBottom&quot;));$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e(&quot;body&quot;)).css({position:&quot;absolute&quot;,top:-1e4});detailsHeight+=$pp_details.height();detailsHeight=detailsHeight&lt;=34?36:detailsHeight;if(e.browser.msie&amp;&amp;e.browser.version==7)detailsHeight+=8;$pp_details.remove();$pp_title=$pp_pic_holder.find(&quot;.ppt&quot;);$pp_title.width(t);titleHeight=parseFloat($pp_title.css(&quot;marginTop&quot;))+parseFloat($pp_title.css(&quot;marginBottom&quot;));$pp_title=$pp_title.clone().appendTo(e(&quot;body&quot;)).css({position:&quot;absolute&quot;,top:-1e4});titleHeight+=$pp_title.height();$pp_title.remove();l=n+detailsHeight;c=t;h=l+titleHeight+$pp_pic_holder.find(&quot;.pp_top&quot;).height()+$pp_pic_holder.find(&quot;.pp_bottom&quot;).height();p=t}function S(e){if(e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)){return&quot;youtube&quot;}else if(e.match(/vimeo\.com/i)){return&quot;vimeo&quot;}else if(e.match(/\b.mov\b/i)){return&quot;quicktime&quot;}else if(e.match(/\b.swf\b/i)){return&quot;flash&quot;}else if(e.match(/\biframe=true\b/i)){return&quot;iframe&quot;}else if(e.match(/\bajax=true\b/i)){return&quot;ajax&quot;}else if(e.match(/\bcustom=true\b/i)){return&quot;custom&quot;}else if(e.substr(0,1)==&quot;#&quot;){return&quot;inline&quot;}else{return&quot;image&quot;}}function x(){if(doresize&amp;&amp;typeof $pp_pic_holder!=&quot;undefined&quot;){scroll_pos=T();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=d/2+scroll_pos[&quot;scrollTop&quot;]-contentHeight/2;if(projectedTop&lt;0)projectedTop=0;if(contentHeight&gt;d)return;$pp_pic_holder.css({top:projectedTop,left:v/2+scroll_pos[&quot;scrollLeft&quot;]-contentwidth/2})}}function T(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}}else if(document.documentElement&amp;&amp;document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}}function N(){d=e(window).height(),v=e(window).width();if(typeof $pp_overlay!=&quot;undefined&quot;)$pp_overlay.height(e(document).height()).width(v)}function C(){if(isSet&amp;&amp;settings.overlay_gallery&amp;&amp;S(pp_images[set_position])==&quot;image&quot;&amp;&amp;settings.ie6_fallback&amp;&amp;!(e.browser.msie&amp;&amp;parseInt(e.browser.version)==6)){itemWidth=52+5;navWidth=settings.theme==&quot;facebook&quot;||settings.theme==&quot;pp_default&quot;?50:30;itemsPerPage=Math.floor((a[&quot;containerWidth&quot;]-100-navWidth)/itemWidth);itemsPerPage=itemsPerPage&lt;pp_images.length?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find(&quot;.pp_arrow_next,.pp_arrow_previous&quot;).hide()}else{$pp_gallery.find(&quot;.pp_arrow_next,.pp_arrow_previous&quot;).show()}galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css(&quot;margin-left&quot;,-(galleryWidth/2+navWidth/2)).find(&quot;div:first&quot;).width(galleryWidth+5).find(&quot;ul&quot;).width(fullGalleryWidth).find(&quot;li.selected&quot;).removeClass(&quot;selected&quot;);goToPage=Math.floor(set_position/itemsPerPage)&lt;totalPage?Math.floor(set_position/itemsPerPage):totalPage;e.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(&quot;:eq(&quot;+set_position+&quot;)&quot;).addClass(&quot;selected&quot;)}else{$pp_pic_holder.find(&quot;.pp_content&quot;).unbind(&quot;mouseenter mouseleave&quot;)}}function k(t){if(settings.social_tools)facebook_like_link=settings.social_tools.replace(&quot;{location_href}&quot;,encodeURIComponent(location.href));settings.markup=settings.markup.replace(&quot;{pp_social}&quot;,&quot;&quot;);e(&quot;body&quot;).append(settings.markup);$pp_pic_holder=e(&quot;.pp_pic_holder&quot;),$ppt=e(&quot;.ppt&quot;),$pp_overlay=e(&quot;div.pp_overlay&quot;);if(isSet&amp;&amp;settings.overlay_gallery){currentGalleryPage=0;toInject=&quot;&quot;;for(var n=0;n&lt;pp_images.length;n++){if(!pp_images[n].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname=&quot;default&quot;;img_src=&quot;&quot;}else{classname=&quot;&quot;;img_src=pp_images[n]}toInject+=&quot;<LI class="&quot;+classname+&quot;">&lt;a href='#'&gt;&lt;img src='&quot;+img_src+&quot;' width='50' alt=<I> /&gt;&lt;/a&gt;</I></LI>&quot;}toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find(&quot;#pp_full_res&quot;).after(toInject);$pp_gallery=e(&quot;.pp_pic_holder .pp_gallery&quot;),$pp_gallery_li=$pp_gallery.find(&quot;li&quot;);$pp_gallery.find(&quot;.pp_arrow_next&quot;).click(function(){e.prettyPhoto.changeGalleryPage(&quot;next&quot;);e.prettyPhoto.stopSlideshow();return false});$pp_gallery.find(&quot;.pp_arrow_previous&quot;).click(function(){e.prettyPhoto.changeGalleryPage(&quot;previous&quot;);e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(&quot;.pp_content&quot;).hover(function(){$pp_pic_holder.find(&quot;.pp_gallery:not(.disabled)&quot;).fadeIn()},function(){$pp_pic_holder.find(&quot;.pp_gallery:not(.disabled)&quot;).fadeOut()});itemWidth=52+5;$pp_gallery_li.each(function(t){e(this).find(&quot;a&quot;).click(function(){e.prettyPhoto.changePage(t);e.prettyPhoto.stopSlideshow();return false})})}if(settings.slideshow){$pp_pic_holder.find(&quot;.pp_nav&quot;).prepend('&lt;a href=&quot;#&quot; class=&quot;pp_play&quot;&gt;Play&lt;/a&gt;');$pp_pic_holder.find(&quot;.pp_nav .pp_play&quot;).click(function(){e.prettyPhoto.startSlideshow();return false})}$pp_pic_holder.attr(&quot;class&quot;,&quot;pp_pic_holder &quot;+settings.theme);$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind(&quot;click&quot;,function(){if(!settings.modal)e.prettyPhoto.close()});e(&quot;a.pp_close&quot;).bind(&quot;click&quot;,function(){e.prettyPhoto.close();return false});if(settings.allow_expand){e(&quot;a.pp_expand&quot;).bind(&quot;click&quot;,function(t){if(e(this).hasClass(&quot;pp_expand&quot;)){e(this).removeClass(&quot;pp_expand&quot;).addClass(&quot;pp_contract&quot;);doresize=false}else{e(this).removeClass(&quot;pp_contract&quot;).addClass(&quot;pp_expand&quot;);doresize=true}y(function(){e.prettyPhoto.open()});return false})}$pp_pic_holder.find(&quot;.pp_previous, .pp_nav .pp_arrow_previous&quot;).bind(&quot;click&quot;,function(){e.prettyPhoto.changePage(&quot;previous&quot;);e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(&quot;.pp_next, .pp_nav .pp_arrow_next&quot;).bind(&quot;click&quot;,function(){e.prettyPhoto.changePage(&quot;next&quot;);e.prettyPhoto.stopSlideshow();return false});x()}s=jQuery.extend({hook:&quot;rel&quot;,animation_speed:&quot;fast&quot;,ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:false,opacity:.8,show_title:true,allow_resize:true,allow_expand:true,default_width:500,default_height:344,counter_separator_label:&quot;/&quot;,theme:&quot;pp_default&quot;,horizontal_padding:20,hideflash:false,wmode:&quot;opaque&quot;,autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,overlay_gallery_max:30,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<DIV class="pp_pic_holder"><DIV class="ppt">?/div&gt;<DIV class="pp_content_container"><DIV class="pp_left"><DIV class="pp_right"><DIV class="pp_content"><DIV class="pp_fade">&lt;a href=&quot;#&quot; class=&quot;pp_expand&quot; title=&quot;Expand the image&quot;&gt;Expand&lt;/a&gt;<DIV class="pp_hoverContainer">&lt;a class=&quot;pp_next&quot; href=&quot;#&quot;&gt;next&lt;/a&gt;&lt;a class=&quot;pp_previous&quot; href=&quot;#&quot;&gt;previous&lt;/a&gt;</DIV><DIV class="pp_details"><DIV class="pp_nav">&lt;a href=&quot;#&quot; class=&quot;pp_arrow_previous&quot;&gt;Previous&lt;/a&gt;<P class="currentTextHolder">0/0</P>&lt;a href=&quot;#&quot; class=&quot;pp_arrow_next&quot;&gt;Next&lt;/a&gt;</DIV><DIV class="pp_social">{pp_social}</DIV>&lt;a class=&quot;pp_close&quot; href=&quot;#&quot;&gt;Close&lt;/a&gt;</DIV></DIV></DIV></DIV></DIV></DIV></DIV>',gallery_markup:'<DIV class="pp_gallery">&lt;a href=&quot;#&quot; class=&quot;pp_arrow_previous&quot;&gt;Previous&lt;/a&gt;<DIV><UL>           {gallery}          </UL></DIV>&lt;a href=&quot;#&quot; class=&quot;pp_arrow_next&quot;&gt;Next&lt;/a&gt;</DIV>',image_markup:'&lt;img id=&quot;fullResImage&quot; src=&quot;{path}&quot; /&gt;',flash_markup:'&lt;object classid=&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot; width=&quot;{width}&quot; height=&quot;{height}&quot;&gt;&lt;param name=&quot;wmode&quot; value=&quot;{wmode}&quot; /&gt;&lt;param name=&quot;allowfullscreen&quot; value=&quot;true&quot; /&gt;&lt;param name=&quot;allowscriptaccess&quot; value=&quot;always&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;{path}&quot; /&gt;&lt;embed src=&quot;{path}&quot; type=&quot;application/x-shockwave-flash&quot; allowfullscreen=&quot;true&quot; allowscriptaccess=&quot;always&quot; width=&quot;{width}&quot; height=&quot;{height}&quot; wmode=&quot;{wmode}&quot;&gt;&lt;/embed&gt;&lt;/object&gt;',quicktime_markup:'&lt;object classid=&quot;clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B&quot; codebase=&quot;../../../www.apple.com/qtactivex/qtplugin.cab/&quot; height=&quot;{height}&quot; width=&quot;{width}&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;{path}&quot;&gt;&lt;param name=&quot;autoplay&quot; value=&quot;{autoplay}&quot;&gt;&lt;param name=&quot;type&quot; value=&quot;video/quicktime&quot;&gt;&lt;embed src=&quot;{path}&quot; height=&quot;{height}&quot; width=&quot;{width}&quot; autoplay=&quot;{autoplay}&quot; type=&quot;video/quicktime&quot; pluginspage=&quot;../../../www.apple.com/quicktime/download/default.htm&quot;&gt;&lt;/embed&gt;&lt;/object&gt;',iframe_markup:'&lt;iframe src =&quot;{path}&quot; width=&quot;{width}&quot; height=&quot;{height}&quot; frameborder=&quot;no&quot;&gt;&lt;/iframe&gt;',inline_markup:'<DIV class="pp_inline">{content}</DIV>',custom_markup:&quot;&quot;,social_tools:'<DIV class="twitter">&lt;a href=&quot;../../../twitter.com/share&quot; class=&quot;twitter-share-button&quot; data-count=&quot;none&quot;&gt;Tweet&lt;/a&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;../../../platform.twitter.com/widgets.js&quot;&gt;&lt;/script&gt;</DIV>'},s);var o=this,u=false,a,f,l,c,h,p,d=e(window).height(),v=e(window).width(),m;doresize=true,scroll_pos=T();e(window).unbind(&quot;resize.prettyphoto&quot;).bind(&quot;resize.prettyphoto&quot;,function(){x();N()});if(s.keyboard_shortcuts){e(document).unbind(&quot;keydown.prettyphoto&quot;).bind(&quot;keydown.prettyphoto&quot;,function(t){if(typeof $pp_pic_holder!=&quot;undefined&quot;){if($pp_pic_holder.is(&quot;:visible&quot;)){switch(t.keyCode){case 37:e.prettyPhoto.changePage(&quot;previous&quot;);t.preventDefault();break;case 39:e.prettyPhoto.changePage(&quot;next&quot;);t.preventDefault();break;case 27:if(!settings.modal)e.prettyPhoto.close();t.preventDefault();break}}}})}e.prettyPhoto.initialize=function(){settings=s;if(settings.theme==&quot;pp_default&quot;)settings.horizontal_padding=16;if(settings.ie6_fallback&amp;&amp;e.browser.msie&amp;&amp;parseInt(e.browser.version)==6)settings.theme=&quot;light_square&quot;;theRel=e(this).attr(settings.hook);galleryRegExp=/\[(?:.*)\]/;isSet=galleryRegExp.exec(theRel)?true:false;pp_images=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr(&quot;href&quot;)}):e.makeArray(e(this).attr(&quot;href&quot;));pp_titles=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).find(&quot;img&quot;).attr(&quot;alt&quot;)?e(t).find(&quot;img&quot;).attr(&quot;alt&quot;):&quot;&quot;}):e.makeArray(e(this).find(&quot;img&quot;).attr(&quot;alt&quot;));pp_descriptions=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr(&quot;title&quot;)?e(t).attr(&quot;title&quot;):&quot;&quot;}):e.makeArray(e(this).attr(&quot;title&quot;));if(pp_images.length&gt;settings.overlay_gallery_max)settings.overlay_gallery=false;set_position=jQuery.inArray(e(this).attr(&quot;href&quot;),pp_images);rel_index=isSet?set_position:e(&quot;a[&quot;+settings.hook+&quot;^='&quot;+theRel+&quot;']&quot;).index(e(this));k(this);if(settings.allow_resize)e(window).bind(&quot;scroll.prettyphoto&quot;,function(){x()});e.prettyPhoto.open();return false};e.prettyPhoto.open=function(t){if(typeof settings==&quot;undefined&quot;){settings=s;if(e.browser.msie&amp;&amp;e.browser.version==6)settings.theme=&quot;light_square&quot;;pp_images=e.makeArray(arguments[0]);pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray(&quot;&quot;);pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray(&quot;&quot;);isSet=pp_images.length&gt;1?true:false;set_position=arguments[3]?arguments[3]:0;k(t.target)}if(e.browser.msie&amp;&amp;e.browser.version==6)e(&quot;select&quot;).css(&quot;visibility&quot;,&quot;hidden&quot;);if(settings.hideflash)e(&quot;object,embed,iframe[src*=youtube],iframe[src*=vimeo]&quot;).css(&quot;visibility&quot;,&quot;hidden&quot;);b(e(pp_images).size());e(&quot;.pp_loaderIcon&quot;).show();if(settings.deeplinking)n();if(settings.social_tools){facebook_like_link=settings.social_tools.replace(&quot;{location_href}&quot;,encodeURIComponent(location.href));$pp_pic_holder.find(&quot;.pp_social&quot;).html(facebook_like_link)}if($ppt.is(&quot;:hidden&quot;))$ppt.css(&quot;opacity&quot;,0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(&quot;.currentTextHolder&quot;).text(set_position+1+settings.counter_separator_label+e(pp_images).size());if(typeof pp_descriptions[set_position]!=&quot;undefined&quot;&amp;&amp;pp_descriptions[set_position]!=&quot;&quot;){$pp_pic_holder.find(&quot;.pp_description&quot;).show().html(unescape(pp_descriptions[set_position]))}else{$pp_pic_holder.find(&quot;.pp_description&quot;).hide()}movie_width=parseFloat(i(&quot;width&quot;,pp_images[set_position]))?i(&quot;width&quot;,pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(i(&quot;height&quot;,pp_images[set_position]))?i(&quot;height&quot;,pp_images[set_position]):settings.default_height.toString();u=false;if(movie_height.indexOf(&quot;%&quot;)!=-1){movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150);u=true}if(movie_width.indexOf(&quot;%&quot;)!=-1){movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150);u=true}$pp_pic_holder.fadeIn(function(){settings.show_title&amp;&amp;pp_titles[set_position]!=&quot;&quot;&amp;&amp;typeof pp_titles[set_position]!=&quot;undefined&quot;?$ppt.html(unescape(pp_titles[set_position])):$ppt.html(&quot;?);imgPreloader=&quot;&quot;;skipInjection=false;switch(S(pp_images[set_position])){case&quot;image&quot;:imgPreloader=new Image;nextImage=new Image;if(isSet&amp;&amp;set_position&lt;e(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image;if(isSet&amp;&amp;pp_images[set_position-1])prevImage.src=pp_images[set_position-1];$pp_pic_holder.find(&quot;#pp_full_res&quot;)[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){a=w(imgPreloader.width,imgPreloader.height);g()};imgPreloader.onerror=function(){alert(&quot;Image cannot be loaded. Make sure the path is correct and image exist.&quot;);e.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case&quot;youtube&quot;:a=w(movie_width,movie_height);movie_id=i(&quot;v&quot;,pp_images[set_position]);if(movie_id==&quot;&quot;){movie_id=pp_images[set_position].split(&quot;youtu.be/&quot;);movie_id=movie_id[1];if(movie_id.indexOf(&quot;?&quot;)&gt;0)movie_id=movie_id.substr(0,movie_id.indexOf(&quot;?&quot;));if(movie_id.indexOf(&quot;&amp;&quot;)&gt;0)movie_id=movie_id.substr(0,movie_id.indexOf(&quot;&amp;&quot;))}movie=&quot;../../../www.youtube.com/embed/&quot;+movie_id;i(&quot;rel&quot;,pp_images[set_position])?movie+=&quot;../../../www.apple.com/qtactivex/qtplugin.cab/@rel=&quot;+i(&quot;rel&quot;,pp_images[set_position]):movie+=&quot;@rel=1&quot;;if(settings.autoplay)movie+=&quot;&amp;autoplay=1&quot;;toInject=settings.iframe_markup.replace(/{width}/g,a[&quot;width&quot;]).replace(/{height}/g,a[&quot;height&quot;]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case&quot;vimeo&quot;:a=w(movie_width,movie_height);movie_id=pp_images[set_position];var t=/http:\/\/(www\.)?vimeo.com\/(\d+)/;var n=movie_id.match(t);movie=&quot;../../../player.vimeo.com/video/&quot;+n[2]+&quot;@title=0&amp;byline=0&amp;portrait=0&quot;;if(settings.autoplay)movie+=&quot;&amp;autoplay=1;&quot;;vimeo_width=a[&quot;width&quot;]+&quot;/embed/?moog_width=&quot;+a[&quot;width&quot;];toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,a[&quot;height&quot;]).replace(/{path}/g,movie);break;case&quot;quicktime&quot;:a=w(movie_width,movie_height);a[&quot;height&quot;]+=15;a[&quot;contentHeight&quot;]+=15;a[&quot;containerHeight&quot;]+=15;toInject=settings.quicktime_markup.replace(/{width}/g,a[&quot;width&quot;]).replace(/{height}/g,a[&quot;height&quot;]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case&quot;flash&quot;:a=w(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf(&quot;flashvars&quot;)+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf(&quot;?&quot;));toInject=settings.flash_markup.replace(/{width}/g,a[&quot;width&quot;]).replace(/{height}/g,a[&quot;height&quot;]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+&quot;?&quot;+flash_vars);break;case&quot;iframe&quot;:a=w(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf(&quot;iframe&quot;)-1);toInject=settings.iframe_markup.replace(/{width}/g,a[&quot;width&quot;]).replace(/{height}/g,a[&quot;height&quot;]).replace(/{path}/g,frame_url);break;case&quot;ajax&quot;:doresize=false;a=w(movie_width,movie_height);doresize=true;skipInjection=true;e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e);$pp_pic_holder.find(&quot;#pp_full_res&quot;)[0].innerHTML=toInject;g()});break;case&quot;custom&quot;:a=w(movie_width,movie_height);toInject=settings.custom_markup;break;case&quot;inline&quot;:myClone=e(pp_images[set_position]).clone().append('').css({width:settings.default_width}).wrapInner('').appendTo(e(&quot;body&quot;)).show();doresize=false;a=w(e(myClone).width(),e(myClone).height());doresize=true;e(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html());break}if(!imgPreloader&amp;&amp;!skipInjection){$pp_pic_holder.find(&quot;#pp_full_res&quot;)[0].innerHTML=toInject;g()}});return false};e.prettyPhoto.changePage=function(t){currentGalleryPage=0;if(t==&quot;previous&quot;){set_position--;if(set_position&lt;0)set_position=e(pp_images).size()-1}else if(t==&quot;next&quot;){set_position++;if(set_position&gt;e(pp_images).size()-1)set_position=0}else{set_position=t}rel_index=set_position;if(!doresize)doresize=true;if(settings.allow_expand){e(&quot;.pp_contract&quot;).removeClass(&quot;pp_contract&quot;).addClass(&quot;pp_expand&quot;)}y(function(){e.prettyPhoto.open()})};e.prettyPhoto.changeGalleryPage=function(e){if(e==&quot;next&quot;){currentGalleryPage++;if(currentGalleryPage&gt;totalPage)currentGalleryPage=0}else if(e==&quot;previous&quot;){currentGalleryPage--;if(currentGalleryPage&lt;0)currentGalleryPage=totalPage}else{currentGalleryPage=e}slide_speed=e==&quot;next&quot;||e==&quot;previous&quot;?settings.animation_speed:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find(&quot;ul&quot;).animate({left:-slide_to},slide_speed)};e.prettyPhoto.startSlideshow=function(){if(typeof m==&quot;undefined&quot;){$pp_pic_holder.find(&quot;.pp_play&quot;).unbind(&quot;click&quot;).removeClass(&quot;pp_play&quot;).addClass(&quot;pp_pause&quot;).click(function(){e.prettyPhoto.stopSlideshow();return false});m=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)}else{e.prettyPhoto.changePage(&quot;next&quot;)}};e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(&quot;.pp_pause&quot;).unbind(&quot;click&quot;).removeClass(&quot;pp_pause&quot;).addClass(&quot;pp_play&quot;).click(function(){e.prettyPhoto.startSlideshow();return false});clearInterval(m);m=undefined};e.prettyPhoto.close=function(){if($pp_overlay.is(&quot;:animated&quot;))return;e.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find(&quot;object,embed&quot;).css(&quot;visibility&quot;,&quot;hidden&quot;);e(&quot;div.pp_pic_holder,div.ppt,.pp_fade&quot;).fadeOut(settings.animation_speed,function(){e(this).remove()});$pp_overlay.fadeOut(settings.animation_speed,function(){if(e.browser.msie&amp;&amp;e.browser.version==6)e(&quot;select&quot;).css(&quot;visibility&quot;,&quot;visible&quot;);if(settings.hideflash)e(&quot;object,embed,iframe[src*=youtube],iframe[src*=vimeo]&quot;).css(&quot;visibility&quot;,&quot;visible&quot;);e(this).remove();e(window).unbind(&quot;scroll.prettyphoto&quot;);r();settings.callback();doresize=true;f=false;delete settings})};if(!pp_alreadyInitialized&amp;&amp;t()){pp_alreadyInitialized=true;hashIndex=t();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf(&quot;/&quot;)+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf(&quot;/&quot;));setTimeout(function(){e(&quot;a[&quot;+s.hook+&quot;^='&quot;+hashRel+&quot;']:eq(&quot;+hashIndex+&quot;)&quot;).trigger(&quot;click&quot;)},50)}return this.unbind(&quot;click.prettyphoto&quot;).bind(&quot;click.prettyphoto&quot;,e.prettyPhoto.initialize)};})(jQuery);var pp_alreadyInitialized=false</DIV></DIV></DIV></DIV></DIV></BODY></HTML>