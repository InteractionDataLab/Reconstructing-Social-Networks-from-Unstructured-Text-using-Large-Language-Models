<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Cambridge-JIC_Assets_Quiz_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Cambridge-JIC/Assets/Quiz js</SPAN></H1><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><PRE>           quiz = function(elem){
               this.elem = $(elem);
               this.steps = [];
</PRE><PRE>               this.step = function(question, answers) {
                   this.question = question;
                   this.answers = {};
                   this.bind = function(target, keys) {
                       if (typeof keys === &quot;undefined&quot;) {
                           keys = Object.keys(this.answers);
                       }
</PRE><PRE>                       for (var i=0; i&lt;keys.length; i++) {
                           key = keys[i];
                           this.answers[key].target = target;
                       }
                   };
                   this.elem = function(quiz, index) {
</PRE>
                        elem = $('<DIV class="cam-quiz-question">');
                        elem.append($('<H4><SPAN class="mw-headline" id=".27.29.text.28this.question.29.29.3B.0A_for_.28key_in_this.answers.29_.7B.0A_elem.append.28.24.28.27.27.29.0A_.text.28this.answers.5Bkey.5D.answer.29.0A_.data.28.22key.22.2C_key.29.0A_.data.28.22step.22.2C_this.29.0A_.data.28.22quiz.22.2C_quiz.29.0A_.data.28.22index.22.2C_index.29.0A_.click.28function.28.29.7B.0A_key_.3D_.24.28this.29.data.28.22key.22.29.3B.0A_step_.3D_.24.28this.29.data.28.22step.22.29.3B.0A_quiz_.3D_.24.28this.29.data.28.22quiz.22.29.3B.0A_index_.3D_.24.28this.29.data.28.22index.22.29.3B.0A_ref_.3D_quiz.steps.5Bindex.5D.3B.0A_ref.elem.find.28.27.cam-quiz-selected.27.29.removeClass.28.27cam-quiz-selected.27.29.3B.0A_.24.28this.29.addClass.28.27cam-quiz-selected.27.29.3B.0A.0A_for_.28var_i.3Dquiz.steps.length.3B_--i.3Eindex.3B.29_.7B.0A_quiz.steps.5Bi.5D.elem.remove.28.29.3B.0A_quiz.steps.pop.28.29.3B.0A_.7D.0A.0A_quiz.steps.5Bindex.5D.option_.3D_key.3B.0A_nstep_.3D_step.answers.5Bkey.5D.target.3B.0A_switch_.28typeof_nstep.29_.7B.0A_case_.22object.22:.0A_var_nindex_.3D_quiz.steps.length.3B.0A_var_nref_.3D_.7B.0A_.27step.27:_nstep.2C.0A_.27elem.27:_nstep.elem.28quiz.2C_nindex.29.2C.0A_.27option.27:_undefined.0A_.7D.3B.0A_quiz.steps.push.28nref.29.3B.0A_quiz.elem.append.28nref.elem.29.3B.0A_break.3B.0A_case_.22function.22:.0A_options_.3D_.5B.5D.3B.0A_for_.28var_i.3D0.3B_i.3Cquiz.steps.length.3B_i.2B.2B.29_.7B.0A_options.push.28quiz.steps.5Bi.5D.option.29.3B.0A_.7D.0A_var_nref_.3D_.7B.0A_.27step.27:_undefined.2C.0A_.27elem.27:_.24.28.27.27.29.0A_.append.28nstep.28options.29.29.2C.0A_.27option.27:_undefined.0A_.7D.3B.0A_quiz.steps.push.28nref.29.3B.0A_quiz.elem.append.28nref.elem.29.3B.0A_break.3B.0A_default:.0A_alert.28.22Quiz_error.21_Please_contact_the_site_maintainers.....22.29.3B.0A_break.3B.0A_.7D.0A_.7D.29.29.3B.0A_.7D.0A_return_elem.3B.0A_.7D.3B.0A.0A_for_.28key_in_answers.29_.7B.0A_answer_.3D_answers.5Bkey.5D.3B.0A_this.answers.5Bkey.5D_.3D_.7B.0A_.27answer.27:_answer.2C.0A_.27target.27:_undefined.0A_.7D.3B.0A_.7D.0A_.7D.3B.0A.0A_this.start_.3D_function.28step.29_.7B.0A_index_.3D_this.steps.length.3B.0A_ref_.3D_.7B.0A_.27step.27:_step.2C.0A_.27elem.27:_step.elem.28this.2C_index.29.2C.0A_.27option.27:_undefined.0A_.7D.3B.0A_this.steps.push.28ref.29.3B.0A_this.elem.append.28ref.elem.29.3B.0A_.7D.3B.0A_.7D.3B">').text(this.question));
                        for (key in this.answers) {
                            elem.append($('<DIV class="cam-quiz-answer btn btn-default btn-lg">')
<PRE>                               .text(this.answers[key].answer)
                               .data(&quot;key&quot;, key)
                               .data(&quot;step&quot;, this)
                               .data(&quot;quiz&quot;, quiz)
                               .data(&quot;index&quot;, index)
                               .click(function(){
                                   key = $(this).data(&quot;key&quot;);
                                   step = $(this).data(&quot;step&quot;);
                                   quiz = $(this).data(&quot;quiz&quot;);
                                   index = $(this).data(&quot;index&quot;);
                                   ref = quiz.steps[index];
                                   ref.elem.find('.cam-quiz-selected').removeClass('cam-quiz-selected');
                                   $(this).addClass('cam-quiz-selected');
</PRE><PRE>                                   for (var i=quiz.steps.length; --i&gt;index;) {
                                       quiz.steps[i].elem.remove();
                                       quiz.steps.pop();
                                   }
</PRE><PRE>                                   quiz.steps[index].option = key;
                                   nstep = step.answers[key].target;
                                   switch (typeof nstep) {
                                       case &quot;object&quot;:
                                           var nindex = quiz.steps.length;
                                           var nref = {
                                               'step': nstep,
                                               'elem': nstep.elem(quiz, nindex),
                                               'option': undefined
                                           };
                                           quiz.steps.push(nref);
                                           quiz.elem.append(nref.elem);
                                           break;
                                       case &quot;function&quot;:
                                           options = [];
                                           for (var i=0; i&lt;quiz.steps.length; i++) {
                                               options.push(quiz.steps[i].option);
                                           }
                                           var nref = {
                                               'step': undefined,
</PRE>
                                                'elem': $('<DIV class="cam-quiz-result">')
<PRE>                                                   .append(nstep(options)),
                                               'option': undefined
                                           };
                                           quiz.steps.push(nref);
                                           quiz.elem.append(nref.elem);
                                           break;
                                       default:
                                           alert(&quot;Quiz error! Please contact the site maintainers....&quot;);
                                           break;
                                   }
                               }));
                       }
                       return elem;
                   };
</PRE><PRE>                   for (key in answers) {
                       answer = answers[key];
                       this.answers[key] = {
                           'answer': answer,
                           'target': undefined
                       };
                   }
               };
</PRE><PRE>               this.start = function(step) {
                   index = this.steps.length;
                   ref = {
                       'step': step,
                       'elem': step.elem(this, index),
                       'option': undefined
                   };
                   this.steps.push(ref);
                   this.elem.append(ref.elem);
               };
</PRE>
            };</DIV></DIV></SPAN></H4></DIV></DIV></DIV></DIV></DIV></BODY></HTML>