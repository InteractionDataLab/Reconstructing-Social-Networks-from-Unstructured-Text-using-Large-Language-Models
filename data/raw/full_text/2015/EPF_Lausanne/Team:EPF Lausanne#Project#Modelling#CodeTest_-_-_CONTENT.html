<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_EPF_Lausanne_Project_Modelling_CodeTest skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:EPF Lausanne/Project/Modelling/CodeTest</SPAN></H1><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><DIV class="site-header"><DIV class="container"><DIV class="row"><NAV class="navbar navbar-default navbar-static-top"><DIV class="navbar-header"><BUTTON class="navbar-toggle" type="button" data-toggle="collapse" data-target="#main-menu"><SPAN class="sr-only">Toggle navigation</SPAN></BUTTON></DIV><DIV class="collapse navbar-collapse" id="main-menu"><UL class="nav navbar-nav navbar-right"><LI><A href="https://2015.igem.org/Team:EPF_Lausanne">Home</A></LI><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Project </A></LI><LI><A href="https://2015.igem.org/Team_EPF_Lausanne/Project/Background">Background</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Project/Description">Description</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Project/Applications">Applications</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Project/Modelling">Modelling</A></LI></UL><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Achievements </A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Achievements/Vivo">In vivo</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Achievements/Silico">In silico</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Achievements/Judging">Judging</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Achievements/Parts">Parts</A></LI><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Policy and Practices </A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Policy/Ethic">Ethics</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Policy/Safety">Safety</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Policy/Human">Human Practices</A></LI><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Notebook </A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Notebook/Ecoli">E. Coli</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Notebook/Yeast">Yeast</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Notebook/Protocols">Protocols</A></LI><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Team </A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Team/Meet">Meet us</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Timeline">Timeline</A></LI><LI><A href="https://2015.igem.org/Team:EPF_Lausanne/Team/Aknowledgements">Aknowledgements</A></LI></DIV></NAV></DIV></DIV></DIV><DIV class="page-h promotion"><DIV class="container"><DIV class="row"><DIV class="col-md-12 text-center"><H3>Code</H3></DIV></DIV></DIV></DIV><DIV class="second-section"><DIV class="container"><DIV class="row"><DIV class="col-md-12 col-centered"><H3>ODE Generator</H3><DIV class="highlight"><PRE><SPAN class="k">class</SPAN><SPAN class="nc">Reaction</SPAN><SPAN class="p">:</SPAN><SPAN class="k">def</SPAN><SPAN class="nf">__init__</SPAN><SPAN class="p">(</SPAN><SPAN class="bp">self</SPAN><SPAN class="p">,</SPAN><SPAN class="n">reaction_</SPAN><SPAN class="p">,</SPAN><SPAN class="n">cst_name_</SPAN><SPAN class="p">,</SPAN><SPAN class="n">cst_value_</SPAN><SPAN class="p">,</SPAN><SPAN class="n">description_</SPAN><SPAN class="p">):</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">reaction</SPAN><SPAN class="o">=</SPAN><SPAN class="n">reaction_</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">cst_name</SPAN><SPAN class="o">=</SPAN><SPAN class="n">cst_name_</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">cst_value</SPAN><SPAN class="o">=</SPAN><SPAN class="n">cst_value_</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">description</SPAN><SPAN class="o">=</SPAN><SPAN class="n">description_</SPAN><SPAN class="k">def</SPAN><SPAN class="nf">__str__</SPAN><SPAN class="p">(</SPAN><SPAN class="bp">self</SPAN><SPAN class="p">):</SPAN><SPAN class="k">return</SPAN><SPAN class="s">&quot;{}</SPAN><SPAN class="se">\n</SPAN><SPAN class="s">{} = {}</SPAN><SPAN class="se">\n</SPAN><SPAN class="s">{}&quot;</SPAN><SPAN class="o">.</SPAN><SPAN class="n">format</SPAN><SPAN class="p">(</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">reaction</SPAN><SPAN class="p">,</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">cst_name</SPAN><SPAN class="p">,</SPAN><SPAN class="nb">str</SPAN><SPAN class="p">(</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">cst_value</SPAN><SPAN class="p">),</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">description</SPAN><SPAN class="p">)</SPAN><SPAN class="k">class</SPAN><SPAN class="nc">ReactionParser</SPAN><SPAN class="p">:</SPAN><SPAN class="k">def</SPAN><SPAN class="nf">__init__</SPAN><SPAN class="p">(</SPAN><SPAN class="bp">self</SPAN><SPAN class="p">,</SPAN><SPAN class="n">input_</SPAN><SPAN class="p">,</SPAN><SPAN class="n">sep_</SPAN><SPAN class="o">=</SPAN><SPAN class="s">&quot;:&quot;</SPAN><SPAN class="p">,</SPAN><SPAN class="n">comment_</SPAN><SPAN class="o">=</SPAN><SPAN class="s">&quot;#&quot;</SPAN><SPAN class="p">):</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">sep</SPAN><SPAN class="o">=</SPAN><SPAN class="n">sep_</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">comment</SPAN><SPAN class="o">=</SPAN><SPAN class="n">comment_</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">file</SPAN><SPAN class="o">=</SPAN><SPAN class="nb">open</SPAN><SPAN class="p">(</SPAN><SPAN class="n">input_</SPAN><SPAN class="p">,</SPAN><SPAN class="s">'r'</SPAN><SPAN class="p">)</SPAN><SPAN class="c"># TODO: OPEN SAFELY</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">reactions</SPAN><SPAN class="o">=</SPAN><SPAN class="p">[]</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">_load</SPAN><SPAN class="p">()</SPAN><SPAN class="k">def</SPAN><SPAN class="nf">__del__</SPAN><SPAN class="p">(</SPAN><SPAN class="bp">self</SPAN><SPAN class="p">):</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">file</SPAN><SPAN class="o">.</SPAN><SPAN class="n">close</SPAN><SPAN class="p">()</SPAN><SPAN class="k">def</SPAN><SPAN class="nf">_load</SPAN><SPAN class="p">(</SPAN><SPAN class="bp">self</SPAN><SPAN class="p">):</SPAN><SPAN class="k">for</SPAN><SPAN class="n">line</SPAN><SPAN class="ow">in</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">file</SPAN><SPAN class="p">:</SPAN><SPAN class="k">if</SPAN><SPAN class="n">line</SPAN><SPAN class="o">.</SPAN><SPAN class="n">strip</SPAN><SPAN class="p">()</SPAN><SPAN class="o">==</SPAN><SPAN class="s">&quot;</SPAN><SPAN class="se">\n</SPAN><SPAN class="s">&quot;</SPAN><SPAN class="ow">or</SPAN><SPAN class="n">line</SPAN><SPAN class="o">.</SPAN><SPAN class="n">strip</SPAN><SPAN class="p">()</SPAN><SPAN class="o">==</SPAN><SPAN class="s">&quot;&quot;</SPAN><SPAN class="p">:</SPAN><SPAN class="c"># Check for empty lines</SPAN><SPAN class="k">continue</SPAN><SPAN class="k">if</SPAN><SPAN class="nb">len</SPAN><SPAN class="p">(</SPAN><SPAN class="n">line</SPAN><SPAN class="o">.</SPAN><SPAN class="n">strip</SPAN><SPAN class="p">())</SPAN><SPAN class="o">!=</SPAN><SPAN class="mi">0</SPAN><SPAN class="ow">and</SPAN><SPAN class="n">line</SPAN><SPAN class="o">.</SPAN><SPAN class="n">strip</SPAN><SPAN class="p">()[</SPAN><SPAN class="mi">0</SPAN><SPAN class="p">]</SPAN><SPAN class="o">==</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">comment</SPAN><SPAN class="p">:</SPAN><SPAN class="c"># Check for comments</SPAN><SPAN class="k">continue</SPAN><SPAN class="n">splitted</SPAN><SPAN class="o">=</SPAN><SPAN class="n">line</SPAN><SPAN class="o">.</SPAN><SPAN class="n">split</SPAN><SPAN class="p">(</SPAN><SPAN class="s">&quot;:&quot;</SPAN><SPAN class="p">)</SPAN><SPAN class="k">if</SPAN><SPAN class="nb">len</SPAN><SPAN class="p">(</SPAN><SPAN class="n">splitted</SPAN><SPAN class="p">)</SPAN><SPAN class="o">!=</SPAN><SPAN class="mi">4</SPAN><SPAN class="p">:</SPAN><SPAN class="k">raise</SPAN><SPAN class="ne">ValueError</SPAN><SPAN class="p">(</SPAN><SPAN class="s">'ReactionParser: problem with the input file (not enough arguments)'</SPAN><SPAN class="p">)</SPAN><SPAN class="n">reaction</SPAN><SPAN class="o">=</SPAN><SPAN class="n">Reaction</SPAN><SPAN class="p">(</SPAN><SPAN class="n">splitted</SPAN><SPAN class="p">[</SPAN><SPAN class="mi">0</SPAN><SPAN class="p">]</SPAN><SPAN class="o">.</SPAN><SPAN class="n">strip</SPAN><SPAN class="p">(),</SPAN><SPAN class="n">splitted</SPAN><SPAN class="p">[</SPAN><SPAN class="mi">1</SPAN><SPAN class="p">]</SPAN><SPAN class="o">.</SPAN><SPAN class="n">strip</SPAN><SPAN class="p">(),</SPAN><SPAN class="nb">float</SPAN><SPAN class="p">(</SPAN><SPAN class="n">splitted</SPAN><SPAN class="p">[</SPAN><SPAN class="mi">2</SPAN><SPAN class="p">]</SPAN><SPAN class="o">.</SPAN><SPAN class="n">strip</SPAN><SPAN class="p">()),</SPAN><SPAN class="n">splitted</SPAN><SPAN class="p">[</SPAN><SPAN class="mi">3</SPAN><SPAN class="p">]</SPAN><SPAN class="o">.</SPAN><SPAN class="n">strip</SPAN><SPAN class="p">())</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">reactions</SPAN><SPAN class="o">.</SPAN><SPAN class="n">append</SPAN><SPAN class="p">(</SPAN><SPAN class="n">reaction</SPAN><SPAN class="p">)</SPAN><SPAN class="k">def</SPAN><SPAN class="nf">print_reactions</SPAN><SPAN class="p">(</SPAN><SPAN class="bp">self</SPAN><SPAN class="p">):</SPAN><SPAN class="k">for</SPAN><SPAN class="n">reaction</SPAN><SPAN class="ow">in</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">reactions</SPAN><SPAN class="p">:</SPAN><SPAN class="k">print</SPAN><SPAN class="p">(</SPAN><SPAN class="n">reaction</SPAN><SPAN class="p">)</SPAN><SPAN class="k">print</SPAN><SPAN class="p">()</SPAN><SPAN class="k">def</SPAN><SPAN class="nf">reaction_table</SPAN><SPAN class="p">(</SPAN><SPAN class="bp">self</SPAN><SPAN class="p">):</SPAN><SPAN class="n">kin</SPAN><SPAN class="o">=</SPAN><SPAN class="p">[]</SPAN><SPAN class="k">for</SPAN><SPAN class="n">reaction</SPAN><SPAN class="ow">in</SPAN><SPAN class="bp">self</SPAN><SPAN class="o">.</SPAN><SPAN class="n">reactions</SPAN><SPAN class="p">:</SPAN><SPAN class="n">splitted</SPAN><SPAN class="o">=</SPAN><SPAN class="n">reaction</SPAN><SPAN class="o">.</SPAN><SPAN class="n">reaction</SPAN><SPAN class="o">.</SPAN><SPAN class="n">split</SPAN><SPAN class="p">(</SPAN><SPAN class="s">&quot;-&gt;&quot;</SPAN><SPAN class="p">)</SPAN><SPAN class="n">left</SPAN><SPAN class="o">=</SPAN><SPAN class="n">splitted</SPAN><SPAN class="p">[</SPAN><SPAN class="mi">0</SPAN><SPAN class="p">]</SPAN><SPAN class="o">.</SPAN><SPAN class="n">strip</SPAN><SPAN class="p">()</SPAN><SPAN class="n">right</SPAN><SPAN class="o">=</SPAN><SPAN class="n">splitted</SPAN><SPAN class="p">[</SPAN><SPAN class="o">-</SPAN><SPAN class="mi">1</SPAN><SPAN class="p">]</SPAN><SPAN class="o">.</SPAN><SPAN class="n">strip</SPAN><SPAN class="p">()</SPAN><SPAN class="n">kin</SPAN><SPAN class="o">.</SPAN><SPAN class="n">append</SPAN><SPAN class="p">(</SPAN><SPAN class="p">([</SPAN><SPAN class="n">left</SPAN><SPAN class="p">,</SPAN><SPAN class="n">right</SPAN><SPAN class="p">],</SPAN><SPAN class="p">(</SPAN><SPAN class="n">reaction</SPAN><SPAN class="o">.</SPAN><SPAN class="n">cst_name</SPAN><SPAN class="p">,</SPAN><SPAN class="n">reaction</SPAN><SPAN class="o">.</SPAN><SPAN class="n">description</SPAN><SPAN class="p">,</SPAN><SPAN class="n">reaction</SPAN><SPAN class="o">.</SPAN><SPAN class="n">cst_value</SPAN><SPAN class="p">)</SPAN><SPAN class="p">)</SPAN><SPAN class="p">)</SPAN><SPAN class="k">return</SPAN><SPAN class="n">kin</SPAN><SPAN class="k">if</SPAN><SPAN class="n">__name__</SPAN><SPAN class="o">==</SPAN><SPAN class="s">&quot;__main__&quot;</SPAN><SPAN class="p">:</SPAN><SPAN class="n">myParser</SPAN><SPAN class="o">=</SPAN><SPAN class="n">ReactionParser</SPAN><SPAN class="p">(</SPAN><SPAN class="s">&quot;reactions.dat&quot;</SPAN><SPAN class="p">)</SPAN><SPAN class="c">#myParser.load()</SPAN><SPAN class="n">myParser</SPAN><SPAN class="o">.</SPAN><SPAN class="n">print_reactions</SPAN><SPAN class="p">()</SPAN><SPAN class="n">kin</SPAN><SPAN class="o">=</SPAN><SPAN class="n">myParser</SPAN><SPAN class="o">.</SPAN><SPAN class="n">reaction_table</SPAN><SPAN class="p">()</SPAN><SPAN class="k">print</SPAN><SPAN class="p">(</SPAN><SPAN class="n">kin</SPAN><SPAN class="p">)</SPAN></PRE></DIV></DIV></DIV></DIV></DIV><DIV class="fourth-section"><DIV class="container"><DIV class="row"><DIV class="col-md-12 text-center"><H2>Still under construction</H2></DIV></DIV></DIV></DIV><FOOTER class="footer-distributed"><DIV class="footer-center"><DIV><P><SPAN>Route Cantonale</SPAN> Lausanne, Suisse</P></DIV><DIV><P><A href="mailto:iGEM2015dreamteam@groupes.epfl.ch">Contact us</A></P></DIV></DIV><DIV class="footer-right"><P class="footer-company-about"><SPAN>About us</SPAN>
                    Team of a dozen biotechnology students that will attempt to change the world
                </P></DIV></FOOTER></DIV></DIV></DIV></DIV></BODY></HTML>