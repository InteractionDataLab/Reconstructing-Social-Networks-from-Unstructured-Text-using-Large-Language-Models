<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Valencia_UPV_logocolor_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Valencia UPV/logocolor.js</SPAN></H1><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>$(document).ready(function(){
	var locked=false;
	var $logocolorButton=$(&quot;.logocolor-button&quot;)
		,$logocolorIcon=$(&quot;.logocolor-icon&quot;)
		,$logocolorIcon=$(&quot;.logocolor-icon&quot;)
		,$logocolorBg=$(&quot;.logocolor-bg&quot;)
		,$indicatorDots=$(&quot;.logocolor-button,.logocolor-indicator-dot&quot;)
	$logocolorButton.click(function(event) {
		logocolor();
	});
</P><P>	function setFilter(filter){
		$(&quot;.logocolor&quot;).css({
			webkitFilter:filter,
			mozFilter:filter,
			filter:filter,
		});
	}
	function setGoo(){
		setFilter(&quot;url(#goo)&quot;);
	}
	function setGooNoComp(){
		setFilter(&quot;url(#goo-no-comp)&quot;);
	}
</P><P>	function logocolor(){
		if(locked) return;
</P><P>		locked=true;
</P><P>		TweenMax.to($logocolorIcon,0.3,{
			x:100,
			y:-100,
			ease:Quad.easeIn,
			onComplete:function(){
				setGooNoComp();
				$logocolorIcon.css({
					display:&quot;none&quot;
				});
			}
		});
		TweenMax.to($logocolorButton,0.6,{
			scale:0.5,
			ease:Back.easeOut
		});
</P><P>		$indicatorDots.each(function(i){
			startCircleAnim($(this),50,0.1,1+(i*0.2),1.1+(i*0.3));
		})
</P><P>
		setTimeout(function(){
			// success anim start
			// close circle
			$indicatorDots.each(function(i){
				stopCircleAnim($(this),0.8+(i*0.1));
			});
			TweenMax.to($logocolorBg,0.7,{
				delay:.7,
				opacity:1
			})
</P><P>			// show icon
			setTimeout(function(){
				setGoo();
</P><P>				TweenMax.fromTo($logocolorIcon,1.5,{
					display:&quot;inline-block&quot;,
					opacity:0,
					scale:0.1
				},{
					scale:1,
					ease:Elastic.easeOut
				});
				TweenMax.to($logocolorIcon,0.5,{
					delay:0,
					opacity:1
				});
				TweenMax.to($logocolorButton,0.3,{
					scale:1,
					ease:Back.easeOut
				});
</P><P>				// back to normal
				setTimeout(function(){
					TweenMax.to($logocolorBg,0.4,{
						opacity:0
					});
					TweenMax.to($logocolorIcon,0.2,{
						opacity:0,
						onComplete:function(){
							locked=false;
							$logocolorIcon.css({
								display:&quot;none&quot;
							})
							TweenMax.fromTo($logocolorIcon,0.2,{
								display:&quot;inline-block&quot;,
								opacity:0,
								x:0,
								y:0
							},{
								opacity:1
							});
						}
					});
				},2000);
</P><P>			},1000);
</P><P>		},3000+(Math.random()*3000))
	}
	function setupCircle($obj){
		if(typeof($obj.data(&quot;circle&quot;))==&quot;undefined&quot;){
			$obj.data(&quot;circle&quot;,{radius:0,angle:0});
</P><P>			function updateCirclePos(){
				var circle=$obj.data(&quot;circle&quot;);
				TweenMax.set($obj,{
					x:Math.cos(circle.angle)*circle.radius,
					y:Math.sin(circle.angle)*circle.radius,
				})
				requestAnimationFrame(updateCirclePos);
			}
			updateCirclePos();
		}
	}
</P><P>	function startCircleAnim($obj,radius,delay,startDuration,loopDuration){
		setupCircle($obj);
		$obj.data(&quot;circle&quot;).radius=0;
		$obj.data(&quot;circle&quot;).angle=0;
		TweenMax.to($obj.data(&quot;circle&quot;),startDuration,{
			delay:delay,
			radius:radius,
			ease:Quad.easeInOut
		});
		TweenMax.to($obj.data(&quot;circle&quot;),loopDuration,{
			delay:delay,
			angle:Math.PI*2,
			ease:Linear.easeNone,
			repeat:-1
		});
	}
	function stopCircleAnim($obj,duration){
		TweenMax.to($obj.data(&quot;circle&quot;),duration,{
			radius:0,
			ease:Quad.easeInOut,
			onComplete:function(){
				TweenMax.killTweensOf($obj.data(&quot;circle&quot;));
			}
		});
	}
})
</P></DIV></DIV></DIV></DIV></BODY></HTML>