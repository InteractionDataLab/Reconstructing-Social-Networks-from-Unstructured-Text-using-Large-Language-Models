Team:Aix-Marseille/JS 2015/automatic slide
var $targetId;
var $target;
$(document).ready(automatic_slide);
$(window).resize(update_prop);
function automatic_slide() {   $('a[href*=#]').each(function()   {    if ( location.pathname.replace(/^\//,) == this.pathname.replace(/^\//,))    {      this.hash.replace(/#/,) $targetId = $(this.hash), $targetAnchor = $('[name="' + this.hash.slice(1) +'"]');      $target = $targetId.length ? $targetId : $targetAnchor.length ? $targetAnchor : false;      if ($target)      {     var targetOffset = $target.offset().top; console.log(targetOffset);      $(this).click(function()     {       $("#nav li a").removeClass("active");       $(this).addClass('active');       $('html, body').animate({scrollTop: targetOffset }, 1000);       return false;     });      }       }   });  }
function update_prop() {   $('a[href*=#]').unbind("click");
$('a[href*=#]').each(function()   {    if ( location.pathname.replace(/^\//,) == this.pathname.replace(/^\//,))    {      this.hash.replace(/#/,) $targetId = $(this.hash), $targetAnchor = $('[name="' + this.hash.slice(1) +'"]');      $target = $targetId.length ? $targetId : $targetAnchor.length ? $targetAnchor : false;
if ($target)      {        var targetOffset = $target.offset().top;     console.log(targetOffset);     $(this).click(function()     {       $("#nav li a").removeClass("active");       $(this).addClass('active');       $('html, body').animate({scrollTop: targetOffset}, 1000);       return false;     });      }      }   });  }
