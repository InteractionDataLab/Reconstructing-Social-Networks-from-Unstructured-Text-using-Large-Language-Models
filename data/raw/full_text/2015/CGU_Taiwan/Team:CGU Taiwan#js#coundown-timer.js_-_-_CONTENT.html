<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_CGU_Taiwan_js_coundown-timer_js skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:CGU Taiwan/js/coundown-timer.js</SPAN></H1><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>(function($) {
	$.fn.countdown = function(options, callback) {
</P><P>		//custom 'this' selector
		thisEl = $(this);
</P><P>		//array of custom settings
		var settings = { 
			'date': null,
			'format': null
		};
</P><P>		//append the settings array to options
		if(options) {
			$.extend(settings, options);
		}
</P><P>		//main countdown function
		function countdown_proc() {
</P><P>			eventDate = Date.parse(settings['date']) / 1000;
			currentDate = Math.floor($.now() / 1000);
</P><P>			if(eventDate &lt;= currentDate) {
				callback.call(this);
				clearInterval(interval);
			}
</P><P>			seconds = eventDate - currentDate;
</P><P>			days = Math.floor(seconds / (60 * 60 * 24)); //calculate the number of days
			seconds -= days * 60 * 60 * 24; //update the seconds variable with no. of days removed
</P><P>			hours = Math.floor(seconds / (60 * 60));
			seconds -= hours * 60 * 60; //update the seconds variable with no. of hours removed
</P><P>			minutes = Math.floor(seconds / 60);
			seconds -= minutes * 60; //update the seconds variable with no. of minutes removed
</P><P>			//conditional Ss
			if (days == 1) { thisEl.find(&quot;.timeRefDays&quot;).text(&quot;day&quot;); } else { thisEl.find(&quot;.timeRefDays&quot;).text(&quot;days&quot;); }
			if (hours == 1) { thisEl.find(&quot;.timeRefHours&quot;).text(&quot;hour&quot;); } else { thisEl.find(&quot;.timeRefHours&quot;).text(&quot;hours&quot;); }
			if (minutes == 1) { thisEl.find(&quot;.timeRefMinutes&quot;).text(&quot;minute&quot;); } else { thisEl.find(&quot;.timeRefMinutes&quot;).text(&quot;minutes&quot;); }
			if (seconds == 1) { thisEl.find(&quot;.timeRefSeconds&quot;).text(&quot;second&quot;); } else { thisEl.find(&quot;.timeRefSeconds&quot;).text(&quot;seconds&quot;); }
</P><P>			//logic for the two_digits ON setting
			if(settings['format'] == &quot;on&quot;) {
				days = (String(days).length &gt;= 2) ? days : &quot;0&quot; + days;
				hours = (String(hours).length &gt;= 2) ? hours : &quot;0&quot; + hours;
				minutes = (String(minutes).length &gt;= 2) ? minutes : &quot;0&quot; + minutes;
				seconds = (String(seconds).length &gt;= 2) ? seconds : &quot;0&quot; + seconds;
			}
</P><P>			//update the countdown's html values.
			if(!isNaN(eventDate)) {
				thisEl.find(&quot;.days&quot;).text(days);
				thisEl.find(&quot;.hours&quot;).text(hours);
				thisEl.find(&quot;.minutes&quot;).text(minutes);
				thisEl.find(&quot;.seconds&quot;).text(seconds);
			} else { 
				alert(&quot;Invalid date. Here's an example: 12 Tuesday 2012 17:30:00&quot;);
				clearInterval(interval); 
			}
		}
</P><P>		//run the function
		countdown_proc();
</P><P>		//loop the function
		interval = setInterval(countdown_proc, 1000);
</P><P>	}
}) (jQuery);
</P></DIV></DIV></DIV></DIV></BODY></HTML>