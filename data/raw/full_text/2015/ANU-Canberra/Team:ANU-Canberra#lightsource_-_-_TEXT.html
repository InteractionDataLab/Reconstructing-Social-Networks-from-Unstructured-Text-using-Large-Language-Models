Team:ANU-Canberra/lightsource
Home
Overview
Team
Project
Parts
Results
Outreach
Attributions
So you want to make a tunale blue lightsource?
The CRY2-CIB1 photoinducible system requires a blue light source of around 450 nm to function and a recent paper reports that this should be modulated by timed pulses on the order of 5 minutes. An appropriate circuit should incorporate variable light intensity and timer capabilities for both the on and off times.
Such a circuit may be controlled by the 555 integrated circuit (see below). The 555 packages up some useful components into a neat bundle and avoids having to assemble many separate parts. The 555 employs the use of two comparators (triangle shapes) and a flip-flip (rectangle). A comparator compares two voltages to give a digital output. Ideally, the comparator gives the output voltage 1 when the (+) voltage is greater than the (-) voltage and gives output 0 when (+)<(-). The comparator gives a method for measuring some threshold voltage level. The flip-flop is a type of switch with memory. When it receives voltage through the S (set), it provides a current to the Q output and will continue to do this even if the voltage to the S stops. If a current is then applied to the R (reset), the Q output will stop and stay this way even if the R voltage stops. This memory switch gives a method for opening and closing an external circuit using a small signal voltage.
Now we come to the exciting part! How to combine these bizzare objects within the 555 to actually create some form of timer circuit? Well it is necessary to include some kind of object that takes time to complete a task and at the end, measures a different voltage to when it started that task, which we can convert into a digital output with the comparators and switch a circuit with the flip-flop. The object in mind is a capacitor! A capacitor has the ability to store a charge, but when a voltage is applied to the capacitor, it takes time to build up that charge, time which we can exploit to give a periodicity to our circuit. Luckily, the capacitor measures a low voltage when it is initially charging and exponentially converges towards the applied voltage, thus by connecting the capacitor to a comparator with a lower reference voltage, it is possible to give a 0 output when the capacitor has no charge, and a 1 output when the capacitor is fully charged. We then connect the other comparator with opposite polarity so we can set and reset the flip-flop when the capacitor is high and low voltage respectively.
The following circuit achieves the desired connections to between the pins of the 555 so that when the capacitor is low, the trigger and threshold are also low, causing the flip-flop to set and the Q output to go high. This simultaneously causes the output circuit to be driven, begins charging the capacitor and closes the discharge switch. Then there is a delay where nothing happens as the capacitor charges (time1). When the capacitor is charged the two comparators switch, causing the flip-flop to reset and the Q output to go low, cutting the external output circuit and opening the discharge switch. Then there is a second delay as the capacitor is discharging (time2). Then the capacitor has completely discharged, the comparators switch again and the process repeats. This circuit is known as astable as the cycle will repeat indefinitely.
The above circuit can be seen to contain two resistors RA and RB and one main capacitor C. Upon closer analysis, it is revealed that the capacitor charges via both resistors RA+RB but discharges through only capacitor RB. The resistor restricts the flow of current meaning that the capacitor takes always takes longer to charge than it does to discharge. Furthermore the capacitance of C affects both the time to charge and to discharge. This gives rise to the following proportionalities:
High time (time1) ∝ C*RA*RB
Low time (time2) ∝ C*RB
By changing the capacitance and installing two variable resistors for RA and RB, the high and low periodic times for the output voltage can be varied continuously allowing an adjustable system. It was found that a capacitance of 1000 uF with two 100K Ohm variable resistors gave rise to favourable frequencies of around 2 minutes.
The circuit has a limitation in that the high time is always longer than the low time, even for minimum values of RB. In the case that the inverse situation is desired, a relay was incorporated into the circuit which allowed the 555 to switch an external circuit off when the 555 output was high. The presence of the relay also isolates the 555 circuit from the external circuit, preventing larger currents from damaging the 555.
Finally, all that is left to do is connect an array of blue LEDs in series with another variable resistor to give a functioning timer circuit (see the final construction below).
If the circuit were to be reconstructed, a better method to vary the intensity of the LED light source than the use of a potentiometer would be to use a PWM (Pulse Width Modulation) circuit. This is essentially an additional 555 timer circuit connected to the load with a very fast frequency such that the output voltage is modulated to be either on or off in rapid succession achieving a lower average apparent voltage. This method prevents the use of a lossy potentiometer and allows the LEDs to function at their efficient voltage.
