<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_USTC-Software_Collaborations skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:USTC-Software/Collaborations</SPAN></H1><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><UL><LI><A href="/Team:USTC-Software" title="Team:USTC-Software">Home</A></LI><LI><A href="/Team:USTC-Software/Description" title="Team:USTC-Software/Description">Project</A></LI><LI><A href="/Team:USTC-Software/Description" title="Team:USTC-Software/Description">Description</A></LI><LI><A href="/Team:USTC-Software/Results" title="Team:USTC-Software/Results">Demo</A></LI><LI><A href="/Team:USTC-Software/Results#Future_Work" title="Team:USTC-Software/Results">Future Work</A></LI><LI><A href="/Team:USTC-Software/Results#Validation" title="Team:USTC-Software/Results">Validation</A></LI></UL><LI><A href="/Team:USTC-Software/Team" title="Team:USTC-Software/Team">Team</A></LI><LI><A href="/Team:USTC-Software/Team#Members" title="Team:USTC-Software/Team">Team Members</A></LI><LI><A href="/Team:USTC-Software/Team#Instructors" title="Team:USTC-Software/Team">Instructors</A></LI><LI><A href="/Team:USTC-Software/Software" title="Team:USTC-Software/Software">Technology</A></LI><LI><A href="/Team:USTC-Software/Software#Front_End" title="Team:USTC-Software/Software">Front End</A></LI><LI><A href="/Team:USTC-Software/Software#Back_End" title="Team:USTC-Software/Software">Back End</A></LI><LI><A href="/Team:USTC-Software/Software#Algorithms" title="Team:USTC-Software/Software">Algorithms</A></LI><LI><A href="/Team:USTC-Software/Modeling" title="Team:USTC-Software/Modeling">Modeling</A></LI><LI><A href="/Team:USTC-Software/Notebook" title="Team:USTC-Software/Notebook">Notebook</A></LI><LI><A href="/Team:USTC-Software/Medal" title="Team:USTC-Software/Medal">Requirements</A></LI><LI><A href="/Team:USTC-Software/Medal" title="Team:USTC-Software/Medal">Medal</A></LI><LI><A href="/Team:USTC-Software/Safety" title="Team:USTC-Software/Safety">Safety</A></LI><LI><STRONG class="selflink">Collaborations</STRONG></LI><LI><A href="/Team:USTC-Software/Practices" title="Team:USTC-Software/Practices">Human Practices</A></LI><LI><A href="/Team:USTC-Software/Practices#Technological_Activity_Week" title="Team:USTC-Software/Practices">Technological Activity Week</A></LI><LI><A href="/Team:USTC-Software/Practices#Meetups" title="Team:USTC-Software/Practices">Meetups</A></LI><LI><A href="/Team:USTC-Software/Attributions" title="Team:USTC-Software/Attributions">Attributions</A></LI><LI><A href="/Team:USTC-Software/Attributions#Support" title="Team:USTC-Software/Attributions">Support</A></LI><LI><A href="/Team:USTC-Software/Attributions#iGEM_HQ" title="Team:USTC-Software/Attributions">iGEM HQ</A></LI><LI><A href="/Team:USTC-Software/Attributions#Fund" title="Team:USTC-Software/Attributions">Fund</A></LI><LI><A href="/Team:USTC-Software/Attributions#Database" title="Team:USTC-Software/Attributions">Database</A></LI><DIV id="main"><H2><A id="project_description">Project Description</A></H2><P>
				In Software Track’s requirements of Gold Medal, we noticed that we should address a problem that we would like to co-develop with a wet-lab team. That’s to say, this should be a collaboration where the wet-lab team posts a problem they are having and we should address the issue by creating an online software solution.
			</P><P>
				This year, 2015 USTC team selected Hardware Track. In their project, they try to send their knights composed of CACCI, SPRING and ROSE to detect those molecules which mean many antibiotic substances emitted directly into environment and endangered in human being’s health. (You could get more information about their project from <A href="https://2015.igem.org/Team:USTC">here</A>.) In detail, SPRING, as a partner of CACCI, is responsible for taking photos by Michelson Interferometer and analyzing the data from the photos, especially getting the physical quantity from the fringes produced by the interferometer. 
			</P><H2><A id="achievement">Achievement</A></H2><P>
		  		When the wet-lab team provides a picture took by CCD based on Michelson Interferometer, we could analyze fringes number and distance between two points selected by user, in the meanwhile, we also could assure the fringe series of the initial point.
		  	</P><P><B>Website for our software tool:</B><A href="https://fringe.herokuapp.com">fringe.herokuapp.com.</A><B>How to use:</B><A href="/wiki/images/4/49/USTC-Software-FringeDetection.pdf
">here</A>.
		  	</P><H2><A id="techniques">Techniques</A></H2><H3><A id="image_processing">Image Processing</A></H3><P>Denoise the grayscale:</P><UL><LI>Choose an appropriate Gauss radius, and use Gauss filter to remove high-frequency noise.</LI><LI>Strengthen the fringes. Pixels of fringes are black, other pixels are white.</LI><LI>Remove more noise by the connectivity of pixels. We examine the 8 pixels surrounding a pixel, and we change this pixel into black if 4 or more of 8 are black. In this way, we can reduce black noise and avoid errors in calculation.</LI></UL><H3><A id="fringe_counting">Fringe Counting</A></H3><UL><LI>Get the line’s function by the coordinates of starting pixel and ending pixel.</LI><LI>List all pixels that the line crosses.</LI><LI>Set fringe threshold and non-fringe threshold and read the coordinates of pixels in 2.We regard it as a fringe if the number of continuous black pixels is larger than threshold and not a fringe if else. Each change from black to white represents a fringe.</LI></UL><P>Hence, we get the fringe number.</P><H3><A id="fringe_spacing">Fringe Spacing</A></H3><UL><LI><P>Store the fringes as undirected graph: By travelling all elements in the matrix, we add a edge in the graph for all fringe (represented as 0)</P><P>For example, a matrix like this:</P><P>$$
		   		\begin{pmatrix}
		   		0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\ 
		   		0 &amp; 0 &amp; 1 &amp; 1 &amp; 1 \\ 
		   		1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 
		   		1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 
		   		1 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\ 
		   		\end{pmatrix} 
		   		$$ </P><P>We can obtain the table of edges:</P><P>
		   			$$ 
		   			\begin{bmatrix} 
		   			((4,0),(4,1)) \\ 
		   			((2,1),(3,1)) \\ 
		   			((3,1),(4,1)) \\ 
		   			((0,2),(0,3)) \\ 
		   			((0,3),(0,4)) \\ 
		   			((0,4),(1,4)) \\ 
		   			\end{bmatrix} 
		   			$$ </P></LI><LI>Do the depth-first-search for the users’ input ending pixel: We obtain the DFS spanning tree, which records the fringe the ending pixel is in.</LI><LI>Calculate the distance of consecutive pixels in the fringe that users choose by the starting and ending pixels to obtain the fringe order: Users choose a pixel, and we find the corresponding fringe, then calculate the distance of these pixels. We set the minimum distance as the fringe spacing.</LI></UL><H3><A id="fringe_order">Fringe Order</A></H3><P>
		   	We suppose the fringes are concentric circles by the theory in optics(Team USTC used Michelson Interferometer in the SPRING hardware).Meanwhile, the relationship of fringe order and fringe radius is as follows:
		   </P><P>$$r=\alpha\sqrt{n}$$</P><P>
		   $r$ is the fringe radius, $n$ is the fringe order, and $\alpha$ is a constant set by users.By this equation, we can get the fringe order from the fringe radius.In the experiment of Team USTC, the relationship is $\alpha=\sqrt{\frac{\lambda r^2}{2h}}$,where $\lambda$ is the wavelength of laser, $r$ is half the thickness of thin-film, and $h$ is the distance from film moved by bacterium to the film’s original place.
		   </P><P>
		   	Now, we derive uncertainty formula: supposed that the first point's fringe series which users select is $n$, the fringe radius is $r_n$, the second point's fringe series which users select is $m$, the fringe radius is $r_m$. Besides, we notate $c=\alpha^2$. So, we get this:
		   </P><P>$$
			\begin{align}
			r^2_n &amp;=cn \\
			r^2_m&amp;=cm \\
			m-n&amp;=\delta_n \\
			r_m-r_n &amp;=\delta_d 
			\end{align}
			$$ </P><P>Solve the equation group:</P><P>$$r_n=\frac{c\delta_n-(\delta d)^2}{2\delta_d}$$</P><P>So, we get n is:</P><P>\begin{aligned}
			n &amp; =\frac{r_n^2}{c} \\&amp; = \frac{1}{c}\cdot\frac{[c\delta_n-(\delta_d)^2]^2}{4(\delta_d)^2} \\&amp; = \frac{c}{4}(\frac{\delta_n}{\delta_d})^2+\frac{1}{4c}(\delta_d)^2-\frac{\delta_n}{2}
			\end{aligned}
		   </P><P>with uncertainty transfer formula, we would get:</P><P>\begin{aligned}
			U_n &amp; =\frac{c}{4}[2\frac{\delta_n}{\delta_d}\cdot\frac{1}{\delta_d}U_{\delta_n}+2\frac{\delta_n}{\delta_d}\cdot\delta_n\cdot(-\frac{1}{\delta^2_d})\cdot U_{\delta_d}] \\&amp; = \frac{c}{2}\cdot\frac{\delta_n}{\delta_d}(\frac{U_{\delta_n}}{\delta_d}-\frac{\delta_n\cdot U_{\delta_d}}{\delta^2_d})+\frac{1}{2c}\cdot\delta_d\cdot U_{\delta_d}-\frac{1}{2}U_{\delta_n} \\&amp; = \frac{1}{2}(\frac{c\delta_n}{\delta^2_d}-1)U_{\delta_n}+(\frac{\delta_d}{2c}-\frac{c}{2}\cdot\frac{\delta^2_n}{\delta^3_d})U_{\delta_d} 
			\end{aligned}
		   </P><P>Furthermore, we display a more graceful style:</P><P>$$
			\begin{align}
			\frac{U_n}{n}=\frac{2c\delta_n}{c\delta_n-\delta^2_d}\cdot\frac{U_{\delta_n}}{\delta_n}+\frac{2(c\delta_n+\delta_d^2)}{c\delta_n-\delta_d^2}\cdot\frac{U_{\delta_d}}{\delta_d}
			\end{align}
			$$
		   </P><P>For more derivation, we suppose that the distance between any fringes is a constant because the density of fringes is enough. So, we would get:</P><P>$$\delta_d\approx\Delta d\cdot\delta_n$$</P><P>In the formula, $\Delta d$is the distance between fringes. Continuly, we would get:</P><P>$$
			\begin{align}
			\delta_d^2 &amp; =(\Delta d\cdot\delta_n)^2 \\&amp; = c\delta^2_n\cdot(\sqrt{n+1}-\sqrt{n})^2 \\
			\end{align} 
			$$
		   </P><P>Because the density of fringes is enough, the value of $n$ would be large. As a result, we could get $\sqrt{n+1}\approx\sqrt{n}$, so, the $(7)$ means:</P><P>$$\delta_d^2\lt\lt c\delta_n$$</P><P>So, we could simpilfy the $(5)$ and we could get:</P><P>$$\frac{U_n}{n}=2\cdot\frac{U_{\delta_n}}{\delta_n}+2\cdot\frac{U_{\delta_d}}{\delta_d}$$</P><P>Based on The Most Uncertainty and The Average of Principle of Uncertainty, if we want to $\frac{U_n}{n}\le 5\%$, we would assure that $2\cdot\frac{U_{\delta_n}}{\delta_n}\le 2.5\%$ and $2\cdot\frac{U_{\delta_d}}{\delta_d}\le 2.5\%$, that's to say:</P><P>$$
			\begin{align}
			U_{\delta_n}\le 2\cdot2.5\%\delta_n \\
			U_{\delta_d}\le 2\cdot2.5\%\delta_d \\
			\end{align}
			$$
		   </P><P>In terms of our testing picture, the value of $\delta_n$ is $50$, so the value of $U_{\delta_n}$ is $0.625$, and the error of our program is $0\%$. The value of $\delta_d$ is $791$ pixels, and the value of $U_{\delta_d}$ is $20$ pixels, and the error of our program is $4$ pixels. (You could check the example in <A href="/wiki/images/4/49/USTC-Software-FringeDetection.pdf
">here</A>.)</P></DIV><FOOTER id="attr"><P id="ustc_address">
        University of Science and Technology of China
        No.96, Jinzhai Road, Hefei, Anhui, P.R.China
        USTC-Software 2015
    </P><P id="ustc">
        University of Science and Technology of China
    </P><P id="copyright">©2015 USTC-Software, University of Science and Technology of China. All rights reserved.
    </P><DIV id="contact"><P>We are here for you</P></DIV><DIV id="sponseror"><P>Sponsered by</P></DIV></FOOTER></DIV></DIV></DIV></DIV></BODY></HTML>