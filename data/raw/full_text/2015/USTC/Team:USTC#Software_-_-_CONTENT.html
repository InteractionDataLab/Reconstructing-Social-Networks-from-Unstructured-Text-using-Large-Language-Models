<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_USTC_Software skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:USTC/Software</SPAN></H1><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><DIV class="navbar"><NAV class="blue darken-4"><DIV class="nav-wrapper hoverable" style="z-index:2"><DIV id="nav-mobile" class="right hide-on-med-and-down"><H4 class="header white-text lighten-5" style="padding-right:4px;">Nanomachine Detecting Microbiotics </H4></DIV></DIV></NAV></DIV><DIV class="Nav2nd row white z-depth-1"><DIV class="Nav1th col s2 blue darken-3"><A class="dropdown-button btn white-text" data-beloworigin="true" data-hover="true" href="#!" data-activates="Nav-dropdown">Software<I class="material-icons">arrow_drop_down</I></A></DIV><DIV class="col s10" style="z-index:2;"><UL class="tabs tabs-wrapper transparent"><LI class="tab col s2"><A href="#Overview" class="blue-text active waves-effect waves-light">Overview</A></LI><LI class="tab col s2"><A href="#fringes-analysis" class="blue-text active waves-effect waves-light">Fringes Analysis</A></LI><LI class="tab col s2"><A href="#adhesion-dynamics" class="blue-text active waves-effect waves-light">Adhesion Dynamics</A></LI><LI class="tab col s2"><A href="#rose-dynamics" class="blue-text active waves-effect waves-light">ROSE Dynamics</A></LI></UL></DIV></DIV><UL id="Nav-dropdown" class="dropdown-content"><LI><A href="https://2015.igem.org/Team:USTC" class="waves-effect waves-light">Home</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Description" class="waves-effect waves-light">Project</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Modeling" class="waves-effect waves-light">Modeling</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Results" class="waves-effect waves-light">Results</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Achievements" class="waves-effect waves-light">Achivements</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Measurement" class="waves-effect waves-light">Measurement</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Software" class="waves-effect waves-light">Software</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Parts" class="waves-effect waves-light">Parts</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Tutorials" class="waves-effect waves-light">Tutorials</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Notebook" class="waves-effect waves-light">NoteBook</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Safety" class="waves-effect waves-light">Safety</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Practices" class="waves-effect waves-light">Policy&amp;Practices</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Team" class="waves-effect waves-light">Team</A></LI><LI><A href="https://2015.igem.org/Team:USTC/Attributions" class="waves-effect waves-light">Attributions</A></LI></UL><DIV class="row"><DIV class="col offset-m1 offset-l2 s12 m10 l8"><DIV id="Overview" class="row"><DIV class="card hoverable"><DIV class="col s12 m9"><DIV class="card-content"><P>In this section, we will introduce all the software program we used when processing our
                            modeling and experimental data. Through our modeling, many complicated processdures are
                            simply omitted by our convenient programs.</P><P>In general, our software programs are used in several sections,</P><UL><LI><STRONG>Fringes Analysis</STRONG>, analysis of interference pattern.</LI><LI><STRONG>Adhesion Dynamics</STRONG>, a series of programs relating to bacteria adhesion
                                dynamics.
                            </LI><LI><STRONG>Rose Prediction</STRONG>, which calculate the advantages of our ROSE
                                improvement.
                            </LI></UL><P>All software of our project, you can download them at <A href="https://github.com/Cintau/2015USTCiGEM" target="_blank">Github:2015USTCiGEM</A>.
                            All codes are based on </P></DIV></DIV></DIV></DIV><DIV id="fringes-analysis" class="row"><DIV class="card hoverable"><DIV class="col s12 m9"><DIV class="card-content"><H4 id="Fringes-Pattern-Simulation-Film-I" class="scrollspy">Fringes Pattern Simulation-Film
                            I</H4><P>This program is used to simulate fringes pattern deliverd by film I.</P><P>Code:</P><DIV><TEXTAREA id="code" name="code">function drawndh(r,h,t,n) %r is radius of film，h is the distance of deformation，t is the drift angle of film，n is pixel number
wl=6.5e-7; %wave length
R=r.^2/(2*h);
[x,y]=meshgrid(linspace(-0.004,0.004,n),linspace(-0.004,0.004,n));
r2=x.^2+y.^2;
delta=pi*r2/(R*wl)-2*pi*y*sin(t)/wl;
I=abs(sin(delta).^2);
imshow(I);
end
</TEXTAREA></DIV><P>Demo</P><P>After the formation of demo, we are able to recongize the real situation in our
                            pre-experiment.</P><H4 id="Fringes-Pattern-Simulation-Film-II" class="scrollspy">Fringes Pattern Simulation-Film
                            II</H4><P>This program is used to simulate fringes pattern deliverd by film II.</P><P>Code</P><DIV><TEXTAREA id="code1" name="code">function drawfr(a,b,h,n)%a is the angle between film and x axis, b is the angle between film and y axis, h is the distance of film deformation, n is the pixel number
[X,Y]=meshgrid(linspace(-0.003,0.003,n),linspace(-0.003,0.003,n));
wl=6.5e-7;
L=2*(X.*tan(0.01)+Y.*tan(0.01));
delta=2*pi*L/wl;
I=1+cos(delta);
imshow(I)
end
</TEXTAREA></DIV><P>Demo</P><H4 id="Film I Fringes Analysis" class="scrollspy">Film I Fringes Analysis</H4><P>Using this code, we are able to capture some important parameters in Film I.</P><P>Code</P><DIV><TEXTAREA id="code2" name="code">function ms3=solvendh(X,nx,ny,n,dx,dy)%nx is the number of fringes on x axis,ny is the number of fringes on y axis,n is the number of fringes on diag,dx is the x length of CCD,dx is the x length of CCD.
x=X(1);
y=X(2);
z=X(3);
l=1.2e-4;
ms3(1)=(2*(z+nx)*l)^0.5-(2*z*l)^0.5-((x+dx)^2+y^2)^0.5+(x^2+y^2)^0.5;
ms3(2)=(2*(z+ny)*l)^0.5-(2*z*l)^0.5-(x^2+(y+dy)^2)^0.5+(x^2+y^2)^0.5;
ms3(3)=(2*(z+n)*l)^0.5-(2*z*l)^0.5-((x+dx)^2+(y+dy)^2)^0.5+(x^2+y^2)^0.5;
</TEXTAREA></DIV><P>Demo</P><H4 id="Film-II-Fringes-Analysis-Fringes-number-analysis" class="scrollspy">Film II Fringes
                            Analysis-Fringes number analysis</H4><P>This is the final program used to get our NDM calibration. Based on this software program, we
                            are able to count the number of bright fringes. As a matter of fact, the variation of bright
                            fringes is the key breakthrough to antibiotic analysis.</P><P>Code</P><DIV><TEXTAREA id="code3" name="code">function seeim(i)
name=num2str(i);
I=imread(name,'pnm');
G=rgb2gray(I);
imshow(G);
</TEXTAREA></DIV><P>Demo</P><DIV><TEXTAREA id="code4" name="code">function A=getfr(i)
name=num2str(i);
I=imread(name,'pnm');
G=rgb2gray(I);
G1=medfilt2(G);
[x,y]=size(G1);
r=zeros(x,1);
for m=1:20
    p=G1(:,x-m+1);
    p=double(p);
    r=r+p;
end
[a,b]=size(r);
for m=1:b-1
    r(m,1)=(r(m-1,1)+r(m,1)+r(m+1,1));
end
A=r;
</TEXTAREA></DIV><DIV><TEXTAREA id="code5" name="code">function M=getfrs(i)
A=getfr(i);
t=1:480;
[pksa,locsa]=findpeaks(A,'minpeakdistance',3);plot(t,A,'b',locsa,pksa,'bo');
[a,k]=size(pksa);
M=a;
</TEXTAREA></DIV><P>Running resultans = 78</P><P>To get a series of results, this program is required.</P><DIV><TEXTAREA id="code6" name="code">function N=getpkss(i,j)
B=zeros(j-i+1,1);
for m=i:j
    A=getfr(m);
    [pksa,locsa]=findpeaks(A,'minpeakdistance',3);
    [a,k]=size(pksa);
    B(m-i+1,1)=a;
end
N=B;
</TEXTAREA></DIV><P>Demo</P><P>ans =</P><DIV><TEXTAREA id="code7" name="code">78
80
77
76
75
79
81
80
75
80
82
82
81
78
79
82
81
81
83
81
79
</TEXTAREA></DIV></DIV></DIV><DIV class="col hide-on-small-only m3"><DIV class="toc-wrapper pinned"><UL class="section table-of-contents"><LI><A href="#Fringes-Pattern-Simulation-Film-I">Fringes Pattern Simulation-Film I</A></LI><LI><A href="#Fringes-Pattern-Simulation-Film-II">Fringes Pattern Simulation-Film II</A></LI><LI><A href="#Film-I-Fringes-Analysis">Film I Fringes Analysis</A></LI><LI><A href="#Film-II-Fringes-Analysis-Fringes-number-analysis">Film II Fringes
                                    Analysis-Fringes
                                    number analysis</A></LI></UL></DIV></DIV></DIV></DIV><DIV id="adhesion-dynamics" class="row"><DIV class="card hoverable"><DIV class="col s12 m9"><DIV class="card-content"><P>During analysis of ahdesion assay results, we are quite annoyed about counting total bacteria
                            number and moving bacteria number, which is really important for mechanism analysis and
                            results
                            determination. Consequently, this part explains how we efficiently accomplished these tough
                            work
                            based on our software.</P><H4 id="Bacteria-counting-program" class="scrollspy">Bacteria counting program</H4><P>This program is used to count the total number of bacteria.</P><P>Code</P><DIV><TEXTAREA id="code8" name="code">function a=shujun(i)
name=num2str(i);
I=imread(name,'jpg');
L=graythresh(I);%get the self-adapting threshold
G=im2bw(I,0.3);%image binaryzation with special threshold
W1=~G;
W2=bwmorph(W1,'majority',20);%mathematical morphology operations
W3=medfilt2(W2,[10,10]);%filtering
W4=bwareaopen(W3,40);%delete small area to reduce error noises
[labeled,num]=bwlabel(W4,4);%counting number of objects
a=num;
end
</TEXTAREA></DIV><P>Demo</P><P>input image:output resultans = 865
                        </P><DIV><TEXTAREA id="code13" name="code">function A=mulshu(m)
A=zeros(m,1);
for i=1:m
    A(i,1)=shujun(i);
end
</TEXTAREA></DIV><H4 id="Moving-Bacteria-Counting-Program" class="scrollspy">Moving Bacteria Counting
                            Program</H4><P>This program is used to count the total number of moving bacteria. Along with bacterial
                            counting
                            program, we finally got the mechanism of polylysine interaction.</P><P>Code</P><DIV><TEXTAREA id="code9" name="code">function b=act(m,n)
s1=num2str(m);
s2=num2str(n);
I1=imread(s1,'jpg');
I2=imread(s2,'jpg');
G=I1-I2;
b=shujun(G);
end
</TEXTAREA></DIV><DIV><TEXTAREA id="code14" name="code">function A=mulact(m)
A=zeros(m,1);
for i=1:m
    name1=num2str(i);
    name2=num2str(i+1);
    I1=imread(name1,'jpg');
    I2=imread(name2,'jpg');
    c=act(I1,I2);
    A(i,1)=c;
end
</TEXTAREA></DIV><P>Demo</P><P>ans = 405 </P><H4 id="Bacteria-total-number-time-curve" class="scrollspy">Bacteria total number-time
                            curve</H4><P>Coding</P><DIV><TEXTAREA id="code10" name="code">function drawBT1(Ka,Kd,C,Vz,sigma0)%Ka is the adhesive rate of bacteria, Kd is the drop rate of bacteria, C is the density of bacteria solution,Vz is the velocity of bacteria,sigma0 is the maximum density of baacteria on surface
t=linspace(0,100,101);
K=Ka*C*Vz/(Kd*sigma0+Ka*C*Vz);
sigma=K*sigma0*(1-exp(-Ka*C*Vz*t/(K*sigma0));
plot(t,sigma)
end
</TEXTAREA></DIV><P>Running result</P><H4 id="Bacteria-movement-number-Time-curve" class="scrollspy">Bacteria movement number-Time
                            curve</H4><P>Coding</P><DIV><TEXTAREA id="code11" name="code">function drawBMT(c,b,m0,k)
t=linspace(0,100,101);
M=c*(1-exp(-b*t))*m0.*exp(-k*t);
plot(t,M)
xlabel('Time(s)');
ylabel('Movement bacteria number');
title('PAO1-PLL-0 Movement number-time');
end
</TEXTAREA></DIV><P>Running result</P></DIV></DIV><DIV class="col hide-on-small-only m3"><DIV class="toc-wrapper pinned"><UL class="section table-of-contents"><LI><A href="#Bacteria-counting-program">Bacteria Counting Program</A></LI><LI><A href="#Moving-Bacteria-Counting-Program">Moving Bacteria Counting Program</A></LI><LI><A href="#Bacteria-total-number-time-curve">Bacteria Total Number-Time Curve</A></LI><LI><A href="#Bacteria-movement-number-Time-curve">Bacteria Movement Number-Time Curve</A></LI></UL></DIV></DIV></DIV></DIV><DIV id="rose-dynamics" class="row"><DIV class="card hoverable"><DIV class="col s12 m9"><DIV class="card-content"><P>This program is used to predict the advantages of ROSE construction. We successfully
                            demonstrate our
                            ROSE will be able to amplify fluorescence siganl.</P><P>Code</P><DIV><TEXTAREA id="code12" name="code">clear all
R=R,k=k,k1=k1,k2=k2,k3=k3,k4=k4,k5=k5,k6=k6,k7=k7,k0=k0; %define the constant
t=linspace(0,10); %detecting time range
F=k1*S;
A=k*dsolve('Dx=k2*F','x(0)=0','t');
RA=k3*R*A;
X=k4*RA;
Cl=dsolve('Dx=k5*X','x(0)=0','t');
lambda=1-k6*cl;
t0=fzero(lambda,t); %find the zero point of lambda
if lambda&gt;=0
    G=dsolve('Dx=k7*lambda','x(0)=0','t');
else
    Gm=G(t0);
end
%finish the equation solving step
plot(G,t); %print the G-t picture
hold on
plot(k0*t,t); %print the traditional strategy result in the same image
</TEXTAREA></DIV><P>Demo</P></DIV></DIV></DIV></DIV></DIV></DIV><DIV class="fixed-action-btn" style="bottom: 45px; right: 24px;"><A class="btn-floating btn-large amber darken-1 waves-effect waves-light" onclick="$('html, body').animate({scrollTop:0}, 'slow');"><I class="material-icons">publish</I></A><UL><LI><A class="btn-floating green waves-effect waves-light" style="transform: scaleY(0.4) scaleX(0.4) translateY(40px); opacity: 0;" onclick="location.reload();"><I class="material-icons">refresh</I></A></LI></UL></DIV><FOOTER class="page-footer grey darken-1" style="padding-top: 0px;"><DIV class="container"><DIV class="row" style="margin-bottom:0px;"><DIV class="col s8"><H5 class="white-text">Contact Us</H5><P class="grey-text text-lighten-4">University of Science and Technology of China, No.96, JinZhai Road Baohe District,Hefei,Anhui, 230026,P.R.China.</P></DIV><DIV class="col s4"><H5 class="white-text">Links</H5></DIV></DIV></DIV></FOOTER></DIV></DIV></DIV></DIV></BODY></HTML>