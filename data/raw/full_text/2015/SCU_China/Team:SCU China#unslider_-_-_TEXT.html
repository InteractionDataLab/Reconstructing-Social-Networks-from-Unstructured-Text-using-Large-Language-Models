Team:SCU China/unslider
!function(t,e){var i=function(){function i(e,i){"dot"==e?(i='
',t.each(n.li,function(t){i+='
'+ ++t+"
"}),i+="
"):(i='
'+i+e+' prev">'+n.o.prev+"
"+i+e+' next">'+n.o.next+"</div></div>"),n.el.addClass("has-"+e+"s").append(i).find("."+e).click(function(){var e=t(this);e.hasClass("dot")?n.stop().to(e.index()):e.hasClass("prev")?n.prev():n.next()})}var n=this;n.o={speed:500,delay:3e3,init:0,pause:!e,loop:!e,keys:e,dots:e,arrows:e,prev:"←",next:"→",fluid:e,starting:e,complete:e,items:">ul",item:">li",easing:"swing",autoplay:!0},n.init=function(e,o){n.o=t.extend(n.o,o),n.el=e,n.ul=e.find(n.o.items),n.max=[0|e.outerWidth(),0|e.outerHeight()],n.li=n.ul.find(n.o.item).each(function(e){var i=t(this),o=i.outerWidth(),s=i.outerHeight();o>n.max[0]&&(n.max[0]=o),s>n.max[1]&&(n.max[1]=s)});var o=n.o,s=n.ul,a=n.li,r=a.length;return n.i=0,e.css({width:n.max[0],height:a.first().outerHeight(),overflow:"hidden"}),s.css({position:"relative",left:0,width:100*r+"%"}),a.css({"float":"left",width:n.max[0]+"px"}),o.autoplay&&setTimeout(function(){0|o.delay&&(n.play(),o.pause&&e.on("mouseover mouseout",function(t){n.stop(),"mouseout"==t.type&&n.play()}))},0|o.init),o.keys&&t(document).keydown(function(t){var e=t.which;37==e?n.prev():39==e?n.next():27==e&&n.stop()}),o.dots&&i("dot"),o.arrows&&i("arrow"),o.fluid&&t(window).resize(function(){n.r&&clearTimeout(n.r),n.r=setTimeout(function(){var t={height:a.eq(n.i).outerHeight()},i=e.outerWidth();s.css(t),t.width=Math.min(Math.round(i/e.parent().width()*100),100)+"%",e.css(t)},50)}).resize(),(t.event.special.swipe||t.Event("swipe"))&&e.on("swipeleft swiperight swipeLeft swipeRight",function(t){"swipeleft"==t.type.toLowerCase()?n.next():n.prev()}),n},n.to=function(i,o){n.t&&(n.stop(),n.play());var s=n.o,a=n.el,r=n.ul,l=n.li,u=n.i,c=l.eq(i);if(t.isFunction(s.starting)&&!o&&s.starting(a,l.eq(u)),c.length&&!(0>i)||s.loop!=e){c.length||(i=0),0>i&&(i=l.length-1),c=l.eq(i);var d=o?5:0|s.speed,p=s.easing,h={height:c.outerHeight()};r.queue("fx").length||(a.find(".dot").eq(i).addClass("active").siblings().removeClass("active"),a.animate(h,d,p)&&r.animate(t.extend({left:"-"+i+"00%"},h),d,p,function(e){n.i=i,t.isFunction(s.complete)&&!o&&s.complete(a,c)}))}},n.play=function(){n.t=setInterval(function(){n.to(n.i+1)},0|n.o.delay)},n.stop=function(){return n.t=clearInterval(n.t),n},n.next=function(){return n.stop().to(n.i+1)},n.prev=function(){return n.stop().to(n.i-1)}};t.fn.unslider=function(e){var n=this.length;return this.each(function(o){var s=t(this),a="unslider"+(n>1?"-"+ ++o:""),r=(new i).init(s,e);s.data(a,r).data("key",a)})},i.version="1.0.0"}(jQuery,!1);
