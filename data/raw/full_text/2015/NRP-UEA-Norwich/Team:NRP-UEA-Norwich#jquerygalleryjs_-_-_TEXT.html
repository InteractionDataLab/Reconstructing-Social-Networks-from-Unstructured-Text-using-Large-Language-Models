Team:NRP-UEA-Norwich/jquerygalleryjs
$(document).ready(function() {
var $currentImageLink;    $('.images a').click(function(event){        event.preventDefault();        $currentImageLink = $(this);        $('.backdrop').animate({'opacity':'0'}, 300, 'linear');        $('.box').animate({'opacity' : '1.00'}, 300, 'linear');        $('.selectors').animate({'opacity' : '1.00'}, 300, 'linear');        $('.box, .selectors, .backdrop').css('display', 'block');        $('.box').html('<img class="boximg" src="' + $(this).attr('href') + '">');        boxsize();    });
$('.nextimg').click(function() {        $currentImageLink = $currentImageLink.next('a');        if (0 == $currentImageLink.length) {            $currentImageLink = $('.images a:first-child');        }        $('.box').html('<img class="boximg" src="' + $currentImageLink.attr('href') + '">');        $('.boximg').css('display', 'none');        $('.boximg').css('display', 'none').delay(125).fadeIn("slow");    });
$('.previmg').click(function() {        $currentImageLink = $currentImageLink.prev('a');        if (0 == $currentImageLink.length) {            $currentImageLink = $('.images a:last-child');        }        $('.box').html('<img class="boximg" src="' + $currentImageLink.attr('href') +'">');        $('.boximg').css('display', 'none').delay(125).fadeIn("slow");    });
$('.backdrop').click(function() {        close_box();    });
function boxsize(){
if(screen.width < 800){    $('.box').css('width', '80%');    $('.box').css('height', '40%');    $('.nextimg').css('top', '30%');    $('.previmg').css('top', '30%');
}else if(screen.width > 800){
$('.box').css('width', '80%');    $('.box').css('height', '80%');    $('.nextimg').css('top', '50%');    $('.previmg').css('top', '50%');
}
setInterval(function(){    if(screen.width < 800){    $('.box').css('width', '80%');    $('.box').css('height', '40%');    $('.nextimg').css('top', '30%');    $('.previmg').css('top', '30%');
}else if(screen.width > 800){
$('.box').css('width', '80%');    $('.box').css('height', '80%');    $('.nextimg').css('top', '50%');    $('.previmg').css('top', '50%');
}
}, 500);
}
});
$(document).keydown(function(event) {
if (event.keyCode == 27 || event.keyCode == 13) {        close_box();    }
});
function close_box() {
$('.backdrop, .box, .selectors').animate({'opacity': '0'}, 300, 'linear', function() {        $('.backdrop, .box, .selectors').css('display', 'none');    });
}
