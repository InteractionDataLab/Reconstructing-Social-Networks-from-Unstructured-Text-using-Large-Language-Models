<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Central_Calgary_postprocessing_RenderPass skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Central Calgary/postprocessing/RenderPass</SPAN></H1><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>/**
</P><PRE>* @author alteredq / <A rel="nofollow" class="external free" href="http://alteredqualia.com/">http://alteredqualia.com/</A>
*/
</PRE><P>THREE.RenderPass = function ( scene, camera, overrideMaterial, clearColor, clearAlpha ) {
</P><P>	this.scene = scene;
	this.camera = camera;
</P><P>	this.overrideMaterial = overrideMaterial;
</P><P>	this.clearColor = clearColor;
	this.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 1;
</P><P>	this.oldClearColor = new THREE.Color();
	this.oldClearAlpha = 1;</P><P>	this.enabled = true;
	this.clear = true;
	this.needsSwap = false;
</P><P>};
</P><P>THREE.RenderPass.prototype = {
</P><P>	render: function ( renderer, writeBuffer, readBuffer, delta ) {
</P><P>		this.scene.overrideMaterial = this.overrideMaterial;
</P><P>		if ( this.clearColor ) {
</P><P>			this.oldClearColor.copy( renderer.getClearColor() );
			this.oldClearAlpha = renderer.getClearAlpha();
</P><P>			renderer.setClearColor( this.clearColor, this.clearAlpha );
</P><P>		}
</P><P>		renderer.render( this.scene, this.camera, readBuffer, this.clear );
</P><P>		if ( this.clearColor ) {
</P><P>			renderer.setClearColor( this.oldClearColor, this.oldClearAlpha );
</P><P>		}
</P><P>		this.scene.overrideMaterial = null;
</P><P>	}
</P><P>};
</P></DIV></DIV></DIV></DIV></BODY></HTML>