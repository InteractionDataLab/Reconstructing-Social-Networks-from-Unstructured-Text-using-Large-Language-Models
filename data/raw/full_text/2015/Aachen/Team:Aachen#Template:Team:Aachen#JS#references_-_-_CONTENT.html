<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_Aachen_Template_Team_Aachen_JS_references skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:Aachen/Template:Team:Aachen/JS/references</SPAN></H1><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><P>$(function () {
</P><PRE>   var matches = $('.container-primary').html().match(/&lt;ref&gt;(.*?)&lt;\/ref&gt;/gi);
   var uniqueReferences = [] // collecting unique references
   //Step 1 build reference list
   var n = 1;
</PRE>
    var referenceList = &quot;<OL>&quot;;
    if (matches != null) {
        matches.forEach(function (match) {
            if (match in uniqueReferences == false)
            {
                uniqueReferences += match;
                n++;
            }
            else
            {
                // do not add this reference again
            }            
        });
        uniq.forEach(function (reference) {
            referenceList += &quot;<LI>&quot; + match.replace(&quot;&lt;ref&gt;&quot;, &quot;&quot;).replace(&quot;&lt;/ref&gt;&quot;, &quot;&quot;) + &quot;</LI>&quot;;
<PRE>       });
</PRE>
        $(referenceList + &quot;</OL>&quot;).insertAfter($(&quot;#References&quot;).parent());
<PRE>       var html = $('.container-primary').html();
       //substitute original links
       n = 1;//reset counter
       matches.forEach(function (match) {
           html = html.replace(match, ' <SUP>&lt;a href=&quot;#References&quot;&gt;[' + uniqueReferences.indexOf(match) + ']&lt;/a&gt;</SUP>');
           n++;
       });
       $('.container-primary').html(html);
   }
</PRE><P>});
</P></DIV></DIV></DIV></DIV></BODY></HTML>