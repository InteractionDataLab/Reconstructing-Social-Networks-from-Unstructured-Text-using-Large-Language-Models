<HTML lang="en" dir="ltr" class="client-nojs">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Team_NTNU_Trondheim_InterLab_Study_Quantitative_Analysis_Tutorial skin-igem action-view"><DIV id="globalWrapper"><DIV id="content" class="mw-body" role="main"><H1 id="firstHeading" class="firstHeading"><SPAN dir="auto">Team:NTNU Trondheim/InterLab Study/Quantitative Analysis Tutorial</SPAN></H1><DIV id="bodyContent"><DIV id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><DIV class="header"><DIV class="container"><DIV class="header-main"><DIV class="header-left"><DIV class="top-nav"><UL class="res"><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim">Home</A></LI><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Project </A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Description">Description</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Notebook">Notebook</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Experiments">Experiments and Protocols</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Results">Results</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Modeling">Modeling</A></LI></UL><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Parts">Parts</A></LI><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Software </A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Software">Overview</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Software/iGEM Matchmaker">IGEM Matchmaker</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Software/Quantitative_Analysis_Tool">Quantitative Analysis Tool</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Software/Brixells_Tool">Brixells Modeling Tool</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/InterLab_Study">InterLab study</A></LI><LI class="dropdown"><A href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About </A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Team">Team</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Attributions">Attributions</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Collaborations">Collaborations</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Practices">Human Practices</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Safety">Safety</A></LI><LI><A href="https://2015.igem.org/Team:NTNU_Trondheim/Achievements">Achievements</A></LI></DIV></DIV></DIV></DIV></DIV><DIV class="about"><DIV class="container"><H2>Quantitative Analysis with ImageJ Tutorial</H2><H3>Downloads</H3><P>The following files are required for this tutorial:</P><OL><LI>MATLAB post processing script: <A href="https://2015.igem.org/Team:NTNU_Trondheim/InterLab_Study/Quantitative_Analysis_Tutorial/post_processing_m?action=raw"><CODE>post_processing.m</CODE></A>.</LI><LI>ImageJ macro: <A href="https://2015.igem.org/Team:NTNU_Trondheim/InterLab_Study/Quantitative_Analysis_Tutorial/Interlab_ijm?action=raw"><CODE>Interlab.ijm</CODE></A>.</LI><LI>Sample TIFF file: <A href="https://static.igem.org/mediawiki/2015/e/e9/NTNU_Trondheim_Tutorial_Sample.tiff"><CODE>NTNU_Trondheim_Tutorial_Sample.tiff</CODE></A>.</LI></OL><H3>Preparing the data set files</H3><OL><LI><P>
The microscope software provides the data set in a LIF format. This file has about 1GB size. While ImageJ can read LIF format, it does not manage the memory very well, and cannot upload the images simultaneously. One method to circumvent this issue is to convert the LIF file into many TIFF files. Each TIFF file contains one fluorescence image and one bright field image. Download the bfconvert utility to convert the Leica LIF files into a set of TIFF files. The utility is available from <A href="http://downloads.openmicroscopy.org/bio-formats/5.1.3/">http://downloads.openmicroscopy.org/bio-formats/5.1.3/</A>.
</P></LI><LI><P>Run in a terminal</P><PRE>./bfconvert 150818\ Interlab\ Hyd2.lif %n.tiff</PRE></LI><P>The following output will appear confirming the conversion of the images.</P><PRE>
LIFReader initializing 150827 Interlab Hyd2 FINAL SET.lif
Reading header
Finding image offsets
[Leica Image File Format] -&gt; %n.tiff [Tagged Image File Format]
	Series 0: converted 1/2 planes (50%)
	Series 0: converted 2/2 planes (100%)
	Series 1: converted 2/2 planes (100%)
	Series 2: converted 2/2 planes (100%)
	Series 3: converted 2/2 planes (100%)
	Series 4: converted 2/2 planes (100%)
	Series 5: converted 2/2 planes (100%)
	Series 6: converted 2/2 planes (100%)
	Series 7: converted 2/2 planes (100%)
	Series 8: converted 2/2 planes (100%)
	Series 9: converted 2/2 planes (100%)
	Series 10: converted 2/2 planes (100%)
	Series 11: converted 2/2 planes (100%)
	Series 12: converted 2/2 planes (100%)
	Series 13: converted 2/2 planes (100%)
	Series 14: converted 2/2 planes (100%)
	Series 15: converted 2/2 planes (100%)
	Series 16: converted 2/2 planes (100%)
	Series 17: converted 2/2 planes (100%)
	Series 18: converted 2/2 planes (100%)
	Series 19: converted 2/2 planes (100%)
	Series 20: converted 2/2 planes (100%)
	Series 21: converted 2/2 planes (100%)
	Series 22: converted 2/2 planes (100%)
	Series 23: converted 2/2 planes (100%)
	Series 24: converted 2/2 planes (100%)
	Series 25: converted 2/2 planes (100%)
	Series 26: converted 2/2 planes (100%)
	Series 27: converted 2/2 planes (100%)
	Series 28: converted 2/2 planes (100%)
	Series 29: converted 2/2 planes (100%)
	Series 30: converted 2/2 planes (100%)
	Series 31: converted 2/2 planes (100%)
	Series 32: converted 2/2 planes (100%)
	Series 33: converted 2/2 planes (100%)
	Series 34: converted 2/2 planes (100%)
	Series 35: converted 2/2 planes (100%)
	Series 36: converted 2/2 planes (100%)
	Series 37: converted 2/2 planes (100%)
	Series 38: converted 2/2 planes (100%)
	Series 39: converted 2/2 planes (100%)
	Series 40: converted 2/2 planes (100%)
	Series 41: converted 2/2 planes (100%)
	Series 42: converted 2/2 planes (100%)
	Series 43: converted 2/2 planes (100%)
	Series 44: converted 2/2 planes (100%)
[done]
45.92s elapsed (53.166668+376.83334ms per plane, 5533ms overhead)
</PRE><LI><P>The resulting files have spaces in their name. This creates problems for ImageJ. The spaces can be converted into underscores with the following command:</P><PRE>
$ for file in *.tiff; do mv &quot;$file&quot; `echo $file | tr ' ' '_'` ; done
</PRE></LI><LI><P>Now the images are in a file format that can be easily handled with ImageJ.</P><PRE>
ls *.tiff
150827_1A1.tiff   150827_2C1.tiff   150828_NCB1.tiff
150827_1A2.tiff   150827_2C2.tiff   150828_NCB2.tiff
150827_1A3.tiff   150827_2C3.tiff   150828_NCB3.tiff
150827_1B1.tiff   150827_3A1.tiff   150828_NCC1.tiff
150827_1B2.tiff   150827_3A2.tiff   150828_NCC2.tiff
150827_1B3.tiff   150827_3A3.tiff   150828_NCC3.tiff
150827_1C1.tiff   150827_3B1.tiff   150828_PCA1.tiff
150827_1C2.tiff   150827_3B2.tiff   150828_PCA2.tiff
150827_1C3.tiff   150827_3B3.tiff   150828_PCA3.tiff
150827_2A1.tiff   150827_3C1.tiff   150828_PCB1.tiff
150827_2A2.tiff   150827_3C2.tiff   150828_PCB2.tiff
150827_2A3.tiff   150827_3C3.tiff   150828_PCB3.tiff
150827_2B1.tiff   150828_NCA1.tiff  150828_PCC1.tiff
150827_2B2.tiff   150828_NCA2.tiff  150828_PCC2.tiff
150827_2B3.tiff   150828_NCA3.tiff  150828_PCC3.tiff
</PRE></LI><H3>
Running the batch processing script
</H3><LI><P>
The script is named <A href="https://2015.igem.org/Team:NTNU_Trondheim/InterLab_Study/Quantitative_Analysis_Tutorial/Interlab_ijm?action=raw"><CODE>Interlab.ijm</CODE></A>, and requires Fiji, which can be downloaded from <A href="http://fiji.sc/Downloads">http://fiji.sc/Downloads</A></P></LI><LI><P>After starting up Fiji, the script can be run by dragging it and dropping to the main window as shown below.</P></LI><LI><P>Then, clicking &quot;Run&quot; as shown below:</P></LI><LI><P>A window will appear to invite the user to select the folder where the TIFF files are located as shown below:</P></LI><LI><P> A new window appears to invite the user to select the directory where the processing is exported as shown below:</P></LI><LI><P>At this point, the script will run automatically, processing all the files in the specified directories without user input. Every TIFF file is composed of one brightfield image as shown here:</P><P>As well as a fluorescence image as follows:</P></LI><LI><P>The script proceeds in segmenting the images into individual bacteria as illustrated here:</P><P>The script can also be used as a bacteria cell counter.</P></LI><LI><P>Finally, the results are displayed and saved into a CSV file, as shown below:</P></LI><H3>Post-processing</H3><LI><P>The final CSV files are post-processed in MATLAB using <A href="https://2015.igem.org/Team:NTNU_Trondheim/InterLab_Study/Quantitative_Analysis_Tutorial/post_processing_m?action=raw"><CODE>post_processing.m</CODE></A>. As an outcome of this tutorial, the InterLab Study has been submitted using quantitative analysis, and compares satisfactorily with the results obtained by flow cytometry, which can be seen in the <A href="https://2015.igem.org/Team:NTNU_Trondheim/InterLab_Study">Interlab</A> page.
</P></LI></OL></DIV></DIV><DIV class="footer"><DIV class="container"><DIV class="footer-main"><P>Template by <A href="http://w3layouts.com/" target="_blank">W3layouts</A></P></DIV></DIV></DIV></DIV></DIV></DIV></DIV></BODY></HTML>