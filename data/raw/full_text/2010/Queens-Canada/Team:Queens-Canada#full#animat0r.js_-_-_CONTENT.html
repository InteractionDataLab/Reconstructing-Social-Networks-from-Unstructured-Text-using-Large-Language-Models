<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_Queens-Canada_full_animat0r_js"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu noprint"><UL><LI class="selected"><A href="/Team:Queens-Canada/full/animat0r.js">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:Queens-Canada/full/animat0r.js&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:Queens-Canada/full/animat0r.js&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:Queens-Canada/full/animat0r.js&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu noprint" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:Queens-Canada/full/animat0r.js" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls" class="noprint"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:Queens-Canada/full/animat0r.js</H1><DIV id="bodyContent"><H3 id="siteSub" class="noprint">From 2010.igem.org</H3><P>var transitioning = 0;
var width = 0;
var fading = 0;
var T2 = null;
</P><P>function resizeIframe() {	
	var height = document.getElementById('tier0p').clientHeight;
	var ifr = document.getElementById('the_frame');
	ifr.style.height = height + &quot;px&quot;;
}
</P><P>function prep() {
	var ifr = document.getElementById(&quot;the_frame&quot;);
</P><P>	ifr.style.opacity = 0;
/*@cc_on
	ifr.style.filter = &quot;alpha(opacity=0)&quot;;
@*/
</P><P>	if (ifr.addEventListener) {
		ifr.addEventListener(&quot;load&quot;, showPage, false)
	} else if(ifr.attachEvent) {
		ifr.detachEvent(&quot;onload&quot;, showPage) // Bug fix line
		ifr.attachEvent(&quot;onload&quot;, showPage)
	}
</P><P>	showPage();
	resizeIframe();
	window.onresize = resizeIframe;
}
</P><P>function strpos(haystack, needle, offset) {
</P><PRE>   var i = (haystack+<I>).indexOf(needle, (offset || 0));</I>
   return i === -1 ? false : i;
</PRE><P>}
</P><P>function showPage() {
	var ifr = document.getElementById(&quot;the_frame&quot;);
</P><P>	animateFade(1, 0);
	if(strpos(ifr.contentDocument.URL, 'project') != false) { hideT2(); showProject(); }
	if(strpos(ifr.contentDocument.URL, 'idea') != false) { showProject(1); hideT2(progress, 1); }
	if(strpos(ifr.contentDocument.URL, 'notebook') != false) { showProject(1); hideT2(progress, 1); }
	if(strpos(ifr.contentDocument.URL, 'safety') != false)  { showProject(1); hideT2(progress, 1); }
	if(strpos(ifr.contentDocument.URL, 'team') != false)  { hideT2(); showProject(); }
	if(strpos(ifr.contentDocument.URL, 'contributors') != false) { showProject(1); hideT2(people, 1); }
	if(strpos(ifr.contentDocument.URL, 'parts') != false) { showProject(1); hideT2(parts, 1); }
	if(strpos(ifr.contentDocument.URL, 'contributing') != false) { showProject(1); hideT2(biobricks, 1); }
	if(strpos(ifr.contentDocument.URL, 'sponsors') != false) { showProject(); }
</P><P>	if(strpos(ifr.contentDocument.URL, 'guide') != false) { hideT2(); showGuide(); }
	if(strpos(ifr.contentDocument.URL, 'intro') != false) { showGuide(1); hideT2(context, 1); }
	if(strpos(ifr.contentDocument.URL, 'history') != false) { showGuide(1); hideT2(context, 1); }
	if(strpos(ifr.contentDocument.URL, 'resources') != false) { showGuide(1); hideT2(context, 1); }
	if(strpos(ifr.contentDocument.URL, 'exterior') != false) { showGuide(1); hideT2(anatomy, 1); }
	if(strpos(ifr.contentDocument.URL, 'pseudocoelom') != false) { showGuide(1); hideT2(anatomy, 1); }
	if(strpos(ifr.contentDocument.URL, 'digestive') != false) { showGuide(1); hideT2(anatomy, 1); }
	if(strpos(ifr.contentDocument.URL, 'nervous') != false) { showGuide(1); hideT2(anatomy, 1); }
	if(strpos(ifr.contentDocument.URL, 'reproductive') != false) { showGuide(1); hideT2(anatomy, 1); }
	if(strpos(ifr.contentDocument.URL, 'promoter') != false) { showGuide(1); hideT2(genetics, 1); }
	if(strpos(ifr.contentDocument.URL, 'transcripts') != false) { showGuide(1); hideT2(genetics, 1); }
	if(strpos(ifr.contentDocument.URL, 'rnai') != false) { showGuide(1); hideT2(genetics, 1); }
	if(strpos(ifr.contentDocument.URL, 'strains') != false) { showGuide(1); hideT2(genetics, 1); }
	if(strpos(ifr.contentDocument.URL, 'transformation') != false) { showGuide(1); hideT2(practical, 1); }
	if(strpos(ifr.contentDocument.URL, 'care') != false) { showGuide(1); hideT2(practical, 1); }
	if(strpos(ifr.contentDocument.URL, 'protocols') != false) { showGuide(1); hideT2(practical, 1); }
</P><P>	document.body.style.cursor = 'default';
}
</P><P>function toPage(url) {
	animateFade(0, 1, url);
}
</P><P>function animateFade(to, at, url) {
	if((to == 1) &amp;&amp; fading == 0) fading = 1;
	if((to == 0) &amp;&amp; fading == 1) return;
	var ifr = document.getElementById(&quot;the_frame&quot;);
	opa = at;
	ifr.style.opacity = opa;
/*@cc_on
	ifr.style.filter = &quot;alpha(opacity=&quot; + opa * 100 + &quot;)&quot;;
@*/
</P><P>	if(to == 1) opa = opa + 0.1;
	if(to == 0) opa = opa - 0.1;
	if((opa &lt; to) &amp;&amp; to == 0) {
		document.body.style.cursor = 'wait';
		ifr.src = url;
</P><P>		ifr.style.opacity = 0;
		/*@cc_on
			ifr.style.filter = &quot;alpha(opacity=0)&quot;;
		@*/
</P><P>		// ifr.onload = 'animateFade(1, 0)';
		// setTimeout('animateFade(1, 0)', 20);
		return;
	}	
	if((opa &gt; to) &amp;&amp; to == 1) {
		fading = 0;
		ifr.style.opacity = 1;
		/*@cc_on
			ifr.style.filter = &quot;alpha(opacity=100)&quot;;
		@*/
</P><P>		return;
	}
</P><P>	setTimeout('animateFade(' + to + ',' + opa + ',&quot;' + url + '&quot;)', 1);
}
</P><P>function animateShowT2(percentDone) {
	var t2 = document.getElementById(&quot;tier2&quot;);
	t2.style.top = (100 + percentDone * 35) + &quot;px&quot;;
	if(percentDone == 0.01) transitioning = 1;
</P><P>	percentDone = 1 - ((1 - percentDone) / 1.6);
	if(percentDone &gt; 0.995) { transitioning = 0; t2.style.top = '135px'; return; }
</P><P>	setTimeout('animateShowT2(' + percentDone + ')', 40);
}
</P><P>function showT2() {
	setTimeout('animateShowT2(0.01)', 20);
}
</P><P>function mt(name, title) {
	if(title == null) title = name;
	width2 = width;
	/*@cc_on
		width2 -= 1;
	@*/
</P>
	return '<DIV style="width: ' + width2 + '%;" class="tier2item" id=".27_.2B_name_.2B_.27" title="'+title+'"><DIV class="tier2item_m"><DIV class="tier2item_m2">' + title + '</DIV></DIV></DIV>';
<P>}
</P><P>function progress() {
	var t2 = document.getElementById(&quot;tier2&quot;);
	width = 100/3;
	t2.innerHTML = mt('idea', 'overview') + mt('notebook', 'notebook') + mt('safety', 'safety');
	showT2();
}
</P><P>function biobricks() {
	var t2 = document.getElementById(&quot;tier2&quot;);
	width = 100/2;
	t2.innerHTML = mt('parts', 'the parts') + mt('contributing', 'contributing');
	showT2();
}
</P><P>function sponsors() {
	toPage(&quot;sponsors&quot;);
}
</P><P>function people() {
	toPage(&quot;team&quot;);
	// var t2 = document.getElementById(&quot;tier2&quot;);
	// width = 100/2;
	// t2.innerHTML = mt('team', 'the team') + mt('contributors');
	// showT2();
}
</P><P>function practical() {
	var t2 = document.getElementById(&quot;tier2&quot;);
	width = 100/3;
	t2.innerHTML =  mt('transformation') + mt('care') + mt('protocols', 'miscellaneous');
	showT2();
}
</P><P>function anatomy() {
	var t2 = document.getElementById(&quot;tier2&quot;);
	width = 100/5;
	t2.innerHTML = mt('pseudocoelom') + mt('digestive') + mt('nervous') + mt('skin', 'exterior') + mt('reproductive');
	showT2();
}
</P><P>function genetics() {
	var t2 = document.getElementById(&quot;tier2&quot;);
	width = 100/4;
	t2.innerHTML = mt('promoter', &quot;the promoter and 5' utr&quot;) + mt('transcripts', 'introns and transcripts') + mt('rnai', &quot;rna interference and 3' utr&quot;) + mt('strains', 'strains and mutants');
	showT2();
}
</P><P>function context() {
	var t2 = document.getElementById(&quot;tier2&quot;);
	width = 100/3;
	t2.innerHTML = mt('intro', 'introduction') + mt('history', 'history in science') + mt('resources', 'online resources');
	showT2();
}
</P><P>function hideT2(callback, force) {
	if(callback == T2) return;
	T2 = callback;
	var t2 = document.getElementById(&quot;tier2&quot;);
	if(t2.style.top == '100px') {
		if(callback != null) callback();
	} else {
		if(transitioning == 1 &amp;&amp; force == 0) return;
		transitioning = 1;
		animateHideT2(0.01, callback);
	}
}
</P><P>function animateHideT2(percentDone, callback) {
	var t2 = document.getElementById(&quot;tier2&quot;);
	t2.style.top = (135 - percentDone * 35) + &quot;px&quot;;
</P><P>	percentDone = 1 - ((1 - percentDone) / 1.6);
	if(percentDone &gt; 0.995) {
		t2.style.top = '100px';
		if(callback != null) { callback(); }
		transitioning = 0;
	} else {
		setTimeout('animateHideT2(' + percentDone + ',' + callback + ')', 40);
	}
}
</P><P>function showGuide(force) {
	var tp = document.getElementById(&quot;t_project&quot;);
	var tg = document.getElementById(&quot;t_guide&quot;);
</P><P>	if(tg.style.width == &quot;auto&quot;) {
		if(force == 2) toPage(&quot;guide&quot;);
		return;
	}
	if(transitioning == 1) return;
	var ig = document.getElementById(&quot;i_guide&quot;);
</P><P>	ig.src = &quot;&quot;;	
</P><P>	var flexSpace = document.getElementById(&quot;tier0tm2&quot;).clientWidth - 307 - 73 - 83;
	if(flexSpace &lt; 5) return;
</P><P>	if(force != 1) hideT2();
</P><P>	transitioning = 1;
</P><P>	tg.style.width = '73px';
	tg.style.right = 'auto';
	tp.style.width = (83 + flexSpace - 5) + 'px';
	tp.style.left = 'auto';
</P><P>	animateGuide(0.01);
}
</P><P>function animateGuide(percentDone) {
	var tp = document.getElementById(&quot;t_project&quot;);
	var tg = document.getElementById(&quot;t_guide&quot;);
</P><P>	var flexSpace = document.getElementById(&quot;tier0tm2&quot;).clientWidth - 307 - 73 - 83;
	var fS = flexSpace * percentDone;
</P><P>	tg.style.width = (73 + fS - 5) + &quot;px&quot;;
	tp.style.width = (83 + flexSpace - fS) + &quot;px&quot;;
	percentDone = 1 - ((1 - percentDone) / 1.6);
	if(percentDone &gt; 0.995) { finishGuide(); return; }
</P><P>	setTimeout('animateGuide(' + percentDone + ')', 40);
}
</P><P>function finishGuide() {
	var tp = document.getElementById(&quot;t_project&quot;);
	var tg = document.getElementById(&quot;t_guide&quot;);
	var ip = document.getElementById(&quot;i_project&quot;);
</P><P>	ip.src = &quot;&quot;;	
</P><P>	tg.style.left = '0px';
	tg.style.right = '395px';
	tg.style.width = 'auto';
	tp.style.left = 'auto';
	tp.style.right = '307px';
	tp.style.width = '83px';
	transitioning = 0;
}
</P><P>// reverse
function showProject(force) {
	var tp = document.getElementById(&quot;t_project&quot;);
	var tg = document.getElementById(&quot;t_guide&quot;);
</P><P>	if(tp.style.width == &quot;auto&quot;) {
		if(force == 2) toPage(&quot;project&quot;);
		return;
	}
	if(transitioning == 1) return;
	var ip = document.getElementById(&quot;i_project&quot;);
</P><P>	ip.src = &quot;&quot;;	
</P><P>	var flexSpace = document.getElementById(&quot;tier0tm2&quot;).clientWidth - 307 - 73 - 83;
	if(flexSpace &lt; 5) return;
</P><P>	hideT2();
</P><P>	if(force != 1) hideT2();
</P><P>	tg.style.width = (73 + flexSpace - 5) + 'px';
	tg.style.right = 'auto';
	tp.style.width = '83px';
	tp.style.left = 'auto';
</P><P>	animateProject(0.01);
}
</P><P>function animateProject(percentDone) {
	var tp = document.getElementById(&quot;t_project&quot;);
	var tg = document.getElementById(&quot;t_guide&quot;);
</P><P>	var flexSpace = document.getElementById(&quot;tier0tm2&quot;).clientWidth - 307 - 73 - 83;
	var fS = flexSpace * percentDone;
</P><P>	tg.style.width = (73 + flexSpace - fS) + &quot;px&quot;;
	tp.style.width = (83 + fS - 5) + &quot;px&quot;;
	percentDone = 1 - ((1 - percentDone) / 1.6);
	if(percentDone &gt; 0.995) { finishProject(); return; }
</P><P>	setTimeout('animateProject(' + percentDone + ')', 40);
}
</P><P>function finishProject() {
	var tp = document.getElementById(&quot;t_project&quot;);
	var tg = document.getElementById(&quot;t_guide&quot;);
	var ig = document.getElementById(&quot;i_guide&quot;);
</P><P>	ig.src = &quot;&quot;;	
</P><P>	tg.style.left = '0px';
	tg.style.right = 'auto';
	tg.style.width = '73px';
	tp.style.left = '78px';
	tp.style.right = '307px';
	tp.style.width = 'auto';
	transitioning = 0;
}
</P><DIV class="printfooter">
Retrieved from &quot;<A href="http://2010.igem.org/Team:Queens-Canada/full/animat0r.js">http://2010.igem.org/Team:Queens-Canada/full/animat0r.js</A>&quot;</DIV></DIV></DIV><DIV id="footer-box" class="noprint"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:Queens-Canada/full/animat0r.js" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:Queens-Canada/full/animat0r.js" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:Queens-Canada/full/animat0r.js&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:Queens-Canada/full/animat0r.js&amp;oldid=172426" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2010.igem.org:Privacy_policy" title="2010.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2010.igem.org:General_disclaimer" title="2010.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>