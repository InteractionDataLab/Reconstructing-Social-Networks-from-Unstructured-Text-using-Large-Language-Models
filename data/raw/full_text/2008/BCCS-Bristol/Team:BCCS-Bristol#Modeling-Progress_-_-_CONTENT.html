<HTML xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<style type="text/css">
A:before { content:' '; } 
A:after { content:' '; } 
SPAN:before { content:' '; } 
SPAN:after { content:' '; } 
</style>
<BODY class="mediawiki  ltr ns-0 ns-subject page-Team_BCCS-Bristol_Modeling-Progress"><DIV id="globalWrapper"><DIV id="top-section"><DIV id="p-logo"><A href="/Main_Page" title="Main Page">&quot;
	    </A></DIV><DIV id="menubar" class="left-menu"><UL><LI class="selected"><A href="/Team:BCCS-Bristol/Modeling-Progress">Page               </A></LI><LI class="new"><A href="/wiki/index.php?title=Talk:Team:BCCS-Bristol/Modeling-Progress&amp;action=edit&amp;redlink=1">Discussion               </A></LI><LI><A href="/wiki/index.php?title=Team:BCCS-Bristol/Modeling-Progress&amp;action=edit">View source               </A></LI><LI><A href="/wiki/index.php?title=Team:BCCS-Bristol/Modeling-Progress&amp;action=history">History               </A></LI><LI style="color:#808080;cursor:default">teams</LI></UL></DIV><DIV class="right-menu" id="menubar"><UL><LI id="pt-login"><A href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Team:BCCS-Bristol/Modeling-Progress" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</A></LI></UL></DIV><DIV id="search-controls"><FORM action="/Special:Search" id="searchform"> </FORM></DIV></DIV><DIV id="content"><H1 class="firstHeading">Team:BCCS-Bristol/Modeling-Progress</H1><DIV id="bodyContent"><H3 id="siteSub">From 2008.igem.org</H3><DIV class="bccsNavBar"><TABLE align="center"><TBODY><TR><TH align="center"><A href="/Team:BCCS-Bristol" title="Team:BCCS-Bristol">Home</A></TH><TH align="center"><A href="/Team:BCCS-Bristol/Team" title="Team:BCCS-Bristol/Team">The Team</A></TH><TH align="center"><A href="/Team:BCCS-Bristol/Project" title="Team:BCCS-Bristol/Project">The Project</A></TH><TH align="center"><A href="/Team:BCCS-Bristol/Parts" title="Team:BCCS-Bristol/Parts">Submitted Parts</A></TH><TH align="center"><A href="/Team:BCCS-Bristol/Modeling" title="Team:BCCS-Bristol/Modeling">Modelling</A></TH><TH align="center"><A href="/Team:BCCS-Bristol/Notebook" title="Team:BCCS-Bristol/Notebook">Wet Lab</A></TH><TH align="center"><A href="/Team:BCCS-Bristol/Calendar" title="Team:BCCS-Bristol/Calendar">Calendar</A></TH><TH align="center"><A href="/Team:BCCS-Bristol/Misc" title="Team:BCCS-Bristol/Misc">Miscellaneous</A></TH></TR></TBODY></TABLE></DIV><DIV class="bccsMain"><H2><SPAN class="mw-headline" id="Modelling_Progress_Report"> Modelling Progress Report </SPAN></H2><UL><LI><A href="/Team:BCCS-Bristol/Modeling-Progress#16th_-_23rd_July" title="Team:BCCS-Bristol/Modeling-Progress"><B>16th - 23rd July</B></A></LI><LI> Implemented run &amp; tumble motion
</LI><LI> With/without chemotaxis
</LI><LI> Implemented interactions between objects (bacteria and particles)
</LI></UL><LI><A href="/Team:BCCS-Bristol/Modeling-Progress#24th_-_30th_July" title="Team:BCCS-Bristol/Modeling-Progress"><B>24th - 30th July</B></A></LI><LI> Adapted gamma distribution for tumble angle
</LI><LI> Added trace to particles, and to the mean position of the bacteria
</LI><LI> Changed run length calculation heuristic
</LI><LI><A href="/Team:BCCS-Bristol/Modeling-Progress#31st_July_-_6th_August" title="Team:BCCS-Bristol/Modeling-Progress"><B>31st July - 5th August</B></A></LI><LI> Implemented wrapping boundaries
</LI><LI> Written a class that allows parameters to be altered whilst the program is running
</LI><LI><A href="/Team:BCCS-Bristol/Modeling-Progress#7th_August_-_13th_August" title="Team:BCCS-Bristol/Modeling-Progress"><B>7th August - 13th August</B></A></LI><LI> Implemented bacterium sensing memory
</LI><LI><A href="/Team:BCCS-Bristol/Modeling-Progress#14th_August_-_20th_August" title="Team:BCCS-Bristol/Modeling-Progress"><B>4th August - 20th August</B></A></LI><LI> Added solid boundaries
</LI><LI> Parameter file defined and new class created to handle batch jobs
</LI><LI><A href="/Team:BCCS-Bristol/Modeling-Progress#21st_August_-_27th_August" title="Team:BCCS-Bristol/Modeling-Progress"><B>21st August - 27th August</B></A></LI><LI> Implemented multi-thread optimisations
</LI><LI> Ran first simulation batches of on blue crystal
</LI><LI><A href="/Team:BCCS-Bristol/Modeling-Progress#28th_August_-_3rd_September" title="Team:BCCS-Bristol/Modeling-Progress"><B>28th August - 3rd September</B></A></LI><LI> Formulated GRN
</LI><LI> Continued running simulations
</LI><LI><A href="/Team:BCCS-Bristol/Modeling-Progress#4th_September_-_10th_September" title="Team:BCCS-Bristol/Modeling-Progress"><B>4th September - 10th September</B></A></LI><LI> Research of GRN parameters
</LI><LI> Implementation of GRN in MATLAB
</LI><LI> Simulations
</LI><LI><A href="/Team:BCCS-Bristol/Modeling-Progress#11th_September_-_17th_September" title="Team:BCCS-Bristol/Modeling-Progress"><B>11th September - 17th September</B></A></LI><LI> Investigation of GRN sensitivity to variation of C<SUB>pMax</SUB> and AHL input
</LI><LI> Analysis of simulation results.
</LI><LI><A href="/Team:BCCS-Bristol/Modeling-Progress#18th_September_-_24th_September" title="Team:BCCS-Bristol/Modeling-Progress"><B>18th September - 24th September</B></A></LI><LI> Simulations
</LI><LI> Further analysis of simulation results.
</LI><LI> Modelling section of IGEM presentation
</LI><H2><SPAN class="mw-headline" id="Modelling_Progress_Details"> Modelling Progress Details </SPAN></H2><H3><SPAN class="mw-headline" id="16th_-_23rd_July"> 16th - 23rd July </SPAN></H3><H4><SPAN class="mw-headline" id="Run_and_Tumble_Motion"> Run and Tumble Motion </SPAN></H4><P>A fairly realistic model of bacterial motion; bacterial motion consists of two phases:
</P><OL><LI> The run; movement in a straight line. Speed is constant and equal for all bacteria
</LI><LI> The tumble; stationary rotation
</LI></OL><P>All parameters are determined at the start of the respective phase. The run time is sampled by feeding a random number in the range [0, 1] to an inverse exponential function, with parameters found from the literature. Tumble time and tumble angle are determined independently, as tumbles can occur at different speeds due to the independent nature of the flagella motors. Tumble time is gamma-distributed, and determined in the same way as run length; tumble angle is sampled from a fourth-order polynomial approximation of an inverse gamma distribution. The tumble angle is bi-directional, with an equal probability of clockwise or anticlockwise tumbles; however, there is a slight forward bias – i.e. the mean angle is less than 90 degrees.
</P><H4><SPAN class="mw-headline" id="Chemotaxis"> Chemotaxis </SPAN></H4><P>The chemotactic gradient has an effect on the mean run length of a bacterium; runs up the gradient have a longer mean length. A chemotactic gradient can therefore be simulated by sampling run length from one of two exponential distributions with different means, depending on the direction of movement. Using a single distribution for run length regardless of direction corresponds to the isotropic case, where no chemotactic gradient is in place.
</P><H4><SPAN class="mw-headline" id="Interactions"> Interactions </SPAN></H4><P>Implementation of interactions required a change in the movement heuristic. The movement was previously determined by speed and direction. This was substituted in favour of a force-based physics engine. A bacterium experiences forces due to its own intended movement, if it is in a run phase, and the reaction forces resulting from interactions between other objects (bacteria and particles). Particles only experience reaction forces. For each object, all forces are resolved to determine a single resultant force with x and y components; this resultant force is used to calculate a velocity using Stokes’ Law for spheres moving through fluids with low Reynolds numbers. Because the Reynolds numbers involved are so small (around 10-6), inertia is negligible so acceleration is ignored and velocity is calculated at each time step independently of the previous velocity.
</P><H3><SPAN class="mw-headline" id="24th_-_30th_July"> 24th - 30th July </SPAN></H3><H4><SPAN class="mw-headline" id="Gamma_Distribution"> Gamma Distribution </SPAN></H4><P>Mario commented that the polynomial approximation seemed to result in greater tumbling angles than those expected from the literature. This problem was resolved using a database of 1000 pre-computed values derived from the matlab inverse gamma distribution.
</P><H4><SPAN class="mw-headline" id="Object_Tracing"> Object Tracing </SPAN></H4><P>Whilst watching the simulations we noticed that is hard to follow a particles path; we therefore added tracers, with a colour gradient representing time, to the particle. The positions of the particles over time are stored in a database. This could be used for statistical analysis in future.
</P><P>We also trace the mean position of all bacteria over time to observe any emergent behaviour.
</P><H4><SPAN class="mw-headline" id="Run_Length_Calculation"> Run Length Calculation </SPAN></H4><P>Previously the run length was determined at the start of each run. To allow chemotactic behaviour over more complex chemical fields, a Bernoulli Process was implemented
instead; during a run, at each time step there is a fixed probability that the run will be terminated. The probability takes one of three values, depending on the bacterium’s perception of the chemoattractant. The three cases are:
</P><UL><LI> If the bacterium is unable to detect a change in chemoattractant concentration it perceives itself to be in an isotropic environment. This occurs when the concentration change of the chemoattractant is below a sensitivity threshold.
</LI><LI> A perceived increase in chemoattractant concentration will result in a lower run termination probability.
</LI><LI> A perceived decrease in chemoattractant will result in a higher run termination probability.
</LI></UL><H3><SPAN class="mw-headline" id="31st_July_-_6th_August"> 31st July - 6th August </SPAN></H3><H4><SPAN class="mw-headline" id="Wrapping_Boundaries"> Wrapping Boundaries </SPAN></H4><P>New class was implemented to limit the diffusion of bacteria in the simulation space. A wrapping boundary consists of a line and an offset vector. When an object touches the line its position is changed according to the offset vector. These can be used to simulate a continuous stream of bacteria past an area of interest (the neighbourhood of the particles), whilst only computing the movement of a small number of bacteria.
</P><H4><SPAN class="mw-headline" id="Run-time_Parameter_Control"> Run-time Parameter Control </SPAN></H4><P>Previously all parameters were ‘hardwired’ into the program, meaning that they had to be changed by hand before the simulation was run. A new parameters class was constructed that allows us to change parameters whilst the program is running, enabling us to run batches of simulations for statistical analysis. A GUI was also added so that the user can change parameters without needed to alter the code.
</P><H3><SPAN class="mw-headline" id="7th_August_-_13th_August"> 7th August - 13th August </SPAN></H3><H4><SPAN class="mw-headline" id="Bacterium_Memory"> Bacterium Memory </SPAN></H4><P>Bacteria require a memory to enable temporal comparison of chemoattractant concentrations, giving each bacterium an indication of how its actions affect the percieved quality of its environment. Previously this memory was simply a comparision of the concentration bacterium's current and previous position, i.e. the bacteria had a memory of one time step ~ 0.01 seconds. The memory of a bacteria was implemented using a model by Segall et all who proposed that bacteria in fact have a 4 second memory, comparing the average concentration of the last second with the average concentration of the previous 3 seconds.
</P><H3><SPAN class="mw-headline" id="14th_August_-_20th_August"> 14th August - 20th August </SPAN></H3><H4><SPAN class="mw-headline" id="Solid_Boundaries"> Solid Boundaries </SPAN></H4><P>Some simulations require solid boundaries rather than the wrapping boundaries. These solid boundaries are included using potential functions to apply resistive forces in a similar manner to the implementation of object interactions.
</P><H4><SPAN class="mw-headline" id="Parameter_File_Definition_and_Batch_Jobs"> Parameter File Definition and Batch Jobs </SPAN></H4><P>Due to the stochastic nature of the model simulations will have to be run several times before any significant conclusions can be drawn. A new class <I>BSimBatch</I> was written which allows a batch of simulations to be defined in a single file. The file shall include parameters defining each of the parameters of the simulation as well as parameters defining properties of the batch simulation such as simulation length and number of simulations to be run. The batch simulation outputs files containing data related to the positions of bacteria and particles as well as videos of all simulations.
</P><H3><SPAN class="mw-headline" id="21st_August_-_27th_August"> 21st August - 27th August </SPAN></H3><H4><SPAN class="mw-headline" id="Multi-Thread_Optimisations"> Multi-Thread Optimisations </SPAN></H4><P>After runnning several small-scale simulations, it became clear that simulations of a larger scale would take far too long to run. BSim was <A href="http://en.wikipedia.org/wiki/Multi-threading" class="external text" rel="nofollow">multi-threaded</A> to combat this problem. This process allows the program to split itself into two or more simultaneously running tasks, significantly reducing processing times.
</P><H4><SPAN class="mw-headline" id="First_Large-Scale_Simulations"> First Large-Scale Simulations </SPAN></H4><P>Some test simulations were ran to ensure that there were no problems when running BSim on the blue crystal supercomputer. Once these trial runs were completed, the results were checked and a routine defining the process of running large scale simulations was formalised.
</P><H3><SPAN class="mw-headline" id="28th_August_-_3rd_September"> 28th August - 3rd September </SPAN></H3><H4><SPAN class="mw-headline" id="GRN_Formulation"> GRN Formulation </SPAN></H4><P>After the GRN controlling the internal state of the cell had been finalised by the wet lab team it was modelled as a system of differential equations. These equations modelled the variation of mRNA and protein concentrations over time. The system consists conceptually as two seperate parts; a sender and a reciever. The sender produces a chemical signal when the bacteria adheres. This signal diffuses and is sensed by other bacteria. The reciever produces the mCherry fluorescent protein when it senses that the chemical signal concentration reaches a threshold.
</P><H4><SPAN class="mw-headline" id="Simulations"> Simulations </SPAN></H4><P>Simulations were run that modelled:
</P><UL><LI> Movement of bacteria following a chemotactic gradient
</LI><LI> Movement of a particle with different numbers of chemotactic bacteria adhered to its surface
</LI></UL><H3><SPAN class="mw-headline" id="4th_September_-_10th_September"> 4th September - 10th September </SPAN></H3><H4><SPAN class="mw-headline" id="Researched_GRN_parameters"> Researched GRN parameters </SPAN></H4><P>The series of differential equations drawn up to model the GRN included over 20 parameters. Each of these parameters had to be researched before being given values.
</P><H4><SPAN class="mw-headline" id="Modelling_GRN"> Modelling GRN </SPAN></H4><P>Once the GRNs parameters were found it was possible to start modelling the system and investigating how the GRN responded when initial conditions were varied. The GRN was modelled in MATLAB using the numerical differential equation solver ODE45.
</P><H4><SPAN class="mw-headline" id="Simulations_2"> Simulations </SPAN></H4><P>Simulations were run this week to investigate the effect of bacterial density when following the binding induced chemotactic activation and short-range coordination construction rules.
</P><H3><SPAN class="mw-headline" id="11th_September_-_17th_September"> 11th September - 17th September </SPAN></H3><H4><SPAN class="mw-headline" id="Investigation_of_GRN_sensitivity_to_variation_of_CpMax_and_AHL_input"> Investigation of GRN sensitivity to variation of CpMax and AHL input </SPAN></H4><P>To assess the sender GRN we were interested in how the strength of the response regulator
CpMax affects the overall dynamics and the final output of AHL. For a CpMax range of [0.1, 100]. For the transport aspect of the system we investigated how the concentration distribution varied
over time. A delta input of size 50 was used and the concentration distribution calculated over
a 30 minute period. For the receiver we wanted to understand how varying AHL concentration altered output of our
signalling protein mCherry.
</P><H4><SPAN class="mw-headline" id="Analysis_of_simulation_results"> Analysis of simulation results </SPAN></H4><P>Graphs showing the time series of the average position of the particles for different densities in each simulation were created.
</P><H3><SPAN class="mw-headline" id="18th_September_-_24th_September"> 18th September - 24th September </SPAN></H3><H4><SPAN class="mw-headline" id="Further_analysis_of_simulation_results"> Further analysis of simulation results </SPAN></H4><P>The data obtained from our simulations was used to compare the efficiency of the different bacteria construction rules
</P><H4><SPAN class="mw-headline" id="Modelling_section_of_IGEM_presentation"> Modelling section of IGEM presentation </SPAN></H4><P>Once all simulations and GRNs were analysed the modelling section was written.A member of the wet lab team were included in the presentation team to ensure that the language used would be accessible to people without a thorough understanding of computer progamming.
</P></DIV><DIV class="printfooter">
Retrieved from &quot;<A href="http://2008.igem.org/Team:BCCS-Bristol/Modeling-Progress">http://2008.igem.org/Team:BCCS-Bristol/Modeling-Progress</A>&quot;</DIV></DIV></DIV><DIV id="footer-box"><DIV id="footer"><UL id="f-list"><LI id="t-recentchanges"><A href="/Special:RecentChanges" title="Recent changes">Recent changes</A></LI><LI id="t-whatlinkshere"><A href="/Special:WhatLinksHere/Team:BCCS-Bristol/Modeling-Progress" title="List of all wiki pages that link here [j]" accesskey="j">What links here</A></LI><LI id="t-recentchangeslinked"><A href="/Special:RecentChangesLinked/Team:BCCS-Bristol/Modeling-Progress" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</A></LI><LI id="t-specialpages"><A href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</A></LI><LI><A href="/Special:Preferences">My preferences</A></LI></UL></DIV><DIV id="footer"><UL id="f-list"><LI id="t-print"><A href="/wiki/index.php?title=Team:BCCS-Bristol/Modeling-Progress&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</A></LI><LI id="t-permalink"><A href="/wiki/index.php?title=Team:BCCS-Bristol/Modeling-Progress&amp;oldid=90884" title="Permanent link to this revision of the page">Permanent link</A></LI><LI id="privacy"><A href="/2008.igem.org:Privacy_policy" title="2008.igem.org:Privacy policy">Privacy policy</A></LI><LI id="disclaimer"><A href="/2008.igem.org:General_disclaimer" title="2008.igem.org:General disclaimer">Disclaimers</A></LI></UL></DIV></DIV></DIV></BODY></HTML>